"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "/_error";
exports.ids = ["/_error"];
exports.modules = {

/***/ "../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=..%2F..%2F..%2F..%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.26.10_babel-plugin-macros%403.1.0_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fpages%2F_error.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=..%2F..%2F..%2F..%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.26.10_babel-plugin-macros%403.1.0_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fpages%2F_error.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages/module.compiled */ \"../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.js\");\n/* harmony import */ var _node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/pages/_error.js */ \"../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/pages/_error.js\");\n/* harmony import */ var _node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, 'default'));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, 'getStaticProps');\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, 'getStaticPaths');\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, 'getServerSideProps');\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, 'config');\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, 'reportWebVitals');\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticProps');\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticPaths');\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticParams');\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerProps');\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/_error\",\n        pathname: \"/_error\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    components: {\n        // default export might not exist when optimized for data only\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _node_modules_pnpm_next_15_2_4_babel_core_7_26_10_babel_plugin_macros_3_1_0_react_dom_19_0_0_react_19_0_0_react_19_0_0_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTUuMi40X0BiYWJlbCtjb3JlQDcuMjYuMTBfYmFiZWwtcGx1Z2luLW1hY3Jvc0AzLjEuMF9yZWFjdC1kb21AMTkuMC4wX3JlYWN0QDE5LjAuMF9fcmVhY3RAMTkuMC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVMmcGFnZT0lMkZfZXJyb3ImcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4uJTJGLi4lMkYuLiUyRi4uJTJGbm9kZV9tb2R1bGVzJTJGLnBucG0lMkZuZXh0JTQwMTUuMi40XyU0MGJhYmVsJTJCY29yZSU0MDcuMjYuMTBfYmFiZWwtcGx1Z2luLW1hY3JvcyU0MDMuMS4wX3JlYWN0LWRvbSU0MDE5LjAuMF9yZWFjdCU0MDE5LjAuMF9fcmVhY3QlNDAxOS4wLjAlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRnBhZ2VzJTJGX2Vycm9yLmpzJmFic29sdXRlQXBwUGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfYXBwJmFic29sdXRlRG9jdW1lbnRQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9kb2N1bWVudCZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdGO0FBQ2hDO0FBQ0U7QUFDMUQ7QUFDeUQ7QUFDVjtBQUMvQztBQUN3TTtBQUN4TTtBQUNBLGlFQUFlLHdFQUFLLENBQUMseUxBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sdUJBQXVCLHdFQUFLLENBQUMseUxBQVE7QUFDckMsdUJBQXVCLHdFQUFLLENBQUMseUxBQVE7QUFDckMsMkJBQTJCLHdFQUFLLENBQUMseUxBQVE7QUFDekMsZUFBZSx3RUFBSyxDQUFDLHlMQUFRO0FBQzdCLHdCQUF3Qix3RUFBSyxDQUFDLHlMQUFRO0FBQzdDO0FBQ08sZ0NBQWdDLHdFQUFLLENBQUMseUxBQVE7QUFDOUMsZ0NBQWdDLHdFQUFLLENBQUMseUxBQVE7QUFDOUMsaUNBQWlDLHdFQUFLLENBQUMseUxBQVE7QUFDL0MsZ0NBQWdDLHdFQUFLLENBQUMseUxBQVE7QUFDOUMsb0NBQW9DLHdFQUFLLENBQUMseUxBQVE7QUFDekQ7QUFDTyx3QkFBd0Isa0dBQWdCO0FBQy9DO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxhQUFhLDhEQUFXO0FBQ3hCLGtCQUFrQixvRUFBZ0I7QUFDbEMsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgYXBwIGFuZCBkb2N1bWVudCBtb2R1bGVzLlxuaW1wb3J0ICogYXMgZG9jdW1lbnQgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fZG9jdW1lbnRcIjtcbmltcG9ydCAqIGFzIGFwcCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19hcHBcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4yLjRfQGJhYmVsK2NvcmVANy4yNi4xMF9iYWJlbC1wbHVnaW4tbWFjcm9zQDMuMS4wX3JlYWN0LWRvbUAxOS4wLjBfcmVhY3RAMTkuMC4wX19yZWFjdEAxOS4wLjAvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9wYWdlcy9fZXJyb3IuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgY29tcG9uZW50IChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCAnZGVmYXVsdCcpO1xuLy8gUmUtZXhwb3J0IG1ldGhvZHMuXG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgJ2dldFN0YXRpY1Byb3BzJyk7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgJ2dldFN0YXRpY1BhdGhzJyk7XG5leHBvcnQgY29uc3QgZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsICdnZXRTZXJ2ZXJTaWRlUHJvcHMnKTtcbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgJ2NvbmZpZycpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCAncmVwb3J0V2ViVml0YWxzJyk7XG4vLyBSZS1leHBvcnQgbGVnYWN5IG1ldGhvZHMuXG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgJ3Vuc3RhYmxlX2dldFN0YXRpY1Byb3BzJyk7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgJ3Vuc3RhYmxlX2dldFN0YXRpY1BhdGhzJyk7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTdGF0aWNQYXJhbXMnKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTZXJ2ZXJQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCAndW5zdGFibGVfZ2V0U2VydmVyUHJvcHMnKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgJ3Vuc3RhYmxlX2dldFNlcnZlclNpZGVQcm9wcycpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL19lcnJvclwiLFxuICAgICAgICBwYXRobmFtZTogXCIvX2Vycm9yXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICAvLyBkZWZhdWx0IGV4cG9ydCBtaWdodCBub3QgZXhpc3Qgd2hlbiBvcHRpbWl6ZWQgZm9yIGRhdGEgb25seVxuICAgICAgICBBcHA6IGFwcC5kZWZhdWx0LFxuICAgICAgICBEb2N1bWVudDogZG9jdW1lbnQuZGVmYXVsdFxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=..%2F..%2F..%2F..%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.26.10_babel-plugin-macros%403.1.0_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fpages%2F_error.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "../../../../packages/auth/src/components/Navigation.tsx":
/*!***************************************************************!*\
  !*** ../../../../packages/auth/src/components/Navigation.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _keystone_6_core_admin_ui_apollo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystone-6/core/admin-ui/apollo */ \"../../../../packages/core/src/admin-ui/apollo.tsx\");\n/* harmony import */ var _keystone_6_core_admin_ui_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystone-6/core/admin-ui/components */ \"../../../../packages/core/src/admin-ui/components/index.ts\");\n/* harmony import */ var _keystone_6_core_admin_ui_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystone-6/core/admin-ui/router */ \"../../../../packages/core/src/admin-ui/router.tsx\");\n\n\n\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (({ labelField })=>(props)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Navigation, {\n            labelField: labelField,\n            ...props\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/auth/src/components/Navigation.tsx\",\n            lineNumber: 21,\n            columnNumber: 31\n        }, undefined));\nfunction Navigation({ labelField, lists }) {\n    const { data } = (0,_keystone_6_core_admin_ui_apollo__WEBPACK_IMPORTED_MODULE_6__.useQuery)((0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"Navigation.useQuery.useMemo\": ()=>(0,_keystone_6_core_admin_ui_apollo__WEBPACK_IMPORTED_MODULE_6__.gql)`\n    query KsAuthFetchSession {\n      authenticatedItem {\n        label: ${labelField}\n      }\n    }\n  `\n    }[\"Navigation.useQuery.useMemo\"], [\n        labelField\n    ]));\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystone_6_core_admin_ui_components__WEBPACK_IMPORTED_MODULE_7__.NavContainer, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystone_6_core_admin_ui_components__WEBPACK_IMPORTED_MODULE_7__.NavList, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystone_6_core_admin_ui_components__WEBPACK_IMPORTED_MODULE_7__.NavItem, {\n                        href: \"/\",\n                        children: \"Dashboard\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/auth/src/components/Navigation.tsx\",\n                        lineNumber: 49,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_3__.Divider, {}, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/auth/src/components/Navigation.tsx\",\n                        lineNumber: 50,\n                        columnNumber: 9\n                    }, this),\n                    lists.map((list)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystone_6_core_admin_ui_components__WEBPACK_IMPORTED_MODULE_7__.NavItem, {\n                            href: (0,_keystone_6_core_admin_ui_components__WEBPACK_IMPORTED_MODULE_7__.getHrefFromList)(list),\n                            children: list.label\n                        }, list.key, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/auth/src/components/Navigation.tsx\",\n                            lineNumber: 52,\n                            columnNumber: 11\n                        }, this))\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/auth/src/components/Navigation.tsx\",\n                lineNumber: 48,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystone_6_core_admin_ui_components__WEBPACK_IMPORTED_MODULE_7__.NavFooter, {\n                children: [\n                    data?.authenticatedItem && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SignoutButton, {\n                        authItemLabel: data.authenticatedItem.label\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/auth/src/components/Navigation.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 37\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystone_6_core_admin_ui_components__WEBPACK_IMPORTED_MODULE_7__.DeveloperResourcesMenu, {}, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/auth/src/components/Navigation.tsx\",\n                        lineNumber: 60,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/auth/src/components/Navigation.tsx\",\n                lineNumber: 58,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/auth/src/components/Navigation.tsx\",\n        lineNumber: 47,\n        columnNumber: 5\n    }, this);\n}\nconst END_SESSION = (0,_keystone_6_core_admin_ui_apollo__WEBPACK_IMPORTED_MODULE_6__.gql)`\n  mutation KsAuthEndSession {\n    endSession\n  }\n`;\nfunction SignoutButton({ authItemLabel }) {\n    const router = (0,_keystone_6_core_admin_ui_router__WEBPACK_IMPORTED_MODULE_8__.useRouter)();\n    const [endSession, { data }] = (0,_keystone_6_core_admin_ui_apollo__WEBPACK_IMPORTED_MODULE_6__.useMutation)(END_SESSION);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"SignoutButton.useEffect\": ()=>{\n            if (data?.endSession) {\n                router.push('/signin');\n            }\n        }\n    }[\"SignoutButton.useEffect\"], [\n        data\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_4__.TooltipTrigger, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.ActionButton, {\n                onPress: ()=>endSession(),\n                children: \"Sign out\"\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/auth/src/components/Navigation.tsx\",\n                lineNumber: 83,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_4__.Tooltip, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_5__.Text, {\n                    children: [\n                        \"Signed in as \",\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                            children: authItemLabel\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/auth/src/components/Navigation.tsx\",\n                            lineNumber: 86,\n                            columnNumber: 24\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/auth/src/components/Navigation.tsx\",\n                    lineNumber: 85,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/auth/src/components/Navigation.tsx\",\n                lineNumber: 84,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/auth/src/components/Navigation.tsx\",\n        lineNumber: 82,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvYXV0aC9zcmMvY29tcG9uZW50cy9OYXZpZ2F0aW9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQTBDO0FBRU87QUFDTDtBQUNpQjtBQUNoQjtBQUVnQztBQVFoQztBQUVlO0FBRTVELGlFQUFlLENBQUMsRUFBRWlCLFVBQVUsRUFBMEIsR0FDcEQsQ0FBQ0Msc0JBQTJCLDhEQUFDQztZQUFXRixZQUFZQTtZQUFhLEdBQUdDLEtBQUs7Ozs7O3FCQUFHLEVBQUM7QUFFL0UsU0FBU0MsV0FBVyxFQUNsQkYsVUFBVSxFQUNWRyxLQUFLLEVBR1k7SUFDakIsTUFBTSxFQUFFQyxJQUFJLEVBQUUsR0FBR2QsMEVBQVFBLENBS3ZCTiw4Q0FBT0E7dUNBQ0wsSUFBTVEscUVBQUcsQ0FBQzs7O2VBR0QsRUFBRVEsV0FBVzs7O0VBRzFCLENBQUM7c0NBQ0c7UUFBQ0E7S0FBVztJQUloQixxQkFDRSw4REFBQ0wsOEVBQVlBOzswQkFDWCw4REFBQ0QseUVBQU9BOztrQ0FDTiw4REFBQ0cseUVBQU9BO3dCQUFDUSxNQUFLO2tDQUFJOzs7Ozs7a0NBQ2xCLDhEQUFDbkIsdURBQU9BOzs7OztvQkFDUGlCLE1BQU1HLEdBQUcsQ0FBQ0MsQ0FBQUEscUJBQ1QsOERBQUNWLHlFQUFPQTs0QkFBZ0JRLE1BQU1QLHFGQUFlQSxDQUFDUztzQ0FDM0NBLEtBQUtDLEtBQUs7MkJBRENELEtBQUtFLEdBQUc7Ozs7Ozs7Ozs7OzBCQU0xQiw4REFBQ2IsMkVBQVNBOztvQkFDUFEsTUFBTU0sbUNBQXFCLDhEQUFDQzt3QkFBY0MsZUFBZVIsS0FBS00saUJBQWlCLENBQUNGLEtBQUs7Ozs7OztrQ0FDdEYsOERBQUNmLHdGQUFzQkE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSS9CO0FBRUEsTUFBTW9CLGNBQWNyQixxRUFBRyxDQUFDOzs7O0FBSXhCLENBQUM7QUFFRCxTQUFTbUIsY0FBYyxFQUFFQyxhQUFhLEVBQTZCO0lBQ2pFLE1BQU1FLFNBQVNmLDJFQUFTQTtJQUN4QixNQUFNLENBQUNnQixZQUFZLEVBQUVYLElBQUksRUFBRSxDQUFDLEdBQUdiLDZFQUFXQSxDQUFDc0I7SUFDM0M5QixnREFBU0E7bUNBQUM7WUFDUixJQUFJcUIsTUFBTVcsWUFBWTtnQkFDcEJELE9BQU9FLElBQUksQ0FBQztZQUNkO1FBQ0Y7a0NBQUc7UUFBQ1o7S0FBSztJQUVULHFCQUNFLDhEQUFDakIsK0RBQWNBOzswQkFDYiw4REFBQ0YsNERBQVlBO2dCQUFDZ0MsU0FBUyxJQUFNRjswQkFBYzs7Ozs7OzBCQUMzQyw4REFBQzNCLHdEQUFPQTswQkFDTiw0RUFBQ0Msd0RBQUlBOzt3QkFBQztzQ0FDUyw4REFBQzZCO3NDQUFRTjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLaEMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvYXV0aC9zcmMvY29tcG9uZW50cy9OYXZpZ2F0aW9uLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgQWN0aW9uQnV0dG9uIH0gZnJvbSAnQGtleXN0YXIvdWkvYnV0dG9uJ1xuaW1wb3J0IHsgRGl2aWRlciB9IGZyb20gJ0BrZXlzdGFyL3VpL2xheW91dCdcbmltcG9ydCB7IFRvb2x0aXBUcmlnZ2VyLCBUb29sdGlwIH0gZnJvbSAnQGtleXN0YXIvdWkvdG9vbHRpcCdcbmltcG9ydCB7IFRleHQgfSBmcm9tICdAa2V5c3Rhci91aS90eXBvZ3JhcGh5J1xuXG5pbXBvcnQgeyB1c2VRdWVyeSwgdXNlTXV0YXRpb24sIGdxbCB9IGZyb20gJ0BrZXlzdG9uZS02L2NvcmUvYWRtaW4tdWkvYXBvbGxvJ1xuaW1wb3J0IHtcbiAgRGV2ZWxvcGVyUmVzb3VyY2VzTWVudSxcbiAgTmF2TGlzdCxcbiAgTmF2Q29udGFpbmVyLFxuICBOYXZGb290ZXIsXG4gIE5hdkl0ZW0sXG4gIGdldEhyZWZGcm9tTGlzdCxcbn0gZnJvbSAnQGtleXN0b25lLTYvY29yZS9hZG1pbi11aS9jb21wb25lbnRzJ1xuaW1wb3J0IHR5cGUgeyBOYXZpZ2F0aW9uUHJvcHMgfSBmcm9tICdAa2V5c3RvbmUtNi9jb3JlL2FkbWluLXVpL2NvbXBvbmVudHMnXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICdAa2V5c3RvbmUtNi9jb3JlL2FkbWluLXVpL3JvdXRlcidcblxuZXhwb3J0IGRlZmF1bHQgKHsgbGFiZWxGaWVsZCB9OiB7IGxhYmVsRmllbGQ6IHN0cmluZyB9KSA9PlxuICAocHJvcHM6IE5hdmlnYXRpb25Qcm9wcykgPT4gPE5hdmlnYXRpb24gbGFiZWxGaWVsZD17bGFiZWxGaWVsZH0gey4uLnByb3BzfSAvPlxuXG5mdW5jdGlvbiBOYXZpZ2F0aW9uKHtcbiAgbGFiZWxGaWVsZCxcbiAgbGlzdHMsXG59OiB7XG4gIGxhYmVsRmllbGQ6IHN0cmluZ1xufSAmIE5hdmlnYXRpb25Qcm9wcykge1xuICBjb25zdCB7IGRhdGEgfSA9IHVzZVF1ZXJ5PHtcbiAgICBhdXRoZW50aWNhdGVkSXRlbTogbnVsbCB8IHtcbiAgICAgIGxhYmVsOiBzdHJpbmdcbiAgICB9XG4gIH0+KFxuICAgIHVzZU1lbW8oXG4gICAgICAoKSA9PiBncWxgXG4gICAgcXVlcnkgS3NBdXRoRmV0Y2hTZXNzaW9uIHtcbiAgICAgIGF1dGhlbnRpY2F0ZWRJdGVtIHtcbiAgICAgICAgbGFiZWw6ICR7bGFiZWxGaWVsZH1cbiAgICAgIH1cbiAgICB9XG4gIGAsXG4gICAgICBbbGFiZWxGaWVsZF1cbiAgICApXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxOYXZDb250YWluZXI+XG4gICAgICA8TmF2TGlzdD5cbiAgICAgICAgPE5hdkl0ZW0gaHJlZj1cIi9cIj5EYXNoYm9hcmQ8L05hdkl0ZW0+XG4gICAgICAgIDxEaXZpZGVyIC8+XG4gICAgICAgIHtsaXN0cy5tYXAobGlzdCA9PiAoXG4gICAgICAgICAgPE5hdkl0ZW0ga2V5PXtsaXN0LmtleX0gaHJlZj17Z2V0SHJlZkZyb21MaXN0KGxpc3QpfT5cbiAgICAgICAgICAgIHtsaXN0LmxhYmVsfVxuICAgICAgICAgIDwvTmF2SXRlbT5cbiAgICAgICAgKSl9XG4gICAgICA8L05hdkxpc3Q+XG5cbiAgICAgIDxOYXZGb290ZXI+XG4gICAgICAgIHtkYXRhPy5hdXRoZW50aWNhdGVkSXRlbSAmJiA8U2lnbm91dEJ1dHRvbiBhdXRoSXRlbUxhYmVsPXtkYXRhLmF1dGhlbnRpY2F0ZWRJdGVtLmxhYmVsfSAvPn1cbiAgICAgICAgPERldmVsb3BlclJlc291cmNlc01lbnUgLz5cbiAgICAgIDwvTmF2Rm9vdGVyPlxuICAgIDwvTmF2Q29udGFpbmVyPlxuICApXG59XG5cbmNvbnN0IEVORF9TRVNTSU9OID0gZ3FsYFxuICBtdXRhdGlvbiBLc0F1dGhFbmRTZXNzaW9uIHtcbiAgICBlbmRTZXNzaW9uXG4gIH1cbmBcblxuZnVuY3Rpb24gU2lnbm91dEJ1dHRvbih7IGF1dGhJdGVtTGFiZWwgfTogeyBhdXRoSXRlbUxhYmVsOiBzdHJpbmcgfSkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKVxuICBjb25zdCBbZW5kU2Vzc2lvbiwgeyBkYXRhIH1dID0gdXNlTXV0YXRpb24oRU5EX1NFU1NJT04pXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRhdGE/LmVuZFNlc3Npb24pIHtcbiAgICAgIHJvdXRlci5wdXNoKCcvc2lnbmluJylcbiAgICB9XG4gIH0sIFtkYXRhXSlcblxuICByZXR1cm4gKFxuICAgIDxUb29sdGlwVHJpZ2dlcj5cbiAgICAgIDxBY3Rpb25CdXR0b24gb25QcmVzcz17KCkgPT4gZW5kU2Vzc2lvbigpfT5TaWduIG91dDwvQWN0aW9uQnV0dG9uPlxuICAgICAgPFRvb2x0aXA+XG4gICAgICAgIDxUZXh0PlxuICAgICAgICAgIFNpZ25lZCBpbiBhcyA8c3Ryb25nPnthdXRoSXRlbUxhYmVsfTwvc3Ryb25nPlxuICAgICAgICA8L1RleHQ+XG4gICAgICA8L1Rvb2x0aXA+XG4gICAgPC9Ub29sdGlwVHJpZ2dlcj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJBY3Rpb25CdXR0b24iLCJEaXZpZGVyIiwiVG9vbHRpcFRyaWdnZXIiLCJUb29sdGlwIiwiVGV4dCIsInVzZVF1ZXJ5IiwidXNlTXV0YXRpb24iLCJncWwiLCJEZXZlbG9wZXJSZXNvdXJjZXNNZW51IiwiTmF2TGlzdCIsIk5hdkNvbnRhaW5lciIsIk5hdkZvb3RlciIsIk5hdkl0ZW0iLCJnZXRIcmVmRnJvbUxpc3QiLCJ1c2VSb3V0ZXIiLCJsYWJlbEZpZWxkIiwicHJvcHMiLCJOYXZpZ2F0aW9uIiwibGlzdHMiLCJkYXRhIiwiaHJlZiIsIm1hcCIsImxpc3QiLCJsYWJlbCIsImtleSIsImF1dGhlbnRpY2F0ZWRJdGVtIiwiU2lnbm91dEJ1dHRvbiIsImF1dGhJdGVtTGFiZWwiLCJFTkRfU0VTU0lPTiIsInJvdXRlciIsImVuZFNlc3Npb24iLCJwdXNoIiwib25QcmVzcyIsInN0cm9uZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/auth/src/components/Navigation.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/id-field-view.tsx":
/*!***********************************************************************************************************!*\
  !*** ../../../../packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/id-field-view.tsx ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   controller: () => (/* binding */ controller)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_aria_i18n__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @react-aria/i18n */ \"../../../../node_modules/.pnpm/@react-aria+i18n@3.12.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-aria/i18n/dist/import.mjs\");\n/* harmony import */ var clipboard_copy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! clipboard-copy */ \"../../../../node_modules/.pnpm/clipboard-copy@4.0.1/node_modules/clipboard-copy/index.js\");\n/* harmony import */ var clipboard_copy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(clipboard_copy__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_clipboardIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/icon/icons/clipboardIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-clipboardIcon.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var _keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/text-field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-text-field.js\");\n/* harmony import */ var _lib_core_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../lib/core/utils */ \"../../../../packages/core/src/lib/core/utils.ts\");\n\n\n\n\n\n\n\n\n\n\n\nconst COPY_TOOLTIP_CONTENT = {\n    neutral: 'Copy ID',\n    positive: 'Copied to clipboard',\n    critical: 'Unable to copy'\n};\nfunction Field({ value }) {\n    const [tooltipState, setTooltipState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        tone: 'neutral'\n    });\n    const onCopy = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"Field.useCallback[onCopy]\": async ()=>{\n            try {\n                if (value) await clipboard_copy__WEBPACK_IMPORTED_MODULE_2___default()(value);\n                setTooltipState({\n                    isOpen: true,\n                    tone: 'positive'\n                });\n            } catch (err) {\n                setTooltipState({\n                    isOpen: true,\n                    tone: 'critical'\n                });\n            }\n            // close, then reset the tooltip state after a delay\n            setTimeout({\n                \"Field.useCallback[onCopy]\": ()=>{\n                    setTooltipState({\n                        \"Field.useCallback[onCopy]\": (state)=>({\n                                ...state,\n                                isOpen: false\n                            })\n                    }[\"Field.useCallback[onCopy]\"]);\n                }\n            }[\"Field.useCallback[onCopy]\"], 2000);\n            setTimeout({\n                \"Field.useCallback[onCopy]\": ()=>{\n                    setTooltipState({\n                        isOpen: undefined,\n                        tone: 'neutral'\n                    });\n                }\n            }[\"Field.useCallback[onCopy]\"], 2300);\n        }\n    }[\"Field.useCallback[onCopy]\"], [\n        value\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__.Grid, {\n        gap: \"regular\",\n        columns: \"1fr auto\",\n        alignItems: \"end\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_8__.TextField, {\n                label: \"Item ID\",\n                value: value ?? '',\n                isReadOnly: true,\n                onFocus: ({ target })=>{\n                    if (target instanceof HTMLInputElement) target.select();\n                }\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/id-field-view.tsx\",\n                lineNumber: 46,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_7__.TooltipTrigger, {\n                isOpen: tooltipState.isOpen,\n                placement: \"top end\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_3__.ActionButton, {\n                        \"aria-label\": \"copy id\",\n                        onPress: onCopy,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                            src: _keystar_ui_icon_icons_clipboardIcon__WEBPACK_IMPORTED_MODULE_5__.clipboardIcon\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/id-field-view.tsx\",\n                            lineNumber: 56,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/id-field-view.tsx\",\n                        lineNumber: 55,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_7__.Tooltip, {\n                        tone: tooltipState.tone,\n                        children: COPY_TOOLTIP_CONTENT[tooltipState.tone]\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/id-field-view.tsx\",\n                        lineNumber: 58,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/id-field-view.tsx\",\n                lineNumber: 54,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/id-field-view.tsx\",\n        lineNumber: 45,\n        columnNumber: 5\n    }, this);\n}\nfunction controller(config) {\n    return {\n        fieldKey: config.fieldKey,\n        label: config.label,\n        description: config.description,\n        defaultValue: null,\n        deserialize: (data)=>data[config.fieldKey],\n        serialize: (value)=>({\n                [config.fieldKey]: value\n            }),\n        graphqlSelection: config.fieldKey,\n        filter: {\n            Filter (props) {\n                const { autoFocus, context, onChange, type, typeLabel, value, ...otherProps } = props;\n                const labelProps = context === 'add' ? {\n                    label: config.label,\n                    description: typeLabel\n                } : {\n                    label: typeLabel\n                };\n                const [inputValue, setInputValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n                    \"controller.useState\": ()=>Array.isArray(value) ? value.join(', ') : value\n                }[\"controller.useState\"]);\n                const [lastSeenValue, setLastSeenValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(value);\n                if (value !== lastSeenValue && Array.isArray(value)) {\n                    setInputValue(value.join(', '));\n                    setLastSeenValue(value);\n                }\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_8__.TextField, {\n                    ...otherProps,\n                    ...labelProps,\n                    autoFocus: autoFocus,\n                    onChange: (newVal)=>{\n                        if (Array.isArray(value)) {\n                            setInputValue(newVal);\n                        } else {\n                            onChange(newVal);\n                        }\n                    },\n                    onBlur: ()=>{\n                        if (Array.isArray(value)) {\n                            onChange(inputValue.split(',').map((val)=>val.trim()));\n                        }\n                    },\n                    value: Array.isArray(value) ? inputValue : value\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/id-field-view.tsx\",\n                    lineNumber: 94,\n                    columnNumber: 11\n                }, this);\n            },\n            Label ({ label, value, type }) {\n                const listFormatter = (0,_react_aria_i18n__WEBPACK_IMPORTED_MODULE_10__.useListFormatter)({\n                    style: 'short',\n                    type: 'disjunction'\n                });\n                if ([\n                    'in',\n                    'not_in'\n                ].includes(type)) {\n                    return `${label.toLowerCase()} (${listFormatter.format(value)})`;\n                }\n                return `${label.toLowerCase()} ${value}`;\n            },\n            graphql: ({ type, value })=>{\n                const valueWithoutWhitespace = Array.isArray(value) ? value.map((val)=>val.replace(/\\s/g, '')) : value.replace(/\\s/g, '');\n                if (type === 'not') return {\n                    [config.fieldKey]: {\n                        not: {\n                            equals: valueWithoutWhitespace\n                        }\n                    }\n                };\n                const key = type === 'is' ? 'equals' : type === 'not_in' ? 'notIn' : type;\n                return {\n                    [config.fieldKey]: {\n                        [key]: valueWithoutWhitespace\n                    }\n                };\n            },\n            parseGraphQL: (value)=>{\n                return (0,_lib_core_utils__WEBPACK_IMPORTED_MODULE_9__.entriesTyped)(value).flatMap(([type, value])=>{\n                    if (!value) return [];\n                    if (type === 'equals') return {\n                        type: 'is',\n                        value\n                    };\n                    if (type === 'notIn') return {\n                        type: 'not_in',\n                        value\n                    };\n                    if (type === 'in') return {\n                        type: 'in',\n                        value\n                    };\n                    if (type === 'not' && value?.equals) {\n                        return {\n                            type: 'not',\n                            value: value?.equals\n                        };\n                    }\n                    if (type === 'gt' || type === 'gte' || type === 'lt' || type === 'lte') {\n                        return {\n                            type,\n                            value\n                        };\n                    }\n                    return [];\n                });\n            },\n            types: {\n                is: {\n                    label: 'Is exactly',\n                    initialValue: ''\n                },\n                not: {\n                    label: 'Is not exactly',\n                    initialValue: ''\n                },\n                gt: {\n                    label: 'Is greater than',\n                    initialValue: ''\n                },\n                lt: {\n                    label: 'Is less than',\n                    initialValue: ''\n                },\n                gte: {\n                    label: 'Is greater than or equal to',\n                    initialValue: ''\n                },\n                lte: {\n                    label: 'Is less than or equal to',\n                    initialValue: ''\n                },\n                in: {\n                    label: 'Is one of',\n                    initialValue: []\n                },\n                not_in: {\n                    label: 'Is not one of',\n                    initialValue: []\n                }\n            }\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvX19faW50ZXJuYWwtZG8tbm90LXVzZS13aWxsLWJyZWFrLWluLXBhdGNoL2FkbWluLXVpL2lkLWZpZWxkLXZpZXcudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTZDO0FBQ007QUFDUDtBQUVLO0FBQ1Y7QUFDNkI7QUFDM0I7QUFDb0I7QUFDWDtBQUtDO0FBRW5ELE1BQU1ZLHVCQUF1QjtJQUMzQkMsU0FBUztJQUNUQyxVQUFVO0lBQ1ZDLFVBQVU7QUFDWjtBQUdPLFNBQVNDLE1BQU0sRUFBRUMsS0FBSyxFQUFpQztJQUM1RCxNQUFNLENBQUNDLGNBQWNDLGdCQUFnQixHQUFHbEIsK0NBQVFBLENBQWU7UUFBRW1CLE1BQU07SUFBVTtJQUVqRixNQUFNQyxTQUFTckIsa0RBQVdBO3FDQUFDO1lBQ3pCLElBQUk7Z0JBQ0YsSUFBSWlCLE9BQU8sTUFBTWQscURBQWVBLENBQUNjO2dCQUNqQ0UsZ0JBQWdCO29CQUFFRyxRQUFRO29CQUFNRixNQUFNO2dCQUFXO1lBQ25ELEVBQUUsT0FBT0csS0FBVTtnQkFDakJKLGdCQUFnQjtvQkFBRUcsUUFBUTtvQkFBTUYsTUFBTTtnQkFBVztZQUNuRDtZQUVBLG9EQUFvRDtZQUNwREk7NkNBQVc7b0JBQ1RMO3FEQUFnQk0sQ0FBQUEsUUFBVTtnQ0FBRSxHQUFHQSxLQUFLO2dDQUFFSCxRQUFROzRCQUFNOztnQkFDdEQ7NENBQUc7WUFDSEU7NkNBQVc7b0JBQ1RMLGdCQUFnQjt3QkFBRUcsUUFBUUk7d0JBQVdOLE1BQU07b0JBQVU7Z0JBQ3ZEOzRDQUFHO1FBQ0w7b0NBQUc7UUFBQ0g7S0FBTTtJQUVWLHFCQUNFLDhEQUFDVixvREFBSUE7UUFBQ29CLEtBQUk7UUFBVUMsU0FBUTtRQUFXQyxZQUFXOzswQkFDaEQsOERBQUNuQiw2REFBU0E7Z0JBQ1JvQixPQUFNO2dCQUNOYixPQUFPQSxTQUFTO2dCQUNoQmMsVUFBVTtnQkFDVkMsU0FBUyxDQUFDLEVB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WUFDQXFFLE9BQU87Z0JBQ0xDLElBQUk7b0JBQUV6RCxPQUFPO29CQUFjMEQsY0FBYztnQkFBRztnQkFDNUNQLEtBQUs7b0JBQUVuRCxPQUFPO29CQUFrQjBELGNBQWM7Z0JBQUc7Z0JBQ2pEQyxJQUFJO29CQUFFM0QsT0FBTztvQkFBbUIwRCxjQUFjO2dCQUFHO2dCQUNqREUsSUFBSTtvQkFBRTVELE9BQU87b0JBQWdCMEQsY0FBYztnQkFBRztnQkFDOUNHLEtBQUs7b0JBQUU3RCxPQUFPO29CQUErQjBELGNBQWM7Z0JBQUc7Z0JBQzlESSxLQUFLO29CQUFFOUQsT0FBTztvQkFBNEIwRCxjQUFjO2dCQUFHO2dCQUMzREssSUFBSTtvQkFBRS9ELE9BQU87b0JBQWEwRCxjQUFjLEVBQUU7Z0JBQUM7Z0JBQzNDTSxRQUFRO29CQUFFaEUsT0FBTztvQkFBaUIwRCxjQUFjLEVBQUU7Z0JBQUM7WUFDckQ7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvX19faW50ZXJuYWwtZG8tbm90LXVzZS13aWxsLWJyZWFrLWluLXBhdGNoL2FkbWluLXVpL2lkLWZpZWxkLXZpZXcudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlTGlzdEZvcm1hdHRlciB9IGZyb20gJ0ByZWFjdC1hcmlhL2kxOG4nXG5pbXBvcnQgY29weVRvQ2xpcGJvYXJkIGZyb20gJ2NsaXBib2FyZC1jb3B5J1xuXG5pbXBvcnQgeyBBY3Rpb25CdXR0b24gfSBmcm9tICdAa2V5c3Rhci91aS9idXR0b24nXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbidcbmltcG9ydCB7IGNsaXBib2FyZEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2NsaXBib2FyZEljb24nXG5pbXBvcnQgeyBHcmlkIH0gZnJvbSAnQGtleXN0YXIvdWkvbGF5b3V0J1xuaW1wb3J0IHsgVG9vbHRpcFRyaWdnZXIsIFRvb2x0aXAgfSBmcm9tICdAa2V5c3Rhci91aS90b29sdGlwJ1xuaW1wb3J0IHsgVGV4dEZpZWxkIH0gZnJvbSAnQGtleXN0YXIvdWkvdGV4dC1maWVsZCdcblxuaW1wb3J0IHR5cGUgeyBGaWVsZENvbnRyb2xsZXIsIEZpZWxkQ29udHJvbGxlckNvbmZpZywgRmllbGRQcm9wcywgSWRGaWVsZENvbmZpZyB9IGZyb20gJy4uLy4uL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBJbmZlclZhbHVlRnJvbUlucHV0VHlwZSB9IGZyb20gJ0BncmFwaHFsLXRzL3NjaGVtYSdcbmltcG9ydCB0eXBlIHsgZmlsdGVycyB9IGZyb20gJy4uLy4uL2ZpZWxkcy9maWx0ZXJzJ1xuaW1wb3J0IHsgZW50cmllc1R5cGVkIH0gZnJvbSAnLi4vLi4vbGliL2NvcmUvdXRpbHMnXG5cbmNvbnN0IENPUFlfVE9PTFRJUF9DT05URU5UID0ge1xuICBuZXV0cmFsOiAnQ29weSBJRCcsXG4gIHBvc2l0aXZlOiAnQ29waWVkIHRvIGNsaXBib2FyZCcsXG4gIGNyaXRpY2FsOiAnVW5hYmxlIHRvIGNvcHknLFxufVxudHlwZSBUb29sdGlwU3RhdGUgPSB7IGlzT3Blbj86IGJvb2xlYW47IHRvbmU6IGtleW9mIHR5cGVvZiBDT1BZX1RPT0xUSVBfQ09OVEVOVCB9XG5cbmV4cG9ydCBmdW5jdGlvbiBGaWVsZCh7IHZhbHVlIH06IEZpZWxkUHJvcHM8dHlwZW9mIGNvbnRyb2xsZXI+KSB7XG4gIGNvbnN0IFt0b29sdGlwU3RhdGUsIHNldFRvb2x0aXBTdGF0ZV0gPSB1c2VTdGF0ZTxUb29sdGlwU3RhdGU+KHsgdG9uZTogJ25ldXRyYWwnIH0pXG5cbiAgY29uc3Qgb25Db3B5ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAodmFsdWUpIGF3YWl0IGNvcHlUb0NsaXBib2FyZCh2YWx1ZSlcbiAgICAgIHNldFRvb2x0aXBTdGF0ZSh7IGlzT3BlbjogdHJ1ZSwgdG9uZTogJ3Bvc2l0aXZlJyB9KVxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBzZXRUb29sdGlwU3RhdGUoeyBpc09wZW46IHRydWUsIHRvbmU6ICdjcml0aWNhbCcgfSlcbiAgICB9XG5cbiAgICAvLyBjbG9zZSwgdGhlbiByZXNldCB0aGUgdG9vbHRpcCBzdGF0ZSBhZnRlciBhIGRlbGF5XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRUb29sdGlwU3RhdGUoc3RhdGUgPT4gKHsgLi4uc3RhdGUsIGlzT3BlbjogZmFsc2UgfSkpXG4gICAgfSwgMjAwMClcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldFRvb2x0aXBTdGF0ZSh7IGlzT3BlbjogdW5kZWZpbmVkLCB0b25lOiAnbmV1dHJhbCcgfSlcbiAgICB9LCAyMzAwKVxuICB9LCBbdmFsdWVdKVxuXG4gIHJldHVybiAoXG4gICAgPEdyaWQgZ2FwPVwicmVndWxhclwiIGNvbHVtbnM9XCIxZnIgYXV0b1wiIGFsaWduSXRlbXM9XCJlbmRcIj5cbiAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgbGFiZWw9XCJJdGVtIElEXCJcbiAgICAgICAgdmFsdWU9e3ZhbHVlID8/ICcnfVxuICAgICAgICBpc1JlYWRPbmx5XG4gICAgICAgIG9uRm9jdXM9eyh7IHRhcmdldCB9KSA9PiB7XG4gICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHRhcmdldC5zZWxlY3QoKVxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxUb29sdGlwVHJpZ2dlciBpc09wZW49e3Rvb2x0aXBTdGF0ZS5pc09wZW59IHBsYWNlbWVudD1cInRvcCBlbmRcIj5cbiAgICAgICAgPEFjdGlvbkJ1dHRvbiBhcmlhLWxhYmVsPVwiY29weSBpZFwiIG9uUHJlc3M9e29uQ29weX0+XG4gICAgICAgICAgPEljb24gc3JjPXtjbGlwYm9hcmRJY29ufSAvPlxuICAgICAgICA8L0FjdGlvbkJ1dHRvbj5cbiAgICAgICAgPFRvb2x0aXAgdG9uZT17dG9vbHRpcFN0YXRlLnRvbmV9PntDT1BZX1RPT0xUSVBfQ09OVEVOVFt0b29sdGlwU3RhdGUudG9uZV19PC9Ub29sdGlwPlxuICAgICAgPC9Ub29sdGlwVHJpZ2dlcj5cbiAgICA8L0dyaWQ+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRyb2xsZXIoXG4gIGNvbmZpZzogRmllbGRDb250cm9sbGVyQ29uZmlnPElkRmllbGRDb25maWc+XG4pOiBGaWVsZENvbnRyb2xsZXI8XG4gIHN0cmluZyB8IG51bGwsXG4gIHN0cmluZyB8IHN0cmluZ1tdLFxuICBJbmZlclZhbHVlRnJvbUlucHV0VHlwZTwodHlwZW9mIGZpbHRlcnMpWydteXNxbCddWydTdHJpbmcnXVsncmVxdWlyZWQnXT5cbj4ge1xuICByZXR1cm4ge1xuICAgIGZpZWxkS2V5OiBjb25maWcuZmllbGRLZXksXG4gICAgbGFiZWw6IGNvbmZpZy5sYWJlbCxcbiAgICBkZXNjcmlwdGlvbjogY29uZmlnLmRlc2NyaXB0aW9uLFxuICAgIGRlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICBkZXNlcmlhbGl6ZTogZGF0YSA9PiBkYXRhW2NvbmZpZy5maWVsZEtleV0sXG4gICAgc2VyaWFsaXplOiB2YWx1ZSA9PiAoeyBbY29uZmlnLmZpZWxkS2V5XTogdmFsdWUgfSksXG4gICAgZ3JhcGhxbFNlbGVjdGlvbjogY29uZmlnLmZpZWxkS2V5LFxuICAgIGZpbHRlcjoge1xuICAgICAgRmlsdGVyKHByb3BzKSB7XG4gICAgICAgIGNvbnN0IHsgYXV0b0ZvY3VzLCBjb250ZXh0LCBvbkNoYW5nZSwgdHlwZSwgdHlwZUxhYmVsLCB2YWx1ZSwgLi4ub3RoZXJQcm9wcyB9ID0gcHJvcHNcbiAgICAgICAgY29uc3QgbGFiZWxQcm9wcyA9XG4gICAgICAgICAgY29udGV4dCA9PT0gJ2FkZCcgPyB7IGxhYmVsOiBjb25maWcubGFiZWwsIGRlc2NyaXB0aW9uOiB0eXBlTGFiZWwgfSA6IHsgbGFiZWw6IHR5cGVMYWJlbCB9XG4gICAgICAgIGNvbnN0IFtpbnB1dFZhbHVlLCBzZXRJbnB1dFZhbHVlXSA9IHVzZVN0YXRlKCgpID0+XG4gICAgICAgICAgQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5qb2luKCcsICcpIDogdmFsdWVcbiAgICAgICAgKVxuICAgICAgICBjb25zdCBbbGFzdFNlZW5WYWx1ZSwgc2V0TGFzdFNlZW5WYWx1ZV0gPSB1c2VTdGF0ZSh2YWx1ZSlcbiAgICAgICAgaWYgKHZhbHVlICE9PSBsYXN0U2VlblZhbHVlICYmIEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgc2V0SW5wdXRWYWx1ZSh2YWx1ZS5qb2luKCcsICcpKVxuICAgICAgICAgIHNldExhc3RTZWVuVmFsdWUodmFsdWUpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgIHsuLi5vdGhlclByb3BzfVxuICAgICAgICAgICAgey4uLmxhYmVsUHJvcHN9XG4gICAgICAgICAgICBhdXRvRm9jdXM9e2F1dG9Gb2N1c31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtuZXdWYWwgPT4ge1xuICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBzZXRJbnB1dFZhbHVlKG5ld1ZhbClcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZShuZXdWYWwpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbkJsdXI9eygpID0+IHtcbiAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2UoaW5wdXRWYWx1ZS5zcGxpdCgnLCcpLm1hcCh2YWwgPT4gdmFsLnRyaW0oKSkpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB2YWx1ZT17QXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBpbnB1dFZhbHVlIDogdmFsdWV9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgfSxcblxuICAgICAgTGFiZWwoeyBsYWJlbCwgdmFsdWUsIHR5cGUgfSkge1xuICAgICAgICBjb25zdCBsaXN0Rm9ybWF0dGVyID0gdXNlTGlzdEZvcm1hdHRlcih7XG4gICAgICAgICAgc3R5bGU6ICdzaG9ydCcsXG4gICAgICAgICAgdHlwZTogJ2Rpc2p1bmN0aW9uJyxcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoWydpbicsICdub3RfaW4nXS5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgICAgIHJldHVybiBgJHtsYWJlbC50b0xvd2VyQ2FzZSgpfSAoJHtsaXN0Rm9ybWF0dGVyLmZvcm1hdCh2YWx1ZSl9KWBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7bGFiZWwudG9Mb3dlckNhc2UoKX0gJHt2YWx1ZX1gXG4gICAgICB9LFxuICAgICAgZ3JhcGhxbDogKHsgdHlwZSwgdmFsdWUgfSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZVdpdGhvdXRXaGl0ZXNwYWNlID0gQXJyYXkuaXNBcnJheSh2YWx1ZSlcbiAgICAgICAgICA/IHZhbHVlLm1hcCh2YWwgPT4gdmFsLnJlcGxhY2UoL1xccy9nLCAnJykpXG4gICAgICAgICAgOiB2YWx1ZS5yZXBsYWNlKC9cXHMvZywgJycpXG4gICAgICAgIGlmICh0eXBlID09PSAnbm90JylcbiAgICAgICAgICByZXR1cm4geyBbY29uZmlnLmZpZWxkS2V5XTogeyBub3Q6IHsgZXF1YWxzOiB2YWx1ZVdpdGhvdXRXaGl0ZXNwYWNlIH0gfSB9XG4gICAgICAgIGNvbnN0IGtleSA9IHR5cGUgPT09ICdpcycgPyAnZXF1YWxzJyA6IHR5cGUgPT09ICdub3RfaW4nID8gJ25vdEluJyA6IHR5cGVcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIFtjb25maWcuZmllbGRLZXldOiB7XG4gICAgICAgICAgICBba2V5XTogdmFsdWVXaXRob3V0V2hpdGVzcGFjZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcGFyc2VHcmFwaFFMOiB2YWx1ZSA9PiB7XG4gICAgICAgIHJldHVybiBlbnRyaWVzVHlwZWQodmFsdWUpLmZsYXRNYXAoKFt0eXBlLCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSByZXR1cm4gW11cbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ2VxdWFscycpIHJldHVybiB7IHR5cGU6ICdpcycsIHZhbHVlIH1cbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ25vdEluJykgcmV0dXJuIHsgdHlwZTogJ25vdF9pbicsIHZhbHVlIH1cbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ2luJykgcmV0dXJuIHsgdHlwZTogJ2luJywgdmFsdWUgfVxuICAgICAgICAgIGlmICh0eXBlID09PSAnbm90JyAmJiB2YWx1ZT8uZXF1YWxzKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiAnbm90JywgdmFsdWU6IHZhbHVlPy5lcXVhbHMgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ2d0JyB8fCB0eXBlID09PSAnZ3RlJyB8fCB0eXBlID09PSAnbHQnIHx8IHR5cGUgPT09ICdsdGUnKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlLCB2YWx1ZSB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBbXVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIHR5cGVzOiB7XG4gICAgICAgIGlzOiB7IGxhYmVsOiAnSXMgZXhhY3RseScsIGluaXRpYWxWYWx1ZTogJycgfSxcbiAgICAgICAgbm90OiB7IGxhYmVsOiAnSXMgbm90IGV4YWN0bHknLCBpbml0aWFsVmFsdWU6ICcnIH0sXG4gICAgICAgIGd0OiB7IGxhYmVsOiAnSXMgZ3JlYXRlciB0aGFuJywgaW5pdGlhbFZhbHVlOiAnJyB9LFxuICAgICAgICBsdDogeyBsYWJlbDogJ0lzIGxlc3MgdGhhbicsIGluaXRpYWxWYWx1ZTogJycgfSxcbiAgICAgICAgZ3RlOiB7IGxhYmVsOiAnSXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvJywgaW5pdGlhbFZhbHVlOiAnJyB9LFxuICAgICAgICBsdGU6IHsgbGFiZWw6ICdJcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8nLCBpbml0aWFsVmFsdWU6ICcnIH0sXG4gICAgICAgIGluOiB7IGxhYmVsOiAnSXMgb25lIG9mJywgaW5pdGlhbFZhbHVlOiBbXSB9LFxuICAgICAgICBub3RfaW46IHsgbGFiZWw6ICdJcyBub3Qgb25lIG9mJywgaW5pdGlhbFZhbHVlOiBbXSB9LFxuICAgICAgfSxcbiAgICB9LFxuICB9XG59XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VTdGF0ZSIsInVzZUxpc3RGb3JtYXR0ZXIiLCJjb3B5VG9DbGlwYm9hcmQiLCJBY3Rpb25CdXR0b24iLCJJY29uIiwiY2xpcGJvYXJkSWNvbiIsIkdyaWQiLCJUb29sdGlwVHJpZ2dlciIsIlRvb2x0aXAiLCJUZXh0RmllbGQiLCJlbnRyaWVzVHlwZWQiLCJDT1BZX1RPT0xUSVBfQ09OVEVOVCIsIm5ldXRyYWwiLCJwb3NpdGl2ZSIsImNyaXRpY2FsIiwiRmllbGQiLCJ2YWx1ZSIsInRvb2x0aXBTdGF0ZSIsInNldFRvb2x0aXBTdGF0ZSIsInRvbmUiLCJvbkNvcHkiLCJpc09wZW4iLCJlcnIiLCJzZXRUaW1lb3V0Iiwic3RhdGUiLCJ1bmRlZmluZWQiLCJnYXAiLCJjb2x1bW5zIiwiYWxpZ25JdGVtcyIsImxhYmVsIiwiaXNSZWFkT25seSIsIm9uRm9jdXMiLCJ0YXJnZXQiLCJIVE1MSW5wdXRFbGVtZW50Iiwic2VsZWN0IiwicGxhY2VtZW50IiwiYXJpYS1sYWJlbCIsIm9uUHJlc3MiLCJzcmMiLCJjb250cm9sbGVyIiwiY29uZmlnIiwiZmllbGRLZXkiLCJkZXNjcmlwdGlvbiIsImRlZmF1bHRWYWx1ZSIsImRlc2VyaWFsaXplIiwiZGF0YSIsInNlcmlhbGl6ZSIsImdyYXBocWxTZWxlY3Rpb24iLCJmaWx0ZXIiLCJGaWx0ZXIiLCJwcm9wcyIsImF1dG9Gb2N1cyIsImNvbnRleHQiLCJvbkNoYW5nZSIsInR5cGUiLCJ0eXBlTGFiZWwiLCJvdGhlclByb3BzIiwibGFiZWxQcm9wcyIsImlucHV0VmFsdWUiLCJzZXRJbnB1dFZhbHVlIiwiQXJyYXkiLCJpc0FycmF5Iiwiam9pbiIsImxhc3RTZWVuVmFsdWUiLCJzZXRMYXN0U2VlblZhbHVlIiwibmV3VmFsIiwib25CbHVyIiwic3BsaXQiLCJtYXAiLCJ2YWwiLCJ0cmltIiwiTGFiZWwiLCJsaXN0Rm9ybWF0dGVyIiwic3R5bGUiLCJpbmNsdWRlcyIsInRvTG93ZXJDYXNlIiwiZm9ybWF0IiwiZ3JhcGhxbCIsInZhbHVlV2l0aG91dFdoaXRlc3BhY2UiLCJyZXBsYWNlIiwibm90IiwiZXF1YWxzIiwia2V5IiwicGFyc2VHcmFwaFFMIiwiZmxhdE1hcCIsInR5cGVzIiwiaXMiLCJpbml0aWFsVmFsdWUiLCJndCIsImx0IiwiZ3RlIiwibHRlIiwiaW4iLCJub3RfaW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/id-field-view.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/App/index.tsx":
/*!*************************************************************************************************************!*\
  !*** ../../../../packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/App/index.tsx ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getApp: () => (/* binding */ getApp)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _admin_ui_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../admin-ui/components */ \"../../../../packages/core/src/admin-ui/components/index.ts\");\n/* harmony import */ var _admin_ui_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../admin-ui/context */ \"../../../../packages/core/src/admin-ui/context.tsx\");\n\n\n\nconst getApp = (props)=>({ Component, pageProps })=>{\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_admin_ui_context__WEBPACK_IMPORTED_MODULE_2__.KeystoneProvider, {\n            ...props,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_admin_ui_components__WEBPACK_IMPORTED_MODULE_1__.ErrorBoundary, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                    ...pageProps\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/App/index.tsx\",\n                    lineNumber: 18,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/App/index.tsx\",\n                lineNumber: 17,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/App/index.tsx\",\n            lineNumber: 16,\n            columnNumber: 7\n        }, undefined);\n    };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvX19faW50ZXJuYWwtZG8tbm90LXVzZS13aWxsLWJyZWFrLWluLXBhdGNoL2FkbWluLXVpL3BhZ2VzL0FwcC9pbmRleC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRStEO0FBQ0E7QUFReEQsTUFBTUUsU0FDWCxDQUFDQyxRQUNELENBQUMsRUFBRUMsU0FBUyxFQUFFQyxTQUFTLEVBQVk7UUFDakMscUJBQ0UsOERBQUNKLCtEQUFnQkE7WUFBRSxHQUFHRSxLQUFLO3NCQUN6Qiw0RUFBQ0gsK0RBQWFBOzBCQUNaLDRFQUFDSTtvQkFBVyxHQUFHQyxTQUFTOzs7Ozs7Ozs7Ozs7Ozs7O0lBSWhDLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvX19faW50ZXJuYWwtZG8tbm90LXVzZS13aWxsLWJyZWFrLWluLXBhdGNoL2FkbWluLXVpL3BhZ2VzL0FwcC9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBBcHBQcm9wcyB9IGZyb20gJ25leHQvYXBwJ1xuaW1wb3J0IHR5cGUgeyBBZG1pbkNvbmZpZywgRmllbGRWaWV3cyB9IGZyb20gJy4uLy4uLy4uLy4uL3R5cGVzJ1xuaW1wb3J0IHsgRXJyb3JCb3VuZGFyeSB9IGZyb20gJy4uLy4uLy4uLy4uL2FkbWluLXVpL2NvbXBvbmVudHMnXG5pbXBvcnQgeyBLZXlzdG9uZVByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vYWRtaW4tdWkvY29udGV4dCdcblxudHlwZSBBcHBDb25maWcgPSB7XG4gIGFkbWluQ29uZmlnOiBBZG1pbkNvbmZpZ1xuICBmaWVsZFZpZXdzOiBGaWVsZFZpZXdzXG4gIGFwaVBhdGg6IHN0cmluZ1xufVxuXG5leHBvcnQgY29uc3QgZ2V0QXBwID1cbiAgKHByb3BzOiBBcHBDb25maWcpID0+XG4gICh7IENvbXBvbmVudCwgcGFnZVByb3BzIH06IEFwcFByb3BzKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxLZXlzdG9uZVByb3ZpZGVyIHsuLi5wcm9wc30+XG4gICAgICAgIDxFcnJvckJvdW5kYXJ5PlxuICAgICAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICAgPC9LZXlzdG9uZVByb3ZpZGVyPlxuICAgIClcbiAgfVxuIl0sIm5hbWVzIjpbIkVycm9yQm91bmRhcnkiLCJLZXlzdG9uZVByb3ZpZGVyIiwiZ2V0QXBwIiwicHJvcHMiLCJDb21wb25lbnQiLCJwYWdlUHJvcHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/App/index.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx":
/*!*******************************************************************************************************************************!*\
  !*** ../../../../packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PaginationControls: () => (/* binding */ PaginationControls),\n/* harmony export */   snapValueToClosest: () => (/* binding */ snapValueToClosest)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_chevronLeftIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/icon/icons/chevronLeftIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-chevronLeftIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_chevronRightIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/icon/icons/chevronRightIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-chevronRightIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_undo2Icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/icon/icons/undo2Icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-undo2Icon.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_picker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/picker */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-picker.js\");\n/* harmony import */ var _keystar_ui_tag__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/tag */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tag.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\n\n\n\n\n\nfunction PaginationControls(props) {\n    const { currentPage, total, pageSize, defaultPageSize } = props;\n    const { stats } = getPaginationStats(props);\n    const nextPage = currentPage + 1;\n    const prevPage = currentPage - 1;\n    const lastPage = Math.max(Math.ceil(total / pageSize), 1);\n    const pageItems = (0,react__WEBPACK_IMPORTED_MODULE_11__.useMemo)({\n        \"PaginationControls.useMemo[pageItems]\": ()=>{\n            const result = [];\n            for(let page = 1; page <= lastPage; page++){\n                result.push({\n                    id: page,\n                    label: String(page)\n                });\n            }\n            return result;\n        }\n    }[\"PaginationControls.useMemo[pageItems]\"], [\n        lastPage\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__.HStack, {\n        as: \"nav\",\n        role: \"navigation\",\n        \"aria-label\": \"Pagination\",\n        // alignItems=\"center\"\n        justifyContent: \"space-between\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__.HStack, {\n                gap: \"large\",\n                alignItems: \"center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__.HStack, {\n                        isHidden: {\n                            below: 'desktop'\n                        },\n                        gap: \"regular\",\n                        alignItems: \"center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_10__.Text, {\n                                id: \"items-per-page\",\n                                children: [\n                                    props.plural,\n                                    \" per page:\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                                lineNumber: 63,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_picker__WEBPACK_IMPORTED_MODULE_7__.Picker, {\n                                \"aria-labelledby\": \"items-per-page\",\n                                items: PAGE_SIZES.map((n)=>({\n                                        label: String(n),\n                                        id: n\n                                    })),\n                                onSelectionChange: (key)=>{\n                                    props.onChangePageSize(Number(key));\n                                },\n                                selectedKey: pageSize,\n                                width: \"scale.1000\",\n                                children: (item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tag__WEBPACK_IMPORTED_MODULE_8__.Item, {\n                                        children: item.label\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                                        lineNumber: 73,\n                                        columnNumber: 22\n                                    }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                                lineNumber: 64,\n                                columnNumber: 11\n                            }, this),\n                            defaultPageSize !== undefined && pageSize !== defaultPageSize ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipTrigger, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {\n                                        \"aria-label\": \"reset\",\n                                        onPress: ()=>props.onChangePageSize(defaultPageSize),\n                                        prominence: \"low\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n                                            src: _keystar_ui_icon_icons_undo2Icon__WEBPACK_IMPORTED_MODULE_5__.undo2Icon\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                                            lineNumber: 82,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                                        lineNumber: 77,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.Tooltip, {\n                                        children: \"Reset to defaults\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                                        lineNumber: 84,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                                lineNumber: 76,\n                                columnNumber: 13\n                            }, this) : null\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                        lineNumber: 62,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_10__.Text, {\n                        color: \"neutralSecondary\",\n                        children: stats\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                        lineNumber: 88,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                lineNumber: 61,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__.HStack, {\n                gap: \"large\",\n                alignItems: \"center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__.HStack, {\n                        isHidden: {\n                            below: 'desktop'\n                        },\n                        gap: \"regular\",\n                        alignItems: \"center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_picker__WEBPACK_IMPORTED_MODULE_7__.Picker, {\n                                // prominence=\"low\"\n                                \"aria-label\": `Page number, of ${lastPage} pages`,\n                                items: pageItems,\n                                onSelectionChange: (page)=>{\n                                    props.onChangePage(Number(page));\n                                },\n                                selectedKey: currentPage,\n                                width: \"scale.1000\",\n                                children: (item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tag__WEBPACK_IMPORTED_MODULE_8__.Item, {\n                                        children: item.label\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                                        lineNumber: 108,\n                                        columnNumber: 22\n                                    }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                                lineNumber: 98,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_10__.Text, {\n                                children: [\n                                    \"of \",\n                                    lastPage,\n                                    \" pages\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                                lineNumber: 110,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                        lineNumber: 97,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__.HStack, {\n                        gap: \"regular\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {\n                                \"aria-label\": \"Previous page\",\n                                isDisabled: prevPage < 1,\n                                onPress: ()=>props.onChangePage(prevPage),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n                                    src: _keystar_ui_icon_icons_chevronLeftIcon__WEBPACK_IMPORTED_MODULE_3__.chevronLeftIcon\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                                    lineNumber: 119,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                                lineNumber: 113,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_1__.ActionButton, {\n                                \"aria-label\": \"Next page\",\n                                isDisabled: nextPage > lastPage,\n                                onPress: ()=>props.onChangePage(nextPage),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n                                    src: _keystar_ui_icon_icons_chevronRightIcon__WEBPACK_IMPORTED_MODULE_4__.chevronRightIcon\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                                    lineNumber: 127,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                                lineNumber: 121,\n                                columnNumber: 11\n                            }, this),\n                            props.extraActions\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                        lineNumber: 112,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n                lineNumber: 96,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\",\n        lineNumber: 49,\n        columnNumber: 5\n    }, this);\n}\nfunction getPaginationStats({ singular, plural, pageSize, currentPage, total }) {\n    let stats = '';\n    if (total > pageSize) {\n        const start = pageSize * (currentPage - 1) + 1;\n        const end = Math.min(start + pageSize - 1, total);\n        stats = `${start} - ${end} of ${total} ${plural}`;\n    } else {\n        if (total > 1 && plural) {\n            stats = `${total} ${plural}`;\n        } else if (total === 1 && singular) {\n            stats = `${total} ${singular}`;\n        }\n    }\n    return {\n        stats\n    };\n}\nconst PAGE_SIZES = [\n    10,\n    25,\n    50,\n    100\n];\nfunction snapValueToClosest(input, range = PAGE_SIZES) {\n    return range.reduce((prev, curr)=>Math.abs(curr - input) < Math.abs(prev - input) ? curr : prev);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvX19faW50ZXJuYWwtZG8tbm90LXVzZS13aWxsLWJyZWFrLWluLXBhdGNoL2FkbWluLXVpL3BhZ2VzL0xpc3RQYWdlL1BhZ2luYXRpb25Db250cm9scy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUQ7QUFDVjtBQUNpQztBQUNFO0FBQ2Q7QUFDakI7QUFDQTtBQUNMO0FBQ3VCO0FBQ2hCO0FBRWQ7QUFPeEIsU0FBU1ksbUJBQW1CQyxLQVVsQztJQUNDLE1BQU0sRUFBRUMsV0FBVyxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRUMsZUFBZSxFQUFFLEdBQUdKO0lBQzFELE1BQU0sRUFBRUssS0FBSyxFQUFFLEdBQUdDLG1CQUFtQk47SUFFckMsTUFBTU8sV0FBV04sY0FBYztJQUMvQixNQUFNTyxXQUFXUCxjQUFjO0lBQy9CLE1BQU1RLFdBQVdDLEtBQUtDLEdBQUcsQ0FBQ0QsS0FBS0UsSUFBSSxDQUFDVixRQUFRQyxXQUFXO0lBRXZELE1BQU1VLFlBQVlmLCtDQUFPQTtpREFBQztZQUN4QixNQUFNZ0IsU0FBcUIsRUFBRTtZQUM3QixJQUFLLElBQUlDLE9BQU8sR0FBR0EsUUFBUU4sVUFBVU0sT0FBUTtnQkFDM0NELE9BQU9FLElBQUksQ0FBQztvQkFDVkMsSUFBSUY7b0JBQ0pHLE9BQU9DLE9BQU9KO2dCQUNoQjtZQUNGO1lBQ0EsT0FBT0Q7UUFDVDtnREFBRztRQUFDTDtLQUFTO0lBRWIscUJBQ0UsOERBQUNqQixzREFBTUE7UUFDTDRCLElBQUc7UUFDSEMsTUFBSztRQUNMQyxjQUFXO1FBQ1gsc0JBQXNCO1FBQ3RCQyxnQkFBZTs7MEJBT2YsOERBQUMvQixzREFBTUE7Z0JBQUNnQyxLQUFJO2dCQUFRQyxZQUFXOztrQ0FDN0IsOERBQUNqQyxzREFBTUE7d0JBQUNrQyxVQUFVOzRCQUFFQyxPQUFPO3dCQUFVO3dCQUFHSCxLQUFJO3dCQUFVQyxZQUFXOzswQ0FDL0QsOERBQUM1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RTBCLFFBQVE7UUFDOUIsT0FBTyxJQUFJMUIsVUFBVSxLQUFLK0MsVUFBVTtZQUNsQzVDLFFBQVEsR0FBR0gsTUFBTSxDQUFDLEVBQUUrQyxVQUFVO1FBQ2hDO0lBQ0Y7SUFDQSxPQUFPO1FBQUU1QztJQUFNO0FBQ2pCO0FBRUEsTUFBTTBCLGFBQWE7SUFBQztJQUFJO0lBQUk7SUFBSTtDQUFJO0FBRTdCLFNBQVNzQixtQkFBbUJDLEtBQWEsRUFBRUMsUUFBUXhCLFVBQVU7SUFDbEUsT0FBT3dCLE1BQU1DLE1BQU0sQ0FBQyxDQUFDQyxNQUFNQyxPQUN6QmhELEtBQUtpRCxHQUFHLENBQUNELE9BQU9KLFNBQVM1QyxLQUFLaUQsR0FBRyxDQUFDRixPQUFPSCxTQUFTSSxPQUFPRDtBQUU3RCIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9fX19pbnRlcm5hbC1kby1ub3QtdXNlLXdpbGwtYnJlYWstaW4tcGF0Y2gvYWRtaW4tdWkvcGFnZXMvTGlzdFBhZ2UvUGFnaW5hdGlvbkNvbnRyb2xzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpb25CdXR0b24gfSBmcm9tICdAa2V5c3Rhci91aS9idXR0b24nXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbidcbmltcG9ydCB7IGNoZXZyb25MZWZ0SWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvY2hldnJvbkxlZnRJY29uJ1xuaW1wb3J0IHsgY2hldnJvblJpZ2h0SWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvY2hldnJvblJpZ2h0SWNvbidcbmltcG9ydCB7IHVuZG8ySWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvdW5kbzJJY29uJ1xuaW1wb3J0IHsgSFN0YWNrIH0gZnJvbSAnQGtleXN0YXIvdWkvbGF5b3V0J1xuaW1wb3J0IHsgUGlja2VyIH0gZnJvbSAnQGtleXN0YXIvdWkvcGlja2VyJ1xuaW1wb3J0IHsgSXRlbSB9IGZyb20gJ0BrZXlzdGFyL3VpL3RhZydcbmltcG9ydCB7IFRvb2x0aXAsIFRvb2x0aXBUcmlnZ2VyIH0gZnJvbSAnQGtleXN0YXIvdWkvdG9vbHRpcCdcbmltcG9ydCB7IFRleHQgfSBmcm9tICdAa2V5c3Rhci91aS90eXBvZ3JhcGh5J1xuaW1wb3J0IHR5cGUgeyBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcblxudHlwZSBQYWdlSXRlbSA9IHtcbiAgbGFiZWw6IHN0cmluZ1xuICBpZDogbnVtYmVyXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQYWdpbmF0aW9uQ29udHJvbHMocHJvcHM6IHtcbiAgc2luZ3VsYXI6IHN0cmluZ1xuICBwbHVyYWw6IHN0cmluZ1xuICBjdXJyZW50UGFnZTogbnVtYmVyXG4gIHBhZ2VTaXplOiBudW1iZXJcbiAgdG90YWw6IG51bWJlclxuICBkZWZhdWx0UGFnZVNpemU/OiBudW1iZXJcbiAgb25DaGFuZ2VQYWdlOiAocGFnZTogbnVtYmVyKSA9PiB2b2lkXG4gIG9uQ2hhbmdlUGFnZVNpemU6IChwYWdlU2l6ZTogbnVtYmVyKSA9PiB2b2lkXG4gIGV4dHJhQWN0aW9ucz86IFJlYWN0Tm9kZVxufSkge1xuICBjb25zdCB7IGN1cnJlbnRQYWdlLCB0b3RhbCwgcGFnZVNpemUsIGRlZmF1bHRQYWdlU2l6ZSB9ID0gcHJvcHNcbiAgY29uc3QgeyBzdGF0cyB9ID0gZ2V0UGFnaW5hdGlvblN0YXRzKHByb3BzKVxuXG4gIGNvbnN0IG5leHRQYWdlID0gY3VycmVudFBhZ2UgKyAxXG4gIGNvbnN0IHByZXZQYWdlID0gY3VycmVudFBhZ2UgLSAxXG4gIGNvbnN0IGxhc3RQYWdlID0gTWF0aC5tYXgoTWF0aC5jZWlsKHRvdGFsIC8gcGFnZVNpemUpLCAxKVxuXG4gIGNvbnN0IHBhZ2VJdGVtcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdDogUGFnZUl0ZW1bXSA9IFtdXG4gICAgZm9yIChsZXQgcGFnZSA9IDE7IHBhZ2UgPD0gbGFzdFBhZ2U7IHBhZ2UrKykge1xuICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICBpZDogcGFnZSxcbiAgICAgICAgbGFiZWw6IFN0cmluZyhwYWdlKSxcbiAgICAgIH0pXG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfSwgW2xhc3RQYWdlXSlcblxuICByZXR1cm4gKFxuICAgIDxIU3RhY2tcbiAgICAgIGFzPVwibmF2XCJcbiAgICAgIHJvbGU9XCJuYXZpZ2F0aW9uXCJcbiAgICAgIGFyaWEtbGFiZWw9XCJQYWdpbmF0aW9uXCJcbiAgICAgIC8vIGFsaWduSXRlbXM9XCJjZW50ZXJcIlxuICAgICAganVzdGlmeUNvbnRlbnQ9XCJzcGFjZS1iZXR3ZWVuXCJcbiAgICA+XG4gICAgICB7LypcbiAgICAgICAgbGVmdC1zaWRlXG4gICAgICAgIG1vYmlsZTogY291bnRzXG4gICAgICAgIGRlc2t0b3BeOiBpdGVtcyBwZXIgcGFnZSAocGlja2VyKSwgY291bnRzXG4gICAgICAqL31cbiAgICAgIDxIU3RhY2sgZ2FwPVwibGFyZ2VcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XG4gICAgICAgIDxIU3RhY2sgaXNIaWRkZW49e3sgYmVsb3c6ICdkZXNrdG9wJyB9fSBnYXA9XCJyZWd1bGFyXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgIDxUZXh0IGlkPVwiaXRlbXMtcGVyLXBhZ2VcIj57cHJvcHMucGx1cmFsfSBwZXIgcGFnZTo8L1RleHQ+XG4gICAgICAgICAgPFBpY2tlclxuICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwiaXRlbXMtcGVyLXBhZ2VcIlxuICAgICAgICAgICAgaXRlbXM9e1BBR0VfU0laRVMubWFwKG4gPT4gKHsgbGFiZWw6IFN0cmluZyhuKSwgaWQ6IG4gfSkpfVxuICAgICAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U9e2tleSA9PiB7XG4gICAgICAgICAgICAgIHByb3BzLm9uQ2hhbmdlUGFnZVNpemUoTnVtYmVyKGtleSkpXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgc2VsZWN0ZWRLZXk9e3BhZ2VTaXplfVxuICAgICAgICAgICAgd2lkdGg9XCJzY2FsZS4xMDAwXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aXRlbSA9PiA8SXRlbT57aXRlbS5sYWJlbH08L0l0ZW0+fVxuICAgICAgICAgIDwvUGlja2VyPlxuICAgICAgICAgIHtkZWZhdWx0UGFnZVNpemUgIT09IHVuZGVmaW5lZCAmJiBwYWdlU2l6ZSAhPT0gZGVmYXVsdFBhZ2VTaXplID8gKFxuICAgICAgICAgICAgPFRvb2x0aXBUcmlnZ2VyPlxuICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cInJlc2V0XCJcbiAgICAgICAgICAgICAgICBvblByZXNzPXsoKSA9PiBwcm9wcy5vbkNoYW5nZVBhZ2VTaXplKGRlZmF1bHRQYWdlU2l6ZSl9XG4gICAgICAgICAgICAgICAgcHJvbWluZW5jZT1cImxvd1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8SWNvbiBzcmM9e3VuZG8ySWNvbn0gLz5cbiAgICAgICAgICAgICAgPC9BY3Rpb25CdXR0b24+XG4gICAgICAgICAgICAgIDxUb29sdGlwPlJlc2V0IHRvIGRlZmF1bHRzPC9Ub29sdGlwPlxuICAgICAgICAgICAgPC9Ub29sdGlwVHJpZ2dlcj5cbiAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgPC9IU3RhY2s+XG4gICAgICAgIDxUZXh0IGNvbG9yPVwibmV1dHJhbFNlY29uZGFyeVwiPntzdGF0c308L1RleHQ+XG4gICAgICA8L0hTdGFjaz5cblxuICAgICAgey8qXG4gICAgICAgIHJpZ2h0LXNpZGVcbiAgICAgICAgbW9iaWxlOiBuZXh0L3ByZXZcbiAgICAgICAgZGVza3RvcF46IGN1cnJlbnQgcGFnZSAocGlja2VyKSwgbmV4dC9wcmV2XG4gICAgICAqL31cbiAgICAgIDxIU3RhY2sgZ2FwPVwibGFyZ2VcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XG4gICAgICAgIDxIU3RhY2sgaXNIaWRkZW49e3sgYmVsb3c6ICdkZXNrdG9wJyB9fSBnYXA9XCJyZWd1bGFyXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgIDxQaWNrZXJcbiAgICAgICAgICAgIC8vIHByb21pbmVuY2U9XCJsb3dcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD17YFBhZ2UgbnVtYmVyLCBvZiAke2xhc3RQYWdlfSBwYWdlc2B9XG4gICAgICAgICAgICBpdGVtcz17cGFnZUl0ZW1zfVxuICAgICAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U9e3BhZ2UgPT4ge1xuICAgICAgICAgICAgICBwcm9wcy5vbkNoYW5nZVBhZ2UoTnVtYmVyKHBhZ2UpKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHNlbGVjdGVkS2V5PXtjdXJyZW50UGFnZX1cbiAgICAgICAgICAgIHdpZHRoPVwic2NhbGUuMTAwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2l0ZW0gPT4gPEl0ZW0+e2l0ZW0ubGFiZWx9PC9JdGVtPn1cbiAgICAgICAgICA8L1BpY2tlcj5cbiAgICAgICAgICA8VGV4dD5vZiB7bGFzdFBhZ2V9IHBhZ2VzPC9UZXh0PlxuICAgICAgICA8L0hTdGFjaz5cbiAgICAgICAgPEhTdGFjayBnYXA9XCJyZWd1bGFyXCI+XG4gICAgICAgICAgPEFjdGlvbkJ1dHRvblxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlByZXZpb3VzIHBhZ2VcIlxuICAgICAgICAgICAgaXNEaXNhYmxlZD17cHJldlBhZ2UgPCAxfVxuICAgICAgICAgICAgb25QcmVzcz17KCkgPT4gcHJvcHMub25DaGFuZ2VQYWdlKHByZXZQYWdlKX1cbiAgICAgICAgICAgIC8vIHByb21pbmVuY2U9XCJsb3dcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxJY29uIHNyYz17Y2hldnJvbkxlZnRJY29ufSAvPlxuICAgICAgICAgIDwvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgIDxBY3Rpb25CdXR0b25cbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJOZXh0IHBhZ2VcIlxuICAgICAgICAgICAgaXNEaXNhYmxlZD17bmV4dFBhZ2UgPiBsYXN0UGFnZX1cbiAgICAgICAgICAgIG9uUHJlc3M9eygpID0+IHByb3BzLm9uQ2hhbmdlUGFnZShuZXh0UGFnZSl9XG4gICAgICAgICAgICAvLyBwcm9taW5lbmNlPVwibG93XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8SWNvbiBzcmM9e2NoZXZyb25SaWdodEljb259IC8+XG4gICAgICAgICAgPC9BY3Rpb25CdXR0b24+XG4gICAgICAgICAge3Byb3BzLmV4dHJhQWN0aW9uc31cbiAgICAgICAgPC9IU3RhY2s+XG4gICAgICA8L0hTdGFjaz5cbiAgICA8L0hTdGFjaz5cbiAgKVxufVxuXG5mdW5jdGlvbiBnZXRQYWdpbmF0aW9uU3RhdHMoe1xuICBzaW5ndWxhcixcbiAgcGx1cmFsLFxuICBwYWdlU2l6ZSxcbiAgY3VycmVudFBhZ2UsXG4gIHRvdGFsLFxufToge1xuICBzaW5ndWxhcjogc3RyaW5nXG4gIHBsdXJhbDogc3RyaW5nXG4gIHBhZ2VTaXplOiBudW1iZXJcbiAgY3VycmVudFBhZ2U6IG51bWJlclxuICB0b3RhbDogbnVtYmVyXG59KSB7XG4gIGxldCBzdGF0cyA9ICcnXG4gIGlmICh0b3RhbCA+IHBhZ2VTaXplKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBwYWdlU2l6ZSAqIChjdXJyZW50UGFnZSAtIDEpICsgMVxuICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKHN0YXJ0ICsgcGFnZVNpemUgLSAxLCB0b3RhbClcbiAgICBzdGF0cyA9IGAke3N0YXJ0fSAtICR7ZW5kfSBvZiAke3RvdGFsfSAke3BsdXJhbH1gXG4gIH0gZWxzZSB7XG4gICAgaWYgKHRvdGFsID4gMSAmJiBwbHVyYWwpIHtcbiAgICAgIHN0YXRzID0gYCR7dG90YWx9ICR7cGx1cmFsfWBcbiAgICB9IGVsc2UgaWYgKHRvdGFsID09PSAxICYmIHNpbmd1bGFyKSB7XG4gICAgICBzdGF0cyA9IGAke3RvdGFsfSAke3Npbmd1bGFyfWBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHsgc3RhdHMgfVxufVxuXG5jb25zdCBQQUdFX1NJWkVTID0gWzEwLCAyNSwgNTAsIDEwMF1cblxuZXhwb3J0IGZ1bmN0aW9uIHNuYXBWYWx1ZVRvQ2xvc2VzdChpbnB1dDogbnVtYmVyLCByYW5nZSA9IFBBR0VfU0laRVMpIHtcbiAgcmV0dXJuIHJhbmdlLnJlZHVjZSgocHJldiwgY3VycikgPT5cbiAgICBNYXRoLmFicyhjdXJyIC0gaW5wdXQpIDwgTWF0aC5hYnMocHJldiAtIGlucHV0KSA/IGN1cnIgOiBwcmV2XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJBY3Rpb25CdXR0b24iLCJJY29uIiwiY2hldnJvbkxlZnRJY29uIiwiY2hldnJvblJpZ2h0SWNvbiIsInVuZG8ySWNvbiIsIkhTdGFjayIsIlBpY2tlciIsIkl0ZW0iLCJUb29sdGlwIiwiVG9vbHRpcFRyaWdnZXIiLCJUZXh0IiwidXNlTWVtbyIsIlBhZ2luYXRpb25Db250cm9scyIsInByb3BzIiwiY3VycmVudFBhZ2UiLCJ0b3RhbCIsInBhZ2VTaXplIiwiZGVmYXVsdFBhZ2VTaXplIiwic3RhdHMiLCJnZXRQYWdpbmF0aW9uU3RhdHMiLCJuZXh0UGFnZSIsInByZXZQYWdlIiwibGFzdFBhZ2UiLCJNYXRoIiwibWF4IiwiY2VpbCIsInBhZ2VJdGVtcyIsInJlc3VsdCIsInBhZ2UiLCJwdXNoIiwiaWQiLCJsYWJlbCIsIlN0cmluZyIsImFzIiwicm9sZSIsImFyaWEtbGFiZWwiLCJqdXN0aWZ5Q29udGVudCIsImdhcCIsImFsaWduSXRlbXMiLCJpc0hpZGRlbiIsImJlbG93IiwicGx1cmFsIiwiYXJpYS1sYWJlbGxlZGJ5IiwiaXRlbXMiLCJQQUdFX1NJWkVTIiwibWFwIiwibiIsIm9uU2VsZWN0aW9uQ2hhbmdlIiwia2V5Iiwib25DaGFuZ2VQYWdlU2l6ZSIsIk51bWJlciIsInNlbGVjdGVkS2V5Iiwid2lkdGgiLCJpdGVtIiwidW5kZWZpbmVkIiwib25QcmVzcyIsInByb21pbmVuY2UiLCJzcmMiLCJjb2xvciIsIm9uQ2hhbmdlUGFnZSIsImlzRGlzYWJsZWQiLCJleHRyYUFjdGlvbnMiLCJzaW5ndWxhciIsInN0YXJ0IiwiZW5kIiwibWluIiwic25hcFZhbHVlVG9DbG9zZXN0IiwiaW5wdXQiLCJyYW5nZSIsInJlZHVjZSIsInByZXYiLCJjdXJyIiwiYWJzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/admin-meta-graphql.ts":
/*!********************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/admin-meta-graphql.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminMetaQuery: () => (/* binding */ adminMetaQuery)\n/* harmony export */ });\n/* harmony import */ var _apollo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./apollo */ \"../../../../packages/core/src/admin-ui/apollo.tsx\");\n\nconst adminMetaQuery = (0,_apollo__WEBPACK_IMPORTED_MODULE_0__.gql)`\n  query KsFetchAdminMeta {\n    keystone {\n      adminMeta {\n        lists {\n          key\n\n          label\n          singular\n          plural\n          path\n\n          labelField\n          fields {\n            key\n\n            label\n            description\n\n            fieldMeta\n            isOrderable\n            isFilterable\n            viewsIndex\n            customViewsIndex\n\n            search\n            isNonNull\n            createView {\n              fieldMode\n              isRequired\n            }\n            itemView {\n              fieldMode\n              fieldPosition\n              isRequired\n            }\n            listView {\n              fieldMode\n            }\n          }\n\n          groups {\n            label\n            description\n            fields {\n              key\n            }\n          }\n          graphql {\n            names {\n              outputTypeName\n              whereInputName\n              whereUniqueInputName\n\n              createInputName\n              createMutationName\n              createManyMutationName\n              relateToOneForCreateInputName\n              relateToManyForCreateInputName\n\n              itemQueryName\n              listQueryName\n              listQueryCountName\n              listOrderName\n\n              updateInputName\n              updateMutationName\n              updateManyInputName\n              updateManyMutationName\n              relateToOneForUpdateInputName\n              relateToManyForUpdateInputName\n\n              deleteMutationName\n              deleteManyMutationName\n            }\n          }\n\n          pageSize\n          initialColumns\n          initialSearchFields\n          initialSort {\n            field\n            direction\n          }\n          initialFilter\n          isSingleton\n\n          hideNavigation\n          hideCreate\n          hideDelete\n        }\n      }\n    }\n  }\n`;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvYWRtaW4tbWV0YS1ncmFwaHFsLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRThCO0FBRXZCLE1BQU1DLGlCQUFpQkQsNENBQUcsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQThGbEMsQ0FBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9hZG1pbi11aS9hZG1pbi1tZXRhLWdyYXBocWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBHcmFwaFFMTmFtZXMsIEpTT05WYWx1ZSB9IGZyb20gJy4uL3R5cGVzL3V0aWxzJ1xuaW1wb3J0IHR5cGUgeyBMaXN0TWV0YSwgRmllbGRNZXRhLCBGaWVsZEdyb3VwTWV0YSB9IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IHsgZ3FsIH0gZnJvbSAnLi9hcG9sbG8nXG5cbmV4cG9ydCBjb25zdCBhZG1pbk1ldGFRdWVyeSA9IGdxbGBcbiAgcXVlcnkgS3NGZXRjaEFkbWluTWV0YSB7XG4gICAga2V5c3RvbmUge1xuICAgICAgYWRtaW5NZXRhIHtcbiAgICAgICAgbGlzdHMge1xuICAgICAgICAgIGtleVxuXG4gICAgICAgICAgbGFiZWxcbiAgICAgICAgICBzaW5ndWxhclxuICAgICAgICAgIHBsdXJhbFxuICAgICAgICAgIHBhdGhcblxuICAgICAgICAgIGxhYmVsRmllbGRcbiAgICAgICAgICBmaWVsZHMge1xuICAgICAgICAgICAga2V5XG5cbiAgICAgICAgICAgIGxhYmVsXG4gICAgICAgICAgICBkZXNjcmlwdGlvblxuXG4gICAgICAgICAgICBmaWVsZE1ldGFcbiAgICAgICAgICAgIGlzT3JkZXJhYmxlXG4gICAgICAgICAgICBpc0ZpbHRlcmFibGVcbiAgICAgICAgICAgIHZpZXdzSW5kZXhcbiAgICAgICAgICAgIGN1c3RvbVZpZXdzSW5kZXhcblxuICAgICAgICAgICAgc2VhcmNoXG4gICAgICAgICAgICBpc05vbk51bGxcbiAgICAgICAgICAgIGNyZWF0ZVZpZXcge1xuICAgICAgICAgICAgICBmaWVsZE1vZGVcbiAgICAgICAgICAgICAgaXNSZXF1aXJlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbVZpZXcge1xuICAgICAgICAgICAgICBmaWVsZE1vZGVcbiAgICAgICAgICAgICAgZmllbGRQb3NpdGlvblxuICAgICAgICAgICAgICBpc1JlcXVpcmVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0VmlldyB7XG4gICAgICAgICAgICAgIGZpZWxkTW9kZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGdyb3VwcyB7XG4gICAgICAgICAgICBsYWJlbFxuICAgICAgICAgICAgZGVzY3JpcHRpb25cbiAgICAgICAgICAgIGZpZWxkcyB7XG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBncmFwaHFsIHtcbiAgICAgICAgICAgIG5hbWVzIHtcbiAgICAgICAgICAgICAgb3V0cHV0VHlwZU5hbWVcbiAgICAgICAgICAgICAgd2hlcmVJbnB1dE5hbWVcbiAgICAgICAgICAgICAgd2hlcmVVbmlxdWVJbnB1dE5hbWVcblxuICAgICAgICAgICAgICBjcmVhdGVJbnB1dE5hbWVcbiAgICAgICAgICAgICAgY3JlYXRlTXV0YXRpb25OYW1lXG4gICAgICAgICAgICAgIGNyZWF0ZU1hbnlNdXRhdGlvbk5hbWVcbiAgICAgICAgICAgICAgcmVsYXRlVG9PbmVGb3JDcmVhdGVJbnB1dE5hbWVcbiAgICAgICAgICAgICAgcmVsYXRlVG9NYW55Rm9yQ3JlYXRlSW5wdXROYW1lXG5cbiAgICAgICAgICAgICAgaXRlbVF1ZXJ5TmFtZVxuICAgICAgICAgICAgICBsaXN0UXVlcnlOYW1lXG4gICAgICAgICAgICAgIGxpc3RRdWVyeUNvdW50TmFtZVxuICAgICAgICAgICAgICBsaXN0T3JkZXJOYW1lXG5cbiAgICAgICAgICAgICAgdXBkYXRlSW5wdXROYW1lXG4gICAgICAgICAgICAgIHVwZGF0ZU11dGF0aW9uTmFtZVxuICAgICAgICAgICAgICB1cGRhdGVNYW55SW5wdXROYW1lXG4gICAgICAgICAgICAgIHVwZGF0ZU1hbnlNdXRhdGlvbk5hbWVcbiAgICAgICAgICAgICAgcmVsYXRlVG9PbmVGb3JVcGRhdGVJbnB1dE5hbWVcbiAgICAgICAgICAgICAgcmVsYXRlVG9NYW55Rm9yVXBkYXRlSW5wdXROYW1lXG5cbiAgICAgICAgICAgICAgZGVsZXRlTXV0YXRpb25OYW1lXG4gICAgICAgICAgICAgIGRlbGV0ZU1hbnlNdXRhdGlvbk5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYWdlU2l6ZVxuICAgICAgICAgIGluaXRpYWxDb2x1bW5zXG4gICAgICAgICAgaW5pdGlhbFNlYXJjaEZpZWxkc1xuICAgICAgICAgIGluaXRpYWxTb3J0IHtcbiAgICAgICAgICAgIGZpZWxkXG4gICAgICAgICAgICBkaXJlY3Rpb25cbiAgICAgICAgICB9XG4gICAgICAgICAgaW5pdGlhbEZpbHRlclxuICAgICAgICAgIGlzU2luZ2xldG9uXG5cbiAgICAgICAgICBoaWRlTmF2aWdhdGlvblxuICAgICAgICAgIGhpZGVDcmVhdGVcbiAgICAgICAgICBoaWRlRGVsZXRlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbmBcblxuLy8gVE9ETzogRklYTUU6IHNob3VsZCB1c2UgRGVlcE51bGxhYmxlXG4vLyBUT0RPOiBkdXBsaWNhdGUsIHJlZmVyZW5jZSBjb3JlL3NyYy9saWIvY3JlYXRlLWFkbWluLW1ldGEudHNcbmV4cG9ydCB0eXBlIEFkbWluTWV0YVF1ZXJ5ID0ge1xuICBrZXlzdG9uZToge1xuICAgIGFkbWluTWV0YToge1xuICAgICAgbGlzdHM6IChMaXN0TWV0YSAmIHtcbiAgICAgICAgZmllbGRzOiAoT21pdDxGaWVsZE1ldGEsICdncmFwaHFsJz4gJiB7XG4gICAgICAgICAgaXNOb25OdWxsOiBGaWVsZE1ldGFbJ2dyYXBocWwnXVsnaXNOb25OdWxsJ10gLy8gVE9ETzogRklYTUU6IGZsYXR0ZW5lZD9cbiAgICAgICAgfSlbXVxuICAgICAgICBncm91cHM6IChGaWVsZEdyb3VwTWV0YSAmIHtcbiAgICAgICAgICBmaWVsZHM6IEZpZWxkTWV0YVtdXG4gICAgICAgIH0pW11cbiAgICAgICAgZ3JhcGhxbDoge1xuICAgICAgICAgIG5hbWVzOiBHcmFwaFFMTmFtZXNcbiAgICAgICAgfVxuXG4gICAgICAgIHBhZ2VTaXplOiBudW1iZXJcbiAgICAgICAgaW5pdGlhbENvbHVtbnM6IHN0cmluZ1tdXG4gICAgICAgIGluaXRpYWxTZWFyY2hGaWVsZHM6IHN0cmluZ1tdXG4gICAgICAgIGluaXRpYWxTb3J0OiBMaXN0TWV0YVsnaW5pdGlhbFNvcnQnXSB8IG51bGxcbiAgICAgICAgaW5pdGlhbEZpbHRlcjogSlNPTlZhbHVlXG4gICAgICAgIGlzU2luZ2xldG9uOiBib29sZWFuXG5cbiAgICAgICAgaGlkZU5hdmlnYXRpb246IGJvb2xlYW5cbiAgICAgICAgaGlkZUNyZWF0ZTogYm9vbGVhblxuICAgICAgICBoaWRlRGVsZXRlOiBib29sZWFuXG4gICAgICB9KVtdXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiZ3FsIiwiYWRtaW5NZXRhUXVlcnkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/admin-meta-graphql.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/apollo.tsx":
/*!*********************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/apollo.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @apollo/client */ \"../../../../node_modules/.pnpm/@apollo+client@3.13.5_@types+react@19.0.12_graphql-ws@6.0.4_graphql@16.10.0_ws@8.18.1__graphq_a5nrwwybcfcdgosvwz34lgqrpq/node_modules/@apollo/client/main.cjs\");\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_apollo_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _apollo_client__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _apollo_client__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/**\n * This file is exposed by the /apollo entrypoint, and helps ensure that other\n * packages import the same instance of apollo.\n */ \n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvYXBvbGxvLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7O0NBR0MsR0FFNkIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvYXBvbGxvLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgZmlsZSBpcyBleHBvc2VkIGJ5IHRoZSAvYXBvbGxvIGVudHJ5cG9pbnQsIGFuZCBoZWxwcyBlbnN1cmUgdGhhdCBvdGhlclxuICogcGFja2FnZXMgaW1wb3J0IHRoZSBzYW1lIGluc3RhbmNlIG9mIGFwb2xsby5cbiAqL1xuXG5leHBvcnQgKiBmcm9tICdAYXBvbGxvL2NsaWVudCdcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/apollo.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/components/CellContainer.tsx":
/*!***************************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/components/CellContainer.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CellContainer: () => (/* binding */ CellContainer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_table__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/table */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-table.js\");\n\n\nfunction CellContainer({ children, ...props }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_table__WEBPACK_IMPORTED_MODULE_1__.Cell, {\n        ...props,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/CellContainer.tsx\",\n        lineNumber: 5,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9DZWxsQ29udGFpbmVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUN3QztBQUVqQyxTQUFTQyxjQUFjLEVBQUVDLFFBQVEsRUFBRSxHQUFHQyxPQUFnQztJQUMzRSxxQkFBTyw4REFBQ0gsbURBQUlBO1FBQUUsR0FBR0csS0FBSztrQkFBR0Q7Ozs7OztBQUMzQiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9hZG1pbi11aS9jb21wb25lbnRzL0NlbGxDb250YWluZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBDZWxsIH0gZnJvbSAnQGtleXN0YXIvdWkvdGFibGUnXG5cbmV4cG9ydCBmdW5jdGlvbiBDZWxsQ29udGFpbmVyKHsgY2hpbGRyZW4sIC4uLnByb3BzIH06IHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9KSB7XG4gIHJldHVybiA8Q2VsbCB7Li4ucHJvcHN9PntjaGlsZHJlbn08L0NlbGw+XG59XG4iXSwibmFtZXMiOlsiQ2VsbCIsIkNlbGxDb250YWluZXIiLCJjaGlsZHJlbiIsInByb3BzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/components/CellContainer.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/components/CreateItemDialog.tsx":
/*!******************************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/components/CreateItemDialog.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BuildItemDialog: () => (/* binding */ BuildItemDialog)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/dialog */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-dialog.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_slots__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/slots */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-slots.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../context */ \"../../../../packages/core/src/admin-ui/context.tsx\");\n/* harmony import */ var _utils_Fields__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/Fields */ \"../../../../packages/core/src/admin-ui/utils/Fields.tsx\");\n/* harmony import */ var _utils_useCreateItem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/useCreateItem */ \"../../../../packages/core/src/admin-ui/utils/useCreateItem.ts\");\n\n\n\n\n\n\n\n\n\n\nfunction BuildItemDialog({ listKey, onChange }) {\n    const list = (0,_context__WEBPACK_IMPORTED_MODULE_7__.useList)(listKey);\n    const builder = (0,_utils_useCreateItem__WEBPACK_IMPORTED_MODULE_9__.useBuildItem)(list);\n    const dialogState = (0,_keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_3__.useDialogContainer)();\n    const formId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_3__.Dialog, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_6__.Heading, {\n                children: [\n                    \"Add \",\n                    list.singular\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/CreateItemDialog.tsx\",\n                lineNumber: 27,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_slots__WEBPACK_IMPORTED_MODULE_5__.Content, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                    id: formId,\n                    onSubmit: async (e)=>{\n                        if (e.target !== e.currentTarget) return;\n                        e.preventDefault();\n                        const subItem = await builder.build();\n                        if (!subItem) return;\n                        onChange(subItem);\n                        dialogState.dismiss();\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_4__.Box, {\n                        paddingY: \"xlarge\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_utils_Fields__WEBPACK_IMPORTED_MODULE_8__.Fields, {\n                            ...builder.props\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/CreateItemDialog.tsx\",\n                            lineNumber: 43,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/CreateItemDialog.tsx\",\n                        lineNumber: 42,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/CreateItemDialog.tsx\",\n                    lineNumber: 30,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/CreateItemDialog.tsx\",\n                lineNumber: 29,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.ButtonGroup, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        onPress: dialogState.dismiss,\n                        children: \"Cancel\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/CreateItemDialog.tsx\",\n                        lineNumber: 49,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        form: formId,\n                        prominence: \"high\",\n                        type: \"submit\",\n                        children: \"Add\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/CreateItemDialog.tsx\",\n                        lineNumber: 50,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/CreateItemDialog.tsx\",\n                lineNumber: 48,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/CreateItemDialog.tsx\",\n        lineNumber: 26,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9DcmVhdGVJdGVtRGlhbG9nLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUE2QjtBQUMyQjtBQUNPO0FBQ3ZCO0FBQ0c7QUFDSztBQUVaO0FBRUk7QUFDYTtBQUU5QyxTQUFTVyxnQkFBZ0IsRUFDOUJDLE9BQU8sRUFDUEMsUUFBUSxFQUlUO0lBQ0MsTUFBTUMsT0FBT04saURBQU9BLENBQUNJO0lBQ3JCLE1BQU1HLFVBQVVMLGtFQUFZQSxDQUFDSTtJQUM3QixNQUFNRSxjQUFjWixzRUFBa0JBO0lBQ3RDLE1BQU1hLFNBQVNqQiw0Q0FBS0E7SUFFcEIscUJBQ0UsOERBQUNHLHNEQUFNQTs7MEJBQ0wsOERBQUNJLDJEQUFPQTs7b0JBQUM7b0JBQUtPLEtBQUtJLFFBQVE7Ozs7Ozs7MEJBRTNCLDhEQUFDWixzREFBT0E7MEJBQ04sNEVBQUNhO29CQUNDQyxJQUFJSDtvQkFDSkksVUFBVSxPQUFNQzt3QkFDZCxJQUFJQSxFQUFFQyxNQUFNLEtBQUtELEVBQUVFLGFBQWEsRUFBRTt3QkFDbENGLEVBQUVHLGNBQWM7d0JBQ2hCLE1BQU1DLFVBQVUsTUFBTVgsUUFBUVksS0FBSzt3QkFDbkMsSUFBSSxDQUFDRCxTQUFTO3dCQUVkYixTQUFTYTt3QkFDVFYsWUFBWVksT0FBTztvQkFDckI7OEJBRUEsNEVBQUN2QixtREFBR0E7d0JBQUN3QixVQUFTO2tDQUNaLDRFQUFDcEIsaURBQU1BOzRCQUFFLEdBQUdNLFFBQVFlLEtBQUs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFLL0IsOERBQUM3QiwyREFBV0E7O2tDQUNWLDhEQUFDQyxzREFBTUE7d0JBQUM2QixTQUFTZixZQUFZWSxPQUFPO2tDQUFFOzs7Ozs7a0NBQ3RDLDhEQUFDMUIsc0RBQU1BO3dCQUFDaUIsTUFBTUY7d0JBQVFlLFlBQVc7d0JBQU9DLE1BQUs7a0NBQVM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU05RCIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9hZG1pbi11aS9jb21wb25lbnRzL0NyZWF0ZUl0ZW1EaWFsb2cudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUlkIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBCdXR0b25Hcm91cCwgQnV0dG9uIH0gZnJvbSAnQGtleXN0YXIvdWkvYnV0dG9uJ1xuaW1wb3J0IHsgRGlhbG9nLCB1c2VEaWFsb2dDb250YWluZXIgfSBmcm9tICdAa2V5c3Rhci91aS9kaWFsb2cnXG5pbXBvcnQgeyBCb3ggfSBmcm9tICdAa2V5c3Rhci91aS9sYXlvdXQnXG5pbXBvcnQgeyBDb250ZW50IH0gZnJvbSAnQGtleXN0YXIvdWkvc2xvdHMnXG5pbXBvcnQgeyBIZWFkaW5nIH0gZnJvbSAnQGtleXN0YXIvdWkvdHlwb2dyYXBoeSdcblxuaW1wb3J0IHsgdXNlTGlzdCB9IGZyb20gJy4uL2NvbnRleHQnXG5cbmltcG9ydCB7IEZpZWxkcyB9IGZyb20gJy4uL3V0aWxzL0ZpZWxkcydcbmltcG9ydCB7IHVzZUJ1aWxkSXRlbSB9IGZyb20gJy4uL3V0aWxzL3VzZUNyZWF0ZUl0ZW0nXG5cbmV4cG9ydCBmdW5jdGlvbiBCdWlsZEl0ZW1EaWFsb2coe1xuICBsaXN0S2V5LFxuICBvbkNoYW5nZSxcbn06IHtcbiAgbGlzdEtleTogc3RyaW5nXG4gIG9uQ2hhbmdlOiAoc3ViSXRlbTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHZvaWRcbn0pIHtcbiAgY29uc3QgbGlzdCA9IHVzZUxpc3QobGlzdEtleSlcbiAgY29uc3QgYnVpbGRlciA9IHVzZUJ1aWxkSXRlbShsaXN0KVxuICBjb25zdCBkaWFsb2dTdGF0ZSA9IHVzZURpYWxvZ0NvbnRhaW5lcigpXG4gIGNvbnN0IGZvcm1JZCA9IHVzZUlkKClcblxuICByZXR1cm4gKFxuICAgIDxEaWFsb2c+XG4gICAgICA8SGVhZGluZz5BZGQge2xpc3Quc2luZ3VsYXJ9PC9IZWFkaW5nPlxuXG4gICAgICA8Q29udGVudD5cbiAgICAgICAgPGZvcm1cbiAgICAgICAgICBpZD17Zm9ybUlkfVxuICAgICAgICAgIG9uU3VibWl0PXthc3luYyBlID0+IHtcbiAgICAgICAgICAgIGlmIChlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0KSByZXR1cm5cbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgY29uc3Qgc3ViSXRlbSA9IGF3YWl0IGJ1aWxkZXIuYnVpbGQoKVxuICAgICAgICAgICAgaWYgKCFzdWJJdGVtKSByZXR1cm5cblxuICAgICAgICAgICAgb25DaGFuZ2Uoc3ViSXRlbSlcbiAgICAgICAgICAgIGRpYWxvZ1N0YXRlLmRpc21pc3MoKVxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8Qm94IHBhZGRpbmdZPVwieGxhcmdlXCI+XG4gICAgICAgICAgICA8RmllbGRzIHsuLi5idWlsZGVyLnByb3BzfSAvPlxuICAgICAgICAgIDwvQm94PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L0NvbnRlbnQ+XG5cbiAgICAgIDxCdXR0b25Hcm91cD5cbiAgICAgICAgPEJ1dHRvbiBvblByZXNzPXtkaWFsb2dTdGF0ZS5kaXNtaXNzfT5DYW5jZWw8L0J1dHRvbj5cbiAgICAgICAgPEJ1dHRvbiBmb3JtPXtmb3JtSWR9IHByb21pbmVuY2U9XCJoaWdoXCIgdHlwZT1cInN1Ym1pdFwiPlxuICAgICAgICAgIEFkZFxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvQnV0dG9uR3JvdXA+XG4gICAgPC9EaWFsb2c+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VJZCIsIkJ1dHRvbkdyb3VwIiwiQnV0dG9uIiwiRGlhbG9nIiwidXNlRGlhbG9nQ29udGFpbmVyIiwiQm94IiwiQ29udGVudCIsIkhlYWRpbmciLCJ1c2VMaXN0IiwiRmllbGRzIiwidXNlQnVpbGRJdGVtIiwiQnVpbGRJdGVtRGlhbG9nIiwibGlzdEtleSIsIm9uQ2hhbmdlIiwibGlzdCIsImJ1aWxkZXIiLCJkaWFsb2dTdGF0ZSIsImZvcm1JZCIsInNpbmd1bGFyIiwiZm9ybSIsImlkIiwib25TdWJtaXQiLCJlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInByZXZlbnREZWZhdWx0Iiwic3ViSXRlbSIsImJ1aWxkIiwiZGlzbWlzcyIsInBhZGRpbmdZIiwicHJvcHMiLCJvblByZXNzIiwicHJvbWluZW5jZSIsInR5cGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/components/CreateItemDialog.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/components/EmptyState.tsx":
/*!************************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/components/EmptyState.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmptyState: () => (/* binding */ EmptyState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_slots__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/slots */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-slots.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _keystar_ui_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/utils */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-utils.js\");\n\n\n\n\n\n\nconst emptyStateSlots = {\n    heading: {\n        align: 'center',\n        margin: 0\n    },\n    text: {\n        align: 'center'\n    }\n};\nfunction EmptyState(props) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_2__.Flex, {\n        alignItems: \"center\",\n        direction: \"column\",\n        gap: \"large\",\n        justifyContent: \"center\",\n        minHeight: \"scale.3000\",\n        paddingX: {\n            mobile: 'medium',\n            tablet: 'xlarge',\n            desktop: 'xxlarge'\n        },\n        paddingY: \"xlarge\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_slots__WEBPACK_IMPORTED_MODULE_3__.SlotProvider, {\n            slots: emptyStateSlots,\n            children: 'children' in props ? props.children : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    props.icon && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n                        src: props.icon,\n                        size: \"large\",\n                        color: \"neutral\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/EmptyState.tsx\",\n                        lineNumber: 38,\n                        columnNumber: 28\n                    }, this),\n                    props.title && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_4__.Heading, {\n                        size: \"medium\",\n                        children: props.title\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/EmptyState.tsx\",\n                        lineNumber: 39,\n                        columnNumber: 29\n                    }, this),\n                    props.message && (0,_keystar_ui_utils__WEBPACK_IMPORTED_MODULE_5__.isReactText)(props.message) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_4__.Text, {\n                        children: props.message\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/EmptyState.tsx\",\n                        lineNumber: 41,\n                        columnNumber: 15\n                    }, this) : props.message,\n                    props.actions\n                ]\n            }, void 0, true)\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/EmptyState.tsx\",\n            lineNumber: 33,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/EmptyState.tsx\",\n        lineNumber: 24,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9FbXB0eVN0YXRlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFdUM7QUFDRTtBQUNPO0FBQ007QUFDUDtBQVcvQyxNQUFNTSxrQkFBa0I7SUFDdEJDLFNBQVM7UUFBRUMsT0FBTztRQUFVQyxRQUFRO0lBQUU7SUFDdENDLE1BQU07UUFBRUYsT0FBTztJQUFTO0FBQzFCO0FBQ08sU0FBU0csV0FBV0MsS0FBc0I7SUFDL0MscUJBQ0UsOERBQUNYLG9EQUFJQTtRQUNIWSxZQUFXO1FBQ1hDLFdBQVU7UUFDVkMsS0FBSTtRQUNKQyxnQkFBZTtRQUNmQyxXQUFVO1FBQ1ZDLFVBQVU7WUFBRUMsUUFBUTtZQUFVQyxRQUFRO1lBQVVDLFNBQVM7UUFBVTtRQUNuRUMsVUFBUztrQkFFVCw0RUFBQ3BCLDJEQUFZQTtZQUFDcUIsT0FBT2pCO3NCQUNsQixjQUFjTSxRQUNiQSxNQUFNWSxRQUFRLGlCQUVkOztvQkFDR1osTUFBTWEsSUFBSSxrQkFBSSw4REFBQ3pCLGtEQUFJQTt3QkFBQzBCLEtBQUtkLE1BQU1hLElBQUk7d0JBQUVFLE1BQUs7d0JBQVFDLE9BQU07Ozs7OztvQkFDeERoQixNQUFNaUIsS0FBSyxrQkFBSSw4REFBQzFCLDJEQUFPQTt3QkFBQ3dCLE1BQUs7a0NBQVVmLE1BQU1pQixLQUFLOzs7Ozs7b0JBQ2xEakIsTUFBTWtCLE9BQU8sSUFBSXpCLDhEQUFXQSxDQUFDTyxNQUFNa0IsT0FBTyxrQkFDekMsOERBQUMxQix3REFBSUE7a0NBQUVRLE1BQU1rQixPQUFPOzs7OzsrQkFFcEJsQixNQUFNa0IsT0FBTztvQkFHZGxCLE1BQU1tQixPQUFPOzs7Ozs7Ozs7Ozs7O0FBTTFCIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2NvcmUvc3JjL2FkbWluLXVpL2NvbXBvbmVudHMvRW1wdHlTdGF0ZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBSZWFjdEVsZW1lbnQsIHR5cGUgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uJ1xuaW1wb3J0IHsgRmxleCB9IGZyb20gJ0BrZXlzdGFyL3VpL2xheW91dCdcbmltcG9ydCB7IFNsb3RQcm92aWRlciB9IGZyb20gJ0BrZXlzdGFyL3VpL3Nsb3RzJ1xuaW1wb3J0IHsgSGVhZGluZywgVGV4dCB9IGZyb20gJ0BrZXlzdGFyL3VpL3R5cG9ncmFwaHknXG5pbXBvcnQgeyBpc1JlYWN0VGV4dCB9IGZyb20gJ0BrZXlzdGFyL3VpL3V0aWxzJ1xuXG50eXBlIEVtcHR5U3RhdGVQcm9wcyA9XG4gIHwgeyBjaGlsZHJlbjogUmVhY3ROb2RlIH1cbiAgfCB7XG4gICAgICB0aXRsZT86IFJlYWN0Tm9kZVxuICAgICAgaWNvbj86IFJlYWN0RWxlbWVudFxuICAgICAgbWVzc2FnZT86IFJlYWN0Tm9kZVxuICAgICAgYWN0aW9ucz86IFJlYWN0Tm9kZVxuICAgIH1cblxuY29uc3QgZW1wdHlTdGF0ZVNsb3RzID0ge1xuICBoZWFkaW5nOiB7IGFsaWduOiAnY2VudGVyJywgbWFyZ2luOiAwIH0sXG4gIHRleHQ6IHsgYWxpZ246ICdjZW50ZXInIH0sXG59IGFzIGNvbnN0XG5leHBvcnQgZnVuY3Rpb24gRW1wdHlTdGF0ZShwcm9wczogRW1wdHlTdGF0ZVByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEZsZXhcbiAgICAgIGFsaWduSXRlbXM9XCJjZW50ZXJcIlxuICAgICAgZGlyZWN0aW9uPVwiY29sdW1uXCJcbiAgICAgIGdhcD1cImxhcmdlXCJcbiAgICAgIGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCJcbiAgICAgIG1pbkhlaWdodD1cInNjYWxlLjMwMDBcIlxuICAgICAgcGFkZGluZ1g9e3sgbW9iaWxlOiAnbWVkaXVtJywgdGFibGV0OiAneGxhcmdlJywgZGVza3RvcDogJ3h4bGFyZ2UnIH19XG4gICAgICBwYWRkaW5nWT1cInhsYXJnZVwiXG4gICAgPlxuICAgICAgPFNsb3RQcm92aWRlciBzbG90cz17ZW1wdHlTdGF0ZVNsb3RzfT5cbiAgICAgICAgeydjaGlsZHJlbicgaW4gcHJvcHMgPyAoXG4gICAgICAgICAgcHJvcHMuY2hpbGRyZW5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAge3Byb3BzLmljb24gJiYgPEljb24gc3JjPXtwcm9wcy5pY29ufSBzaXplPVwibGFyZ2VcIiBjb2xvcj1cIm5ldXRyYWxcIiAvPn1cbiAgICAgICAgICAgIHtwcm9wcy50aXRsZSAmJiA8SGVhZGluZyBzaXplPVwibWVkaXVtXCI+e3Byb3BzLnRpdGxlfTwvSGVhZGluZz59XG4gICAgICAgICAgICB7cHJvcHMubWVzc2FnZSAmJiBpc1JlYWN0VGV4dChwcm9wcy5tZXNzYWdlKSA/IChcbiAgICAgICAgICAgICAgPFRleHQ+e3Byb3BzLm1lc3NhZ2V9PC9UZXh0PlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgcHJvcHMubWVzc2FnZVxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAge3Byb3BzLmFjdGlvbnN9XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICA8L1Nsb3RQcm92aWRlcj5cbiAgICA8L0ZsZXg+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJJY29uIiwiRmxleCIsIlNsb3RQcm92aWRlciIsIkhlYWRpbmciLCJUZXh0IiwiaXNSZWFjdFRleHQiLCJlbXB0eVN0YXRlU2xvdHMiLCJoZWFkaW5nIiwiYWxpZ24iLCJtYXJnaW4iLCJ0ZXh0IiwiRW1wdHlTdGF0ZSIsInByb3BzIiwiYWxpZ25JdGVtcyIsImRpcmVjdGlvbiIsImdhcCIsImp1c3RpZnlDb250ZW50IiwibWluSGVpZ2h0IiwicGFkZGluZ1giLCJtb2JpbGUiLCJ0YWJsZXQiLCJkZXNrdG9wIiwicGFkZGluZ1kiLCJzbG90cyIsImNoaWxkcmVuIiwiaWNvbiIsInNyYyIsInNpemUiLCJjb2xvciIsInRpdGxlIiwibWVzc2FnZSIsImFjdGlvbnMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/components/EmptyState.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/components/Errors.tsx":
/*!********************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/components/Errors.tsx ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorBoundary: () => (/* binding */ ErrorBoundary),\n/* harmony export */   ErrorContainer: () => (/* binding */ ErrorContainer),\n/* harmony export */   ErrorDetailsDialog: () => (/* binding */ ErrorDetailsDialog)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/dialog */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-dialog.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_alertTriangleIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/icon/icons/alertTriangleIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-alertTriangleIcon.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_slots__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/slots */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-slots.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n\n\n\n\n\n\n\n\n\n\nclass ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_1__.Component {\n    static getDerivedStateFromError(error) {\n        return {\n            error,\n            hasError: true\n        };\n    }\n    render() {\n        if (this.state.hasError) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ErrorContainer, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                        color: \"neutral\",\n                        src: _keystar_ui_icon_icons_alertTriangleIcon__WEBPACK_IMPORTED_MODULE_5__.alertTriangleIcon,\n                        size: \"large\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n                        lineNumber: 34,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_9__.Heading, {\n                        elementType: \"h1\",\n                        margin: 0,\n                        children: \"Unknown error\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n                        lineNumber: 35,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_9__.Text, {\n                        children: \"Something went wrong, please try reloading the page. If the problem persists contact your system administrator.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n                        lineNumber: 38,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        // isPending={this.state.isReloading}\n                        prominence: \"high\",\n                        onPress: this.reloadPage,\n                        children: \"Reload page\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n                        lineNumber: 42,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n                lineNumber: 33,\n                columnNumber: 9\n            }, this);\n        }\n        return this.props.children;\n    }\n    constructor(...args){\n        super(...args), this.state = {\n            hasError: false,\n            isReloading: false\n        }, this.reloadPage = ()=>{\n            this.setState({\n                isReloading: true\n            });\n            window.location.reload();\n        };\n    }\n}\nconst errorContainerSlots = {\n    heading: {\n        align: 'center',\n        margin: 0\n    },\n    text: {\n        align: 'center'\n    }\n};\nfunction ErrorContainer({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__.Grid, {\n        minHeight: \"100vh\",\n        minWidth: \"100vw\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__.VStack, {\n            alignItems: \"center\",\n            backgroundColor: \"canvas\",\n            border: \"neutral\",\n            borderRadius: \"large\",\n            gap: \"xlarge\",\n            margin: \"xlarge\",\n            minWidth: \"container.xsmall\",\n            maxWidth: \"container.small\",\n            padding: \"xxlarge\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_slots__WEBPACK_IMPORTED_MODULE_7__.SlotProvider, {\n                slots: errorContainerSlots,\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n                lineNumber: 80,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n            lineNumber: 69,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n        lineNumber: 68,\n        columnNumber: 5\n    }, this);\n}\nfunction ErrorDetailsDialog({ error }) {\n    const { message, stack } = error;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_3__.Dialog, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_9__.Heading, {\n                children: \"Error details\"\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n                lineNumber: 90,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_slots__WEBPACK_IMPORTED_MODULE_7__.Content, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__.VStack, {\n                    gap: \"large\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_9__.Text, {\n                            weight: \"medium\",\n                            children: message\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n                            lineNumber: 93,\n                            columnNumber: 11\n                        }, this),\n                        stack && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__.Box, {\n                            elementType: \"pre\",\n                            backgroundColor: \"critical\",\n                            borderRadius: \"regular\",\n                            maxHeight: \"100%\",\n                            padding: \"medium\",\n                            overflow: \"auto\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_9__.Text, {\n                                color: \"critical\",\n                                trim: false,\n                                UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_8__.css)({\n                                    fontFamily: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_8__.tokenSchema.typography.fontFamily.code\n                                }),\n                                children: stack\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n                                lineNumber: 103,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n                            lineNumber: 95,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n                    lineNumber: 92,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n                lineNumber: 91,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Errors.tsx\",\n        lineNumber: 89,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9FcnJvcnMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUQ7QUFFTjtBQUNBO0FBQ0o7QUFDcUM7QUFDdEI7QUFDRztBQUNMO0FBQ0U7QUFXL0MsTUFBTWMsc0JBQXNCZCw0Q0FBU0E7SUFFMUMsT0FBT2UseUJBQXlCQyxLQUFVLEVBQUU7UUFDMUMsT0FBTztZQUFFQTtZQUFPQyxVQUFVO1FBQUs7SUFDakM7SUFLQUMsU0FBUztRQUNQLElBQUksSUFBSSxDQUFDQyxLQUFLLENBQUNGLFFBQVEsRUFBRTtZQUN2QixxQkFDRSw4REFBQ0c7O2tDQUNDLDhEQUFDakIsa0RBQUlBO3dCQUFDa0IsT0FBTTt3QkFBVUMsS0FBS2xCLHVGQUFpQkE7d0JBQUVtQixNQUFLOzs7Ozs7a0NBQ25ELDhEQUFDWCwyREFBT0E7d0JBQUNZLGFBQVk7d0JBQUtDLFFBQVE7a0NBQUc7Ozs7OztrQ0FHckMsOERBQUNaLHdEQUFJQTtrQ0FBQzs7Ozs7O2tDQUlOLDhEQUFDWixzREFBTUE7d0JBQ0wscUNBQXFDO3dCQUNyQ3lCLFlBQVc7d0JBQ1hDLFNBQVMsSUFBSSxDQUFDQyxVQUFVO2tDQUN6Qjs7Ozs7Ozs7Ozs7O1FBS1A7UUFFQSxPQUFPLElBQUksQ0FBQ0MsS0FBSyxDQUFDQyxRQUFRO0lBQzVCOztRQWpDSyxxQkFDTFgsUUFBNEI7WUFBRUYsVUFBVTtZQUFPYyxhQUFhO1FBQU0sUUFJbEVILGFBQWE7WUFDWCxJQUFJLENBQUNJLFFBQVEsQ0FBQztnQkFBRUQsYUFBYTtZQUFLO1lBQ2xDRSxPQUFPQyxRQUFRLENBQUNDLE1BQU07UUFDeEI7O0FBMEJGO0FBTUEsTUFBTUMsc0JBQXNCO0lBQzFCQyxTQUFTO1FBQUVDLE9BQU87UUFBVWIsUUFBUTtJQUFFO0lBQ3RDYyxNQUFNO1FBQUVELE9BQU87SUFBUztBQUMxQjtBQUVPLFNBQVNsQixlQUFlLEVBQUVVLFFBQVEsRUFBdUI7SUFDOUQscUJBQ0UsOERBQUN4QixvREFBSUE7UUFBQ2tDLFdBQVU7UUFBUUMsVUFBUztRQUFRQyxZQUFXO1FBQVNDLGdCQUFlO2tCQUMxRSw0RUFBQ3BDLHNEQUFNQTtZQUNMbUMsWUFBVztZQUNYRSxpQkFBZ0I7WUFDaEJDLFFBQU87WUFDUEMsY0FBYTtZQUNiQyxLQUFJO1lBQ0p0QixRQUFPO1lBQ1BnQixVQUFTO1lBQ1RPLFVBQVM7WUFDVEMsU0FBUTtzQkFFUiw0RUFBQ3hDLDJEQUFZQTtnQkFBQ3lDLE9BQU9kOzBCQUFzQk47Ozs7Ozs7Ozs7Ozs7Ozs7QUFJbkQ7QUFFTyxTQUFTcUIsbUJBQW1CLEVBQUVuQyxLQUFLLEVBQW9CO0lBQzVELE1BQU0sRUFBRW9DLE9BQU8sRUFBRUMsS0FBSyxFQUFFLEdBQUdyQztJQUMzQixxQkFDRSw4REFBQ2Qsc0RBQU1BOzswQkFDTCw4REFBQ1UsMkRBQU9BOzBCQUFDOzs7Ozs7MEJBQ1QsOERBQUNKLHNEQUFPQTswQkFDTiw0RUFBQ0Qsc0RBQU1BO29CQUFDd0MsS0FBSTs7c0NBQ1YsOERBQUNsQyx3REFBSUE7NEJBQUN5QyxRQUFPO3NDQUFVRjs7Ozs7O3dCQUN0QkMsdUJBQ0MsOERBQUNoRCxtREFBR0E7NEJBQ0ZtQixhQUFZOzRCQUNab0IsaUJBQWdCOzRCQUNoQkUsY0FBYTs0QkFDYlMsV0FBVTs0QkFDVk4sU0FBUTs0QkFDUk8sVUFBUztzQ0FFVCw0RUFBQzNDLHdEQUFJQTtnQ0FDSFEsT0FBTTtnQ0FDTm9DLE1BQU07Z0NBQ05DLGtCQUFrQmhELHNEQUFHQSxDQUFDO29DQUNwQmlELFlBQVloRCwwREFBV0EsQ0FBQ2lELFVBQVUsQ0FBQ0QsVUFBVSxDQUFDRSxJQUFJO2dDQUNwRDswQ0FFQ1I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRakIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9FcnJvcnMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgdHlwZSBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQGtleXN0YXIvdWkvYnV0dG9uJ1xuaW1wb3J0IHsgRGlhbG9nIH0gZnJvbSAnQGtleXN0YXIvdWkvZGlhbG9nJ1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24nXG5pbXBvcnQgeyBhbGVydFRyaWFuZ2xlSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvYWxlcnRUcmlhbmdsZUljb24nXG5pbXBvcnQgeyBCb3gsIEdyaWQsIFZTdGFjayB9IGZyb20gJ0BrZXlzdGFyL3VpL2xheW91dCdcbmltcG9ydCB7IENvbnRlbnQsIFNsb3RQcm92aWRlciB9IGZyb20gJ0BrZXlzdGFyL3VpL3Nsb3RzJ1xuaW1wb3J0IHsgY3NzLCB0b2tlblNjaGVtYSB9IGZyb20gJ0BrZXlzdGFyL3VpL3N0eWxlJ1xuaW1wb3J0IHsgSGVhZGluZywgVGV4dCB9IGZyb20gJ0BrZXlzdGFyL3VpL3R5cG9ncmFwaHknXG5cbnR5cGUgRXJyb3JCb3VuZGFyeVByb3BzID0ge1xuICBjaGlsZHJlbjogUmVhY3ROb2RlXG59XG50eXBlIEVycm9yQm91bmRhcnlTdGF0ZSA9IHtcbiAgZXJyb3I/OiBhbnlcbiAgaGFzRXJyb3I6IGJvb2xlYW5cbiAgaXNSZWxvYWRpbmc6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGNsYXNzIEVycm9yQm91bmRhcnkgZXh0ZW5kcyBDb21wb25lbnQ8RXJyb3JCb3VuZGFyeVByb3BzLCBFcnJvckJvdW5kYXJ5U3RhdGU+IHtcbiAgc3RhdGU6IEVycm9yQm91bmRhcnlTdGF0ZSA9IHsgaGFzRXJyb3I6IGZhbHNlLCBpc1JlbG9hZGluZzogZmFsc2UgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yOiBhbnkpIHtcbiAgICByZXR1cm4geyBlcnJvciwgaGFzRXJyb3I6IHRydWUgfVxuICB9XG4gIHJlbG9hZFBhZ2UgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzUmVsb2FkaW5nOiB0cnVlIH0pXG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmhhc0Vycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8RXJyb3JDb250YWluZXI+XG4gICAgICAgICAgPEljb24gY29sb3I9XCJuZXV0cmFsXCIgc3JjPXthbGVydFRyaWFuZ2xlSWNvbn0gc2l6ZT1cImxhcmdlXCIgLz5cbiAgICAgICAgICA8SGVhZGluZyBlbGVtZW50VHlwZT1cImgxXCIgbWFyZ2luPXswfT5cbiAgICAgICAgICAgIFVua25vd24gZXJyb3JcbiAgICAgICAgICA8L0hlYWRpbmc+XG4gICAgICAgICAgPFRleHQ+XG4gICAgICAgICAgICBTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHRyeSByZWxvYWRpbmcgdGhlIHBhZ2UuIElmIHRoZSBwcm9ibGVtIHBlcnNpc3RzIGNvbnRhY3RcbiAgICAgICAgICAgIHlvdXIgc3lzdGVtIGFkbWluaXN0cmF0b3IuXG4gICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIC8vIGlzUGVuZGluZz17dGhpcy5zdGF0ZS5pc1JlbG9hZGluZ31cbiAgICAgICAgICAgIHByb21pbmVuY2U9XCJoaWdoXCJcbiAgICAgICAgICAgIG9uUHJlc3M9e3RoaXMucmVsb2FkUGFnZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBSZWxvYWQgcGFnZVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L0Vycm9yQ29udGFpbmVyPlxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuXG4gIH1cbn1cblxudHlwZSBFcnJvckNvbnRhaW5lclByb3BzID0ge1xuICBjaGlsZHJlbjogUmVhY3ROb2RlXG59XG5cbmNvbnN0IGVycm9yQ29udGFpbmVyU2xvdHMgPSB7XG4gIGhlYWRpbmc6IHsgYWxpZ246ICdjZW50ZXInLCBtYXJnaW46IDAgfSxcbiAgdGV4dDogeyBhbGlnbjogJ2NlbnRlcicgfSxcbn0gYXMgY29uc3RcblxuZXhwb3J0IGZ1bmN0aW9uIEVycm9yQ29udGFpbmVyKHsgY2hpbGRyZW4gfTogRXJyb3JDb250YWluZXJQcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxHcmlkIG1pbkhlaWdodD1cIjEwMHZoXCIgbWluV2lkdGg9XCIxMDB2d1wiIGFsaWduSXRlbXM9XCJjZW50ZXJcIiBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiPlxuICAgICAgPFZTdGFja1xuICAgICAgICBhbGlnbkl0ZW1zPVwiY2VudGVyXCJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yPVwiY2FudmFzXCJcbiAgICAgICAgYm9yZGVyPVwibmV1dHJhbFwiXG4gICAgICAgIGJvcmRlclJhZGl1cz1cImxhcmdlXCJcbiAgICAgICAgZ2FwPVwieGxhcmdlXCJcbiAgICAgICAgbWFyZ2luPVwieGxhcmdlXCJcbiAgICAgICAgbWluV2lkdGg9XCJjb250YWluZXIueHNtYWxsXCJcbiAgICAgICAgbWF4V2lkdGg9XCJjb250YWluZXIuc21hbGxcIlxuICAgICAgICBwYWRkaW5nPVwieHhsYXJnZVwiXG4gICAgICA+XG4gICAgICAgIDxTbG90UHJvdmlkZXIgc2xvdHM9e2Vycm9yQ29udGFpbmVyU2xvdHN9PntjaGlsZHJlbn08L1Nsb3RQcm92aWRlcj5cbiAgICAgIDwvVlN0YWNrPlxuICAgIDwvR3JpZD5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRXJyb3JEZXRhaWxzRGlhbG9nKHsgZXJyb3IgfTogeyBlcnJvcjogRXJyb3IgfSkge1xuICBjb25zdCB7IG1lc3NhZ2UsIHN0YWNrIH0gPSBlcnJvclxuICByZXR1cm4gKFxuICAgIDxEaWFsb2c+XG4gICAgICA8SGVhZGluZz5FcnJvciBkZXRhaWxzPC9IZWFkaW5nPlxuICAgICAgPENvbnRlbnQ+XG4gICAgICAgIDxWU3RhY2sgZ2FwPVwibGFyZ2VcIj5cbiAgICAgICAgICA8VGV4dCB3ZWlnaHQ9XCJtZWRpdW1cIj57bWVzc2FnZX08L1RleHQ+XG4gICAgICAgICAge3N0YWNrICYmIChcbiAgICAgICAgICAgIDxCb3hcbiAgICAgICAgICAgICAgZWxlbWVudFR5cGU9XCJwcmVcIlxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJjcml0aWNhbFwiXG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1cz1cInJlZ3VsYXJcIlxuICAgICAgICAgICAgICBtYXhIZWlnaHQ9XCIxMDAlXCJcbiAgICAgICAgICAgICAgcGFkZGluZz1cIm1lZGl1bVwiXG4gICAgICAgICAgICAgIG92ZXJmbG93PVwiYXV0b1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxUZXh0XG4gICAgICAgICAgICAgICAgY29sb3I9XCJjcml0aWNhbFwiXG4gICAgICAgICAgICAgICAgdHJpbT17ZmFsc2V9XG4gICAgICAgICAgICAgICAgVU5TQUZFX2NsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IHRva2VuU2NoZW1hLnR5cG9ncmFwaHkuZm9udEZhbWlseS5jb2RlLFxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3N0YWNrfVxuICAgICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICApfVxuICAgICAgICA8L1ZTdGFjaz5cbiAgICAgIDwvQ29udGVudD5cbiAgICA8L0RpYWxvZz5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIkNvbXBvbmVudCIsIkJ1dHRvbiIsIkRpYWxvZyIsIkljb24iLCJhbGVydFRyaWFuZ2xlSWNvbiIsIkJveCIsIkdyaWQiLCJWU3RhY2siLCJDb250ZW50IiwiU2xvdFByb3ZpZGVyIiwiY3NzIiwidG9rZW5TY2hlbWEiLCJIZWFkaW5nIiwiVGV4dCIsIkVycm9yQm91bmRhcnkiLCJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCJlcnJvciIsImhhc0Vycm9yIiwicmVuZGVyIiwic3RhdGUiLCJFcnJvckNvbnRhaW5lciIsImNvbG9yIiwic3JjIiwic2l6ZSIsImVsZW1lbnRUeXBlIiwibWFyZ2luIiwicHJvbWluZW5jZSIsIm9uUHJlc3MiLCJyZWxvYWRQYWdlIiwicHJvcHMiLCJjaGlsZHJlbiIsImlzUmVsb2FkaW5nIiwic2V0U3RhdGUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImVycm9yQ29udGFpbmVyU2xvdHMiLCJoZWFkaW5nIiwiYWxpZ24iLCJ0ZXh0IiwibWluSGVpZ2h0IiwibWluV2lkdGgiLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJnYXAiLCJtYXhXaWR0aCIsInBhZGRpbmciLCJzbG90cyIsIkVycm9yRGV0YWlsc0RpYWxvZyIsIm1lc3NhZ2UiLCJzdGFjayIsIndlaWdodCIsIm1heEhlaWdodCIsIm92ZXJmbG93IiwidHJpbSIsIlVOU0FGRV9jbGFzc05hbWUiLCJmb250RmFtaWx5IiwidHlwb2dyYXBoeSIsImNvZGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/components/Errors.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/components/GraphQLErrorNotice.tsx":
/*!********************************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/components/GraphQLErrorNotice.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GraphQLErrorNotice: () => (/* binding */ GraphQLErrorNotice)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_notice__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/notice */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-notice.js\");\n/* harmony import */ var _keystar_ui_slots__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/slots */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-slots.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n\n\n\n\n\nfunction GraphQLErrorNotice({ errors: errors_ = [] }) {\n    const errors = errors_.filter((x)=>!!x);\n    if (!errors.length) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_notice__WEBPACK_IMPORTED_MODULE_2__.Notice, {\n        tone: \"critical\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_4__.Heading, {\n                children: \"Errors\"\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/GraphQLErrorNotice.tsx\",\n                lineNumber: 18,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_slots__WEBPACK_IMPORTED_MODULE_3__.Content, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_1__.VStack, {\n                    elementType: \"ul\",\n                    gap: \"large\",\n                    children: [\n                        ...function*() {\n                            let i = 0;\n                            for (const error of errors){\n                                const lines = error.message.split('\\n');\n                                for (const line of lines){\n                                    yield /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_4__.Text, {\n                                        elementType: \"li\",\n                                        children: line\n                                    }, i++, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/GraphQLErrorNotice.tsx\",\n                                        lineNumber: 28,\n                                        columnNumber: 21\n                                    }, this);\n                                }\n                            }\n                        }()\n                    ]\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/GraphQLErrorNotice.tsx\",\n                    lineNumber: 20,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/GraphQLErrorNotice.tsx\",\n                lineNumber: 19,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/GraphQLErrorNotice.tsx\",\n        lineNumber: 17,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9HcmFwaFFMRXJyb3JOb3RpY2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ0E7QUFDQTtBQUNXO0FBSS9DLFNBQVNLLG1CQUFtQixFQUNqQ0MsUUFBUUMsVUFBVSxFQUFFLEVBR3JCO0lBQ0MsTUFBTUQsU0FBU0MsUUFBUUMsTUFBTSxDQUFDLENBQUNDLElBQWtDLENBQUMsQ0FBQ0E7SUFDbkUsSUFBSSxDQUFDSCxPQUFPSSxNQUFNLEVBQUUsT0FBTztJQUUzQixxQkFDRSw4REFBQ1Qsc0RBQU1BO1FBQUNVLE1BQUs7OzBCQUNYLDhEQUFDUiwyREFBT0E7MEJBQUM7Ozs7OzswQkFDVCw4REFBQ0Qsc0RBQU9BOzBCQUNOLDRFQUFDRixzREFBTUE7b0JBQUNZLGFBQVk7b0JBQUtDLEtBQUk7OEJBQzFCOzJCQUNJOzRCQUNELElBQUlDLElBQUk7NEJBQ1IsS0FBSyxNQUFNQyxTQUFTVCxPQUFRO2dDQUMxQixNQUFNVSxRQUFRRCxNQUFNRSxPQUFPLENBQUNDLEtBQUssQ0FBQztnQ0FDbEMsS0FBSyxNQUFNQyxRQUFRSCxNQUFPO29DQUN4QixvQkFDRSw4REFBQ1osd0RBQUlBO3dDQUFXUSxhQUFZO2tEQUN6Qk87dUNBRFFMOzs7OztnQ0FJZjs0QkFDRjt3QkFDRjtxQkFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLWCIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9hZG1pbi11aS9jb21wb25lbnRzL0dyYXBoUUxFcnJvck5vdGljZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVlN0YWNrIH0gZnJvbSAnQGtleXN0YXIvdWkvbGF5b3V0J1xuaW1wb3J0IHsgTm90aWNlIH0gZnJvbSAnQGtleXN0YXIvdWkvbm90aWNlJ1xuaW1wb3J0IHsgQ29udGVudCB9IGZyb20gJ0BrZXlzdGFyL3VpL3Nsb3RzJ1xuaW1wb3J0IHsgSGVhZGluZywgVGV4dCB9IGZyb20gJ0BrZXlzdGFyL3VpL3R5cG9ncmFwaHknXG5cbmltcG9ydCB0eXBlIHsgR3JhcGhRTEVycm9yLCBHcmFwaFFMRm9ybWF0dGVkRXJyb3IgfSBmcm9tICdncmFwaHFsJ1xuXG5leHBvcnQgZnVuY3Rpb24gR3JhcGhRTEVycm9yTm90aWNlKHtcbiAgZXJyb3JzOiBlcnJvcnNfID0gW10sXG59OiB7XG4gIGVycm9ycz86IChudWxsIHwgdW5kZWZpbmVkIHwgR3JhcGhRTEVycm9yIHwgR3JhcGhRTEZvcm1hdHRlZEVycm9yIHwgRXJyb3IpW11cbn0pIHtcbiAgY29uc3QgZXJyb3JzID0gZXJyb3JzXy5maWx0ZXIoKHgpOiB4IGlzIE5vbk51bGxhYmxlPHR5cGVvZiB4PiA9PiAhIXgpXG4gIGlmICghZXJyb3JzLmxlbmd0aCkgcmV0dXJuIG51bGxcblxuICByZXR1cm4gKFxuICAgIDxOb3RpY2UgdG9uZT1cImNyaXRpY2FsXCI+XG4gICAgICA8SGVhZGluZz5FcnJvcnM8L0hlYWRpbmc+XG4gICAgICA8Q29udGVudD5cbiAgICAgICAgPFZTdGFjayBlbGVtZW50VHlwZT1cInVsXCIgZ2FwPVwibGFyZ2VcIj5cbiAgICAgICAgICB7W1xuICAgICAgICAgICAgLi4uKGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgIGxldCBpID0gMFxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVycm9yIG9mIGVycm9ycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gZXJyb3IubWVzc2FnZS5zcGxpdCgnXFxuJylcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICAgICAgICAgIHlpZWxkIChcbiAgICAgICAgICAgICAgICAgICAgPFRleHQga2V5PXtpKyt9IGVsZW1lbnRUeXBlPVwibGlcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7bGluZX1cbiAgICAgICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoKSxcbiAgICAgICAgICBdfVxuICAgICAgICA8L1ZTdGFjaz5cbiAgICAgIDwvQ29udGVudD5cbiAgICA8L05vdGljZT5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIlZTdGFjayIsIk5vdGljZSIsIkNvbnRlbnQiLCJIZWFkaW5nIiwiVGV4dCIsIkdyYXBoUUxFcnJvck5vdGljZSIsImVycm9ycyIsImVycm9yc18iLCJmaWx0ZXIiLCJ4IiwibGVuZ3RoIiwidG9uZSIsImVsZW1lbnRUeXBlIiwiZ2FwIiwiaSIsImVycm9yIiwibGluZXMiLCJtZXNzYWdlIiwic3BsaXQiLCJsaW5lIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/components/GraphQLErrorNotice.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/components/InlineCode.tsx":
/*!************************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/components/InlineCode.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InlineCode: () => (/* binding */ InlineCode)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n\n\nfunction InlineCode(props) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n        className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.css)({\n            backgroundColor: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.color.alias.backgroundHovered,\n            borderRadius: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.size.radius.xsmall,\n            color: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.color.foreground.neutralEmphasis,\n            fontFamily: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.typography.fontFamily.code,\n            paddingInline: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.size.space.xsmall\n        }),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/InlineCode.tsx\",\n        lineNumber: 6,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9JbmxpbmVDb2RlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNvRDtBQUU3QyxTQUFTRSxXQUFXQyxLQUF3QjtJQUNqRCxxQkFDRSw4REFBQ0M7UUFDQ0MsV0FBV0wsc0RBQUdBLENBQUM7WUFDYk0saUJBQWlCTCwwREFBV0EsQ0FBQ00sS0FBSyxDQUFDQyxLQUFLLENBQUNDLGlCQUFpQjtZQUMxREMsY0FBY1QsMERBQVdBLENBQUNVLElBQUksQ0FBQ0MsTUFBTSxDQUFDQyxNQUFNO1lBQzVDTixPQUFPTiwwREFBV0EsQ0FBQ00sS0FBSyxDQUFDTyxVQUFVLENBQUNDLGVBQWU7WUFDbkRDLFlBQVlmLDBEQUFXQSxDQUFDZ0IsVUFBVSxDQUFDRCxVQUFVLENBQUNaLElBQUk7WUFDbERjLGVBQWVqQiwwREFBV0EsQ0FBQ1UsSUFBSSxDQUFDUSxLQUFLLENBQUNOLE1BQU07UUFDOUM7UUFDQyxHQUFHVixLQUFLOzs7Ozs7QUFHZiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9hZG1pbi11aS9jb21wb25lbnRzL0lubGluZUNvZGUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgUHJvcHNXaXRoQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNzcywgdG9rZW5TY2hlbWEgfSBmcm9tICdAa2V5c3Rhci91aS9zdHlsZSdcblxuZXhwb3J0IGZ1bmN0aW9uIElubGluZUNvZGUocHJvcHM6IFByb3BzV2l0aENoaWxkcmVuKSB7XG4gIHJldHVybiAoXG4gICAgPGNvZGVcbiAgICAgIGNsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0b2tlblNjaGVtYS5jb2xvci5hbGlhcy5iYWNrZ3JvdW5kSG92ZXJlZCxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiB0b2tlblNjaGVtYS5zaXplLnJhZGl1cy54c21hbGwsXG4gICAgICAgIGNvbG9yOiB0b2tlblNjaGVtYS5jb2xvci5mb3JlZ3JvdW5kLm5ldXRyYWxFbXBoYXNpcyxcbiAgICAgICAgZm9udEZhbWlseTogdG9rZW5TY2hlbWEudHlwb2dyYXBoeS5mb250RmFtaWx5LmNvZGUsXG4gICAgICAgIHBhZGRpbmdJbmxpbmU6IHRva2VuU2NoZW1hLnNpemUuc3BhY2UueHNtYWxsLFxuICAgICAgfSl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKVxufVxuIl0sIm5hbWVzIjpbImNzcyIsInRva2VuU2NoZW1hIiwiSW5saW5lQ29kZSIsInByb3BzIiwiY29kZSIsImNsYXNzTmFtZSIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiYWxpYXMiLCJiYWNrZ3JvdW5kSG92ZXJlZCIsImJvcmRlclJhZGl1cyIsInNpemUiLCJyYWRpdXMiLCJ4c21hbGwiLCJmb3JlZ3JvdW5kIiwibmV1dHJhbEVtcGhhc2lzIiwiZm9udEZhbWlseSIsInR5cG9ncmFwaHkiLCJwYWRkaW5nSW5saW5lIiwic3BhY2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/components/InlineCode.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/components/Logo.tsx":
/*!******************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/components/Logo.tsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Logo: () => (/* binding */ Logo)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../context */ \"../../../../packages/core/src/admin-ui/context.tsx\");\n\n\n\n\n\nfunction Logo() {\n    const { adminConfig } = (0,_context__WEBPACK_IMPORTED_MODULE_4__.useKeystone)();\n    if (adminConfig?.components?.Logo) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(adminConfig.components.Logo, {}, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Logo.tsx\",\n        lineNumber: 10,\n        columnNumber: 45\n    }, this);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DefaultLogo, {}, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Logo.tsx\",\n        lineNumber: 11,\n        columnNumber: 10\n    }, this);\n}\nfunction DefaultLogo() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_3__.Heading, {\n        elementType: \"div\",\n        size: \"small\",\n        UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.css)({\n            lineHeight: 1\n        }),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_1___default()), {\n            href: \"/\",\n            className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.css)({\n                alignItems: 'center',\n                color: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.tokenSchema.color.alias.foregroundIdle,\n                display: 'flex',\n                gap: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.tokenSchema.size.space.regular,\n                outline: 0,\n                textDecoration: 'underline',\n                textDecorationColor: 'transparent',\n                textDecorationThickness: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.tokenSchema.size.border.regular,\n                textUnderlineOffset: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.tokenSchema.size.border.medium,\n                '&:hover, &:focus-visible': {\n                    color: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.tokenSchema.color.alias.foregroundHovered,\n                    textDecorationColor: 'currentColor'\n                },\n                '&:focus-visible': {\n                    textDecorationStyle: 'double'\n                }\n            }),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LogoMark, {\n                    className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.css)({\n                        width: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.tokenSchema.size.element.small\n                    })\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Logo.tsx\",\n                    lineNumber: 39,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    children: \"Keystone\"\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Logo.tsx\",\n                    lineNumber: 40,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Logo.tsx\",\n            lineNumber: 17,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Logo.tsx\",\n        lineNumber: 16,\n        columnNumber: 5\n    }, this);\n}\nconst LogoMark = (props)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n        viewBox: \"0 0 118 76\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        ...props,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M118.184 38.184 87 0H70l31.367 38.367-31.184 38.184L87 76.368l31.184-38.184Z\",\n                fill: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.tokenSchema.color.background.accentEmphasis\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Logo.tsx\",\n                lineNumber: 48,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M8 38.184 39.184 0h17L24.816 38.367 56 76.552l-16.816-.183L8 38.184Z\",\n                fill: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.tokenSchema.color.foreground.neutral\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Logo.tsx\",\n                lineNumber: 52,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                d: \"M0 0h13v76H0V0Z\",\n                fill: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.tokenSchema.color.foreground.neutral\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Logo.tsx\",\n                lineNumber: 56,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Logo.tsx\",\n        lineNumber: 47,\n        columnNumber: 3\n    }, undefined) // slash variant\n // const LogoMark = (props: SVGAttributes<SVGElement>) => (\n //   <svg viewBox=\"0 0 151 88\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n //     <path d=\"M151.184 44.184 120 6h-17l31.368 38.367-31.184 38.184L120 82.368l31.184-38.184ZM8 44.184 39.184 6h17L24.816 44.367 56 82.552l-16.816-.183L8 44.184Z\" fill={tokenSchema.color.foreground.neutral}/>\n //     <path d=\"M0 6h13v76H0V6Z\" fill={tokenSchema.color.foreground.neutral}/>\n //     <path d=\"M86 0h13L73 88H60L86 0Z\" fill={tokenSchema.color.background.accentEmphasis}/>\n //   </svg>\n // )\n;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9Mb2dvLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFDNEI7QUFDd0I7QUFDSjtBQUVSO0FBRWpDLFNBQVNLO0lBQ2QsTUFBTSxFQUFFQyxXQUFXLEVBQUUsR0FBR0YscURBQVdBO0lBQ25DLElBQUlFLGFBQWFDLFlBQVlGLE1BQU0scUJBQU8sOERBQUNDLFlBQVlDLFVBQVUsQ0FBQ0YsSUFBSTs7Ozs7SUFDdEUscUJBQU8sOERBQUNHOzs7OztBQUNWO0FBRUEsU0FBU0E7SUFDUCxxQkFDRSw4REFBQ0wsMkRBQU9BO1FBQUNNLGFBQVk7UUFBTUMsTUFBSztRQUFRQyxrQkFBa0JWLHNEQUFHQSxDQUFDO1lBQUVXLFlBQVk7UUFBRTtrQkFDNUUsNEVBQUNaLGtEQUFJQTtZQUNIYSxNQUFLO1lBQ0xDLFdBQVdiLHNEQUFHQSxDQUFDO2dCQUNiYyxZQUFZO2dCQUNaQyxPQUFPZCwwREFBV0EsQ0FBQ2MsS0FBSyxDQUFDQyxLQUFLLENBQUNDLGNBQWM7Z0JBQzdDQyxTQUFTO2dCQUNUQyxLQUFLbEIsMERBQVdBLENBQUNRLElBQUksQ0FBQ1csS0FBSyxDQUFDQyxPQUFPO2dCQUNuQ0MsU0FBUztnQkFDVEMsZ0JBQWdCO2dCQUNoQkMscUJBQXFCO2dCQUNyQkMseUJBQXlCeEIsMERBQVdBLENBQUNRLElBQUksQ0FBQ2lCLE1BQU0sQ0FBQ0wsT0FBTztnQkFDeERNLHFCQUFxQjFCLDBEQUFXQSxDQUFDUSxJQUFJLENBQUNpQixNQUFNLENBQUNFLE1BQU07Z0JBRW5ELDRCQUE0QjtvQkFDMUJiLE9BQU9kLDBEQUFXQSxDQUFDYyxLQUFLLENBQUNDLEtBQUssQ0FBQ2EsaUJBQWlCO29CQUNoREwscUJBQXFCO2dCQUN2QjtnQkFDQSxtQkFBbUI7b0JBQ2pCTSxxQkFBcUI7Z0JBQ3ZCO1lBQ0Y7OzhCQUVBLDhEQUFDQztvQkFBU2xCLFdBQVdiLHNEQUFHQSxDQUFDO3dCQUFFZ0MsT0FBTy9CLDBEQUFXQSxDQUFDUSxJQUFJLENBQUN3QixPQUFPLENBQUNDLEtBQUs7b0JBQUM7Ozs7Ozs4QkFDakUsOERBQUNDOzhCQUFLOzs7Ozs7Ozs7Ozs7Ozs7OztBQUlkO0FBRUEsTUFBTUosV0FBVyxDQUFDSyxzQkFDaEIsOERBQUNDO1FBQUlDLFNBQVE7UUFBYUMsTUFBSztRQUFPQyxPQUFNO1FBQThCLEdBQUdKLEtBQUs7OzBCQUNoRiw4REFBQ0s7Z0JBQ0NDLEdBQUU7Z0JBQ0ZILE1BQU10QywwREFBV0EsQ0FBQ2MsS0FBSyxDQUFDNEIsVUFBVSxDQUFDQyxjQUFjOzs7Ozs7MEJBRW5ELDhEQUFDSDtnQkFDQ0MsR0FBRTtnQkFDRkgsTUFBTXRDLDBEQUFXQSxDQUFDYyxLQUFLLENBQUM4QixVQUFVLENBQUNDLE9BQU87Ozs7OzswQkFFNUMsOERBQUNMO2dCQUFLQyxHQUFFO2dCQUFrQkgsTUFBTXRDLDBEQUFXQSxDQUFDYyxLQUFLLENBQUM4QixVQUFVLENBQUNDLE9BQU87Ozs7Ozs7Ozs7O2tCQUl4RSxnQkFBZ0I7Q0FDaEIsMkRBQTJEO0NBQzNELHlGQUF5RjtDQUN6RixrTkFBa047Q0FDbE4sOEVBQThFO0NBQzlFLDZGQUE2RjtDQUM3RixXQUFXO0NBQ1gsSUFBSSIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9hZG1pbi11aS9jb21wb25lbnRzL0xvZ28udHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgU1ZHQXR0cmlidXRlcyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJ1xuaW1wb3J0IHsgY3NzLCB0b2tlblNjaGVtYSB9IGZyb20gJ0BrZXlzdGFyL3VpL3N0eWxlJ1xuaW1wb3J0IHsgSGVhZGluZyB9IGZyb20gJ0BrZXlzdGFyL3VpL3R5cG9ncmFwaHknXG5cbmltcG9ydCB7IHVzZUtleXN0b25lIH0gZnJvbSAnLi4vY29udGV4dCdcblxuZXhwb3J0IGZ1bmN0aW9uIExvZ28oKSB7XG4gIGNvbnN0IHsgYWRtaW5Db25maWcgfSA9IHVzZUtleXN0b25lKClcbiAgaWYgKGFkbWluQ29uZmlnPy5jb21wb25lbnRzPy5Mb2dvKSByZXR1cm4gPGFkbWluQ29uZmlnLmNvbXBvbmVudHMuTG9nbyAvPlxuICByZXR1cm4gPERlZmF1bHRMb2dvIC8+XG59XG5cbmZ1bmN0aW9uIERlZmF1bHRMb2dvKCkge1xuICByZXR1cm4gKFxuICAgIDxIZWFkaW5nIGVsZW1lbnRUeXBlPVwiZGl2XCIgc2l6ZT1cInNtYWxsXCIgVU5TQUZFX2NsYXNzTmFtZT17Y3NzKHsgbGluZUhlaWdodDogMSB9KX0+XG4gICAgICA8TGlua1xuICAgICAgICBocmVmPVwiL1wiXG4gICAgICAgIGNsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICBjb2xvcjogdG9rZW5TY2hlbWEuY29sb3IuYWxpYXMuZm9yZWdyb3VuZElkbGUsXG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgIGdhcDogdG9rZW5TY2hlbWEuc2l6ZS5zcGFjZS5yZWd1bGFyLFxuICAgICAgICAgIG91dGxpbmU6IDAsXG4gICAgICAgICAgdGV4dERlY29yYXRpb246ICd1bmRlcmxpbmUnLFxuICAgICAgICAgIHRleHREZWNvcmF0aW9uQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgICAgdGV4dERlY29yYXRpb25UaGlja25lc3M6IHRva2VuU2NoZW1hLnNpemUuYm9yZGVyLnJlZ3VsYXIsXG4gICAgICAgICAgdGV4dFVuZGVybGluZU9mZnNldDogdG9rZW5TY2hlbWEuc2l6ZS5ib3JkZXIubWVkaXVtLFxuXG4gICAgICAgICAgJyY6aG92ZXIsICY6Zm9jdXMtdmlzaWJsZSc6IHtcbiAgICAgICAgICAgIGNvbG9yOiB0b2tlblNjaGVtYS5jb2xvci5hbGlhcy5mb3JlZ3JvdW5kSG92ZXJlZCxcbiAgICAgICAgICAgIHRleHREZWNvcmF0aW9uQ29sb3I6ICdjdXJyZW50Q29sb3InLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgJyY6Zm9jdXMtdmlzaWJsZSc6IHtcbiAgICAgICAgICAgIHRleHREZWNvcmF0aW9uU3R5bGU6ICdkb3VibGUnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pfVxuICAgICAgPlxuICAgICAgICA8TG9nb01hcmsgY2xhc3NOYW1lPXtjc3MoeyB3aWR0aDogdG9rZW5TY2hlbWEuc2l6ZS5lbGVtZW50LnNtYWxsIH0pfSAvPlxuICAgICAgICA8c3Bhbj5LZXlzdG9uZTwvc3Bhbj5cbiAgICAgIDwvTGluaz5cbiAgICA8L0hlYWRpbmc+XG4gIClcbn1cblxuY29uc3QgTG9nb01hcmsgPSAocHJvcHM6IFNWR0F0dHJpYnV0ZXM8U1ZHRWxlbWVudD4pID0+IChcbiAgPHN2ZyB2aWV3Qm94PVwiMCAwIDExOCA3NlwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHsuLi5wcm9wc30+XG4gICAgPHBhdGhcbiAgICAgIGQ9XCJNMTE4LjE4NCAzOC4xODQgODcgMEg3MGwzMS4zNjcgMzguMzY3LTMxLjE4NCAzOC4xODRMODcgNzYuMzY4bDMxLjE4NC0zOC4xODRaXCJcbiAgICAgIGZpbGw9e3Rva2VuU2NoZW1hLmNvbG9yLmJhY2tncm91bmQuYWNjZW50RW1waGFzaXN9XG4gICAgLz5cbiAgICA8cGF0aFxuICAgICAgZD1cIk04IDM4LjE4NCAzOS4xODQgMGgxN0wyNC44MTYgMzguMzY3IDU2IDc2LjU1MmwtMTYuODE2LS4xODNMOCAzOC4xODRaXCJcbiAgICAgIGZpbGw9e3Rva2VuU2NoZW1hLmNvbG9yLmZvcmVncm91bmQubmV1dHJhbH1cbiAgICAvPlxuICAgIDxwYXRoIGQ9XCJNMCAwaDEzdjc2SDBWMFpcIiBmaWxsPXt0b2tlblNjaGVtYS5jb2xvci5mb3JlZ3JvdW5kLm5ldXRyYWx9IC8+XG4gIDwvc3ZnPlxuKVxuXG4vLyBzbGFzaCB2YXJpYW50XG4vLyBjb25zdCBMb2dvTWFyayA9IChwcm9wczogU1ZHQXR0cmlidXRlczxTVkdFbGVtZW50PikgPT4gKFxuLy8gICA8c3ZnIHZpZXdCb3g9XCIwIDAgMTUxIDg4XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgey4uLnByb3BzfT5cbi8vICAgICA8cGF0aCBkPVwiTTE1MS4xODQgNDQuMTg0IDEyMCA2aC0xN2wzMS4zNjggMzguMzY3LTMxLjE4NCAzOC4xODRMMTIwIDgyLjM2OGwzMS4xODQtMzguMTg0Wk04IDQ0LjE4NCAzOS4xODQgNmgxN0wyNC44MTYgNDQuMzY3IDU2IDgyLjU1MmwtMTYuODE2LS4xODNMOCA0NC4xODRaXCIgZmlsbD17dG9rZW5TY2hlbWEuY29sb3IuZm9yZWdyb3VuZC5uZXV0cmFsfS8+XG4vLyAgICAgPHBhdGggZD1cIk0wIDZoMTN2NzZIMFY2WlwiIGZpbGw9e3Rva2VuU2NoZW1hLmNvbG9yLmZvcmVncm91bmQubmV1dHJhbH0vPlxuLy8gICAgIDxwYXRoIGQ9XCJNODYgMGgxM0w3MyA4OEg2MEw4NiAwWlwiIGZpbGw9e3Rva2VuU2NoZW1hLmNvbG9yLmJhY2tncm91bmQuYWNjZW50RW1waGFzaXN9Lz5cbi8vICAgPC9zdmc+XG4vLyApXG4iXSwibmFtZXMiOlsiTGluayIsImNzcyIsInRva2VuU2NoZW1hIiwiSGVhZGluZyIsInVzZUtleXN0b25lIiwiTG9nbyIsImFkbWluQ29uZmlnIiwiY29tcG9uZW50cyIsIkRlZmF1bHRMb2dvIiwiZWxlbWVudFR5cGUiLCJzaXplIiwiVU5TQUZFX2NsYXNzTmFtZSIsImxpbmVIZWlnaHQiLCJocmVmIiwiY2xhc3NOYW1lIiwiYWxpZ25JdGVtcyIsImNvbG9yIiwiYWxpYXMiLCJmb3JlZ3JvdW5kSWRsZSIsImRpc3BsYXkiLCJnYXAiLCJzcGFjZSIsInJlZ3VsYXIiLCJvdXRsaW5lIiwidGV4dERlY29yYXRpb24iLCJ0ZXh0RGVjb3JhdGlvbkNvbG9yIiwidGV4dERlY29yYXRpb25UaGlja25lc3MiLCJib3JkZXIiLCJ0ZXh0VW5kZXJsaW5lT2Zmc2V0IiwibWVkaXVtIiwiZm9yZWdyb3VuZEhvdmVyZWQiLCJ0ZXh0RGVjb3JhdGlvblN0eWxlIiwiTG9nb01hcmsiLCJ3aWR0aCIsImVsZW1lbnQiLCJzbWFsbCIsInNwYW4iLCJwcm9wcyIsInN2ZyIsInZpZXdCb3giLCJmaWxsIiwieG1sbnMiLCJwYXRoIiwiZCIsImJhY2tncm91bmQiLCJhY2NlbnRFbXBoYXNpcyIsImZvcmVncm91bmQiLCJuZXV0cmFsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/components/Logo.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/components/Navigation.tsx":
/*!************************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/components/Navigation.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeveloperResourcesMenu: () => (/* binding */ DeveloperResourcesMenu),\n/* harmony export */   NavContainer: () => (/* binding */ NavContainer),\n/* harmony export */   NavFooter: () => (/* binding */ NavFooter),\n/* harmony export */   NavItem: () => (/* binding */ NavItem),\n/* harmony export */   NavList: () => (/* binding */ NavList),\n/* harmony export */   Navigation: () => (/* binding */ Navigation),\n/* harmony export */   getHrefFromList: () => (/* binding */ getHrefFromList)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/dialog */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-dialog.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_bookTextIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/icon/icons/bookTextIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-bookTextIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_constructionIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/icon/icons/constructionIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-constructionIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_fileJson2Icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/icon/icons/fileJson2Icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-fileJson2Icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_githubIcon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystar/ui/icon/icons/githubIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-githubIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_heartHandshakeIcon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @keystar/ui/icon/icons/heartHandshakeIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-heartHandshakeIcon.js\");\n/* harmony import */ var _keystar_ui_menu__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @keystar/ui/menu */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-menu.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_nav_list__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @keystar/ui/nav-list */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-nav-list.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../context */ \"../../../../packages/core/src/admin-ui/context.tsx\");\n/* harmony import */ var _WelcomeDialog__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./WelcomeDialog */ \"../../../../packages/core/src/admin-ui/components/WelcomeDialog.tsx\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getHrefFromList(list) {\n    return `/${list.path}${list.isSingleton ? '/1' : ''}`;\n}\n/** A navigation item represents a page in the AdminUI. */ function NavItem(props) {\n    const { children, href, isSelected: isSelectedProp } = props;\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    let ariaCurrent = isSelectedProp;\n    if (!ariaCurrent) {\n        if (router.pathname === href) {\n            ariaCurrent = 'page';\n        } else if (router.pathname.split('/')[1] === href.split('/')[1]) {\n            ariaCurrent = true;\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_nav_list__WEBPACK_IMPORTED_MODULE_13__.NavItem, {\n        \"aria-current\": ariaCurrent || undefined,\n        href: href,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n        lineNumber: 62,\n        columnNumber: 5\n    }, this);\n}\n/** Thin wrapper around \"@keystar/ui\" component */ function NavList(props) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_nav_list__WEBPACK_IMPORTED_MODULE_13__.NavList, {\n        \"aria-label\": \"main\",\n        flex: true,\n        marginEnd: \"medium\",\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n        lineNumber: 70,\n        columnNumber: 10\n    }, this);\n}\n/** The root navigation component for the AdminUI */ function NavContainer({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_12__.VStack, {\n        gap: \"large\",\n        height: \"100%\",\n        paddingY: \"xlarge\",\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n        lineNumber: 76,\n        columnNumber: 5\n    }, this);\n}\n/** @private Exported for internal consumption only. */ function Navigation() {\n    const { adminConfig, lists: allLists } = (0,_context__WEBPACK_IMPORTED_MODULE_16__.useKeystone)();\n    const visibleLists = Object.values(allLists).filter((x)=>!x.hideNavigation);\n    if (adminConfig?.components?.Navigation) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(adminConfig.components.Navigation, {\n        lists: visibleLists\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n        lineNumber: 88,\n        columnNumber: 12\n    }, this);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NavContainer, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NavList, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NavItem, {\n                        href: \"/\",\n                        children: \"Dashboard\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                        lineNumber: 92,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_12__.Divider, {}, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                        lineNumber: 93,\n                        columnNumber: 9\n                    }, this),\n                    visibleLists.map((list)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NavItem, {\n                            href: getHrefFromList(list),\n                            children: list.label\n                        }, list.key, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                            lineNumber: 95,\n                            columnNumber: 11\n                        }, this))\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                lineNumber: 91,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(NavFooter, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DeveloperResourcesMenu, {}, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                    lineNumber: 102,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                lineNumber: 101,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n        lineNumber: 90,\n        columnNumber: 5\n    }, this);\n}\n/** Should be displayed below the `NavList` component. */ function NavFooter(props) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_12__.HStack, {\n        paddingX: \"large\",\n        gap: \"regular\",\n        children: props.children\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n        lineNumber: 111,\n        columnNumber: 5\n    }, this);\n}\n/** A footer item in the navigation. */ function DeveloperResourcesMenu() {\n    const { apiPath } = (0,_context__WEBPACK_IMPORTED_MODULE_16__.useKeystone)();\n    const [dialogIsOpen, setDialogIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    if (false) {}\n    if (!apiPath) return null // TODO: FIXME: ?\n    ;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_menu__WEBPACK_IMPORTED_MODULE_11__.MenuTrigger, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__.TooltipTrigger, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_3__.ActionButton, {\n                                \"aria-label\": \"Developer resources\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                    src: _keystar_ui_icon_icons_constructionIcon__WEBPACK_IMPORTED_MODULE_7__.constructionIcon\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                    lineNumber: 129,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                lineNumber: 128,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__.Tooltip, {\n                                children: \"Developer resources\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                lineNumber: 131,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                        lineNumber: 127,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_menu__WEBPACK_IMPORTED_MODULE_11__.Menu, {\n                        onAction: (key)=>{\n                            if (key === 'community') {\n                                setDialogIsOpen(true);\n                            }\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_menu__WEBPACK_IMPORTED_MODULE_11__.Item, {\n                                href: apiPath,\n                                textValue: \"API explorer\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                        src: _keystar_ui_icon_icons_fileJson2Icon__WEBPACK_IMPORTED_MODULE_8__.fileJson2Icon\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                        lineNumber: 141,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_15__.Text, {\n                                        children: \"API explorer\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                        lineNumber: 142,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                lineNumber: 140,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_menu__WEBPACK_IMPORTED_MODULE_11__.Item, {\n                                target: \"_blank\",\n                                href: \"https://github.com/keystonejs/keystone\",\n                                textValue: \"GitHub repository\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                        src: _keystar_ui_icon_icons_githubIcon__WEBPACK_IMPORTED_MODULE_9__.githubIcon\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                        lineNumber: 149,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_15__.Text, {\n                                        children: \"GitHub repository\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                        lineNumber: 150,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                lineNumber: 144,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_menu__WEBPACK_IMPORTED_MODULE_11__.Item, {\n                                target: \"_blank\",\n                                href: \"https://keystonejs.com\",\n                                textValue: \"Documentation\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                        src: _keystar_ui_icon_icons_bookTextIcon__WEBPACK_IMPORTED_MODULE_6__.bookTextIcon\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                        lineNumber: 153,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_15__.Text, {\n                                        children: \"Documentation\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                        lineNumber: 154,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                lineNumber: 152,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_menu__WEBPACK_IMPORTED_MODULE_11__.Item, {\n                                textValue: \"Community\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                                        src: _keystar_ui_icon_icons_heartHandshakeIcon__WEBPACK_IMPORTED_MODULE_10__.heartHandshakeIcon\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                        lineNumber: 157,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_15__.Text, {\n                                        children: \"Community\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                        lineNumber: 158,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, \"community\", true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                                lineNumber: 156,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                        lineNumber: 133,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                lineNumber: 126,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_4__.DialogContainer, {\n                onDismiss: ()=>setDialogIsOpen(false),\n                children: dialogIsOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_WelcomeDialog__WEBPACK_IMPORTED_MODULE_17__.WelcomeDialog, {}, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                    lineNumber: 163,\n                    columnNumber: 26\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/Navigation.tsx\",\n                lineNumber: 162,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9OYXZpZ2F0aW9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3RTtBQUNqQztBQUVVO0FBQ0c7QUFDYjtBQUMyQjtBQUNRO0FBQ047QUFDTjtBQUNnQjtBQUNwQjtBQUNFO0FBSy9CO0FBQ2dDO0FBQ2hCO0FBR0w7QUFDTztBQW1CeEMsU0FBU3lCLGdCQUFnQkMsSUFBNEM7SUFDMUUsT0FBTyxDQUFDLENBQUMsRUFBRUEsS0FBS0MsSUFBSSxHQUFHRCxLQUFLRSxXQUFXLEdBQUcsT0FBTyxJQUFJO0FBQ3ZEO0FBRUEsd0RBQXdELEdBQ2pELFNBQVNWLFFBQVFXLEtBQW1CO0lBQ3pDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLFlBQVlDLGNBQWMsRUFBRSxHQUFHSjtJQUN2RCxNQUFNSyxTQUFTakMsc0RBQVNBO0lBRXhCLElBQUlrQyxjQUE0Q0Y7SUFDaEQsSUFBSSxDQUFDRSxhQUFhO1FBQ2hCLElBQUlELE9BQU9FLFFBQVEsS0FBS0wsTUFBTTtZQUM1QkksY0FBYztRQUNoQixPQUFPLElBQUlELE9BQU9FLFFBQVEsQ0FBQ0MsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUtOLEtBQUtNLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQy9ERixjQUFjO1FBQ2hCO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ2hCLDBEQUFjQTtRQUFDbUIsZ0JBQWNILGVBQWVJO1FBQVdSLE1BQU1BO2tCQUMzREQ7Ozs7OztBQUdQO0FBRUEsZ0RBQWdELEdBQ3pDLFNBQVNkLFFBQVFhLEtBQW1CO0lBQ3pDLHFCQUFPLDhEQUFDWiwwREFBY0E7UUFBQ3VCLGNBQVc7UUFBT0MsSUFBSTtRQUFDQyxXQUFVO1FBQVUsR0FBR2IsS0FBSzs7Ozs7O0FBQzVFO0FBRUEsa0RBQWtELEdBQzNDLFNBQVNjLGFBQWEsRUFBRWIsUUFB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LDhEQUFDekMsMERBQWFBOzs7Ozs7Ozs7Ozs7QUFJdkMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9OYXZpZ2F0aW9uLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIFJlYWN0Tm9kZSwgdHlwZSBQcm9wc1dpdGhDaGlsZHJlbiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJ1xuXG5pbXBvcnQgeyBBY3Rpb25CdXR0b24gfSBmcm9tICdAa2V5c3Rhci91aS9idXR0b24nXG5pbXBvcnQgeyBEaWFsb2dDb250YWluZXIgfSBmcm9tICdAa2V5c3Rhci91aS9kaWFsb2cnXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbidcbmltcG9ydCB7IGJvb2tUZXh0SWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvYm9va1RleHRJY29uJ1xuaW1wb3J0IHsgY29uc3RydWN0aW9uSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvY29uc3RydWN0aW9uSWNvbidcbmltcG9ydCB7IGZpbGVKc29uMkljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2ZpbGVKc29uMkljb24nXG5pbXBvcnQgeyBnaXRodWJJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbi9pY29ucy9naXRodWJJY29uJ1xuaW1wb3J0IHsgaGVhcnRIYW5kc2hha2VJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbi9pY29ucy9oZWFydEhhbmRzaGFrZUljb24nXG5pbXBvcnQgeyBNZW51VHJpZ2dlciwgTWVudSwgSXRlbSB9IGZyb20gJ0BrZXlzdGFyL3VpL21lbnUnXG5pbXBvcnQgeyBEaXZpZGVyLCBIU3RhY2ssIFZTdGFjayB9IGZyb20gJ0BrZXlzdGFyL3VpL2xheW91dCdcbmltcG9ydCB7XG4gIHR5cGUgTmF2TGlzdFByb3BzLFxuICBOYXZMaXN0IGFzIEtleXN0YXJOYXZMaXN0LFxuICBOYXZJdGVtIGFzIEtleXN0YXJOYXZJdGVtLFxufSBmcm9tICdAa2V5c3Rhci91aS9uYXYtbGlzdCdcbmltcG9ydCB7IFRvb2x0aXBUcmlnZ2VyLCBUb29sdGlwIH0gZnJvbSAnQGtleXN0YXIvdWkvdG9vbHRpcCdcbmltcG9ydCB7IFRleHQgfSBmcm9tICdAa2V5c3Rhci91aS90eXBvZ3JhcGh5J1xuXG5pbXBvcnQgdHlwZSB7IExpc3RNZXRhIH0gZnJvbSAnLi4vLi4vdHlwZXMnXG5pbXBvcnQgeyB1c2VLZXlzdG9uZSB9IGZyb20gJy4uL2NvbnRleHQnXG5pbXBvcnQgeyBXZWxjb21lRGlhbG9nIH0gZnJvbSAnLi9XZWxjb21lRGlhbG9nJ1xuXG50eXBlIE5hdkl0ZW1Qcm9wcyA9IHtcbiAgLyoqXG4gICAqIFRoZSBjb250ZW50IG9mIHRoZSBpdGVtLlxuICAgKi9cbiAgY2hpbGRyZW46IFJlYWN0Tm9kZVxuICAvKipcbiAgICogVGhlIFVSTCB0byBuYXZpZ2F0ZSB0byB3aGVuIHRoZSBpdGVtIGlzIGNsaWNrZWQuIE9taXQgdGhlIG9yaWdpbiwgYXMgaXRcbiAgICogaW50ZXJmZXJlcyB3aXRoIGNsaWVudC1zaWRlIHJvdXRpbmcuIFVzZSBgL2AgZm9yIHRoZSBkYXNoYm9hcmQuXG4gICAqL1xuICBocmVmOiBzdHJpbmdcbiAgLyoqXG4gICAqIE9wdGlvbmFsbHkgb3ZlcnJpZGUgdGhlIHNlbGVjdGVkIHN0YXRlIG9mIHRoZSBpdGVtLiBCeSBkZWZhdWx0LCB0aGlzIGlzXG4gICAqIGRldGVybWluZWQgYnkgdGhlIGN1cnJlbnQgcm91dGUgYW5kIHRoZSBgaHJlZmAgcHJvdmlkZWQuXG4gICAqL1xuICBpc1NlbGVjdGVkPzogYm9vbGVhblxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SHJlZkZyb21MaXN0KGxpc3Q6IFBpY2s8TGlzdE1ldGEsICdwYXRoJyB8ICdpc1NpbmdsZXRvbic+KSB7XG4gIHJldHVybiBgLyR7bGlzdC5wYXRofSR7bGlzdC5pc1NpbmdsZXRvbiA/ICcvMScgOiAnJ31gXG59XG5cbi8qKiBBIG5hdmlnYXRpb24gaXRlbSByZXByZXNlbnRzIGEgcGFnZSBpbiB0aGUgQWRtaW5VSS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBOYXZJdGVtKHByb3BzOiBOYXZJdGVtUHJvcHMpIHtcbiAgY29uc3QgeyBjaGlsZHJlbiwgaHJlZiwgaXNTZWxlY3RlZDogaXNTZWxlY3RlZFByb3AgfSA9IHByb3BzXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG5cbiAgbGV0IGFyaWFDdXJyZW50OiAncGFnZScgfCBib29sZWFuIHwgdW5kZWZpbmVkID0gaXNTZWxlY3RlZFByb3BcbiAgaWYgKCFhcmlhQ3VycmVudCkge1xuICAgIGlmIChyb3V0ZXIucGF0aG5hbWUgPT09IGhyZWYpIHtcbiAgICAgIGFyaWFDdXJyZW50ID0gJ3BhZ2UnXG4gICAgfSBlbHNlIGlmIChyb3V0ZXIucGF0aG5hbWUuc3BsaXQoJy8nKVsxXSA9PT0gaHJlZi5zcGxpdCgnLycpWzFdKSB7XG4gICAgICBhcmlhQ3VycmVudCA9IHRydWVcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxLZXlzdGFyTmF2SXRlbSBhcmlhLWN1cnJlbnQ9e2FyaWFDdXJyZW50IHx8IHVuZGVmaW5lZH0gaHJlZj17aHJlZn0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9LZXlzdGFyTmF2SXRlbT5cbiAgKVxufVxuXG4vKiogVGhpbiB3cmFwcGVyIGFyb3VuZCBcIkBrZXlzdGFyL3VpXCIgY29tcG9uZW50ICovXG5leHBvcnQgZnVuY3Rpb24gTmF2TGlzdChwcm9wczogTmF2TGlzdFByb3BzKSB7XG4gIHJldHVybiA8S2V5c3Rhck5hdkxpc3QgYXJpYS1sYWJlbD1cIm1haW5cIiBmbGV4IG1hcmdpbkVuZD1cIm1lZGl1bVwiIHsuLi5wcm9wc30gLz5cbn1cblxuLyoqIFRoZSByb290IG5hdmlnYXRpb24gY29tcG9uZW50IGZvciB0aGUgQWRtaW5VSSAqL1xuZXhwb3J0IGZ1bmN0aW9uIE5hdkNvbnRhaW5lcih7IGNoaWxkcmVuIH06IFByb3BzV2l0aENoaWxkcmVuKSB7XG4gIHJldHVybiAoXG4gICAgPFZTdGFjayBnYXA9XCJsYXJnZVwiIGhlaWdodD1cIjEwMCVcIiBwYWRkaW5nWT1cInhsYXJnZVwiPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvVlN0YWNrPlxuICApXG59XG5cbi8qKiBAcHJpdmF0ZSBFeHBvcnRlZCBmb3IgaW50ZXJuYWwgY29uc3VtcHRpb24gb25seS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBOYXZpZ2F0aW9uKCkge1xuICBjb25zdCB7IGFkbWluQ29uZmlnLCBsaXN0czogYWxsTGlzdHMgfSA9IHVzZUtleXN0b25lKClcbiAgY29uc3QgdmlzaWJsZUxpc3RzID0gT2JqZWN0LnZhbHVlcyhhbGxMaXN0cykuZmlsdGVyKHggPT4gIXguaGlkZU5hdmlnYXRpb24pXG5cbiAgaWYgKGFkbWluQ29uZmlnPy5jb21wb25lbnRzPy5OYXZpZ2F0aW9uKVxuICAgIHJldHVybiA8YWRtaW5Db25maWcuY29tcG9uZW50cy5OYXZpZ2F0aW9uIGxpc3RzPXt2aXNpYmxlTGlzdHN9IC8+XG4gIHJldHVybiAoXG4gICAgPE5hdkNvbnRhaW5lcj5cbiAgICAgIDxOYXZMaXN0PlxuICAgICAgICA8TmF2SXRlbSBocmVmPVwiL1wiPkRhc2hib2FyZDwvTmF2SXRlbT5cbiAgICAgICAgPERpdmlkZXIgLz5cbiAgICAgICAge3Zpc2libGVMaXN0cy5tYXAoKGxpc3Q6IExpc3RNZXRhKSA9PiAoXG4gICAgICAgICAgPE5hdkl0ZW0ga2V5PXtsaXN0LmtleX0gaHJlZj17Z2V0SHJlZkZyb21MaXN0KGxpc3QpfT5cbiAgICAgICAgICAgIHtsaXN0LmxhYmVsfVxuICAgICAgICAgIDwvTmF2SXRlbT5cbiAgICAgICAgKSl9XG4gICAgICA8L05hdkxpc3Q+XG5cbiAgICAgIDxOYXZGb290ZXI+XG4gICAgICAgIDxEZXZlbG9wZXJSZXNvdXJjZXNNZW51IC8+XG4gICAgICA8L05hdkZvb3Rlcj5cbiAgICA8L05hdkNvbnRhaW5lcj5cbiAgKVxufVxuXG4vKiogU2hvdWxkIGJlIGRpc3BsYXllZCBiZWxvdyB0aGUgYE5hdkxpc3RgIGNvbXBvbmVudC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBOYXZGb290ZXIocHJvcHM6IFByb3BzV2l0aENoaWxkcmVuKSB7XG4gIHJldHVybiAoXG4gICAgPEhTdGFjayBwYWRkaW5nWD1cImxhcmdlXCIgZ2FwPVwicmVndWxhclwiPlxuICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgIDwvSFN0YWNrPlxuICApXG59XG5cbi8qKiBBIGZvb3RlciBpdGVtIGluIHRoZSBuYXZpZ2F0aW9uLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIERldmVsb3BlclJlc291cmNlc01lbnUoKSB7XG4gIGNvbnN0IHsgYXBpUGF0aCB9ID0gdXNlS2V5c3RvbmUoKVxuICBjb25zdCBbZGlhbG9nSXNPcGVuLCBzZXREaWFsb2dJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHJldHVybiBudWxsXG4gIGlmICghYXBpUGF0aCkgcmV0dXJuIG51bGwgLy8gVE9ETzogRklYTUU6ID9cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPE1lbnVUcmlnZ2VyPlxuICAgICAgICA8VG9vbHRpcFRyaWdnZXI+XG4gICAgICAgICAgPEFjdGlvbkJ1dHRvbiBhcmlhLWxhYmVsPVwiRGV2ZWxvcGVyIHJlc291cmNlc1wiPlxuICAgICAgICAgICAgPEljb24gc3JjPXtjb25zdHJ1Y3Rpb25JY29ufSAvPlxuICAgICAgICAgIDwvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgIDxUb29sdGlwPkRldmVsb3BlciByZXNvdXJjZXM8L1Rvb2x0aXA+XG4gICAgICAgIDwvVG9vbHRpcFRyaWdnZXI+XG4gICAgICAgIDxNZW51XG4gICAgICAgICAgb25BY3Rpb249e2tleSA9PiB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnY29tbXVuaXR5Jykge1xuICAgICAgICAgICAgICBzZXREaWFsb2dJc09wZW4odHJ1ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPEl0ZW0gaHJlZj17YXBpUGF0aH0gdGV4dFZhbHVlPVwiQVBJIGV4cGxvcmVyXCI+XG4gICAgICAgICAgICA8SWNvbiBzcmM9e2ZpbGVKc29uMkljb259IC8+XG4gICAgICAgICAgICA8VGV4dD5BUEkgZXhwbG9yZXI8L1RleHQ+XG4gICAgICAgICAgPC9JdGVtPlxuICAgICAgICAgIDxJdGVtXG4gICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgICAgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9rZXlzdG9uZWpzL2tleXN0b25lXCJcbiAgICAgICAgICAgIHRleHRWYWx1ZT1cIkdpdEh1YiByZXBvc2l0b3J5XCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8SWNvbiBzcmM9e2dpdGh1Ykljb259IC8+XG4gICAgICAgICAgICA8VGV4dD5HaXRIdWIgcmVwb3NpdG9yeTwvVGV4dD5cbiAgICAgICAgICA8L0l0ZW0+XG4gICAgICAgICAgPEl0ZW0gdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8va2V5c3RvbmVqcy5jb21cIiB0ZXh0VmFsdWU9XCJEb2N1bWVudGF0aW9uXCI+XG4gICAgICAgICAgICA8SWNvbiBzcmM9e2Jvb2tUZXh0SWNvbn0gLz5cbiAgICAgICAgICAgIDxUZXh0PkRvY3VtZW50YXRpb248L1RleHQ+XG4gICAgICAgICAgPC9JdGVtPlxuICAgICAgICAgIDxJdGVtIGtleT1cImNvbW11bml0eVwiIHRleHRWYWx1ZT1cIkNvbW11bml0eVwiPlxuICAgICAgICAgICAgPEljb24gc3JjPXtoZWFydEhhbmRzaGFrZUljb259IC8+XG4gICAgICAgICAgICA8VGV4dD5Db21tdW5pdHk8L1RleHQ+XG4gICAgICAgICAgPC9JdGVtPlxuICAgICAgICA8L01lbnU+XG4gICAgICA8L01lbnVUcmlnZ2VyPlxuICAgICAgPERpYWxvZ0NvbnRhaW5lciBvbkRpc21pc3M9eygpID0+IHNldERpYWxvZ0lzT3BlbihmYWxzZSl9PlxuICAgICAgICB7ZGlhbG9nSXNPcGVuICYmIDxXZWxjb21lRGlhbG9nIC8+fVxuICAgICAgPC9EaWFsb2dDb250YWluZXI+XG4gICAgPC8+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZVJvdXRlciIsIkFjdGlvbkJ1dHRvbiIsIkRpYWxvZ0NvbnRhaW5lciIsIkljb24iLCJib29rVGV4dEljb24iLCJjb25zdHJ1Y3Rpb25JY29uIiwiZmlsZUpzb24ySWNvbiIsImdpdGh1Ykljb24iLCJoZWFydEhhbmRzaGFrZUljb24iLCJNZW51VHJpZ2dlciIsIk1lbnUiLCJJdGVtIiwiRGl2aWRlciIsIkhTdGFjayIsIlZTdGFjayIsIk5hdkxpc3QiLCJLZXlzdGFyTmF2TGlzdCIsIk5hdkl0ZW0iLCJLZXlzdGFyTmF2SXRlbSIsIlRvb2x0aXBUcmlnZ2VyIiwiVG9vbHRpcCIsIlRleHQiLCJ1c2VLZXlzdG9uZSIsIldlbGNvbWVEaWFsb2ciLCJnZXRIcmVmRnJvbUxpc3QiLCJsaXN0IiwicGF0aCIsImlzU2luZ2xldG9uIiwicHJvcHMiLCJjaGlsZHJlbiIsImhyZWYiLCJpc1NlbGVjdGVkIiwiaXNTZWxlY3RlZFByb3AiLCJyb3V0ZXIiLCJhcmlhQ3VycmVudCIsInBhdGhuYW1lIiwic3BsaXQiLCJhcmlhLWN1cnJlbnQiLCJ1bmRlZmluZWQiLCJhcmlhLWxhYmVsIiwiZmxleCIsIm1hcmdpbkVuZCIsIk5hdkNvbnRhaW5lciIsImdhcCIsImhlaWdodCIsInBhZGRpbmdZIiwiTmF2aWdhdGlvbiIsImFkbWluQ29uZmlnIiwibGlzdHMiLCJhbGxMaXN0cyIsInZpc2libGVMaXN0cyIsIk9iamVjdCIsInZhbHVlcyIsImZpbHRlciIsIngiLCJoaWRlTmF2aWdhdGlvbiIsImNvbXBvbmVudHMiLCJtYXAiLCJsYWJlbCIsImtleSIsIk5hdkZvb3RlciIsIkRldmVsb3BlclJlc291cmNlc01lbnUiLCJwYWRkaW5nWCIsImFwaVBhdGgiLCJkaWFsb2dJc09wZW4iLCJzZXREaWFsb2dJc09wZW4iLCJwcm9jZXNzIiwic3JjIiwib25BY3Rpb24iLCJ0ZXh0VmFsdWUiLCJ0YXJnZXQiLCJvbkRpc21pc3MiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/components/Navigation.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/components/NullableFieldWrapper.tsx":
/*!**********************************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/components/NullableFieldWrapper.tsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NullableFieldWrapper: () => (/* binding */ NullableFieldWrapper)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_checkbox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/checkbox */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-checkbox.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_cornerDownRightIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/icon/icons/cornerDownRightIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-cornerDownRightIcon.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _InlineCode__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./InlineCode */ \"../../../../packages/core/src/admin-ui/components/InlineCode.tsx\");\n\n\n\n\n\n\n\n\n/**\n * Wraps a field component with a \"group\" (ARIA `<fieldset>`), and\n * appends a checkbox to allow setting the value to `null`.\n *\n * Prefer a more elegant solution where possible, like clearing the value or\n * deselecting an option.\n */ function NullableFieldWrapper(props) {\n    const { autoFocus, children, isAllowed, isNull, isReadOnly, label, onChange } = props;\n    if (!isAllowed) {\n        return children;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_4__.VStack, {\n        \"aria-label\": label,\n        gap: \"medium\",\n        role: \"group\",\n        children: [\n            children,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_4__.HStack, {\n                gap: \"regular\",\n                paddingStart: \"regular\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n                        src: _keystar_ui_icon_icons_cornerDownRightIcon__WEBPACK_IMPORTED_MODULE_3__.cornerDownRightIcon,\n                        color: \"neutralTertiary\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/NullableFieldWrapper.tsx\",\n                        lineNumber: 54,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_checkbox__WEBPACK_IMPORTED_MODULE_1__.Checkbox, {\n                        prominence: \"low\",\n                        autoFocus: isNull && autoFocus,\n                        isReadOnly: isReadOnly,\n                        isSelected: isNull,\n                        onChange: onChange,\n                        UNSAFE_style: {\n                            marginTop: `calc(${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__.tokenSchema.size.icon.small} / -2)`\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_6__.Text, {\n                            children: [\n                                \"Set to \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_InlineCode__WEBPACK_IMPORTED_MODULE_7__.InlineCode, {\n                                    children: \"null\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/NullableFieldWrapper.tsx\",\n                                    lineNumber: 66,\n                                    columnNumber: 20\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/NullableFieldWrapper.tsx\",\n                            lineNumber: 65,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/NullableFieldWrapper.tsx\",\n                        lineNumber: 55,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/NullableFieldWrapper.tsx\",\n                lineNumber: 53,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/NullableFieldWrapper.tsx\",\n        lineNumber: 50,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9OdWxsYWJsZUZpZWxkV3JhcHBlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFK0M7QUFDUjtBQUN5QztBQUM3QjtBQUNKO0FBQ0Y7QUFFSjtBQXlCekM7Ozs7OztDQU1DLEdBQ00sU0FBU1EscUJBQXFCQyxLQUFnQztJQUNuRSxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsUUFBUSxFQUFFQyxTQUFTLEVBQUVDLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRSxHQUFHUDtJQUVoRixJQUFJLENBQUNHLFdBQVc7UUFDZCxPQUFPRDtJQUNUO0lBRUEscUJBQ0UsOERBQUNQLHNEQUFNQTtRQUFDYSxjQUFZRjtRQUFPRyxLQUFJO1FBQVNDLE1BQUs7O1lBQzFDUjswQkFFRCw4REFBQ1Isc0RBQU1BO2dCQUFDZSxLQUFJO2dCQUFVRSxjQUFhOztrQ0FDakMsOERBQUNuQixrREFBSUE7d0JBQUNvQixLQUFLbkIsMkZBQW1CQTt3QkFBRW9CLE9BQU07Ozs7OztrQ0FDdEMsOERBQUN0QiwwREFBUUE7d0JBQ1B1QixZQUFXO3dCQUNYYixXQUFXRyxVQUFVSDt3QkFDckJJLFlBQVlBO3dCQUNaVSxZQUFZWDt3QkFDWkcsVUFBVUE7d0JBQ1ZTLGNBQWM7NEJBQ1pDLFdBQVcsQ0FBQyxLQUFLLEVBQUVyQiwwREFBV0EsQ0FBQ3NCLElBQUksQ0FBQ0MsSUFBSSxDQUFDQyxLQUFLLENBQUMsTUFBTSxDQUFDO3dCQUN4RDtrQ0FFQSw0RUFBQ3ZCLHdEQUFJQTs7Z0NBQUM7OENBQ0csOERBQUNDLG1EQUFVQTs4Q0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNL0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9OdWxsYWJsZUZpZWxkV3JhcHBlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBSZWFjdEVsZW1lbnQgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgQ2hlY2tib3ggfSBmcm9tICdAa2V5c3Rhci91aS9jaGVja2JveCdcbmltcG9ydCB7IEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uJ1xuaW1wb3J0IHsgY29ybmVyRG93blJpZ2h0SWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvY29ybmVyRG93blJpZ2h0SWNvbidcbmltcG9ydCB7IEhTdGFjaywgVlN0YWNrIH0gZnJvbSAnQGtleXN0YXIvdWkvbGF5b3V0J1xuaW1wb3J0IHsgdG9rZW5TY2hlbWEgfSBmcm9tICdAa2V5c3Rhci91aS9zdHlsZSdcbmltcG9ydCB7IFRleHQgfSBmcm9tICdAa2V5c3Rhci91aS90eXBvZ3JhcGh5J1xuXG5pbXBvcnQgeyBJbmxpbmVDb2RlIH0gZnJvbSAnLi9JbmxpbmVDb2RlJ1xuXG50eXBlIE51bGxhYmxlRmllbGRXcmFwcGVyUHJvcHMgPSB7XG4gIC8qKiBXaGV0aGVyIHRvIGF1dG8gZm9jdXMgdGhlIGNoZWNrYm94LiAqL1xuICBhdXRvRm9jdXM/OiBib29sZWFuXG4gIC8qKiBUaGUgZmllbGQgZWxlbWVudC4gKi9cbiAgY2hpbGRyZW46IFJlYWN0RWxlbWVudFxuICAvKipcbiAgICogV2hlbiBgdHJ1ZWAsIHRoZSBmaWVsZCBpcyB3cmFwcGVkIGFuZCB0aGUgY2hlY2tib3ggaXMgc2hvd24uIE90aGVyd2lzZSwgdGhlXG4gICAqIGZpZWxkIGlzIHJlbmRlcmVkIGRpcmVjdGx5LlxuICAgKi9cbiAgaXNBbGxvd2VkPzogYm9vbGVhblxuICAvKiogV2hlbiBgdHJ1ZWAsIHlvdSBtdXN0IGRpc2FibGUgdGhlIGZpZWxkIHRvIHByZXZlbnQgY29uZmxpY3RpbmcgdXNlciBpbnB1dC4gKi9cbiAgaXNOdWxsPzogYm9vbGVhblxuICAvKipcbiAgICogVGhlIGNoZWNrYm94IG1heSBiZSByZWFkb25seSBpbiBjYXNlcyB3aGVyZSB0aGUgdXNlciBoYXMgYWNjZXNzIHRvIHNlZSB0aGVcbiAgICogZmllbGQsIGJ1dCBub3QgZWRpdCBpdC5cbiAgICovXG4gIGlzUmVhZE9ubHk/OiBib29sZWFuXG4gIC8qKiBUaGUgZ3JvdXAgbGFiZWwuICovXG4gIGxhYmVsOiBzdHJpbmdcbiAgLyoqIEhhbmRsZXIgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgY2hlY2tib3gncyBzdGF0ZSBjaGFuZ2VzLiAqL1xuICBvbkNoYW5nZT86IChpc1NlbGVjdGVkOiBib29sZWFuKSA9PiB2b2lkXG59XG5cbi8qKlxuICogV3JhcHMgYSBmaWVsZCBjb21wb25lbnQgd2l0aCBhIFwiZ3JvdXBcIiAoQVJJQSBgPGZpZWxkc2V0PmApLCBhbmRcbiAqIGFwcGVuZHMgYSBjaGVja2JveCB0byBhbGxvdyBzZXR0aW5nIHRoZSB2YWx1ZSB0byBgbnVsbGAuXG4gKlxuICogUHJlZmVyIGEgbW9yZSBlbGVnYW50IHNvbHV0aW9uIHdoZXJlIHBvc3NpYmxlLCBsaWtlIGNsZWFyaW5nIHRoZSB2YWx1ZSBvclxuICogZGVzZWxlY3RpbmcgYW4gb3B0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gTnVsbGFibGVGaWVsZFdyYXBwZXIocHJvcHM6IE51bGxhYmxlRmllbGRXcmFwcGVyUHJvcHMpIHtcbiAgY29uc3QgeyBhdXRvRm9jdXMsIGNoaWxkcmVuLCBpc0FsbG93ZWQsIGlzTnVsbCwgaXNSZWFkT25seSwgbGFiZWwsIG9uQ2hhbmdlIH0gPSBwcm9wc1xuXG4gIGlmICghaXNBbGxvd2VkKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxWU3RhY2sgYXJpYS1sYWJlbD17bGFiZWx9IGdhcD1cIm1lZGl1bVwiIHJvbGU9XCJncm91cFwiPlxuICAgICAge2NoaWxkcmVufVxuXG4gICAgICA8SFN0YWNrIGdhcD1cInJlZ3VsYXJcIiBwYWRkaW5nU3RhcnQ9XCJyZWd1bGFyXCI+XG4gICAgICAgIDxJY29uIHNyYz17Y29ybmVyRG93blJpZ2h0SWNvbn0gY29sb3I9XCJuZXV0cmFsVGVydGlhcnlcIiAvPlxuICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICBwcm9taW5lbmNlPVwibG93XCJcbiAgICAgICAgICBhdXRvRm9jdXM9e2lzTnVsbCAmJiBhdXRvRm9jdXN9XG4gICAgICAgICAgaXNSZWFkT25seT17aXNSZWFkT25seX1cbiAgICAgICAgICBpc1NlbGVjdGVkPXtpc051bGx9XG4gICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgIFVOU0FGRV9zdHlsZT17e1xuICAgICAgICAgICAgbWFyZ2luVG9wOiBgY2FsYygke3Rva2VuU2NoZW1hLnNpemUuaWNvbi5zbWFsbH0gLyAtMilgLFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8VGV4dD5cbiAgICAgICAgICAgIFNldCB0byA8SW5saW5lQ29kZT5udWxsPC9JbmxpbmVDb2RlPlxuICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgPC9DaGVja2JveD5cbiAgICAgIDwvSFN0YWNrPlxuICAgIDwvVlN0YWNrPlxuICApXG59XG4iXSwibmFtZXMiOlsiQ2hlY2tib3giLCJJY29uIiwiY29ybmVyRG93blJpZ2h0SWNvbiIsIkhTdGFjayIsIlZTdGFjayIsInRva2VuU2NoZW1hIiwiVGV4dCIsIklubGluZUNvZGUiLCJOdWxsYWJsZUZpZWxkV3JhcHBlciIsInByb3BzIiwiYXV0b0ZvY3VzIiwiY2hpbGRyZW4iLCJpc0FsbG93ZWQiLCJpc051bGwiLCJpc1JlYWRPbmx5IiwibGFiZWwiLCJvbkNoYW5nZSIsImFyaWEtbGFiZWwiLCJnYXAiLCJyb2xlIiwicGFkZGluZ1N0YXJ0Iiwic3JjIiwiY29sb3IiLCJwcm9taW5lbmNlIiwiaXNTZWxlY3RlZCIsIlVOU0FGRV9zdHlsZSIsIm1hcmdpblRvcCIsInNpemUiLCJpY29uIiwic21hbGwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/components/NullableFieldWrapper.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/components/PageContainer.tsx":
/*!***************************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/components/PageContainer.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PageContainer: () => (/* binding */ PageContainer),\n/* harmony export */   PageWrapper: () => (/* binding */ PageWrapper)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/head */ \"../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_menuIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/icon/icons/menuIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-menuIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_xIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/icon/icons/xIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-xIcon.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _Logo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Logo */ \"../../../../packages/core/src/admin-ui/components/Logo.tsx\");\n/* harmony import */ var _Navigation__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Navigation */ \"../../../../packages/core/src/admin-ui/components/Navigation.tsx\");\n\n\n\n\n\n\n\n\n\n\n\nfunction PageWrapper(props) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.css)({\n            display: 'grid',\n            gridTemplateRows: `repeat(2, ${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.tokenSchema.size.element.large}) auto`,\n            height: '100vh',\n            isolation: 'isolate',\n            [_keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.breakpointQueries.above.mobile]: {\n                gridTemplateColumns: `${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.tokenSchema.size.scale[3600]} minmax(0, 1fr)`,\n                gridTemplateRows: `${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.tokenSchema.size.element.xlarge} auto`\n            }\n        }),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n        lineNumber: 16,\n        columnNumber: 5\n    }, this);\n}\nconst Sidebar = ({ isSidebarOpen, ...props })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.css)({\n            gridColumn: '1/2',\n            gridRow: '2/4',\n            display: isSidebarOpen ? 'block' : 'none',\n            height: '100vh',\n            overflow: 'hidden auto',\n            WebkitOverflowScrolling: 'touch',\n            [_keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.breakpointQueries.above.mobile]: {\n                gridColumn: '1/2',\n                gridRow: '2/3',\n                display: 'block',\n                height: '100%'\n            }\n        }),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n            className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.css)({\n                height: '100%',\n                minWidth: 0\n            }),\n            ...props\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n            lineNumber: 56,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n        lineNumber: 39,\n        columnNumber: 5\n    }, undefined);\n};\nfunction Content(props) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_8__.VStack, {\n        elementType: \"main\",\n        minHeight: 0,\n        minWidth: 0,\n        paddingX: \"xlarge\",\n        position: \"relative\",\n        UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.css)({\n            overflow: 'hidden auto',\n            WebkitOverflowScrolling: 'touch',\n            // prevent focused form fields being hidden behind the sticky toolbar\n            // this is particularly important for textareas that may expand\n            [_keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.breakpointQueries.above.mobile]: {\n                // must be kept in-sync with the toolbar height\n                scrollPaddingBlockEnd: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.tokenSchema.size.element.xlarge\n            }\n        }),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n        lineNumber: 69,\n        columnNumber: 5\n    }, this);\n}\nfunction PageContainer({ children, header, title }) {\n    const [isSidebarOpen, setSidebarOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PageWrapper, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_1___default()), {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                    children: title ? `Keystone - ${title}` : 'Keystone'\n                }, \"title\", false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n                    lineNumber: 102,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n                lineNumber: 101,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_8__.HStack, {\n                alignItems: \"center\",\n                borderBottom: \"neutral\",\n                justifyContent: \"space-between\",\n                paddingX: \"xlarge\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Logo__WEBPACK_IMPORTED_MODULE_9__.Logo, {}, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n                        lineNumber: 110,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_3__.ActionButton, {\n                        \"aria-label\": \"open main menu\",\n                        \"aria-pressed\": isSidebarOpen,\n                        onPress: ()=>{\n                            setSidebarOpen((bool)=>!bool);\n                        },\n                        prominence: \"low\",\n                        isHidden: {\n                            above: 'mobile'\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                            src: isSidebarOpen ? _keystar_ui_icon_icons_xIcon__WEBPACK_IMPORTED_MODULE_6__.xIcon : _keystar_ui_icon_icons_menuIcon__WEBPACK_IMPORTED_MODULE_5__.menuIcon\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n                            lineNumber: 120,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n                        lineNumber: 111,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n                lineNumber: 104,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_8__.HStack, {\n                elementType: \"header\",\n                alignItems: \"center\",\n                borderBottom: \"neutral\",\n                justifyContent: \"space-between\",\n                paddingX: \"xlarge\",\n                minWidth: 0,\n                UNSAFE_style: {\n                    visibility: isSidebarOpen ? 'hidden' : 'visible'\n                },\n                children: header\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n                lineNumber: 123,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Sidebar, {\n                isSidebarOpen: isSidebarOpen,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Navigation__WEBPACK_IMPORTED_MODULE_10__.Navigation, {}, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n                    lineNumber: 135,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n                lineNumber: 134,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Content, {\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n                lineNumber: 137,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/PageContainer.tsx\",\n        lineNumber: 100,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9QYWdlQ29udGFpbmVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFnQztBQUNxQztBQUVwQjtBQUNWO0FBQ21CO0FBQ047QUFDbUI7QUFDcEI7QUFFdEI7QUFDWTtBQUVsQyxTQUFTYSxZQUFZQyxLQUFrQztJQUM1RCxxQkFDRSw4REFBQ0M7UUFDQ0MsV0FBV1Qsc0RBQUdBLENBQUM7WUFDYlUsU0FBUztZQUNUQyxrQkFBa0IsQ0FBQyxVQUFVLEVBQUVWLDBEQUFXQSxDQUFDVyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLE1BQU0sQ0FBQztZQUNyRUMsUUFBUTtZQUNSQyxXQUFXO1lBQ1gsQ0FBQ2pCLGdFQUFpQkEsQ0FBQ2tCLEtBQUssQ0FBQ0MsTUFBTSxDQUFDLEVBQUU7Z0JBQ2hDQyxxQkFBcUIsR0FBR2xCLDBEQUFXQSxDQUFDVyxJQUFJLENBQUNRLEtBQUssQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDO2dCQUNyRVQsa0JBQWtCLEdBQUdWLDBEQUFXQSxDQUFDVyxJQUFJLENBQUNDLE9BQU8sQ0FBQ1EsTUFBTSxDQUFDLEtBQUssQ0FBQztZQUM3RDtRQUNGO1FBQ0MsR0FBR2QsS0FBSzs7Ozs7O0FBR2Y7QUFFQSxNQUFNZSxVQUFVLENBQUMsRUFDZkMsYUFBYSxFQUNiLEdBQUdoQixPQUdKO0lBQ0MscUJBQ0UsOERBQUNDO1FBQ0NDLFdBQVdULHNEQUFHQSxDQUFDO1lBQ2J3QixZQUFZO1lBQ1pDLFNBQVM7WUFDVGYsU0FBU2EsZ0JBQWdCLFVBQVU7WUFDbkNSLFFBQVE7WUFDUlcsVUFBVTtZQUNWQyx5QkFBeUI7WUFFekIsQ0FBQzVCLGdFQUFpQkEsQ0FBQ2tCLEtBQUssQ0FBQ0MsTUFBTSxDQUFDLEVBQUU7Z0JBQ2hDTSxZQUFZO2dCQUNaQyxTQUFTO2dCQUNUZixTQUFTO2dCQUNUSyxRQUFRO1lBQ1Y7UUFDRjtrQkFFQSw0RUFBQ2E7WUFDQ25CLFdBQVdULHNEQUFHQSxDQUFDO2dCQUNiZSxRQUFRO2dCQUNSYyxVQUFVO1lBQ1o7WUFDQyxHQUFHdEIsS0FBSzs7Ozs7Ozs7Ozs7QUFJakI7QUFFQSxTQUFTdUIsUUFBUXZCLEtBQWtDO0lBQ2pELHFCQUNFLDhEQUFDSixzREFBTUE7UUFDTDRCLGFBQVk7UUFDWkMsV0FBVztRQUNYSCxVQUFVO1FBQ1ZJLFVBQVM7UUFDVEMsVUFBUztRQUNUQyxrQkFBa0JuQyxzREFBR0EsQ0FBQztZQUNwQjBCLFVBQVU7WUFDVkMseUJBQXlCO1lBRXpCLHFFQUFxRTtZQUNyRSwrREFBK0Q7WUFDL0QsQ0FBQzVCLGdFQUFpQkEsQ0FBQ2tCLEtBQUssQ0FBQ0MsTUFBTSxDQUFDLEVBQUU7Z0JBQ2hDLCtDQUErQztnQkFDL0NrQix1QkFBdUJuQywwREFBV0EsQ0FBQ1csSUFBSSxDQUFDQyxPQUFPLENBQUNRLE1BQU07WUFDeEQ7UUFDRjtRQUNDLEdBQUdkLEtBQUs7Ozs7OztBQUdmO0FBUU8sU0FBUzhCLGNBQWMsRUFBRUMsUUFBUSxFQUFFQyxNQUFNLEVBQUVDLEtBQUssRUFBc0I7SUFDM0UsTUFBTSxDQUFDakIsZUFBZWtCLGVBQWUsR0FBRy9DLCtDQUFRQSxDQUFDO0lBQ2pELHFCQUNFLDhEQUFDWTs7MEJBQ0MsOERBQUNiLGtEQUFRQTswQkFDUCw0RUFBQytDOzhCQUFtQkEsUUFBUSxDQUFDLFdBQVcsRUFBRUEsT0FBTyxHQUFHO21CQUF6Qzs7Ozs7Ozs7OzswQkFFYiw4REFBQ3RDLHNEQUFNQTtnQkFDTHdDLFlBQVc7Z0JBQ1hDLGNBQWE7Z0JBQ2JDLGdCQUFlO2dCQUNmWCxVQUFTOztrQ0FFVCw4REFBQzdCLHVDQUFJQTs7Ozs7a0NBQ0wsOERBQUNULDREQUFZQTt3QkFDWGtELGNBQVc7d0JBQ1hDLGdCQUFjdkI7d0JBQ2R3QixTQUFTOzRCQUNQTixlQUFlTyxDQUFBQSxPQUFRLENBQUNBO3dCQUMxQjt3QkFDQUMsWUFBVzt3QkFDWEMsVUFBVTs0QkFBRWpDLE9BQU87d0JBQVM7a0NBRTVCLDRFQUFDckIsa0RBQUlBOzRCQUFDdUQsS0FBSzVCLGdCQUFnQnpCLCtEQUFLQSxHQUFHRCxxRUFBUUE7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQUcvQyw4REFBQ0ssc0RBQU1BO2dCQUNMNkIsYUFBWTtnQkFDWlcsWUFBVztnQkFDWEMsY0FBYTtnQkFDYkMsZ0JBQWU7Z0JBQ2ZYLFVBQVM7Z0JBQ1RKLFVBQVU7Z0JBQ1Z1QixjQUFjO29CQUFFQyxZQUFZOUIsZ0JBQWdCLFdBQVc7Z0JBQVU7MEJBRWhFZ0I7Ozs7OzswQkFFSCw4REFBQ2pCO2dCQUFRQyxlQUFlQTswQkFDdEIsNEVBQUNsQixvREFBVUE7Ozs7Ozs7Ozs7MEJBRWIsOERBQUN5QjswQkFBU1E7Ozs7Ozs7Ozs7OztBQUdoQiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9hZG1pbi11aS9jb21wb25lbnRzL1BhZ2VDb250YWluZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBOZXh0SGVhZCBmcm9tICduZXh0L2hlYWQnXG5pbXBvcnQgeyB0eXBlIEhUTUxBdHRyaWJ1dGVzLCB0eXBlIFJlYWN0Tm9kZSwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgQWN0aW9uQnV0dG9uIH0gZnJvbSAnQGtleXN0YXIvdWkvYnV0dG9uJ1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24nXG5pbXBvcnQgeyBtZW51SWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvbWVudUljb24nXG5pbXBvcnQgeyB4SWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMveEljb24nXG5pbXBvcnQgeyBicmVha3BvaW50UXVlcmllcywgY3NzLCB0b2tlblNjaGVtYSB9IGZyb20gJ0BrZXlzdGFyL3VpL3N0eWxlJ1xuaW1wb3J0IHsgSFN0YWNrLCBWU3RhY2sgfSBmcm9tICdAa2V5c3Rhci91aS9sYXlvdXQnXG5cbmltcG9ydCB7IExvZ28gfSBmcm9tICcuL0xvZ28nXG5pbXBvcnQgeyBOYXZpZ2F0aW9uIH0gZnJvbSAnLi9OYXZpZ2F0aW9uJ1xuXG5leHBvcnQgZnVuY3Rpb24gUGFnZVdyYXBwZXIocHJvcHM6IEhUTUxBdHRyaWJ1dGVzPEhUTUxFbGVtZW50Pikge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgZGlzcGxheTogJ2dyaWQnLFxuICAgICAgICBncmlkVGVtcGxhdGVSb3dzOiBgcmVwZWF0KDIsICR7dG9rZW5TY2hlbWEuc2l6ZS5lbGVtZW50LmxhcmdlfSkgYXV0b2AsXG4gICAgICAgIGhlaWdodDogJzEwMHZoJyxcbiAgICAgICAgaXNvbGF0aW9uOiAnaXNvbGF0ZScsXG4gICAgICAgIFticmVha3BvaW50UXVlcmllcy5hYm92ZS5tb2JpbGVdOiB7XG4gICAgICAgICAgZ3JpZFRlbXBsYXRlQ29sdW1uczogYCR7dG9rZW5TY2hlbWEuc2l6ZS5zY2FsZVszNjAwXX0gbWlubWF4KDAsIDFmcilgLFxuICAgICAgICAgIGdyaWRUZW1wbGF0ZVJvd3M6IGAke3Rva2VuU2NoZW1hLnNpemUuZWxlbWVudC54bGFyZ2V9IGF1dG9gLFxuICAgICAgICB9LFxuICAgICAgfSl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKVxufVxuXG5jb25zdCBTaWRlYmFyID0gKHtcbiAgaXNTaWRlYmFyT3BlbixcbiAgLi4ucHJvcHNcbn06IEhUTUxBdHRyaWJ1dGVzPEhUTUxFbGVtZW50PiAmIHtcbiAgaXNTaWRlYmFyT3BlbjogYm9vbGVhblxufSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgZ3JpZENvbHVtbjogJzEvMicsXG4gICAgICAgIGdyaWRSb3c6ICcyLzQnLFxuICAgICAgICBkaXNwbGF5OiBpc1NpZGViYXJPcGVuID8gJ2Jsb2NrJyA6ICdub25lJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwdmgnLFxuICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbiBhdXRvJyxcbiAgICAgICAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6ICd0b3VjaCcsXG5cbiAgICAgICAgW2JyZWFrcG9pbnRRdWVyaWVzLmFib3ZlLm1vYmlsZV06IHtcbiAgICAgICAgICBncmlkQ29sdW1uOiAnMS8yJyxcbiAgICAgICAgICBncmlkUm93OiAnMi8zJyxcbiAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLFxuICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICB9LFxuICAgICAgfSl9XG4gICAgPlxuICAgICAgPGFzaWRlXG4gICAgICAgIGNsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICBtaW5XaWR0aDogMCwgLy8gcmVzb2x2ZXMgY29sbGFwc2luZyBpc3N1ZXMgaW4gY2hpbGRyZW5cbiAgICAgICAgfSl9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZnVuY3Rpb24gQ29udGVudChwcm9wczogSFRNTEF0dHJpYnV0ZXM8SFRNTEVsZW1lbnQ+KSB7XG4gIHJldHVybiAoXG4gICAgPFZTdGFja1xuICAgICAgZWxlbWVudFR5cGU9XCJtYWluXCJcbiAgICAgIG1pbkhlaWdodD17MH1cbiAgICAgIG1pbldpZHRoPXswfVxuICAgICAgcGFkZGluZ1g9XCJ4bGFyZ2VcIlxuICAgICAgcG9zaXRpb249XCJyZWxhdGl2ZVwiXG4gICAgICBVTlNBRkVfY2xhc3NOYW1lPXtjc3Moe1xuICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbiBhdXRvJyxcbiAgICAgICAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6ICd0b3VjaCcsXG5cbiAgICAgICAgLy8gcHJldmVudCBmb2N1c2VkIGZvcm0gZmllbGRzIGJlaW5nIGhpZGRlbiBiZWhpbmQgdGhlIHN0aWNreSB0b29sYmFyXG4gICAgICAgIC8vIHRoaXMgaXMgcGFydGljdWxhcmx5IGltcG9ydGFudCBmb3IgdGV4dGFyZWFzIHRoYXQgbWF5IGV4cGFuZFxuICAgICAgICBbYnJlYWtwb2ludFF1ZXJpZXMuYWJvdmUubW9iaWxlXToge1xuICAgICAgICAgIC8vIG11c3QgYmUga2VwdCBpbi1zeW5jIHdpdGggdGhlIHRvb2xiYXIgaGVpZ2h0XG4gICAgICAgICAgc2Nyb2xsUGFkZGluZ0Jsb2NrRW5kOiB0b2tlblNjaGVtYS5zaXplLmVsZW1lbnQueGxhcmdlLFxuICAgICAgICB9LFxuICAgICAgfSl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKVxufVxuXG50eXBlIFBhZ2VDb250YWluZXJQcm9wcyA9IHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZVxuICBoZWFkZXI6IFJlYWN0Tm9kZVxuICB0aXRsZT86IHN0cmluZ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUGFnZUNvbnRhaW5lcih7IGNoaWxkcmVuLCBoZWFkZXIsIHRpdGxlIH06IFBhZ2VDb250YWluZXJQcm9wcykge1xuICBjb25zdCBbaXNTaWRlYmFyT3Blbiwgc2V0U2lkZWJhck9wZW5dID0gdXNlU3RhdGUoZmFsc2UpXG4gIHJldHVybiAoXG4gICAgPFBhZ2VXcmFwcGVyPlxuICAgICAgPE5leHRIZWFkPlxuICAgICAgICA8dGl0bGUga2V5PVwidGl0bGVcIj57dGl0bGUgPyBgS2V5c3RvbmUgLSAke3RpdGxlfWAgOiAnS2V5c3RvbmUnfTwvdGl0bGU+XG4gICAgICA8L05leHRIZWFkPlxuICAgICAgPEhTdGFja1xuICAgICAgICBhbGlnbkl0ZW1zPVwiY2VudGVyXCJcbiAgICAgICAgYm9yZGVyQm90dG9tPVwibmV1dHJhbFwiXG4gICAgICAgIGp1c3RpZnlDb250ZW50PVwic3BhY2UtYmV0d2VlblwiXG4gICAgICAgIHBhZGRpbmdYPVwieGxhcmdlXCJcbiAgICAgID5cbiAgICAgICAgPExvZ28gLz5cbiAgICAgICAgPEFjdGlvbkJ1dHRvblxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJvcGVuIG1haW4gbWVudVwiXG4gICAgICAgICAgYXJpYS1wcmVzc2VkPXtpc1NpZGViYXJPcGVufVxuICAgICAgICAgIG9uUHJlc3M9eygpID0+IHtcbiAgICAgICAgICAgIHNldFNpZGViYXJPcGVuKGJvb2wgPT4gIWJvb2wpXG4gICAgICAgICAgfX1cbiAgICAgICAgICBwcm9taW5lbmNlPVwibG93XCJcbiAgICAgICAgICBpc0hpZGRlbj17eyBhYm92ZTogJ21vYmlsZScgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxJY29uIHNyYz17aXNTaWRlYmFyT3BlbiA/IHhJY29uIDogbWVudUljb259IC8+XG4gICAgICAgIDwvQWN0aW9uQnV0dG9uPlxuICAgICAgPC9IU3RhY2s+XG4gICAgICA8SFN0YWNrXG4gICAgICAgIGVsZW1lbnRUeXBlPVwiaGVhZGVyXCJcbiAgICAgICAgYWxpZ25JdGVtcz1cImNlbnRlclwiXG4gICAgICAgIGJvcmRlckJvdHRvbT1cIm5ldXRyYWxcIlxuICAgICAgICBqdXN0aWZ5Q29udGVudD1cInNwYWNlLWJldHdlZW5cIlxuICAgICAgICBwYWRkaW5nWD1cInhsYXJnZVwiXG4gICAgICAgIG1pbldpZHRoPXswfVxuICAgICAgICBVTlNBRkVfc3R5bGU9e3sgdmlzaWJpbGl0eTogaXNTaWRlYmFyT3BlbiA/ICdoaWRkZW4nIDogJ3Zpc2libGUnIH19XG4gICAgICA+XG4gICAgICAgIHtoZWFkZXJ9XG4gICAgICA8L0hTdGFjaz5cbiAgICAgIDxTaWRlYmFyIGlzU2lkZWJhck9wZW49e2lzU2lkZWJhck9wZW59PlxuICAgICAgICA8TmF2aWdhdGlvbiAvPlxuICAgICAgPC9TaWRlYmFyPlxuICAgICAgPENvbnRlbnQ+e2NoaWxkcmVufTwvQ29udGVudD5cbiAgICA8L1BhZ2VXcmFwcGVyPlxuICApXG59XG4iXSwibmFtZXMiOlsiTmV4dEhlYWQiLCJ1c2VTdGF0ZSIsIkFjdGlvbkJ1dHRvbiIsIkljb24iLCJtZW51SWNvbiIsInhJY29uIiwiYnJlYWtwb2ludFF1ZXJpZXMiLCJjc3MiLCJ0b2tlblNjaGVtYSIsIkhTdGFjayIsIlZTdGFjayIsIkxvZ28iLCJOYXZpZ2F0aW9uIiwiUGFnZVdyYXBwZXIiLCJwcm9wcyIsImRpdiIsImNsYXNzTmFtZSIsImRpc3BsYXkiLCJncmlkVGVtcGxhdGVSb3dzIiwic2l6ZSIsImVsZW1lbnQiLCJsYXJnZSIsImhlaWdodCIsImlzb2xhdGlvbiIsImFib3ZlIiwibW9iaWxlIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsInNjYWxlIiwieGxhcmdlIiwiU2lkZWJhciIsImlzU2lkZWJhck9wZW4iLCJncmlkQ29sdW1uIiwiZ3JpZFJvdyIsIm92ZXJmbG93IiwiV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmciLCJhc2lkZSIsIm1pbldpZHRoIiwiQ29udGVudCIsImVsZW1lbnRUeXBlIiwibWluSGVpZ2h0IiwicGFkZGluZ1giLCJwb3NpdGlvbiIsIlVOU0FGRV9jbGFzc05hbWUiLCJzY3JvbGxQYWRkaW5nQmxvY2tFbmQiLCJQYWdlQ29udGFpbmVyIiwiY2hpbGRyZW4iLCJoZWFkZXIiLCJ0aXRsZSIsInNldFNpZGViYXJPcGVuIiwiYWxpZ25JdGVtcyIsImJvcmRlckJvdHRvbSIsImp1c3RpZnlDb250ZW50IiwiYXJpYS1sYWJlbCIsImFyaWEtcHJlc3NlZCIsIm9uUHJlc3MiLCJib29sIiwicHJvbWluZW5jZSIsImlzSGlkZGVuIiwic3JjIiwiVU5TQUZFX3N0eWxlIiwidmlzaWJpbGl0eSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/components/PageContainer.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/components/WelcomeDialog.tsx":
/*!***************************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/components/WelcomeDialog.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WelcomeDialog: () => (/* binding */ WelcomeDialog)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_aria_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @react-aria/utils */ \"../../../../node_modules/.pnpm/@react-aria+utils@3.28.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-aria/utils/dist/import.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_checkbox__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/checkbox */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-checkbox.js\");\n/* harmony import */ var _keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/dialog */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-dialog.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_link__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/link */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-link.js\");\n/* harmony import */ var _keystar_ui_slots__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/slots */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-slots.js\");\n/* harmony import */ var _keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/text-field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-text-field.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst newsletterUrl = 'https://endpoints.thinkmill.com.au/newsletter';\nconst emailValidationMessage = 'Please enter a valid email address.';\nfunction validateEmail(value) {\n    return /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value);\n}\nfunction WelcomeDialog() {\n    const [subscribe, setSubscribe] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        'keystone'\n    ]);\n    const [email, setEmail] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const formId = (0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_10__.useId)();\n    const dialog = (0,_keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_4__.useDialogContainer)();\n    const onSubmit = async (event)=>{\n        event.preventDefault();\n        setError(null);\n        // Check if user wants to subscribe and a valid email address\n        if (subscribe.length) {\n            setLoading(true);\n            if (!validateEmail(email)) {\n                setError(emailValidationMessage);\n                return;\n            }\n            const tags = [\n                'source:@keystone-6/auth'\n            ];\n            subscribe.forEach((list)=>tags.push(`list:${list}`));\n            const res = await fetch(newsletterUrl, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    email,\n                    tags\n                })\n            });\n            try {\n                if (res.status !== 200) {\n                    const { error } = await res.json();\n                    setError(error);\n                    return;\n                }\n            } catch (e) {\n                // network errors or failed parse\n                setError(e.message.toString());\n                return;\n            }\n            setLoading(false);\n        }\n        dialog.dismiss();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_4__.Dialog, {\n        size: \"small\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_9__.Heading, {\n                children: [\n                    \"Welcome \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_9__.Emoji, {\n                        symbol: \"\\uD83D\\uDC4B\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                        lineNumber: 75,\n                        columnNumber: 17\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                lineNumber: 74,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_slots__WEBPACK_IMPORTED_MODULE_7__.Content, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_5__.VStack, {\n                    gap: \"xlarge\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_9__.Text, {\n                            elementType: \"p\",\n                            children: [\n                                \"Thanks for installing Keystone, checkout the\",\n                                ' ',\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_link__WEBPACK_IMPORTED_MODULE_6__.TextLink, {\n                                    href: \"https://keystonejs.com\",\n                                    children: \"documentation\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                                    lineNumber: 82,\n                                    columnNumber: 13\n                                }, this),\n                                \" for help getting started. To stay connected\",\n                                ' ',\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_link__WEBPACK_IMPORTED_MODULE_6__.TextLink, {\n                                    href: \"https://twitter.com/keystonejs\",\n                                    target: \"_blank\",\n                                    children: \"follow us on twitter\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                                    lineNumber: 84,\n                                    columnNumber: 13\n                                }, this),\n                                \", and to hear about the latest news sign up to our newsletters:\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                            lineNumber: 80,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                            id: formId,\n                            onSubmit: onSubmit,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_5__.VStack, {\n                                gap: \"medium\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_8__.TextField, {\n                                        label: \"Email\",\n                                        name: \"email\",\n                                        isRequired: true,\n                                        value: email,\n                                        onChange: setEmail,\n                                        onBlur: ()=>setError(validateEmail(email) ? null : emailValidationMessage),\n                                        placeholder: \"example@gmail.com\",\n                                        errorMessage: error\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                                        lineNumber: 92,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_checkbox__WEBPACK_IMPORTED_MODULE_3__.CheckboxGroup, {\n                                        onChange: setSubscribe,\n                                        value: subscribe,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_checkbox__WEBPACK_IMPORTED_MODULE_3__.Checkbox, {\n                                                value: \"keystone\",\n                                                children: \"Keystone news\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                                                lineNumber: 103,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_checkbox__WEBPACK_IMPORTED_MODULE_3__.Checkbox, {\n                                                value: \"thinkmill\",\n                                                children: \"Thinkmill news\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                                                lineNumber: 104,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                                        lineNumber: 102,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                                lineNumber: 91,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                            lineNumber: 90,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                    lineNumber: 79,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                lineNumber: 78,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.ButtonGroup, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        onPress: dialog.dismiss,\n                        children: \"Cancel\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                        lineNumber: 112,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        form: formId,\n                        prominence: \"high\",\n                        type: \"submit\",\n                        isPending: loading,\n                        children: \"Subscribe\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                        lineNumber: 113,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n                lineNumber: 111,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/components/WelcomeDialog.tsx\",\n        lineNumber: 73,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9XZWxjb21lRGlhbG9nLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUM7QUFDVDtBQUV3QjtBQUNNO0FBQ0M7QUFDcEI7QUFDQTtBQUNBO0FBQ087QUFDVztBQUU3RCxNQUFNZSxnQkFBZ0I7QUFDdEIsTUFBTUMseUJBQXlCO0FBRS9CLFNBQVNDLGNBQWNDLEtBQWE7SUFDbEMsT0FBTyx1SUFBdUlDLElBQUksQ0FDaEpEO0FBRUo7QUFFTyxTQUFTRTtJQUNkLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHckIsK0NBQVFBLENBQUM7UUFBQztLQUFXO0lBQ3ZELE1BQU0sQ0FBQ3NCLE9BQU9DLFNBQVMsR0FBR3ZCLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQ3dCLE9BQU9DLFNBQVMsR0FBR3pCLCtDQUFRQSxDQUFnQjtJQUNsRCxNQUFNLENBQUMwQixTQUFTQyxXQUFXLEdBQUczQiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNNEIsU0FBUzdCLHlEQUFLQTtJQUNwQixNQUFNOEIsU0FBU3ZCLHNFQUFrQkE7SUFFakMsTUFBTXdCLFdBQVcsT0FBT0M7UUFDdEJBLE1BQU1DLGNBQWM7UUFDcEJQLFNBQVM7UUFFVCw2REFBNkQ7UUFDN0QsSUFBSUwsVUFBVWEsTUFBTSxFQUFFO1lBQ3BCTixXQUFXO1lBRVgsSUFBSSxDQUFDWCxjQUFjTSxRQUFRO2dCQUN6QkcsU0FBU1Y7Z0JBQ1Q7WUFDRjtZQUVBLE1BQU1tQixPQUFPO2dCQUFDO2FBQTBCO1lBQ3hDZCxVQUFVZSxPQUFPLENBQUNDLENBQUFBLE9BQVFGLEtBQUtHLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRUQsTUFBTTtZQUVsRCxNQUFNRSxNQUFNLE1BQU1DLE1BQU16QixlQUFlO2dCQUNyQzBCLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQ1AsZ0JBQWdCO2dCQUNsQjtnQkFDQUMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO29CQUFFdEI7b0JBQU9ZO2dCQUFLO1lBQ3JDO1lBRUEsSUFBSTtnQkFDRixJQUFJSSxJQUFJTyxNQUFNLEtBQUssS0FBSztvQkFDdEIsTUFBTSxFQUFFckIsS0FBSyxFQUFFLEdBQUcsTUFBTWMsSUFBSVEsSUFBSTtvQkFDaENyQixTQUFTRDtvQkFDVDtnQkFDRjtZQUNGLEVBQUUsT0FBT3VCLEdBQVE7Z0JBQ2YsaUNBQWlDO2dCQUNqQ3RCLFNBQVNzQixFQUFFQyxPQUFPLENBQUNDLFFBQVE7Z0JBQzNCO1lBQ0Y7WUFFQXRCLFdBQVc7UUFDYjtRQUVBRSxPQUFPcUIsT0FBTztJQUNoQjtJQUVBLHFCQUNFLDhEQUFDN0Msc0RBQU1BO1FBQUM4QyxNQUFLOzswQkFDWCw4REFBQ3ZDLDJEQUFPQTs7b0JBQUM7a0NBQ0MsOERBQUNELHlEQUFLQTt3QkFBQ3lDLFFBQU87Ozs7Ozs7Ozs7OzswQkFHeEIsOERBQUMzQyxzREFBT0E7MEJBQ04sNEVBQUNGLHNEQUFNQTtvQkFBQzhDLEtBQUk7O3NDQUNWLDhEQUFDeEMsd0RBQUlBOzRCQUFDeUMsYUFBWTs7Z0NBQUk7Z0NBQ3lCOzhDQUM3Qyw4REFBQzlDLHNEQUFRQTtvQ0FBQytDLE1BQUs7OENBQXlCOzs7Ozs7Z0NBQXdCO2dDQUNyQzs4Q0FDM0IsOERBQUMvQyxzREFBUUE7b0NBQUMrQyxNQUFLO29DQUFpQ0MsUUFBTzs4Q0FBUzs7Ozs7O2dDQUVyRDs7Ozs7OztzQ0FJYiw4REFBQ0M7NEJBQUtDLElBQUk5Qjs0QkFBUUUsVUFBVUE7c0NBQzFCLDRFQUFDdkIsc0RBQU1BO2dDQUFDOEMsS0FBSTs7a0RBQ1YsOERBQUMzQyw2REFBU0E7d0NBQ1JpRCxPQUFNO3dDQUNOQyxNQUFLO3dDQUNMQyxVQUFVO3dDQUNWNUMsT0FBT0s7d0NBQ1B3QyxVQUFVdkM7d0NBQ1Z3QyxRQUFRLElBQU10QyxTQUFTVCxjQUFjTSxTQUFTLE9BQU9QO3dDQUNyRGlELGFBQVk7d0NBQ1pDLGNBQWN6Qzs7Ozs7O2tEQUVoQiw4REFBQ3BCLCtEQUFhQTt3Q0FBQzBELFVBQVV6Qzt3Q0FBY0osT0FBT0c7OzBEQUM1Qyw4REFBQ2pCLDBEQUFRQTtnREFBQ2MsT0FBTTswREFBVzs7Ozs7OzBEQUMzQiw4REFBQ2QsMERBQVFBO2dEQUFDYyxPQUFNOzBEQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQU90Qyw4REFBQ2YsMkRBQVdBOztrQ0FDViw4REFBQ0Qsc0RBQU1BO3dCQUFDaUUsU0FBU3JDLE9BQU9xQixPQUFPO2tDQUFFOzs7Ozs7a0NBQ2pDLDhEQUFDakQsc0RBQU1BO3dCQUFDd0QsTUFBTTdCO3dCQUFRdUMsWUFBVzt3QkFBT0MsTUFBSzt3QkFBU0MsV0FBVzNDO2tDQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNbEYiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9XZWxjb21lRGlhbG9nLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VJZCB9IGZyb20gJ0ByZWFjdC1hcmlhL3V0aWxzJ1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgQnV0dG9uLCBCdXR0b25Hcm91cCB9IGZyb20gJ0BrZXlzdGFyL3VpL2J1dHRvbidcbmltcG9ydCB7IENoZWNrYm94LCBDaGVja2JveEdyb3VwIH0gZnJvbSAnQGtleXN0YXIvdWkvY2hlY2tib3gnXG5pbXBvcnQgeyBEaWFsb2csIHVzZURpYWxvZ0NvbnRhaW5lciB9IGZyb20gJ0BrZXlzdGFyL3VpL2RpYWxvZydcbmltcG9ydCB7IFZTdGFjayB9IGZyb20gJ0BrZXlzdGFyL3VpL2xheW91dCdcbmltcG9ydCB7IFRleHRMaW5rIH0gZnJvbSAnQGtleXN0YXIvdWkvbGluaydcbmltcG9ydCB7IENvbnRlbnQgfSBmcm9tICdAa2V5c3Rhci91aS9zbG90cydcbmltcG9ydCB7IFRleHRGaWVsZCB9IGZyb20gJ0BrZXlzdGFyL3VpL3RleHQtZmllbGQnXG5pbXBvcnQgeyBFbW9qaSwgSGVhZGluZywgVGV4dCB9IGZyb20gJ0BrZXlzdGFyL3VpL3R5cG9ncmFwaHknXG5cbmNvbnN0IG5ld3NsZXR0ZXJVcmwgPSAnaHR0cHM6Ly9lbmRwb2ludHMudGhpbmttaWxsLmNvbS5hdS9uZXdzbGV0dGVyJ1xuY29uc3QgZW1haWxWYWxpZGF0aW9uTWVzc2FnZSA9ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLidcblxuZnVuY3Rpb24gdmFsaWRhdGVFbWFpbCh2YWx1ZTogc3RyaW5nKSB7XG4gIHJldHVybiAvXlthLXpBLVowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC8udGVzdChcbiAgICB2YWx1ZVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBXZWxjb21lRGlhbG9nKCkge1xuICBjb25zdCBbc3Vic2NyaWJlLCBzZXRTdWJzY3JpYmVdID0gdXNlU3RhdGUoWydrZXlzdG9uZSddKVxuICBjb25zdCBbZW1haWwsIHNldEVtYWlsXSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBmb3JtSWQgPSB1c2VJZCgpXG4gIGNvbnN0IGRpYWxvZyA9IHVzZURpYWxvZ0NvbnRhaW5lcigpXG5cbiAgY29uc3Qgb25TdWJtaXQgPSBhc3luYyAoZXZlbnQ6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBzZXRFcnJvcihudWxsKVxuXG4gICAgLy8gQ2hlY2sgaWYgdXNlciB3YW50cyB0byBzdWJzY3JpYmUgYW5kIGEgdmFsaWQgZW1haWwgYWRkcmVzc1xuICAgIGlmIChzdWJzY3JpYmUubGVuZ3RoKSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpXG5cbiAgICAgIGlmICghdmFsaWRhdGVFbWFpbChlbWFpbCkpIHtcbiAgICAgICAgc2V0RXJyb3IoZW1haWxWYWxpZGF0aW9uTWVzc2FnZSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRhZ3MgPSBbJ3NvdXJjZTpAa2V5c3RvbmUtNi9hdXRoJ11cbiAgICAgIHN1YnNjcmliZS5mb3JFYWNoKGxpc3QgPT4gdGFncy5wdXNoKGBsaXN0OiR7bGlzdH1gKSlcblxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2gobmV3c2xldHRlclVybCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZW1haWwsIHRhZ3MgfSksXG4gICAgICB9KVxuXG4gICAgICB0cnkge1xuICAgICAgICBpZiAocmVzLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgcmVzLmpzb24oKVxuICAgICAgICAgIHNldEVycm9yKGVycm9yKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgLy8gbmV0d29yayBlcnJvcnMgb3IgZmFpbGVkIHBhcnNlXG4gICAgICAgIHNldEVycm9yKGUubWVzc2FnZS50b1N0cmluZygpKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICB9XG5cbiAgICBkaWFsb2cuZGlzbWlzcygpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxEaWFsb2cgc2l6ZT1cInNtYWxsXCI+XG4gICAgICA8SGVhZGluZz5cbiAgICAgICAgV2VsY29tZSA8RW1vamkgc3ltYm9sPVwi8J+Ri1wiIC8+XG4gICAgICA8L0hlYWRpbmc+XG5cbiAgICAgIDxDb250ZW50PlxuICAgICAgICA8VlN0YWNrIGdhcD1cInhsYXJnZVwiPlxuICAgICAgICAgIDxUZXh0IGVsZW1lbnRUeXBlPVwicFwiPlxuICAgICAgICAgICAgVGhhbmtzIGZvciBpbnN0YWxsaW5nIEtleXN0b25lLCBjaGVja291dCB0aGV7JyAnfVxuICAgICAgICAgICAgPFRleHRMaW5rIGhyZWY9XCJodHRwczovL2tleXN0b25lanMuY29tXCI+ZG9jdW1lbnRhdGlvbjwvVGV4dExpbms+IGZvciBoZWxwIGdldHRpbmdcbiAgICAgICAgICAgIHN0YXJ0ZWQuIFRvIHN0YXkgY29ubmVjdGVkeycgJ31cbiAgICAgICAgICAgIDxUZXh0TGluayBocmVmPVwiaHR0cHM6Ly90d2l0dGVyLmNvbS9rZXlzdG9uZWpzXCIgdGFyZ2V0PVwiX2JsYW5rXCI+XG4gICAgICAgICAgICAgIGZvbGxvdyB1cyBvbiB0d2l0dGVyXG4gICAgICAgICAgICA8L1RleHRMaW5rPlxuICAgICAgICAgICAgLCBhbmQgdG8gaGVhciBhYm91dCB0aGUgbGF0ZXN0IG5ld3Mgc2lnbiB1cCB0byBvdXIgbmV3c2xldHRlcnM6XG4gICAgICAgICAgPC9UZXh0PlxuXG4gICAgICAgICAgPGZvcm0gaWQ9e2Zvcm1JZH0gb25TdWJtaXQ9e29uU3VibWl0fT5cbiAgICAgICAgICAgIDxWU3RhY2sgZ2FwPVwibWVkaXVtXCI+XG4gICAgICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgICAgICBsYWJlbD1cIkVtYWlsXCJcbiAgICAgICAgICAgICAgICBuYW1lPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgIGlzUmVxdWlyZWRcbiAgICAgICAgICAgICAgICB2YWx1ZT17ZW1haWx9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3NldEVtYWlsfVxuICAgICAgICAgICAgICAgIG9uQmx1cj17KCkgPT4gc2V0RXJyb3IodmFsaWRhdGVFbWFpbChlbWFpbCkgPyBudWxsIDogZW1haWxWYWxpZGF0aW9uTWVzc2FnZSl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJleGFtcGxlQGdtYWlsLmNvbVwiXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlPXtlcnJvcn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPENoZWNrYm94R3JvdXAgb25DaGFuZ2U9e3NldFN1YnNjcmliZX0gdmFsdWU9e3N1YnNjcmliZX0+XG4gICAgICAgICAgICAgICAgPENoZWNrYm94IHZhbHVlPVwia2V5c3RvbmVcIj5LZXlzdG9uZSBuZXdzPC9DaGVja2JveD5cbiAgICAgICAgICAgICAgICA8Q2hlY2tib3ggdmFsdWU9XCJ0aGlua21pbGxcIj5UaGlua21pbGwgbmV3czwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgIDwvQ2hlY2tib3hHcm91cD5cbiAgICAgICAgICAgIDwvVlN0YWNrPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9WU3RhY2s+XG4gICAgICA8L0NvbnRlbnQ+XG5cbiAgICAgIDxCdXR0b25Hcm91cD5cbiAgICAgICAgPEJ1dHRvbiBvblByZXNzPXtkaWFsb2cuZGlzbWlzc30+Q2FuY2VsPC9CdXR0b24+XG4gICAgICAgIDxCdXR0b24gZm9ybT17Zm9ybUlkfSBwcm9taW5lbmNlPVwiaGlnaFwiIHR5cGU9XCJzdWJtaXRcIiBpc1BlbmRpbmc9e2xvYWRpbmd9PlxuICAgICAgICAgIFN1YnNjcmliZVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvQnV0dG9uR3JvdXA+XG4gICAgPC9EaWFsb2c+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VJZCIsInVzZVN0YXRlIiwiQnV0dG9uIiwiQnV0dG9uR3JvdXAiLCJDaGVja2JveCIsIkNoZWNrYm94R3JvdXAiLCJEaWFsb2ciLCJ1c2VEaWFsb2dDb250YWluZXIiLCJWU3RhY2siLCJUZXh0TGluayIsIkNvbnRlbnQiLCJUZXh0RmllbGQiLCJFbW9qaSIsIkhlYWRpbmciLCJUZXh0IiwibmV3c2xldHRlclVybCIsImVtYWlsVmFsaWRhdGlvbk1lc3NhZ2UiLCJ2YWxpZGF0ZUVtYWlsIiwidmFsdWUiLCJ0ZXN0IiwiV2VsY29tZURpYWxvZyIsInN1YnNjcmliZSIsInNldFN1YnNjcmliZSIsImVtYWlsIiwic2V0RW1haWwiLCJlcnJvciIsInNldEVycm9yIiwibG9hZGluZyIsInNldExvYWRpbmciLCJmb3JtSWQiLCJkaWFsb2ciLCJvblN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJsZW5ndGgiLCJ0YWdzIiwiZm9yRWFjaCIsImxpc3QiLCJwdXNoIiwicmVzIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdGF0dXMiLCJqc29uIiwiZSIsIm1lc3NhZ2UiLCJ0b1N0cmluZyIsImRpc21pc3MiLCJzaXplIiwic3ltYm9sIiwiZ2FwIiwiZWxlbWVudFR5cGUiLCJocmVmIiwidGFyZ2V0IiwiZm9ybSIsImlkIiwibGFiZWwiLCJuYW1lIiwiaXNSZXF1aXJlZCIsIm9uQ2hhbmdlIiwib25CbHVyIiwicGxhY2Vob2xkZXIiLCJlcnJvck1lc3NhZ2UiLCJvblByZXNzIiwicHJvbWluZW5jZSIsInR5cGUiLCJpc1BlbmRpbmciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/components/WelcomeDialog.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/components/index.ts":
/*!******************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/components/index.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BuildItemDialog: () => (/* reexport safe */ _CreateItemDialog__WEBPACK_IMPORTED_MODULE_7__.BuildItemDialog),\n/* harmony export */   CellContainer: () => (/* reexport safe */ _CellContainer__WEBPACK_IMPORTED_MODULE_0__.CellContainer),\n/* harmony export */   DeveloperResourcesMenu: () => (/* reexport safe */ _Navigation__WEBPACK_IMPORTED_MODULE_5__.DeveloperResourcesMenu),\n/* harmony export */   ErrorBoundary: () => (/* reexport safe */ _Errors__WEBPACK_IMPORTED_MODULE_3__.ErrorBoundary),\n/* harmony export */   ErrorContainer: () => (/* reexport safe */ _Errors__WEBPACK_IMPORTED_MODULE_3__.ErrorContainer),\n/* harmony export */   GraphQLErrorNotice: () => (/* reexport safe */ _GraphQLErrorNotice__WEBPACK_IMPORTED_MODULE_8__.GraphQLErrorNotice),\n/* harmony export */   InlineCode: () => (/* reexport safe */ _InlineCode__WEBPACK_IMPORTED_MODULE_1__.InlineCode),\n/* harmony export */   Logo: () => (/* reexport safe */ _Logo__WEBPACK_IMPORTED_MODULE_4__.Logo),\n/* harmony export */   NavContainer: () => (/* reexport safe */ _Navigation__WEBPACK_IMPORTED_MODULE_5__.NavContainer),\n/* harmony export */   NavFooter: () => (/* reexport safe */ _Navigation__WEBPACK_IMPORTED_MODULE_5__.NavFooter),\n/* harmony export */   NavItem: () => (/* reexport safe */ _Navigation__WEBPACK_IMPORTED_MODULE_5__.NavItem),\n/* harmony export */   NavList: () => (/* reexport safe */ _Navigation__WEBPACK_IMPORTED_MODULE_5__.NavList),\n/* harmony export */   NullableFieldWrapper: () => (/* reexport safe */ _NullableFieldWrapper__WEBPACK_IMPORTED_MODULE_2__.NullableFieldWrapper),\n/* harmony export */   PageContainer: () => (/* reexport safe */ _PageContainer__WEBPACK_IMPORTED_MODULE_6__.PageContainer),\n/* harmony export */   PageWrapper: () => (/* reexport safe */ _PageContainer__WEBPACK_IMPORTED_MODULE_6__.PageWrapper),\n/* harmony export */   getHrefFromList: () => (/* reexport safe */ _Navigation__WEBPACK_IMPORTED_MODULE_5__.getHrefFromList)\n/* harmony export */ });\n/* harmony import */ var _CellContainer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CellContainer */ \"../../../../packages/core/src/admin-ui/components/CellContainer.tsx\");\n/* harmony import */ var _InlineCode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./InlineCode */ \"../../../../packages/core/src/admin-ui/components/InlineCode.tsx\");\n/* harmony import */ var _NullableFieldWrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NullableFieldWrapper */ \"../../../../packages/core/src/admin-ui/components/NullableFieldWrapper.tsx\");\n/* harmony import */ var _Errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Errors */ \"../../../../packages/core/src/admin-ui/components/Errors.tsx\");\n/* harmony import */ var _Logo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Logo */ \"../../../../packages/core/src/admin-ui/components/Logo.tsx\");\n/* harmony import */ var _Navigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Navigation */ \"../../../../packages/core/src/admin-ui/components/Navigation.tsx\");\n/* harmony import */ var _PageContainer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PageContainer */ \"../../../../packages/core/src/admin-ui/components/PageContainer.tsx\");\n/* harmony import */ var _CreateItemDialog__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./CreateItemDialog */ \"../../../../packages/core/src/admin-ui/components/CreateItemDialog.tsx\");\n/* harmony import */ var _GraphQLErrorNotice__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./GraphQLErrorNotice */ \"../../../../packages/core/src/admin-ui/components/GraphQLErrorNotice.tsx\");\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29tcG9uZW50cy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStDO0FBQ047QUFDb0I7QUFFTDtBQUUzQjtBQVFSO0FBTXVDO0FBQ1I7QUFDSyIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9hZG1pbi11aS9jb21wb25lbnRzL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IENlbGxDb250YWluZXIgfSBmcm9tICcuL0NlbGxDb250YWluZXInXG5leHBvcnQgeyBJbmxpbmVDb2RlIH0gZnJvbSAnLi9JbmxpbmVDb2RlJ1xuZXhwb3J0IHsgTnVsbGFibGVGaWVsZFdyYXBwZXIgfSBmcm9tICcuL051bGxhYmxlRmllbGRXcmFwcGVyJ1xuXG5leHBvcnQgeyBFcnJvckJvdW5kYXJ5LCBFcnJvckNvbnRhaW5lciB9IGZyb20gJy4vRXJyb3JzJ1xuXG5leHBvcnQgeyBMb2dvIH0gZnJvbSAnLi9Mb2dvJ1xuZXhwb3J0IHtcbiAgZ2V0SHJlZkZyb21MaXN0LFxuICBEZXZlbG9wZXJSZXNvdXJjZXNNZW51LFxuICBOYXZDb250YWluZXIsXG4gIE5hdkZvb3RlcixcbiAgTmF2SXRlbSxcbiAgTmF2TGlzdCxcbn0gZnJvbSAnLi9OYXZpZ2F0aW9uJ1xuXG4vLyBjby1sb2NhdGluZyB0aGUgdHlwZSB3aXRoIHRoZSBhZG1pbi11aS9jb21wb25lbnQgZm9yIGEgbW9yZSBhIHNhbGllbnQgbWVudGFsIG1vZGVsLlxuLy8gaW1wb3J0aW5nIHRoaXMgdHlwZSBmcm9tIEBrZXlzdG9uZS02L2NvcmUvYWRtaW4tdWkvY29tcG9uZW50cyBpcyBwcm9iYWJseSBpbnR1aXRpdmUgZm9yIGEgdXNlclxuZXhwb3J0IHR5cGUgeyBOYXZpZ2F0aW9uUHJvcHMgfSBmcm9tICcuLi8uLi90eXBlcydcblxuZXhwb3J0IHsgUGFnZUNvbnRhaW5lciwgUGFnZVdyYXBwZXIgfSBmcm9tICcuL1BhZ2VDb250YWluZXInXG5leHBvcnQgeyBCdWlsZEl0ZW1EaWFsb2cgfSBmcm9tICcuL0NyZWF0ZUl0ZW1EaWFsb2cnXG5leHBvcnQgeyBHcmFwaFFMRXJyb3JOb3RpY2UgfSBmcm9tICcuL0dyYXBoUUxFcnJvck5vdGljZSdcbiJdLCJuYW1lcyI6WyJDZWxsQ29udGFpbmVyIiwiSW5saW5lQ29kZSIsIk51bGxhYmxlRmllbGRXcmFwcGVyIiwiRXJyb3JCb3VuZGFyeSIsIkVycm9yQ29udGFpbmVyIiwiTG9nbyIsImdldEhyZWZGcm9tTGlzdCIsIkRldmVsb3BlclJlc291cmNlc01lbnUiLCJOYXZDb250YWluZXIiLCJOYXZGb290ZXIiLCJOYXZJdGVtIiwiTmF2TGlzdCIsIlBhZ2VDb250YWluZXIiLCJQYWdlV3JhcHBlciIsIkJ1aWxkSXRlbURpYWxvZyIsIkdyYXBoUUxFcnJvck5vdGljZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/components/index.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/context.tsx":
/*!**********************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/context.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KeystoneProvider: () => (/* binding */ KeystoneProvider),\n/* harmony export */   useField: () => (/* binding */ useField),\n/* harmony export */   useKeystone: () => (/* binding */ useKeystone),\n/* harmony export */   useList: () => (/* binding */ useList),\n/* harmony export */   useListItem: () => (/* binding */ useListItem),\n/* harmony export */   useRawKeystone: () => (/* binding */ useRawKeystone)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var apollo_upload_client__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! apollo-upload-client */ \"../../../../node_modules/.pnpm/apollo-upload-client@17.0.0_@apollo+client@3.13.5_@types+react@19.0.12_graphql-ws@6.0.4_graph_ug2df7dfqzxexdl3xkdwgkyejm/node_modules/apollo-upload-client/public/index.mjs\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/head */ \"../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _keystar_ui_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/core */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-core.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _keystar_ui_toast__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/toast */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-toast.js\");\n/* harmony import */ var _keystone_6_core_admin_ui_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystone-6/core/admin-ui/router */ \"../../../../packages/core/src/admin-ui/router.tsx\");\n/* harmony import */ var _internal_do_not_use_will_break_in_patch_admin_ui_pages_ListPage_PaginationControls__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls */ \"../../../../packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\");\n/* harmony import */ var _admin_meta_graphql__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./admin-meta-graphql */ \"../../../../packages/core/src/admin-ui/admin-meta-graphql.ts\");\n/* harmony import */ var _apollo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./apollo */ \"../../../../packages/core/src/admin-ui/apollo.tsx\");\n\n\n\n\n\n\n\n\n\n\n\nconst KeystoneContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_2__.createContext)({\n    adminConfig: null,\n    apiPath: null,\n    lists: {},\n    fieldViews: {}\n});\nconst expectedExports = new Set([\n    'Field',\n    'controller'\n]);\nfunction InternalKeystoneProvider({ adminConfig, apiPath, fieldViews, children }) {\n    const { push: navigate } = (0,_keystone_6_core_admin_ui_router__WEBPACK_IMPORTED_MODULE_6__.useRouter)();\n    const keystarRouter = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"InternalKeystoneProvider.useMemo[keystarRouter]\": ()=>({\n                navigate\n            })\n    }[\"InternalKeystoneProvider.useMemo[keystarRouter]\"], [\n        navigate\n    ]);\n    const { data, loading, error } = (0,_apollo__WEBPACK_IMPORTED_MODULE_9__.useQuery)(_admin_meta_graphql__WEBPACK_IMPORTED_MODULE_8__.adminMetaQuery);\n    const listsData = data?.keystone?.adminMeta?.lists;\n    const lists = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"InternalKeystoneProvider.useMemo[lists]\": ()=>{\n            if (!listsData) return;\n            if (error) return;\n            const lists = {};\n            for (const list of listsData){\n                lists[list.key] = {\n                    ...list,\n                    pageSize: (0,_internal_do_not_use_will_break_in_patch_admin_ui_pages_ListPage_PaginationControls__WEBPACK_IMPORTED_MODULE_7__.snapValueToClosest)(list.pageSize ?? 50),\n                    groups: [],\n                    fields: {}\n                };\n                for (const field of list.fields){\n                    for (const exportName of expectedExports){\n                        if (fieldViews[field.viewsIndex][exportName] === undefined) {\n                            throw new Error(`The view for the field at ${list.key}.${field.key} is missing the ${exportName} export`);\n                        }\n                    }\n                    const views = {\n                        ...fieldViews[field.viewsIndex]\n                    };\n                    const customViews = {};\n                    if (field.customViewsIndex !== null) {\n                        const customViewsSource = fieldViews[field.customViewsIndex];\n                        const allowedExportsOnCustomViews = new Set(views.allowedExportsOnCustomViews);\n                        for(const exportName in customViewsSource){\n                            if (allowedExportsOnCustomViews.has(exportName)) {\n                                customViews[exportName] = customViewsSource[exportName];\n                            } else if (expectedExports.has(exportName)) {\n                                ;\n                                views[exportName] = customViewsSource[exportName];\n                            }\n                        }\n                    }\n                    lists[list.key].fields[field.key] = {\n                        ...field,\n                        createView: {\n                            fieldMode: field.createView?.fieldMode ?? null,\n                            isRequired: field.createView?.isRequired ?? false\n                        },\n                        itemView: {\n                            fieldMode: field.itemView?.fieldMode ?? null,\n                            fieldPosition: field.itemView?.fieldPosition ?? null,\n                            isRequired: field.itemView?.isRequired ?? false\n                        },\n                        listView: {\n                            fieldMode: field.listView?.fieldMode ?? null\n                        },\n                        graphql: {\n                            isNonNull: field.isNonNull\n                        },\n                        views,\n                        controller: views.controller({\n                            listKey: list.key,\n                            fieldKey: field.key,\n                            label: field.label,\n                            description: field.description,\n                            fieldMeta: field.fieldMeta,\n                            customViews\n                        })\n                    };\n                }\n                for (const group of list.groups){\n                    lists[list.key].groups.push({\n                        label: group.label,\n                        description: group.description,\n                        fields: group.fields.map({\n                            \"InternalKeystoneProvider.useMemo[lists]\": (field)=>lists[list.key].fields[field.key]\n                        }[\"InternalKeystoneProvider.useMemo[lists]\"])\n                    });\n                }\n            }\n            return lists;\n        }\n    }[\"InternalKeystoneProvider.useMemo[lists]\"], [\n        listsData,\n        error,\n        fieldViews\n    ]);\n    // TODO: remove this once studio is fully migrated to keystar-ui\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"InternalKeystoneProvider.useEffect\": ()=>{\n            (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_4__.injectGlobal)({\n                body: {\n                    fontFamily: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_4__.tokenSchema.typography.fontFamily.base\n                },\n                // [1] reset all box sizing to border-box\n                // [2] default borders so you can add a border by specifying just the width\n                '*, ::before, ::after': {\n                    // boxSizing: 'border-box', // this breaks some things in keystar-ui\n                    borderWidth: 0,\n                    borderStyle: 'solid',\n                    borderColor: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_4__.tokenSchema.color.border.neutral\n                }\n            });\n        }\n    }[\"InternalKeystoneProvider.useEffect\"], []);\n    // TODO\n    if (loading) return null;\n    //   if (!meta) return null\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_core__WEBPACK_IMPORTED_MODULE_3__.KeystarProvider, {\n        router: keystarRouter,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_core__WEBPACK_IMPORTED_MODULE_3__.ClientSideOnlyDocumentElement, {\n                bodyBackground: \"surface\"\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/context.tsx\",\n                lineNumber: 158,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_1___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1.0\"\n                    }, \"viewport\", false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/context.tsx\",\n                        lineNumber: 160,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        href: \"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\",\n                        rel: \"stylesheet\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/context.tsx\",\n                        lineNumber: 161,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/context.tsx\",\n                lineNumber: 159,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(KeystoneContext.Provider, {\n                value: {\n                    adminConfig,\n                    apiPath,\n                    lists: lists ?? {},\n                    fieldViews\n                },\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/context.tsx\",\n                lineNumber: 167,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_toast__WEBPACK_IMPORTED_MODULE_5__.Toaster, {}, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/context.tsx\",\n                lineNumber: 177,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/context.tsx\",\n        lineNumber: 157,\n        columnNumber: 5\n    }, this);\n}\nfunction KeystoneProvider(props) {\n    const apolloClient = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"KeystoneProvider.useMemo[apolloClient]\": ()=>new _apollo__WEBPACK_IMPORTED_MODULE_9__.ApolloClient({\n                cache: new _apollo__WEBPACK_IMPORTED_MODULE_9__.InMemoryCache(),\n                uri: props.apiPath,\n                link: (0,apollo_upload_client__WEBPACK_IMPORTED_MODULE_10__.createUploadLink)({\n                    uri: props.apiPath,\n                    headers: {\n                        'Apollo-Require-Preflight': 'true'\n                    }\n                })\n            })\n    }[\"KeystoneProvider.useMemo[apolloClient]\"], [\n        props.apiPath\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_apollo__WEBPACK_IMPORTED_MODULE_9__.ApolloProvider, {\n        client: apolloClient,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InternalKeystoneProvider, {\n            ...props\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/context.tsx\",\n            lineNumber: 198,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/context.tsx\",\n        lineNumber: 197,\n        columnNumber: 5\n    }, this);\n}\nfunction useRawKeystone() {\n    const value = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(KeystoneContext);\n    if (!value) throw new Error('useRawKeystone must be called inside a KeystoneProvider component');\n    return value;\n}\nfunction useKeystone() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(KeystoneContext);\n}\nfunction useList(listKey) {\n    const { lists } = useKeystone();\n    const list = lists?.[listKey];\n    if (!list) throw new Error(`Unknown list ${listKey}`);\n    return list;\n}\nfunction useField(listKey, fieldKey) {\n    const list = useList(listKey);\n    const field = list.fields[fieldKey];\n    if (!field) throw new Error(`Unknown field ${listKey}.${fieldKey}`);\n    return field;\n}\n// TODO useContext\nfunction useListItem(listKey, itemId) {\n    const list = useList(listKey);\n    const query = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"useListItem.useMemo[query]\": ()=>{\n            const selectedFields = Object.values(list.fields).filter({\n                \"useListItem.useMemo[query].selectedFields\": (field)=>{\n                    if (field.key === 'id') return true;\n                    return field.itemView.fieldMode !== 'hidden';\n                }\n            }[\"useListItem.useMemo[query].selectedFields\"]).map({\n                \"useListItem.useMemo[query].selectedFields\": (field)=>field.controller.graphqlSelection\n            }[\"useListItem.useMemo[query].selectedFields\"]).join('\\n');\n            return (0,_apollo__WEBPACK_IMPORTED_MODULE_9__.gql)`\n      query KsFetchItem ($id: ID!, $listKey: String!) {\n        item: ${list.graphql.names.itemQueryName}(where: {id: $id}) {\n          ${selectedFields}\n        }\n        keystone {\n          adminMeta {\n            list(key: $listKey) {\n              fields {\n                key\n                itemView(id: $id) {\n                  fieldMode\n                  fieldPosition\n                  isRequired\n                }\n              }\n            }\n          }\n        }\n      }\n    `;\n        }\n    }[\"useListItem.useMemo[query]\"], [\n        list\n    ]);\n    return (0,_apollo__WEBPACK_IMPORTED_MODULE_9__.useQuery)(query, {\n        errorPolicy: 'all',\n        skip: itemId === null,\n        variables: {\n            listKey,\n            id: itemId\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVEO0FBQ3ZCO0FBQ3FEO0FBRUo7QUFDcEI7QUFDbEI7QUFDaUI7QUFFaUU7QUFTbkQ7QUFFVztBQVNyRixNQUFNbUIsZ0NBQWtCakIsb0RBQWFBLENBQXNCO0lBQ3pEa0IsYUFBYTtJQUNiQyxTQUFTO0lBQ1RDLE9BQU8sQ0FBQztJQUNSQyxZQUFZLENBQUM7QUFDZjtBQVNBLE1BQU1DLGtCQUFrQixJQUFJQyxJQUFJO0lBQUM7SUFBUztDQUFhO0FBRXZELFNBQVNDLHlCQUF5QixFQUNoQ04sV0FBVyxFQUNYQyxPQUFPLEVBQ1BFLFVBQVUsRUFDVkksUUFBUSxFQUNjO0lBQ3RCLE1BQU0sRUFBRUMsTUFBTUMsUUFBUSxFQUFFLEdBQUdsQiwyRUFBU0E7SUFDcEMsTUFBTW1CLGdCQUFnQnpCLDhDQUFPQTsyREFBQyxJQUFPO2dCQUFFd0I7WUFBUzswREFBSTtRQUFDQTtLQUFTO0lBQzlELE1BQU0sRUFBRUUsSUFBSSxFQUFFQyxPQUFPLEVBQUVDLEtBQUssRUFBRSxHQUFHZixpREFBUUEsQ0FBaUJMLCtEQUFjQTtJQUN4RSxNQUFNcUIsWUFBWUgsTUFBTUksVUFBVUMsV0FBV2Q7SUFDN0MsTUFBTUEsUUFBUWpCLDhDQUFPQTttREFBQztZQUNwQixJQUFJLENBQUM2QixXQUFXO1lBQ2hCLElBQUlELE9BQU87WUFFWCxNQUFNWCxRQUFzQyxDQUFDO1lBRTdDLEtBQUssTUFBTWUsUUFBUUgsVUFBVztnQkFDNUJaLEtBQUssQ0FBQ2UsS0FBS0MsR0FBRyxDQUFDLEdBQUc7b0JBQ2hCLEdBQUdELElBQUk7b0JBQ1BFLFVBQVUzQix1SUFBa0JBLENBQUN5QixLQUFLRSxRQUFRLElBQUk7b0JBQzlDQyxRQUFRLEVBQUU7b0JBQ1ZDLFFBQVEsQ0FBQztnQkFDWDtnQkFFQSxLQUFLLE1BQU1DLFNBQVNMLEtBQUtJ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Q0FBQztVQUN2QyxFQUFFUCxlQUFlOzs7Ozs7Ozs7Ozs7Ozs7OztJQWlCdkIsQ0FBQztRQUNIO3FDQUFHO1FBQUNsRTtLQUFLO0lBRVQsT0FBT25CLGlEQUFRQSxDQUFDb0YsT0FBTztRQUNyQlMsYUFBYTtRQUNiQyxNQUFNWCxXQUFXO1FBQ2pCWSxXQUFXO1lBQ1RuRDtZQUNBb0QsSUFBSWI7UUFDTjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvY29udGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlVXBsb2FkTGluayB9IGZyb20gJ2Fwb2xsby11cGxvYWQtY2xpZW50J1xuaW1wb3J0IE5leHRIZWFkIGZyb20gJ25leHQvaGVhZCdcbmltcG9ydCB7IHR5cGUgUmVhY3ROb2RlLCBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgQ2xpZW50U2lkZU9ubHlEb2N1bWVudEVsZW1lbnQsIEtleXN0YXJQcm92aWRlciB9IGZyb20gJ0BrZXlzdGFyL3VpL2NvcmUnXG5pbXBvcnQgeyBpbmplY3RHbG9iYWwsIHRva2VuU2NoZW1hIH0gZnJvbSAnQGtleXN0YXIvdWkvc3R5bGUnXG5pbXBvcnQgeyBUb2FzdGVyIH0gZnJvbSAnQGtleXN0YXIvdWkvdG9hc3QnXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICdAa2V5c3RvbmUtNi9jb3JlL2FkbWluLXVpL3JvdXRlcidcblxuaW1wb3J0IHsgc25hcFZhbHVlVG9DbG9zZXN0IH0gZnJvbSAnLi4vX19faW50ZXJuYWwtZG8tbm90LXVzZS13aWxsLWJyZWFrLWluLXBhdGNoL2FkbWluLXVpL3BhZ2VzL0xpc3RQYWdlL1BhZ2luYXRpb25Db250cm9scydcbmltcG9ydCB0eXBlIHtcbiAgQWRtaW5Db25maWcsXG4gIEJhc2VMaXN0VHlwZUluZm8sXG4gIENvbmRpdGlvbmFsRmllbGRGaWx0ZXIsXG4gIENvbmRpdGlvbmFsRmllbGRGaWx0ZXJDYXNlLFxuICBGaWVsZFZpZXdzLFxuICBMaXN0TWV0YSxcbn0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQgeyB0eXBlIEFkbWluTWV0YVF1ZXJ5LCBhZG1pbk1ldGFRdWVyeSB9IGZyb20gJy4vYWRtaW4tbWV0YS1ncmFwaHFsJ1xuaW1wb3J0IHR5cGUgeyBRdWVyeVJlc3VsdCB9IGZyb20gJy4vYXBvbGxvJ1xuaW1wb3J0IHsgQXBvbGxvQ2xpZW50LCBBcG9sbG9Qcm92aWRlciwgSW5NZW1vcnlDYWNoZSwgZ3FsLCB1c2VRdWVyeSB9IGZyb20gJy4vYXBvbGxvJ1xuXG50eXBlIEtleXN0b25lQ29udGV4dFR5cGUgPSB7XG4gIGFkbWluQ29uZmlnOiBBZG1pbkNvbmZpZyB8IG51bGxcbiAgbGlzdHM6IHsgW2xpc3Q6IHN0cmluZ106IExpc3RNZXRhIH1cbiAgYXBpUGF0aDogc3RyaW5nIHwgbnVsbFxuICBmaWVsZFZpZXdzOiBGaWVsZFZpZXdzXG59XG5cbmNvbnN0IEtleXN0b25lQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8S2V5c3RvbmVDb250ZXh0VHlwZT4oe1xuICBhZG1pbkNvbmZpZzogbnVsbCxcbiAgYXBpUGF0aDogbnVsbCxcbiAgbGlzdHM6IHt9LFxuICBmaWVsZFZpZXdzOiB7fSxcbn0pXG5cbnR5cGUgS2V5c3RvbmVQcm92aWRlclByb3BzID0ge1xuICBhZG1pbkNvbmZpZzogQWRtaW5Db25maWdcbiAgYXBpUGF0aDogc3RyaW5nXG4gIGZpZWxkVmlld3M6IEZpZWxkVmlld3NcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZVxufVxuXG5jb25zdCBleHBlY3RlZEV4cG9ydHMgPSBuZXcgU2V0KFsnRmllbGQnLCAnY29udHJvbGxlciddKVxuXG5mdW5jdGlvbiBJbnRlcm5hbEtleXN0b25lUHJvdmlkZXIoe1xuICBhZG1pbkNvbmZpZyxcbiAgYXBpUGF0aCxcbiAgZmllbGRWaWV3cyxcbiAgY2hpbGRyZW4sXG59OiBLZXlzdG9uZVByb3ZpZGVyUHJvcHMpIHtcbiAgY29uc3QgeyBwdXNoOiBuYXZpZ2F0ZSB9ID0gdXNlUm91dGVyKClcbiAgY29uc3Qga2V5c3RhclJvdXRlciA9IHVzZU1lbW8oKCkgPT4gKHsgbmF2aWdhdGUgfSksIFtuYXZpZ2F0ZV0pXG4gIGNvbnN0IHsgZGF0YSwgbG9hZGluZywgZXJyb3IgfSA9IHVzZVF1ZXJ5PEFkbWluTWV0YVF1ZXJ5PihhZG1pbk1ldGFRdWVyeSlcbiAgY29uc3QgbGlzdHNEYXRhID0gZGF0YT8ua2V5c3RvbmU/LmFkbWluTWV0YT8ubGlzdHNcbiAgY29uc3QgbGlzdHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIWxpc3RzRGF0YSkgcmV0dXJuXG4gICAgaWYgKGVycm9yKSByZXR1cm5cblxuICAgIGNvbnN0IGxpc3RzOiBLZXlzdG9uZUNvbnRleHRUeXBlWydsaXN0cyddID0ge31cblxuICAgIGZvciAoY29uc3QgbGlzdCBvZiBsaXN0c0RhdGEpIHtcbiAgICAgIGxpc3RzW2xpc3Qua2V5XSA9IHtcbiAgICAgICAgLi4ubGlzdCxcbiAgICAgICAgcGFnZVNpemU6IHNuYXBWYWx1ZVRvQ2xvc2VzdChsaXN0LnBhZ2VTaXplID8/IDUwKSxcbiAgICAgICAgZ3JvdXBzOiBbXSxcbiAgICAgICAgZmllbGRzOiB7fSxcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBsaXN0LmZpZWxkcykge1xuICAgICAgICBmb3IgKGNvbnN0IGV4cG9ydE5hbWUgb2YgZXhwZWN0ZWRFeHBvcnRzKSB7XG4gICAgICAgICAgaWYgKChmaWVsZFZpZXdzW2ZpZWxkLnZpZXdzSW5kZXhdIGFzIGFueSlbZXhwb3J0TmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgVGhlIHZpZXcgZm9yIHRoZSBmaWVsZCBhdCAke2xpc3Qua2V5fS4ke2ZpZWxkLmtleX0gaXMgbWlzc2luZyB0aGUgJHtleHBvcnROYW1lfSBleHBvcnRgXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgdmlld3MgPSB7IC4uLmZpZWxkVmlld3NbZmllbGQudmlld3NJbmRleF0gfVxuICAgICAgICBjb25zdCBjdXN0b21WaWV3czogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9XG4gICAgICAgIGlmIChmaWVsZC5jdXN0b21WaWV3c0luZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgY29uc3QgY3VzdG9tVmlld3NTb3VyY2U6IEZpZWxkVmlld3NbbnVtYmVyXSAmIFJlY29yZDxzdHJpbmcsIGFueT4gPVxuICAgICAgICAgICAgZmllbGRWaWV3c1tmaWVsZC5jdXN0b21WaWV3c0luZGV4XVxuICAgICAgICAgIGNvbnN0IGFsbG93ZWRFeHBvcnRzT25DdXN0b21WaWV3cyA9IG5ldyBTZXQodmlld3MuYWxsb3dlZEV4cG9ydHNPbkN1c3RvbVZpZXdzKVxuICAgICAgICAgIGZvciAoY29uc3QgZXhwb3J0TmFtZSBpbiBjdXN0b21WaWV3c1NvdXJjZSkge1xuICAgICAgICAgICAgaWYgKGFsbG93ZWRFeHBvcnRzT25DdXN0b21WaWV3cy5oYXMoZXhwb3J0TmFtZSkpIHtcbiAgICAgICAgICAgICAgY3VzdG9tVmlld3NbZXhwb3J0TmFtZV0gPSBjdXN0b21WaWV3c1NvdXJjZVtleHBvcnROYW1lXVxuICAgICAgICAgICAgfSBlbHNlIGlmIChleHBlY3RlZEV4cG9ydHMuaGFzKGV4cG9ydE5hbWUpKSB7XG4gICAgICAgICAgICAgIDsodmlld3MgYXMgYW55KVtleHBvcnROYW1lXSA9IGN1c3RvbVZpZXdzU291cmNlW2V4cG9ydE5hbWVdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGlzdHNbbGlzdC5rZXldLmZpZWxkc1tmaWVsZC5rZXldID0ge1xuICAgICAgICAgIC4uLmZpZWxkLFxuICAgICAgICAgIGNyZWF0ZVZpZXc6IHtcbiAgICAgICAgICAgIGZpZWxkTW9kZTogZmllbGQuY3JlYXRlVmlldz8uZmllbGRNb2RlID8/IG51bGwsXG4gICAgICAgICAgICBpc1JlcXVpcmVkOiBmaWVsZC5jcmVhdGVWaWV3Py5pc1JlcXVpcmVkID8/IGZhbHNlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgaXRlbVZpZXc6IHtcbiAgICAgICAgICAgIGZpZWxkTW9kZTogZmllbGQuaXRlbVZpZXc/LmZpZWxkTW9kZSA/PyBudWxsLFxuICAgICAgICAgICAgZmllbGRQb3NpdGlvbjogZmllbGQuaXRlbVZpZXc/LmZpZWxkUG9zaXRpb24gPz8gbnVsbCxcbiAgICAgICAgICAgIGlzUmVxdWlyZWQ6IGZpZWxkLml0ZW1WaWV3Py5pc1JlcXVpcmVkID8/IGZhbHNlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbGlzdFZpZXc6IHtcbiAgICAgICAgICAgIGZpZWxkTW9kZTogZmllbGQubGlzdFZpZXc/LmZpZWxkTW9kZSA/PyBudWxsLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ3JhcGhxbDoge1xuICAgICAgICAgICAgaXNOb25OdWxsOiBmaWVsZC5pc05vbk51bGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB2aWV3cyxcbiAgICAgICAgICBjb250cm9sbGVyOiB2aWV3cy5jb250cm9sbGVyKHtcbiAgICAgICAgICAgIGxpc3RLZXk6IGxpc3Qua2V5LFxuICAgICAgICAgICAgZmllbGRLZXk6IGZpZWxkLmtleSxcbiAgICAgICAgICAgIGxhYmVsOiBmaWVsZC5sYWJlbCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBmaWVsZC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGZpZWxkTWV0YTogZmllbGQuZmllbGRNZXRhLFxuICAgICAgICAgICAgY3VzdG9tVmlld3MsXG4gICAgICAgICAgfSksXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBncm91cCBvZiBsaXN0Lmdyb3Vwcykge1xuICAgICAgICBsaXN0c1tsaXN0LmtleV0uZ3JvdXBzLnB1c2goe1xuICAgICAgICAgIGxhYmVsOiBncm91cC5sYWJlbCxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZ3JvdXAuZGVzY3JpcHRpb24sXG4gICAgICAgICAgZmllbGRzOiBncm91cC5maWVsZHMubWFwKGZpZWxkID0+IGxpc3RzW2xpc3Qua2V5XS5maWVsZHNbZmllbGQua2V5XSksXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpc3RzXG4gIH0sIFtsaXN0c0RhdGEsIGVycm9yLCBmaWVsZFZpZXdzXSlcblxuICAvLyBUT0RPOiByZW1vdmUgdGhpcyBvbmNlIHN0dWRpbyBpcyBmdWxseSBtaWdyYXRlZCB0byBrZXlzdGFyLXVpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaW5qZWN0R2xvYmFsKHtcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgZm9udEZhbWlseTogdG9rZW5TY2hlbWEudHlwb2dyYXBoeS5mb250RmFtaWx5LmJhc2UsXG4gICAgICB9LFxuXG4gICAgICAvLyBbMV0gcmVzZXQgYWxsIGJveCBzaXppbmcgdG8gYm9yZGVyLWJveFxuICAgICAgLy8gWzJdIGRlZmF1bHQgYm9yZGVycyBzbyB5b3UgY2FuIGFkZCBhIGJvcmRlciBieSBzcGVjaWZ5aW5nIGp1c3QgdGhlIHdpZHRoXG4gICAgICAnKiwgOjpiZWZvcmUsIDo6YWZ0ZXInOiB7XG4gICAgICAgIC8vIGJveFNpemluZzogJ2JvcmRlci1ib3gnLCAvLyB0aGlzIGJyZWFrcyBzb21lIHRoaW5ncyBpbiBrZXlzdGFyLXVp4oCmXG4gICAgICAgIGJvcmRlcldpZHRoOiAwLFxuICAgICAgICBib3JkZXJTdHlsZTogJ3NvbGlkJyxcbiAgICAgICAgYm9yZGVyQ29sb3I6IHRva2VuU2NoZW1hLmNvbG9yLmJvcmRlci5uZXV0cmFsLFxuICAgICAgfSxcbiAgICB9KVxuICB9LCBbXSlcblxuICAvLyBUT0RPXG4gIGlmIChsb2FkaW5nKSByZXR1cm4gbnVsbFxuICAvLyAgIGlmICghbWV0YSkgcmV0dXJuIG51bGxcbiAgcmV0dXJuIChcbiAgICA8S2V5c3RhclByb3ZpZGVyIHJvdXRlcj17a2V5c3RhclJvdXRlcn0+XG4gICAgICA8Q2xpZW50U2lkZU9ubHlEb2N1bWVudEVsZW1lbnQgYm9keUJhY2tncm91bmQ9XCJzdXJmYWNlXCIgLz5cbiAgICAgIDxOZXh0SGVhZD5cbiAgICAgICAgPG1ldGEga2V5PVwidmlld3BvcnRcIiBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMFwiIC8+XG4gICAgICAgIDxsaW5rXG4gICAgICAgICAgaHJlZj1cImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9SW50ZXI6d2dodEA0MDA7NTAwOzYwMDs3MDAmZGlzcGxheT1zd2FwXCJcbiAgICAgICAgICByZWw9XCJzdHlsZXNoZWV0XCJcbiAgICAgICAgLz5cbiAgICAgIDwvTmV4dEhlYWQ+XG5cbiAgICAgIDxLZXlzdG9uZUNvbnRleHQuUHJvdmlkZXJcbiAgICAgICAgdmFsdWU9e3tcbiAgICAgICAgICBhZG1pbkNvbmZpZyxcbiAgICAgICAgICBhcGlQYXRoLFxuICAgICAgICAgIGxpc3RzOiBsaXN0cyA/PyB7fSxcbiAgICAgICAgICBmaWVsZFZpZXdzLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L0tleXN0b25lQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgIDxUb2FzdGVyIC8+XG4gICAgPC9LZXlzdGFyUHJvdmlkZXI+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEtleXN0b25lUHJvdmlkZXIocHJvcHM6IEtleXN0b25lUHJvdmlkZXJQcm9wcykge1xuICBjb25zdCBhcG9sbG9DbGllbnQgPSB1c2VNZW1vKFxuICAgICgpID0+XG4gICAgICBuZXcgQXBvbGxvQ2xpZW50KHtcbiAgICAgICAgY2FjaGU6IG5ldyBJbk1lbW9yeUNhY2hlKCksXG4gICAgICAgIHVyaTogcHJvcHMuYXBpUGF0aCxcbiAgICAgICAgbGluazogY3JlYXRlVXBsb2FkTGluayh7XG4gICAgICAgICAgdXJpOiBwcm9wcy5hcGlQYXRoLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0Fwb2xsby1SZXF1aXJlLVByZWZsaWdodCc6ICd0cnVlJyB9LFxuICAgICAgICB9KSxcbiAgICAgIH0pLFxuICAgIFtwcm9wcy5hcGlQYXRoXVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8QXBvbGxvUHJvdmlkZXIgY2xpZW50PXthcG9sbG9DbGllbnR9PlxuICAgICAgPEludGVybmFsS2V5c3RvbmVQcm92aWRlciB7Li4ucHJvcHN9IC8+XG4gICAgPC9BcG9sbG9Qcm92aWRlcj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlUmF3S2V5c3RvbmUoKSB7XG4gIGNvbnN0IHZhbHVlID0gdXNlQ29udGV4dChLZXlzdG9uZUNvbnRleHQpXG4gIGlmICghdmFsdWUpIHRocm93IG5ldyBFcnJvcigndXNlUmF3S2V5c3RvbmUgbXVzdCBiZSBjYWxsZWQgaW5zaWRlIGEgS2V5c3RvbmVQcm92aWRlciBjb21wb25lbnQnKVxuICByZXR1cm4gdmFsdWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUtleXN0b25lKCkge1xuICByZXR1cm4gdXNlQ29udGV4dChLZXlzdG9uZUNvbnRleHQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VMaXN0KGxpc3RLZXk6IHN0cmluZykge1xuICBjb25zdCB7IGxpc3RzIH0gPSB1c2VLZXlzdG9uZSgpXG4gIGNvbnN0IGxpc3QgPSBsaXN0cz8uW2xpc3RLZXldXG4gIGlmICghbGlzdCkgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGxpc3QgJHtsaXN0S2V5fWApXG4gIHJldHVybiBsaXN0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VGaWVsZChsaXN0S2V5OiBzdHJpbmcsIGZpZWxkS2V5OiBzdHJpbmcpIHtcbiAgY29uc3QgbGlzdCA9IHVzZUxpc3QobGlzdEtleSlcbiAgY29uc3QgZmllbGQgPSBsaXN0LmZpZWxkc1tmaWVsZEtleV1cbiAgaWYgKCFmaWVsZCkgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZpZWxkICR7bGlzdEtleX0uJHtmaWVsZEtleX1gKVxuICByZXR1cm4gZmllbGRcbn1cblxuLy8gVE9ETyB1c2VDb250ZXh0XG5leHBvcnQgZnVuY3Rpb24gdXNlTGlzdEl0ZW0oXG4gIGxpc3RLZXk6IHN0cmluZyxcbiAgaXRlbUlkOiBzdHJpbmcgfCBudWxsXG4pOiBRdWVyeVJlc3VsdDxcbiAge1xuICAgIGl0ZW06IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgbnVsbFxuICAgIGtleXN0b25lOiB7XG4gICAgICBhZG1pbk1ldGE6IHtcbiAgICAgICAgbGlzdDoge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAga2V5OiBzdHJpbmdcbiAgICAgICAgICAgIGl0ZW1WaWV3OiB7XG4gICAgICAgICAgICAgIGZpZWxkTW9kZTogQ29uZGl0aW9uYWxGaWVsZEZpbHRlcjwnZWRpdCcgfCAncmVhZCcgfCAnaGlkZGVuJywgQmFzZUxpc3RUeXBlSW5mbz5cbiAgICAgICAgICAgICAgZmllbGRQb3NpdGlvbjogJ2Zvcm0nIHwgJ3NpZGViYXInXG4gICAgICAgICAgICAgIGlzUmVxdWlyZWQ6IENvbmRpdGlvbmFsRmllbGRGaWx0ZXJDYXNlPEJhc2VMaXN0VHlwZUluZm8+XG4gICAgICAgICAgICB9IHwgbnVsbFxuICAgICAgICAgIH1bXVxuICAgICAgICB9IHwgbnVsbFxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgeyBpZDogc3RyaW5nIHwgbnVsbDsgbGlzdEtleTogc3RyaW5nIH1cbj4ge1xuICBjb25zdCBsaXN0ID0gdXNlTGlzdChsaXN0S2V5KVxuICBjb25zdCBxdWVyeSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkRmllbGRzID0gT2JqZWN0LnZhbHVlcyhsaXN0LmZpZWxkcylcbiAgICAgIC5maWx0ZXIoZmllbGQgPT4ge1xuICAgICAgICBpZiAoZmllbGQua2V5ID09PSAnaWQnKSByZXR1cm4gdHJ1ZVxuICAgICAgICByZXR1cm4gZmllbGQuaXRlbVZpZXcuZmllbGRNb2RlICE9PSAnaGlkZGVuJ1xuICAgICAgfSlcbiAgICAgIC5tYXAoZmllbGQgPT4gZmllbGQuY29udHJvbGxlci5ncmFwaHFsU2VsZWN0aW9uKVxuICAgICAgLmpvaW4oJ1xcbicpXG5cbiAgICByZXR1cm4gZ3FsYFxuICAgICAgcXVlcnkgS3NGZXRjaEl0ZW0gKCRpZDogSUQhLCAkbGlzdEtleTogU3RyaW5nISkge1xuICAgICAgICBpdGVtOiAke2xpc3QuZ3JhcGhxbC5uYW1lcy5pdGVtUXVlcnlOYW1lfSh3aGVyZToge2lkOiAkaWR9KSB7XG4gICAgICAgICAgJHtzZWxlY3RlZEZpZWxkc31cbiAgICAgICAgfVxuICAgICAgICBrZXlzdG9uZSB7XG4gICAgICAgICAgYWRtaW5NZXRhIHtcbiAgICAgICAgICAgIGxpc3Qoa2V5OiAkbGlzdEtleSkge1xuICAgICAgICAgICAgICBmaWVsZHMge1xuICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgICAgIGl0ZW1WaWV3KGlkOiAkaWQpIHtcbiAgICAgICAgICAgICAgICAgIGZpZWxkTW9kZVxuICAgICAgICAgICAgICAgICAgZmllbGRQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgaXNSZXF1aXJlZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIGBcbiAgfSwgW2xpc3RdKVxuXG4gIHJldHVybiB1c2VRdWVyeShxdWVyeSwge1xuICAgIGVycm9yUG9saWN5OiAnYWxsJyxcbiAgICBza2lwOiBpdGVtSWQgPT09IG51bGwsXG4gICAgdmFyaWFibGVzOiB7XG4gICAgICBsaXN0S2V5LFxuICAgICAgaWQ6IGl0ZW1JZCxcbiAgICB9LFxuICB9KVxufVxuIl0sIm5hbWVzIjpbImNyZWF0ZVVwbG9hZExpbmsiLCJOZXh0SGVhZCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlTWVtbyIsIkNsaWVudFNpZGVPbmx5RG9jdW1lbnRFbGVtZW50IiwiS2V5c3RhclByb3ZpZGVyIiwiaW5qZWN0R2xvYmFsIiwidG9rZW5TY2hlbWEiLCJUb2FzdGVyIiwidXNlUm91dGVyIiwic25hcFZhbHVlVG9DbG9zZXN0IiwiYWRtaW5NZXRhUXVlcnkiLCJBcG9sbG9DbGllbnQiLCJBcG9sbG9Qcm92aWRlciIsIkluTWVtb3J5Q2FjaGUiLCJncWwiLCJ1c2VRdWVyeSIsIktleXN0b25lQ29udGV4dCIsImFkbWluQ29uZmlnIiwiYXBpUGF0aCIsImxpc3RzIiwiZmllbGRWaWV3cyIsImV4cGVjdGVkRXhwb3J0cyIsIlNldCIsIkludGVybmFsS2V5c3RvbmVQcm92aWRlciIsImNoaWxkcmVuIiwicHVzaCIsIm5hdmlnYXRlIiwia2V5c3RhclJvdXRlciIsImRhdGEiLCJsb2FkaW5nIiwiZXJyb3IiLCJsaXN0c0RhdGEiLCJrZXlzdG9uZSIsImFkbWluTWV0YSIsImxpc3QiLCJrZXkiLCJwYWdlU2l6ZSIsImdyb3VwcyIsImZpZWxkcyIsImZpZWxkIiwiZXhwb3J0TmFtZSIsInZpZXdzSW5kZXgiLCJ1bmRlZmluZWQiLCJFcnJvciIsInZpZXdzIiwiY3VzdG9tVmlld3MiLCJjdXN0b21WaWV3c0luZGV4IiwiY3VzdG9tVmlld3NTb3VyY2UiLCJhbGxvd2VkRXhwb3J0c09uQ3VzdG9tVmlld3MiLCJoYXMiLCJjcmVhdGVWaWV3IiwiZmllbGRNb2RlIiwiaXNSZXF1aXJlZCIsIml0ZW1WaWV3IiwiZmllbGRQb3NpdGlvbiIsImxpc3RWaWV3IiwiZ3JhcGhxbCIsImlzTm9uTnVsbCIsImNvbnRyb2xsZXIiLCJsaXN0S2V5IiwiZmllbGRLZXkiLCJsYWJlbCIsImRlc2NyaXB0aW9uIiwiZmllbGRNZXRhIiwiZ3JvdXAiLCJtYXAiLCJib2R5IiwiZm9udEZhbWlseSIsInR5cG9ncmFwaHkiLCJiYXNlIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJTdHlsZSIsImJvcmRlckNvbG9yIiwiY29sb3IiLCJib3JkZXIiLCJuZXV0cmFsIiwicm91dGVyIiwiYm9keUJhY2tncm91bmQiLCJtZXRhIiwibmFtZSIsImNvbnRlbnQiLCJsaW5rIiwiaHJlZiIsInJlbCIsIlByb3ZpZGVyIiwidmFsdWUiLCJLZXlzdG9uZVByb3ZpZGVyIiwicHJvcHMiLCJhcG9sbG9DbGllbnQiLCJjYWNoZSIsInVyaSIsImhlYWRlcnMiLCJjbGllbnQiLCJ1c2VSYXdLZXlzdG9uZSIsInVzZUtleXN0b25lIiwidXNlTGlzdCIsInVzZUZpZWxkIiwidXNlTGlzdEl0ZW0iLCJpdGVtSWQiLCJxdWVyeSIsInNlbGVjdGVkRmllbGRzIiwiT2JqZWN0IiwidmFsdWVzIiwiZmlsdGVyIiwiZ3JhcGhxbFNlbGVjdGlvbiIsImpvaW4iLCJuYW1lcyIsIml0ZW1RdWVyeU5hbWUiLCJlcnJvclBvbGljeSIsInNraXAiLCJ2YXJpYWJsZXMiLCJpZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/context.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/router.tsx":
/*!*********************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/router.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Head: () => (/* binding */ Head),\n/* harmony export */   Link: () => (/* binding */ Link),\n/* harmony export */   Router: () => (/* reexport safe */ next_router__WEBPACK_IMPORTED_MODULE_0__.Router),\n/* harmony export */   useRouter: () => (/* reexport safe */ next_router__WEBPACK_IMPORTED_MODULE_0__.useRouter),\n/* harmony export */   withRouter: () => (/* reexport safe */ next_router__WEBPACK_IMPORTED_MODULE_0__.withRouter)\n/* harmony export */ });\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/router */ \"../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/**\n * This file is exposed by the /router entrypoint, and helps ensure that other\n * packages import the same instance of next's router.\n */ // not using export * because Rollup's CJS re-export code doesn't ignore __esModule on the exports object so it will re-define it if it exists\n// and since __esModule isn't configurable(at least with the code that's _generally_ emitted by Rollup, Babel, tsc and etc.)\n// an error will be thrown\n// that's normally not a problem because modules generally use Object.defineProperty(exports, '__esModule', { value: true })\n// which means that the property isn't enumerable but Next uses Babel's loose mode and Babel's loose mode for the CJS transform\n// uses exports.__esModule = true instead of defineProperty so the property is enumerable\n\n\nconst Link = (next_link__WEBPACK_IMPORTED_MODULE_1___default());\n\nconst Head = (next_head__WEBPACK_IMPORTED_MODULE_2___default());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvcm91dGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBOzs7Q0FHQyxHQUVELDhJQUE4STtBQUM5SSw0SEFBNEg7QUFDNUgsMEJBQTBCO0FBQzFCLDRIQUE0SDtBQUM1SCwrSEFBK0g7QUFDL0gseUZBQXlGO0FBQzlCO0FBR1U7QUFLOUQsTUFBTUksT0FBT0Qsa0RBQVFBLENBQUE7QUFFSTtBQUV6QixNQUFNRyxPQUFPRCxrREFBUUEsQ0FBQSIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9hZG1pbi11aS9yb3V0ZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBmaWxlIGlzIGV4cG9zZWQgYnkgdGhlIC9yb3V0ZXIgZW50cnlwb2ludCwgYW5kIGhlbHBzIGVuc3VyZSB0aGF0IG90aGVyXG4gKiBwYWNrYWdlcyBpbXBvcnQgdGhlIHNhbWUgaW5zdGFuY2Ugb2YgbmV4dCdzIHJvdXRlci5cbiAqL1xuXG4vLyBub3QgdXNpbmcgZXhwb3J0ICogYmVjYXVzZSBSb2xsdXAncyBDSlMgcmUtZXhwb3J0IGNvZGUgZG9lc24ndCBpZ25vcmUgX19lc01vZHVsZSBvbiB0aGUgZXhwb3J0cyBvYmplY3Qgc28gaXQgd2lsbCByZS1kZWZpbmUgaXQgaWYgaXQgZXhpc3RzXG4vLyBhbmQgc2luY2UgX19lc01vZHVsZSBpc24ndCBjb25maWd1cmFibGUoYXQgbGVhc3Qgd2l0aCB0aGUgY29kZSB0aGF0J3MgX2dlbmVyYWxseV8gZW1pdHRlZCBieSBSb2xsdXAsIEJhYmVsLCB0c2MgYW5kIGV0Yy4pXG4vLyBhbiBlcnJvciB3aWxsIGJlIHRocm93blxuLy8gdGhhdCdzIG5vcm1hbGx5IG5vdCBhIHByb2JsZW0gYmVjYXVzZSBtb2R1bGVzIGdlbmVyYWxseSB1c2UgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KVxuLy8gd2hpY2ggbWVhbnMgdGhhdCB0aGUgcHJvcGVydHkgaXNuJ3QgZW51bWVyYWJsZSBidXQgTmV4dCB1c2VzIEJhYmVsJ3MgbG9vc2UgbW9kZSBhbmQgQmFiZWwncyBsb29zZSBtb2RlIGZvciB0aGUgQ0pTIHRyYW5zZm9ybVxuLy8gdXNlcyBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlIGluc3RlYWQgb2YgZGVmaW5lUHJvcGVydHkgc28gdGhlIHByb3BlcnR5IGlzIGVudW1lcmFibGVcbmV4cG9ydCB7IFJvdXRlciwgdXNlUm91dGVyLCB3aXRoUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInXG5leHBvcnQgdHlwZSB7IE5leHRSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcidcblxuaW1wb3J0IE5leHRMaW5rLCB7IHR5cGUgTGlua1Byb3BzIGFzIE5leHRMaW5rUHJvcHMgfSBmcm9tICduZXh0L2xpbmsnXG5pbXBvcnQgdHlwZSB7IEFuY2hvckhUTUxBdHRyaWJ1dGVzIH0gZnJvbSAncmVhY3QnXG5cbmV4cG9ydCB0eXBlIExpbmtQcm9wcyA9IE5leHRMaW5rUHJvcHMgJiBBbmNob3JIVE1MQXR0cmlidXRlczxIVE1MQW5jaG9yRWxlbWVudD5cblxuZXhwb3J0IGNvbnN0IExpbmsgPSBOZXh0TGlua1xuXG5pbXBvcnQgTmV4dEhlYWQgZnJvbSAnbmV4dC9oZWFkJ1xuXG5leHBvcnQgY29uc3QgSGVhZCA9IE5leHRIZWFkXG4iXSwibmFtZXMiOlsiUm91dGVyIiwidXNlUm91dGVyIiwid2l0aFJvdXRlciIsIk5leHRMaW5rIiwiTGluayIsIk5leHRIZWFkIiwiSGVhZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/router.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/utils/Fields.tsx":
/*!***************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/utils/Fields.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Fields: () => (/* binding */ Fields),\n/* harmony export */   GroupIndicatorLine: () => (/* binding */ GroupIndicatorLine),\n/* harmony export */   testFilter: () => (/* binding */ testFilter)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_aria_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @react-aria/utils */ \"../../../../node_modules/.pnpm/@react-aria+utils@3.28.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-aria/utils/dist/import.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_icon_icons_chevronRightIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/icon/icons/chevronRightIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-chevronRightIcon.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _keystar_ui_icon_icons_textCursorInputIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/icon/icons/textCursorInputIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-textCursorInputIcon.js\");\n/* harmony import */ var _components_EmptyState__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/EmptyState */ \"../../../../packages/core/src/admin-ui/components/EmptyState.tsx\");\n\n\n\n\n\n\n\n\n\n\n\n// with implicit ANDing\nfunction applyFilter(filter, val) {\n    if (filter.equals !== undefined && val !== filter.equals) return false;\n    if (filter.in !== undefined && !filter.in.includes(val)) return false;\n    return true;\n}\nfunction testFilter(filter, serialized) {\n    if (filter === undefined) return false;\n    if (typeof filter === 'boolean') return filter;\n    for (const [key, filterOnField] of Object.entries(filter)){\n        if (!filterOnField) continue;\n        const serializedValue = serialized[key];\n        if (!applyFilter(filterOnField, serializedValue)) return false;\n        if (filterOnField.not !== undefined && applyFilter(filterOnField.not, serializedValue)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction Fields({ view, position, fields, groups = [], forceValidation, invalidFields, onChange, value: itemValue, fieldModes = {}, fieldPositions = {}, isRequireds }) {\n    const fieldDomByKey = {};\n    let focused = false;\n    const serialized = {};\n    for (const [fieldKey, field] of Object.entries(fields)){\n        Object.assign(serialized, field.controller.serialize(itemValue[fieldKey]));\n    }\n    for(const fieldKey in fields){\n        const field = fields[fieldKey];\n        const fieldPosition = fieldPositions[fieldKey] ?? field.itemView.fieldPosition;\n        if (view === 'itemView' && fieldPosition !== position) continue;\n        const fieldModeFilter = fieldModes[fieldKey] ?? field[view].fieldMode;\n        let fieldMode;\n        if (typeof fieldModeFilter === 'string') {\n            fieldMode = fieldModeFilter;\n        } else {\n            if (testFilter(fieldModeFilter.edit, serialized)) fieldMode = 'edit';\n            else if (view === 'itemView' && testFilter(fieldModeFilter.read, serialized)) fieldMode = 'read';\n            else fieldMode = 'hidden';\n        }\n        if (fieldMode === 'hidden') continue;\n        const fieldValue = itemValue[fieldKey];\n        const autoFocus = focused === false // not great, but focuses the first field\n        ;\n        focused = true;\n        fieldDomByKey[fieldKey] = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(field.views.Field, {\n            autoFocus: autoFocus,\n            forceValidation: forceValidation && invalidFields.has(fieldKey),\n            field: field.controller,\n            isRequired: testFilter(isRequireds[fieldKey] ?? false, serialized),\n            onChange: fieldMode === 'read' || onChange === undefined ? undefined : (newFieldValue)=>{\n                onChange({\n                    ...itemValue,\n                    [field.controller.fieldKey]: newFieldValue\n                });\n            },\n            value: fieldValue,\n            itemValue: itemValue\n        }, fieldKey, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n            lineNumber: 103,\n            columnNumber: 7\n        }, this);\n    }\n    const groupByFieldKey = {};\n    for (const group of groups){\n        for (const { key: fieldKey } of group.fields){\n            groupByFieldKey[fieldKey] = group;\n        }\n    }\n    // TODO: not sure what to do about the sidebar case. i think it's fine to\n    // just render nothing for now, but we should revisit this.\n    if (Object.keys(fieldDomByKey).length === 0 && position === 'form') {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_EmptyState__WEBPACK_IMPORTED_MODULE_9__.EmptyState, {\n            icon: _keystar_ui_icon_icons_textCursorInputIcon__WEBPACK_IMPORTED_MODULE_8__.textCursorInputIcon,\n            title: \"No fields\",\n            message: \"There are no fields to be shown.\"\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n            lineNumber: 136,\n            columnNumber: 7\n        }, this);\n    }\n    return(// the \"inline\" container allows fields to react to the width of their column\n    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_5__.VStack, {\n        gap: \"xlarge\",\n        UNSAFE_style: {\n            containerType: 'inline-size'\n        },\n        children: [\n            ...function*() {\n                const rendered = {};\n                for(const fieldKey in fields){\n                    if (fieldKey in rendered) continue;\n                    const group = groupByFieldKey[fieldKey];\n                    if (group) {\n                        const fields = [\n                            ...function*() {\n                                for (const { key: fieldKey } of group.fields){\n                                    if (fieldKey in rendered) continue;\n                                    if (fieldDomByKey[fieldKey]) {\n                                        yield fieldDomByKey[fieldKey];\n                                    }\n                                    rendered[fieldKey] = true;\n                                }\n                            }()\n                        ];\n                        if (fields.length === 0) continue;\n                        yield /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FieldGroup, {\n                            label: group.label,\n                            description: group.description,\n                            children: fields\n                        }, group.label, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n                            lineNumber: 168,\n                            columnNumber: 17\n                        }, this);\n                        continue;\n                    }\n                    yield fieldDomByKey[fieldKey] ?? null;\n                    rendered[fieldKey] = true;\n                }\n            }()\n        ]\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n        lineNumber: 146,\n        columnNumber: 5\n    }, this));\n}\nfunction FieldGroup({ description, label, children }) {\n    const labelId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n    const descriptionId = (0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_10__.useSlotId)([\n        Boolean(description)\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"details\", {\n        \"aria-labelledby\": labelId,\n        \"aria-describedby\": descriptionId,\n        open: true,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_5__.HStack, {\n                gap: \"medium\",\n                alignItems: \"center\",\n                elementType: \"summary\",\n                UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_6__.css)({\n                    listStyle: 'none',\n                    outline: 0,\n                    '::-webkit-details-marker': {\n                        display: 'none'\n                    }\n                }),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.FieldButton, {\n                        // @ts-expect-error  this works, it's just not exposed in the public types\n                        elementType: \"div\",\n                        // the <summary/> (above) is the focusable element\n                        excludeFromTabOrder: true,\n                        prominence: \"low\",\n                        height: \"element.small\",\n                        width: \"element.small\",\n                        minWidth: \"auto\",\n                        UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_6__.css)({\n                            'details[open] &': {\n                                transform: 'rotate(90deg)'\n                            }\n                        }),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                            src: _keystar_ui_icon_icons_chevronRightIcon__WEBPACK_IMPORTED_MODULE_3__.chevronRightIcon,\n                            size: \"medium\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n                            lineNumber: 223,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n                        lineNumber: 208,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_5__.VStack, {\n                        gap: \"regular\",\n                        UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_6__.css)({\n                            cursor: 'default',\n                            userSelect: 'none'\n                        }),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__.Text, {\n                                color: \"neutralEmphasis\",\n                                size: \"large\",\n                                weight: \"medium\",\n                                id: labelId,\n                                position: \"relative\",\n                                children: label\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n                                lineNumber: 232,\n                                columnNumber: 11\n                            }, this),\n                            !!description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__.Text, {\n                                id: descriptionId,\n                                size: \"regular\",\n                                color: \"neutralSecondary\",\n                                children: description\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n                                lineNumber: 242,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n                        lineNumber: 225,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n                lineNumber: 198,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_5__.HStack, {\n                gap: \"medium\",\n                paddingTop: \"medium\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(GroupIndicatorLine, {}, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n                        lineNumber: 254,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_5__.VStack, {\n                        gap: \"xlarge\",\n                        flex: true,\n                        children: children\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n                        lineNumber: 255,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n                lineNumber: 253,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n        lineNumber: 197,\n        columnNumber: 5\n    }, this);\n}\nfunction GroupIndicatorLine() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_5__.HStack, {\n        justifyContent: \"center\",\n        width: \"element.small\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_6__.css)({\n                height: '100%',\n                width: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_6__.tokenSchema.size.alias.focusRing,\n                borderRadius: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_6__.tokenSchema.size.alias.focusRing,\n                backgroundColor: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_6__.tokenSchema.color.border.neutral,\n                flexShrink: 0\n            })\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n            lineNumber: 266,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/admin-ui/utils/Fields.tsx\",\n        lineNumber: 265,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvdXRpbHMvRmllbGRzLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE2QztBQUNBO0FBRUc7QUFDMEI7QUFDbkM7QUFDWTtBQUNDO0FBQ1A7QUFFbUM7QUFDM0I7QUFTckQsdUJBQXVCO0FBQ3ZCLFNBQVNZLFlBQ1BDLE1BR0MsRUFDREMsR0FBTTtJQUVOLElBQUlELE9BQU9FLE1BQU0sS0FBS0MsYUFBYUYsUUFBUUQsT0FBT0UsTUFBTSxFQUFFLE9BQU87SUFDakUsSUFBSUYsT0FBT0ksRUFBRSxLQUFLRCxhQUFhLENBQUNILE9BQU9JLEVBQUUsQ0FBQ0MsUUFBUSxDQUFDSixNQUFNLE9BQU87SUFDaEUsT0FBTztBQUNUO0FBQ08sU0FBU0ssV0FDZE4sTUFBZ0UsRUFDaEVPLFVBQW1DO0lBRW5DLElBQUlQLFdBQVdHLFdBQVcsT0FBTztJQUNqQyxJQUFJLE9BQU9ILFdBQVcsV0FBVyxPQUFPQTtJQUN4QyxLQUFLLE1BQU0sQ0FBQ1EsS0FBS0MsY0FBYyxJQUFJQyxPQUFPQyxPQUFPLENBQUNYLFFBQVM7UUFDekQsSUFBSSxDQUFDUyxlQUFlO1FBQ3BCLE1BQU1HLGtCQUFrQkwsVUFBVSxDQUFDQyxJQUFJO1FBQ3ZDLElBQUksQ0FBQ1QsWUFBWVUsZUFBZUcsa0JBQWtCLE9BQU87UUFDekQsSUFBSUgsY0FBY0ksR0FBRyxLQUFLVixhQUFhSixZQUFZVSxjQUFjSSxHQUFHLEVBQUVELGtCQUFrQjtZQUN0RixPQUFPO1FBQ1Q7SUFDRjtJQUNBLE9BQU87QUFDVDtBQUVPLFNBQVNFLE9BQU8sRUFDckJDLElBQUksRUFDSkMsUUFBUSxFQUNSQyxNQUFNLEVBQ05DLFNBQVMsRUFBRSxFQUNYQyxlQUFlLEVBQ2ZDLGFBQWEsRUFDYkMsUUFBUSxFQUNSQyxPQUFPQyxTQUFTLEVBQ2hCQyxhQUFhLENBQUMsQ0FBQyxFQUNmQyxpQkFBaUIsQ0FBQyxDQUFDLEVBQ25CQyxXQUFXLEVB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QUlBOzRCQUFDMEYsS0FBSzNGLHFGQUFnQkE7NEJBQUU0RixNQUFLOzs7Ozs7Ozs7OztrQ0FFcEMsOERBQUN6RixzREFBTUE7d0JBQ0w2RCxLQUFJO3dCQUNKaUIsa0JBQWtCN0Usc0RBQUdBLENBQUM7NEJBQ3BCeUYsUUFBUTs0QkFDUkMsWUFBWTt3QkFDZDs7MENBRUEsOERBQUN4Rix3REFBSUE7Z0NBQ0h5RixPQUFNO2dDQUNOSCxNQUFLO2dDQUNMSSxRQUFPO2dDQUNQQyxJQUFJekI7Z0NBQ0o5QyxVQUFTOzBDQUVSMkM7Ozs7Ozs0QkFFRixDQUFDLENBQUNDLDZCQUNELDhEQUFDaEUsd0RBQUlBO2dDQUFDMkYsSUFBSXhCO2dDQUFlbUIsTUFBSztnQ0FBVUcsT0FBTTswQ0FDM0N6Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQVVULDhEQUFDcEUsc0RBQU1BO2dCQUFDOEQsS0FBSTtnQkFBU2tDLFlBQVc7O2tDQUM5Qiw4REFBQ0M7Ozs7O2tDQUNELDhEQUFDaEcsc0RBQU1BO3dCQUFDNkQsS0FBSTt3QkFBU29DLElBQUk7a0NBQ3RCN0I7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtYO0FBRU8sU0FBUzRCO0lBQ2QscUJBQ0UsOERBQUNqRyxzREFBTUE7UUFBQ21HLGdCQUFlO1FBQVNiLE9BQU07a0JBQ3BDLDRFQUFDYztZQUNDQyxXQUFXbkcsc0RBQUdBLENBQUM7Z0JBQ2JtRixRQUFRO2dCQUNSQyxPQUFPbkYsMERBQVdBLENBQUN1RixJQUFJLENBQUNZLEtBQUssQ0FBQ0MsU0FBUztnQkFDdkNDLGNBQWNyRywwREFBV0EsQ0FBQ3VGLElBQUksQ0FBQ1ksS0FBSyxDQUFDQyxTQUFTO2dCQUM5Q0UsaUJBQWlCdEcsMERBQVdBLENBQUMwRixLQUFLLENBQUNhLE1BQU0sQ0FBQ0MsT0FBTztnQkFDakRDLFlBQVk7WUFDZDs7Ozs7Ozs7Ozs7QUFJUiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9hZG1pbi11aS91dGlscy9GaWVsZHMudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVNsb3RJZCB9IGZyb20gJ0ByZWFjdC1hcmlhL3V0aWxzJ1xuaW1wb3J0IHsgdHlwZSBSZWFjdE5vZGUsIHVzZUlkIH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IEZpZWxkQnV0dG9uIH0gZnJvbSAnQGtleXN0YXIvdWkvYnV0dG9uJ1xuaW1wb3J0IHsgY2hldnJvblJpZ2h0SWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvY2hldnJvblJpZ2h0SWNvbidcbmltcG9ydCB7IEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uJ1xuaW1wb3J0IHsgSFN0YWNrLCBWU3RhY2sgfSBmcm9tICdAa2V5c3Rhci91aS9sYXlvdXQnXG5pbXBvcnQgeyBjc3MsIHRva2VuU2NoZW1hIH0gZnJvbSAnQGtleXN0YXIvdWkvc3R5bGUnXG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnQGtleXN0YXIvdWkvdHlwb2dyYXBoeSdcblxuaW1wb3J0IHsgdGV4dEN1cnNvcklucHV0SWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvdGV4dEN1cnNvcklucHV0SWNvbidcbmltcG9ydCB7IEVtcHR5U3RhdGUgfSBmcm9tICcuLi9jb21wb25lbnRzL0VtcHR5U3RhdGUnXG5pbXBvcnQgdHlwZSB7XG4gIEJhc2VMaXN0VHlwZUluZm8sXG4gIENvbmRpdGlvbmFsRmllbGRGaWx0ZXIsXG4gIENvbmRpdGlvbmFsRmllbGRGaWx0ZXJDYXNlLFxuICBGaWVsZEdyb3VwTWV0YSxcbiAgRmllbGRNZXRhLFxufSBmcm9tICcuLi8uLi90eXBlcydcblxuLy8gd2l0aCBpbXBsaWNpdCBBTkRpbmdcbmZ1bmN0aW9uIGFwcGx5RmlsdGVyPFQ+KFxuICBmaWx0ZXI6IHtcbiAgICBlcXVhbHM/OiBUXG4gICAgaW4/OiBUW11cbiAgfSxcbiAgdmFsOiBUXG4pOiBib29sZWFuIHtcbiAgaWYgKGZpbHRlci5lcXVhbHMgIT09IHVuZGVmaW5lZCAmJiB2YWwgIT09IGZpbHRlci5lcXVhbHMpIHJldHVybiBmYWxzZVxuICBpZiAoZmlsdGVyLmluICE9PSB1bmRlZmluZWQgJiYgIWZpbHRlci5pbi5pbmNsdWRlcyh2YWwpKSByZXR1cm4gZmFsc2VcbiAgcmV0dXJuIHRydWVcbn1cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0RmlsdGVyKFxuICBmaWx0ZXI6IENvbmRpdGlvbmFsRmllbGRGaWx0ZXJDYXNlPEJhc2VMaXN0VHlwZUluZm8+IHwgdW5kZWZpbmVkLFxuICBzZXJpYWxpemVkOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuKTogYm9vbGVhbiB7XG4gIGlmIChmaWx0ZXIgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlXG4gIGlmICh0eXBlb2YgZmlsdGVyID09PSAnYm9vbGVhbicpIHJldHVybiBmaWx0ZXJcbiAgZm9yIChjb25zdCBba2V5LCBmaWx0ZXJPbkZpZWxkXSBvZiBPYmplY3QuZW50cmllcyhmaWx0ZXIpKSB7XG4gICAgaWYgKCFmaWx0ZXJPbkZpZWxkKSBjb250aW51ZVxuICAgIGNvbnN0IHNlcmlhbGl6ZWRWYWx1ZSA9IHNlcmlhbGl6ZWRba2V5XVxuICAgIGlmICghYXBwbHlGaWx0ZXIoZmlsdGVyT25GaWVsZCwgc2VyaWFsaXplZFZhbHVlKSkgcmV0dXJuIGZhbHNlXG4gICAgaWYgKGZpbHRlck9uRmllbGQubm90ICE9PSB1bmRlZmluZWQgJiYgYXBwbHlGaWx0ZXIoZmlsdGVyT25GaWVsZC5ub3QsIHNlcmlhbGl6ZWRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRmllbGRzKHtcbiAgdmlldyxcbiAgcG9zaXRpb24sXG4gIGZpZWxkcyxcbiAgZ3JvdXBzID0gW10sXG4gIGZvcmNlVmFsaWRhdGlvbixcbiAgaW52YWxpZEZpZWxkcyxcbiAgb25DaGFuZ2UsXG4gIHZhbHVlOiBpdGVtVmFsdWUsXG4gIGZpZWxkTW9kZXMgPSB7fSxcbiAgZmllbGRQb3NpdGlvbnMgPSB7fSxcbiAgaXNSZXF1aXJlZHMsXG59OiB7XG4gIHZpZXc6ICdjcmVhdGVWaWV3JyB8ICdpdGVtVmlldydcbiAgcG9zaXRpb246ICdmb3JtJyB8ICdzaWRlYmFyJ1xuICBmaWVsZHM6IFJlY29yZDxzdHJpbmcsIEZpZWxkTWV0YT5cbiAgZm9yY2VWYWxpZGF0aW9uOiBib29sZWFuXG4gIGdyb3Vwcz86IEZpZWxkR3JvdXBNZXRhW11cbiAgaW52YWxpZEZpZWxkczogUmVhZG9ubHlTZXQ8c3RyaW5nPlxuICBvbkNoYW5nZSh2YWx1ZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiB2b2lkXG4gIHZhbHVlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuICBmaWVsZE1vZGVzPzogUmVjb3JkPHN0cmluZywgQ29uZGl0aW9uYWxGaWVsZEZpbHRlcjwncmVhZCcgfCAnZWRpdCcgfCAnaGlkZGVuJywgQmFzZUxpc3RUeXBlSW5mbz4+XG4gIGZpZWxkUG9zaXRpb25zPzogUmVjb3JkPHN0cmluZywgJ2Zvcm0nIHwgJ3NpZGViYXInPlxuICBpc1JlcXVpcmVkczogUmVjb3JkPHN0cmluZywgQ29uZGl0aW9uYWxGaWVsZEZpbHRlckNhc2U8QmFzZUxpc3RUeXBlSW5mbz4+XG59KSB7XG4gIGNvbnN0IGZpZWxkRG9tQnlLZXk6IFJlY29yZDxzdHJpbmcsIFJlYWN0Tm9kZT4gPSB7fVxuICBsZXQgZm9jdXNlZCA9IGZhbHNlXG4gIGNvbnN0IHNlcmlhbGl6ZWQ6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge31cbiAgZm9yIChjb25zdCBbZmllbGRLZXksIGZpZWxkXSBvZiBPYmplY3QuZW50cmllcyhmaWVsZHMpKSB7XG4gICAgT2JqZWN0LmFzc2lnbihzZXJpYWxpemVkLCBmaWVsZC5jb250cm9sbGVyLnNlcmlhbGl6ZShpdGVtVmFsdWVbZmllbGRLZXldKSlcbiAgfVxuICBmb3IgKGNvbnN0IGZpZWxkS2V5IGluIGZpZWxkcykge1xuICAgIGNvbnN0IGZpZWxkID0gZmllbGRzW2ZpZWxkS2V5XVxuICAgIGNvbnN0IGZpZWxkUG9zaXRpb24gPSBmaWVsZFBvc2l0aW9uc1tmaWVsZEtleV0gPz8gZmllbGQuaXRlbVZpZXcuZmllbGRQb3NpdGlvblxuICAgIGlmICh2aWV3ID09PSAnaXRlbVZpZXcnICYmIGZpZWxkUG9zaXRpb24gIT09IHBvc2l0aW9uKSBjb250aW51ZVxuXG4gICAgY29uc3QgZmllbGRNb2RlRmlsdGVyID0gZmllbGRNb2Rlc1tmaWVsZEtleV0gPz8gZmllbGRbdmlld10uZmllbGRNb2RlXG4gICAgbGV0IGZpZWxkTW9kZTogJ3JlYWQnIHwgJ2VkaXQnIHwgJ2hpZGRlbidcbiAgICBpZiAodHlwZW9mIGZpZWxkTW9kZUZpbHRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGZpZWxkTW9kZSA9IGZpZWxkTW9kZUZpbHRlclxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGVzdEZpbHRlcihmaWVsZE1vZGVGaWx0ZXIuZWRpdCwgc2VyaWFsaXplZCkpIGZpZWxkTW9kZSA9ICdlZGl0J1xuICAgICAgZWxzZSBpZiAodmlldyA9PT0gJ2l0ZW1WaWV3JyAmJiB0ZXN0RmlsdGVyKGZpZWxkTW9kZUZpbHRlci5yZWFkLCBzZXJpYWxpemVkKSlcbiAgICAgICAgZmllbGRNb2RlID0gJ3JlYWQnXG4gICAgICBlbHNlIGZpZWxkTW9kZSA9ICdoaWRkZW4nXG4gICAgfVxuICAgIGlmIChmaWVsZE1vZGUgPT09ICdoaWRkZW4nKSBjb250aW51ZVxuXG4gICAgY29uc3QgZmllbGRWYWx1ZSA9IGl0ZW1WYWx1ZVtmaWVsZEtleV1cbiAgICBjb25zdCBhdXRvRm9jdXMgPSBmb2N1c2VkID09PSBmYWxzZSAvLyBub3QgZ3JlYXQsIGJ1dCBmb2N1c2VzIHRoZSBmaXJzdCBmaWVsZFxuICAgIGZvY3VzZWQgPSB0cnVlXG5cbiAgICBmaWVsZERvbUJ5S2V5W2ZpZWxkS2V5XSA9IChcbiAgICAgIDxmaWVsZC52aWV3cy5GaWVsZFxuICAgICAgICBrZXk9e2ZpZWxkS2V5fVxuICAgICAgICBhdXRvRm9jdXM9e2F1dG9Gb2N1c31cbiAgICAgICAgZm9yY2VWYWxpZGF0aW9uPXtmb3JjZVZhbGlkYXRpb24gJiYgaW52YWxpZEZpZWxkcy5oYXMoZmllbGRLZXkpfVxuICAgICAgICBmaWVsZD17ZmllbGQuY29udHJvbGxlcn1cbiAgICAgICAgaXNSZXF1aXJlZD17dGVzdEZpbHRlcihpc1JlcXVpcmVkc1tmaWVsZEtleV0gPz8gZmFsc2UsIHNlcmlhbGl6ZWQpfVxuICAgICAgICBvbkNoYW5nZT17XG4gICAgICAgICAgZmllbGRNb2RlID09PSAncmVhZCcgfHwgb25DaGFuZ2UgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgIDogbmV3RmllbGRWYWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgICAgLi4uaXRlbVZhbHVlLFxuICAgICAgICAgICAgICAgICAgW2ZpZWxkLmNvbnRyb2xsZXIuZmllbGRLZXldOiBuZXdGaWVsZFZhbHVlLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YWx1ZT17ZmllbGRWYWx1ZX1cbiAgICAgICAgaXRlbVZhbHVlPXtpdGVtVmFsdWV9XG4gICAgICAvPlxuICAgIClcbiAgfVxuXG4gIGNvbnN0IGdyb3VwQnlGaWVsZEtleTogUmVjb3JkPHN0cmluZywgRmllbGRHcm91cE1ldGE+ID0ge31cbiAgZm9yIChjb25zdCBncm91cCBvZiBncm91cHMpIHtcbiAgICBmb3IgKGNvbnN0IHsga2V5OiBmaWVsZEtleSB9IG9mIGdyb3VwLmZpZWxkcykge1xuICAgICAgZ3JvdXBCeUZpZWxkS2V5W2ZpZWxkS2V5XSA9IGdyb3VwXG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETzogbm90IHN1cmUgd2hhdCB0byBkbyBhYm91dCB0aGUgc2lkZWJhciBjYXNlLiBpIHRoaW5rIGl0J3MgZmluZSB0b1xuICAvLyBqdXN0IHJlbmRlciBub3RoaW5nIGZvciBub3csIGJ1dCB3ZSBzaG91bGQgcmV2aXNpdCB0aGlzLlxuICBpZiAoT2JqZWN0LmtleXMoZmllbGREb21CeUtleSkubGVuZ3RoID09PSAwICYmIHBvc2l0aW9uID09PSAnZm9ybScpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEVtcHR5U3RhdGVcbiAgICAgICAgaWNvbj17dGV4dEN1cnNvcklucHV0SWNvbn1cbiAgICAgICAgdGl0bGU9XCJObyBmaWVsZHNcIlxuICAgICAgICBtZXNzYWdlPVwiVGhlcmUgYXJlIG5vIGZpZWxkcyB0byBiZSBzaG93bi5cIlxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIC8vIHRoZSBcImlubGluZVwiIGNvbnRhaW5lciBhbGxvd3MgZmllbGRzIHRvIHJlYWN0IHRvIHRoZSB3aWR0aCBvZiB0aGVpciBjb2x1bW5cbiAgICA8VlN0YWNrIGdhcD1cInhsYXJnZVwiIFVOU0FGRV9zdHlsZT17eyBjb250YWluZXJUeXBlOiAnaW5saW5lLXNpemUnIH19PlxuICAgICAge1tcbiAgICAgICAgLi4uKGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgY29uc3QgcmVuZGVyZWQ6IFJlY29yZDxzdHJpbmcsIHRydWU+ID0ge31cbiAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkS2V5IGluIGZpZWxkcykge1xuICAgICAgICAgICAgaWYgKGZpZWxkS2V5IGluIHJlbmRlcmVkKSBjb250aW51ZVxuXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IGdyb3VwQnlGaWVsZEtleVtmaWVsZEtleV1cbiAgICAgICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgICAgICBjb25zdCBmaWVsZHMgPSBbXG4gICAgICAgICAgICAgICAgLi4uKGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHsga2V5OiBmaWVsZEtleSB9IG9mIGdyb3VwLmZpZWxkcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGRLZXkgaW4gcmVuZGVyZWQpIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZERvbUJ5S2V5W2ZpZWxkS2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIGZpZWxkRG9tQnlLZXlbZmllbGRLZXldXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZWRbZmllbGRLZXldID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pKCksXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgaWYgKGZpZWxkcy5sZW5ndGggPT09IDApIGNvbnRpbnVlXG4gICAgICAgICAgICAgIHlpZWxkIChcbiAgICAgICAgICAgICAgICA8RmllbGRHcm91cCBrZXk9e2dyb3VwLmxhYmVsfSBsYWJlbD17Z3JvdXAubGFiZWx9IGRlc2NyaXB0aW9uPXtncm91cC5kZXNjcmlwdGlvbn0+XG4gICAgICAgICAgICAgICAgICB7ZmllbGRzfVxuICAgICAgICAgICAgICAgIDwvRmllbGRHcm91cD5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB5aWVsZCBmaWVsZERvbUJ5S2V5W2ZpZWxkS2V5XSA/PyBudWxsXG4gICAgICAgICAgICByZW5kZXJlZFtmaWVsZEtleV0gPSB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9KSgpLFxuICAgICAgXX1cbiAgICA8L1ZTdGFjaz5cbiAgKVxufVxuXG5mdW5jdGlvbiBGaWVsZEdyb3VwKHtcbiAgZGVzY3JpcHRpb24sXG4gIGxhYmVsLFxuICBjaGlsZHJlbixcbn06IHtcbiAgbGFiZWw6IHN0cmluZ1xuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbFxuICBjaGlsZHJlbjogUmVhY3ROb2RlXG59KSB7XG4gIGNvbnN0IGxhYmVsSWQgPSB1c2VJZCgpXG4gIGNvbnN0IGRlc2NyaXB0aW9uSWQgPSB1c2VTbG90SWQoW0Jvb2xlYW4oZGVzY3JpcHRpb24pXSlcblxuICByZXR1cm4gKFxuICAgIDxkZXRhaWxzIGFyaWEtbGFiZWxsZWRieT17bGFiZWxJZH0gYXJpYS1kZXNjcmliZWRieT17ZGVzY3JpcHRpb25JZH0gb3Blbj5cbiAgICAgIDxIU3RhY2tcbiAgICAgICAgZ2FwPVwibWVkaXVtXCJcbiAgICAgICAgYWxpZ25JdGVtcz1cImNlbnRlclwiXG4gICAgICAgIGVsZW1lbnRUeXBlPVwic3VtbWFyeVwiXG4gICAgICAgIFVOU0FGRV9jbGFzc05hbWU9e2Nzcyh7XG4gICAgICAgICAgbGlzdFN0eWxlOiAnbm9uZScsXG4gICAgICAgICAgb3V0bGluZTogMCxcbiAgICAgICAgICAnOjotd2Via2l0LWRldGFpbHMtbWFya2VyJzogeyBkaXNwbGF5OiAnbm9uZScgfSxcbiAgICAgICAgfSl9XG4gICAgICA+XG4gICAgICAgIDxGaWVsZEJ1dHRvblxuICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Ig4oCUIHRoaXMgd29ya3MsIGl0J3MganVzdCBub3QgZXhwb3NlZCBpbiB0aGUgcHVibGljIHR5cGVzXG4gICAgICAgICAgZWxlbWVudFR5cGU9XCJkaXZcIlxuICAgICAgICAgIC8vIHRoZSA8c3VtbWFyeS8+IChhYm92ZSkgaXMgdGhlIGZvY3VzYWJsZSBlbGVtZW50XG4gICAgICAgICAgZXhjbHVkZUZyb21UYWJPcmRlclxuICAgICAgICAgIHByb21pbmVuY2U9XCJsb3dcIlxuICAgICAgICAgIGhlaWdodD1cImVsZW1lbnQuc21hbGxcIlxuICAgICAgICAgIHdpZHRoPVwiZWxlbWVudC5zbWFsbFwiXG4gICAgICAgICAgbWluV2lkdGg9XCJhdXRvXCJcbiAgICAgICAgICBVTlNBRkVfY2xhc3NOYW1lPXtjc3Moe1xuICAgICAgICAgICAgJ2RldGFpbHNbb3Blbl0gJic6IHtcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiAncm90YXRlKDkwZGVnKScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pfVxuICAgICAgICA+XG4gICAgICAgICAgPEljb24gc3JjPXtjaGV2cm9uUmlnaHRJY29ufSBzaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgPC9GaWVsZEJ1dHRvbj5cbiAgICAgICAgPFZTdGFja1xuICAgICAgICAgIGdhcD1cInJlZ3VsYXJcIlxuICAgICAgICAgIFVOU0FGRV9jbGFzc05hbWU9e2Nzcyh7XG4gICAgICAgICAgICBjdXJzb3I6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICAgICB9KX1cbiAgICAgICAgPlxuICAgICAgICAgIDxUZXh0XG4gICAgICAgICAgICBjb2xvcj1cIm5ldXRyYWxFbXBoYXNpc1wiXG4gICAgICAgICAgICBzaXplPVwibGFyZ2VcIlxuICAgICAgICAgICAgd2VpZ2h0PVwibWVkaXVtXCJcbiAgICAgICAgICAgIGlkPXtsYWJlbElkfVxuICAgICAgICAgICAgcG9zaXRpb249XCJyZWxhdGl2ZVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICB7ISFkZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgICAgICA8VGV4dCBpZD17ZGVzY3JpcHRpb25JZH0gc2l6ZT1cInJlZ3VsYXJcIiBjb2xvcj1cIm5ldXRyYWxTZWNvbmRhcnlcIj5cbiAgICAgICAgICAgICAge2Rlc2NyaXB0aW9ufVxuICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvVlN0YWNrPlxuICAgICAgPC9IU3RhY2s+XG5cbiAgICAgIHsvKlxuICAgICAgICBQYWRkaW5nIGlzIGFwcGxpZWQgaGVyZSBiZWNhdXNlIGA8ZGV0YWlscz5gIGRvZXNuJ3QgYWNjZXB0IGZsZXgvZ3JpZFxuICAgICAgICBsYXlvdXQsIHByZWZlciBcImdhcFwiIGluIG1vc3QgY2FzZXMuXG4gICAgICAqL31cbiAgICAgIDxIU3RhY2sgZ2FwPVwibWVkaXVtXCIgcGFkZGluZ1RvcD1cIm1lZGl1bVwiPlxuICAgICAgICA8R3JvdXBJbmRpY2F0b3JMaW5lIC8+XG4gICAgICAgIDxWU3RhY2sgZ2FwPVwieGxhcmdlXCIgZmxleD5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvVlN0YWNrPlxuICAgICAgPC9IU3RhY2s+XG4gICAgPC9kZXRhaWxzPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHcm91cEluZGljYXRvckxpbmUoKSB7XG4gIHJldHVybiAoXG4gICAgPEhTdGFjayBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiIHdpZHRoPVwiZWxlbWVudC5zbWFsbFwiPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9e2Nzcyh7XG4gICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgd2lkdGg6IHRva2VuU2NoZW1hLnNpemUuYWxpYXMuZm9jdXNSaW5nLFxuICAgICAgICAgIGJvcmRlclJhZGl1czogdG9rZW5TY2hlbWEuc2l6ZS5hbGlhcy5mb2N1c1JpbmcsXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0b2tlblNjaGVtYS5jb2xvci5ib3JkZXIubmV1dHJhbCxcbiAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICB9KX1cbiAgICAgIC8+XG4gICAgPC9IU3RhY2s+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTbG90SWQiLCJ1c2VJZCIsIkZpZWxkQnV0dG9uIiwiY2hldnJvblJpZ2h0SWNvbiIsIkljb24iLCJIU3RhY2siLCJWU3RhY2siLCJjc3MiLCJ0b2tlblNjaGVtYSIsIlRleHQiLCJ0ZXh0Q3Vyc29ySW5wdXRJY29uIiwiRW1wdHlTdGF0ZSIsImFwcGx5RmlsdGVyIiwiZmlsdGVyIiwidmFsIiwiZXF1YWxzIiwidW5kZWZpbmVkIiwiaW4iLCJpbmNsdWRlcyIsInRlc3RGaWx0ZXIiLCJzZXJpYWxpemVkIiwia2V5IiwiZmlsdGVyT25GaWVsZCIsIk9iamVjdCIsImVudHJpZXMiLCJzZXJpYWxpemVkVmFsdWUiLCJub3QiLCJGaWVsZHMiLCJ2aWV3IiwicG9zaXRpb24iLCJmaWVsZHMiLCJncm91cHMiLCJmb3JjZVZhbGlkYXRpb24iLCJpbnZhbGlkRmllbGRzIiwib25DaGFuZ2UiLCJ2YWx1ZSIsIml0ZW1WYWx1ZSIsImZpZWxkTW9kZXMiLCJmaWVsZFBvc2l0aW9ucyIsImlzUmVxdWlyZWRzIiwiZmllbGREb21CeUtleSIsImZvY3VzZWQiLCJmaWVsZEtleSIsImZpZWxkIiwiYXNzaWduIiwiY29udHJvbGxlciIsInNlcmlhbGl6ZSIsImZpZWxkUG9zaXRpb24iLCJpdGVtVmlldyIsImZpZWxkTW9kZUZpbHRlciIsImZpZWxkTW9kZSIsImVkaXQiLCJyZWFkIiwiZmllbGRWYWx1ZSIsImF1dG9Gb2N1cyIsInZpZXdzIiwiRmllbGQiLCJoYXMiLCJpc1JlcXVpcmVkIiwibmV3RmllbGRWYWx1ZSIsImdyb3VwQnlGaWVsZEtleSIsImdyb3VwIiwia2V5cyIsImxlbmd0aCIsImljb24iLCJ0aXRsZSIsIm1lc3NhZ2UiLCJnYXAiLCJVTlNBRkVfc3R5bGUiLCJjb250YWluZXJUeXBlIiwicmVuZGVyZWQiLCJGaWVsZEdyb3VwIiwibGFiZWwiLCJkZXNjcmlwdGlvbiIsImNoaWxkcmVuIiwibGFiZWxJZCIsImRlc2NyaXB0aW9uSWQiLCJCb29sZWFuIiwiZGV0YWlscyIsImFyaWEtbGFiZWxsZWRieSIsImFyaWEtZGVzY3JpYmVkYnkiLCJvcGVuIiwiYWxpZ25JdGVtcyIsImVsZW1lbnRUeXBlIiwiVU5TQUZFX2NsYXNzTmFtZSIsImxpc3RTdHlsZSIsIm91dGxpbmUiLCJkaXNwbGF5IiwiZXhjbHVkZUZyb21UYWJPcmRlciIsInByb21pbmVuY2UiLCJoZWlnaHQiLCJ3aWR0aCIsIm1pbldpZHRoIiwidHJhbnNmb3JtIiwic3JjIiwic2l6ZSIsImN1cnNvciIsInVzZXJTZWxlY3QiLCJjb2xvciIsIndlaWdodCIsImlkIiwicGFkZGluZ1RvcCIsIkdyb3VwSW5kaWNhdG9yTGluZSIsImZsZXgiLCJqdXN0aWZ5Q29udGVudCIsImRpdiIsImNsYXNzTmFtZSIsImFsaWFzIiwiZm9jdXNSaW5nIiwiYm9yZGVyUmFkaXVzIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyIiwibmV1dHJhbCIsImZsZXhTaHJpbmsiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/utils/Fields.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/utils/index.ts":
/*!*************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/utils/index.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Fields__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Fields */ \"../../../../packages/core/src/admin-ui/utils/Fields.tsx\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _Fields__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _Fields__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"../../../../packages/core/src/admin-ui/utils/utils.tsx\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _utils__WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _utils__WEBPACK_IMPORTED_MODULE_1__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _useCreateItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useCreateItem */ \"../../../../packages/core/src/admin-ui/utils/useCreateItem.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _useCreateItem__WEBPACK_IMPORTED_MODULE_2__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _useCreateItem__WEBPACK_IMPORTED_MODULE_2__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvdXRpbHMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUF3QjtBQUNEO0FBQ1EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvdXRpbHMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9GaWVsZHMnXG5leHBvcnQgKiBmcm9tICcuL3V0aWxzJ1xuZXhwb3J0ICogZnJvbSAnLi91c2VDcmVhdGVJdGVtJ1xuXG5leHBvcnQgdHlwZSBEZWVwTnVsbGFibGU8VD4gPVxuICB8IG51bGxcbiAgfCAoVCBleHRlbmRzIEFycmF5PGluZmVyIEl0ZW0+XG4gICAgICA/IEFycmF5PERlZXBOdWxsYWJsZTxJdGVtPj5cbiAgICAgIDogeyBbS2V5IGluIGtleW9mIFRdOiBEZWVwTnVsbGFibGU8VFtLZXldPiB9KVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/utils/index.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/utils/useCreateItem.ts":
/*!*********************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/utils/useCreateItem.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useBuildItem: () => (/* binding */ useBuildItem),\n/* harmony export */   useCreateItem: () => (/* binding */ useCreateItem)\n/* harmony export */ });\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/router */ \"../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_toast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/toast */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-toast.js\");\n/* harmony import */ var _admin_ui_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../admin-ui/utils */ \"../../../../packages/core/src/admin-ui/utils/index.ts\");\n/* harmony import */ var _apollo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../apollo */ \"../../../../packages/core/src/admin-ui/apollo.tsx\");\n/* harmony import */ var _usePreventNavigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./usePreventNavigation */ \"../../../../packages/core/src/admin-ui/utils/usePreventNavigation.tsx\");\n\n\n\n\n\n\nfunction useCreateItem(list) {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_0__.useRouter)();\n    const [tryCreateItem, { loading, error, data: returnedData }] = (0,_apollo__WEBPACK_IMPORTED_MODULE_4__.useMutation)((0,_apollo__WEBPACK_IMPORTED_MODULE_4__.gql)`mutation($data: ${list.graphql.names.createInputName}!) {\n      item: ${list.graphql.names.createMutationName}(data: $data) {\n        id\n        label: ${list.labelField}\n      }\n    }`);\n    const isRequireds = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"useCreateItem.useMemo[isRequireds]\": ()=>Object.fromEntries(Object.entries(list.fields).map({\n                \"useCreateItem.useMemo[isRequireds]\": ([key, field])=>[\n                        key,\n                        field.createView.isRequired\n                    ]\n            }[\"useCreateItem.useMemo[isRequireds]\"]))\n    }[\"useCreateItem.useMemo[isRequireds]\"], [\n        list.fields\n    ]);\n    const [forceValidation, setForceValidation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"useCreateItem.useState\": ()=>(0,_admin_ui_utils__WEBPACK_IMPORTED_MODULE_3__.makeDefaultValueState)(list.fields)\n    }[\"useCreateItem.useState\"]);\n    const invalidFields = (0,_admin_ui_utils__WEBPACK_IMPORTED_MODULE_3__.useInvalidFields)(list.fields, value, isRequireds);\n    const hasChangedFields = (0,_admin_ui_utils__WEBPACK_IMPORTED_MODULE_3__.useHasChanges)('create', list.fields, value, (0,_admin_ui_utils__WEBPACK_IMPORTED_MODULE_3__.makeDefaultValueState)(list.fields));\n    const shouldPreventNavigation = !returnedData?.item && hasChangedFields;\n    const shouldPreventNavigationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(shouldPreventNavigation);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"useCreateItem.useEffect\": ()=>{\n            shouldPreventNavigationRef.current = shouldPreventNavigation;\n        }\n    }[\"useCreateItem.useEffect\"], [\n        shouldPreventNavigation\n    ]);\n    (0,_usePreventNavigation__WEBPACK_IMPORTED_MODULE_5__.usePreventNavigation)(shouldPreventNavigationRef);\n    return {\n        state: loading ? 'loading' : !returnedData?.item ? 'created' : 'editing',\n        shouldPreventNavigation,\n        error,\n        props: {\n            view: 'createView',\n            position: 'form',\n            fields: list.fields,\n            groups: list.groups,\n            forceValidation,\n            invalidFields,\n            value,\n            isRequireds,\n            onChange: (newItemValue)=>setValue(newItemValue)\n        },\n        async create () {\n            const newForceValidation = invalidFields.size !== 0;\n            setForceValidation(newForceValidation);\n            if (newForceValidation) return;\n            let outputData;\n            try {\n                outputData = await tryCreateItem({\n                    variables: {\n                        data: (0,_admin_ui_utils__WEBPACK_IMPORTED_MODULE_3__.serializeValueToOperationItem)('create', list.fields, value)\n                    },\n                    update (cache, { data }) {\n                        if (typeof data?.item?.id === 'string') {\n                            cache.evict({\n                                id: 'ROOT_QUERY',\n                                fieldName: `${list.graphql.names.itemQueryName}(${JSON.stringify({\n                                    where: {\n                                        id: data.item.id\n                                    }\n                                })})`\n                            });\n                        }\n                    }\n                }).then((x)=>x.data);\n            } catch  {\n                // TODO: what about `error` returned from the mutation? do we need\n                // to handle that too, should they be combined? does this code path\n                // even happen?\n                _keystar_ui_toast__WEBPACK_IMPORTED_MODULE_2__.toastQueue.critical(`Unable to create ${list.singular.toLocaleLowerCase()}`);\n                return;\n            }\n            shouldPreventNavigationRef.current = false;\n            _keystar_ui_toast__WEBPACK_IMPORTED_MODULE_2__.toastQueue.positive(`${list.singular} created`, {\n                timeout: 5000,\n                actionLabel: 'Create another',\n                onAction: ()=>{\n                    router.push(`/${list.path}/create`);\n                },\n                shouldCloseOnAction: true\n            });\n            return outputData.item;\n        }\n    };\n}\nfunction useBuildItem(list, fieldKeys = []) {\n    const [forceValidation, setForceValidation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"useBuildItem.useState\": ()=>(0,_admin_ui_utils__WEBPACK_IMPORTED_MODULE_3__.makeDefaultValueState)(list.fields)\n    }[\"useBuildItem.useState\"]);\n    const fields = fieldKeys.length ? Object.fromEntries(Object.entries(list.fields).filter(([key])=>fieldKeys.includes(key))) : list.fields;\n    const isRequireds = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"useBuildItem.useMemo[isRequireds]\": ()=>Object.fromEntries(Object.entries(list.fields).map({\n                \"useBuildItem.useMemo[isRequireds]\": ([key, field])=>[\n                        key,\n                        field.createView.isRequired\n                    ]\n            }[\"useBuildItem.useMemo[isRequireds]\"]))\n    }[\"useBuildItem.useMemo[isRequireds]\"], [\n        list.fields\n    ]);\n    const invalidFields = (0,_admin_ui_utils__WEBPACK_IMPORTED_MODULE_3__.useInvalidFields)(list.fields, value, isRequireds);\n    return {\n        state: 'editing',\n        props: {\n            view: 'createView',\n            position: 'form',\n            fields,\n            groups: list.groups,\n            forceValidation,\n            invalidFields,\n            value,\n            isRequireds,\n            onChange: (newItemValue)=>setValue(newItemValue)\n        },\n        async build () {\n            const newForceValidation = invalidFields.size !== 0;\n            setForceValidation(newForceValidation);\n            if (newForceValidation) return;\n            return (0,_admin_ui_utils__WEBPACK_IMPORTED_MODULE_3__.serializeValueToOperationItem)('create', list.fields, value);\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvdXRpbHMvdXNlQ3JlYXRlSXRlbS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXVDO0FBQzBDO0FBRW5DO0FBUWpCO0FBRWlDO0FBQ0Q7QUFVdEQsU0FBU2EsY0FBY0MsSUFBYztJQUMxQyxNQUFNQyxTQUFTZixzREFBU0E7SUFDeEIsTUFBTSxDQUFDZ0IsZUFBZSxFQUFFQyxPQUFPLEVBQUVDLEtBQUssRUFBRUMsTUFBTUMsWUFBWSxFQUFFLENBQUMsR0FBR1Qsb0RBQVdBLENBQ3pFRCw0Q0FBRyxDQUFDLGdCQUFnQixFQUFFSSxLQUFLTyxPQUFPLENBQUNDLEtBQUssQ0FBQ0MsZUFBZSxDQUFDO1lBQ2pELEVBQUVULEtBQUtPLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDRSxrQkFBa0IsQ0FBQzs7ZUFFckMsRUFBRVYsS0FBS1csVUFBVSxDQUFDOztLQUU1QixDQUFDO0lBR0osTUFBTUMsY0FBY3hCLDhDQUFPQTs4Q0FDekIsSUFDRXlCLE9BQU9DLFdBQVcsQ0FDaEJELE9BQU9FLE9BQU8sQ0FBQ2YsS0FBS2dCLE1BQU0sRUFBRUMsR0FBRztzREFBQyxDQUFDLENBQUNDLEtBQUtDLE1BQU0sR0FBSzt3QkFBQ0Q7d0JBQUtDLE1BQU1DLFVBQVUsQ0FBQ0MsVUFBVTtxQkFBQzs7NkNBRXhGO1FBQUNyQixLQUFLZ0IsTUFBTTtLQUFDO0lBR2YsTUFBTSxDQUFDTSxpQkFBaUJDLG1CQUFtQixHQUFHakMsK0NBQVFBLENBQUM7SUFDdkQsTUFBTSxDQUFDa0MsT0FBT0MsU0FBUyxHQUFHbkMsK0NBQVFBO2tDQUFDLElBQU1FLHNFQUFxQkEsQ0FBQ1EsS0FBS2dCLE1BQU07O0lBQzFFLE1BQU1VLGdCQUFnQi9CLGlFQUFnQkEsQ0FBQ0ssS0FBS2dCLE1BQU0sRUFBRVEsT0FBT1o7SUFFM0QsTUFBTWUsbUJBQW1CakMsOERBQWFBLENBQ3BDLFVBQ0FNLEtBQUtnQixNQUFNLEVBQ1hRLE9BQ0FoQyxz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TSxFQUFFQyxHQUFHO3FEQUFDLENBQUMsQ0FBQ0MsS0FBS0MsTUFBTSxHQUFLO3dCQUFDRDt3QkFBS0MsTUFBTUMsVUFBVSxDQUFDQyxVQUFVO3FCQUFDOzs0Q0FFeEY7UUFBQ3JCLEtBQUtnQixNQUFNO0tBQUM7SUFHZixNQUFNVSxnQkFBZ0IvQixpRUFBZ0JBLENBQUNLLEtBQUtnQixNQUFNLEVBQUVRLE9BQU9aO0lBRTNELE9BQU87UUFDTG9CLE9BQU87UUFDUEMsT0FBTztZQUNMQyxNQUFNO1lBQ05DLFVBQVU7WUFDVm5CO1lBQ0FvQixRQUFRcEMsS0FBS29DLE1BQU07WUFDbkJkO1lBQ0FJO1lBQ0FGO1lBQ0FaO1lBQ0F5QixVQUFVQyxDQUFBQSxlQUFnQmIsU0FBU2E7UUFDckM7UUFDQSxNQUFNZ0M7WUFDSixNQUFNOUIscUJBQXFCZCxjQUFjZSxJQUFJLEtBQUs7WUFDbERsQixtQkFBbUJpQjtZQUNuQixJQUFJQSxvQkFBb0I7WUFDeEIsT0FBTy9DLDhFQUE2QkEsQ0FBQyxVQUFVTyxLQUFLZ0IsTUFBTSxFQUFFUTtRQUM5RDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvdXRpbHMvdXNlQ3JlYXRlSXRlbS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcidcbmltcG9ydCB7IHR5cGUgQ29tcG9uZW50UHJvcHMsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyB0b2FzdFF1ZXVlIH0gZnJvbSAnQGtleXN0YXIvdWkvdG9hc3QnXG5cbmltcG9ydCB0eXBlIHsgRmllbGRzIH0gZnJvbSAnLidcbmltcG9ydCB7XG4gIG1ha2VEZWZhdWx0VmFsdWVTdGF0ZSxcbiAgc2VyaWFsaXplVmFsdWVUb09wZXJhdGlvbkl0ZW0sXG4gIHVzZUhhc0NoYW5nZXMsXG4gIHVzZUludmFsaWRGaWVsZHMsXG59IGZyb20gJy4uLy4uL2FkbWluLXVpL3V0aWxzJ1xuaW1wb3J0IHR5cGUgeyBMaXN0TWV0YSB9IGZyb20gJy4uLy4uL3R5cGVzJ1xuaW1wb3J0IHsgdHlwZSBBcG9sbG9FcnJvciwgZ3FsLCB1c2VNdXRhdGlvbiB9IGZyb20gJy4uL2Fwb2xsbydcbmltcG9ydCB7IHVzZVByZXZlbnROYXZpZ2F0aW9uIH0gZnJvbSAnLi91c2VQcmV2ZW50TmF2aWdhdGlvbidcblxudHlwZSBDcmVhdGVJdGVtSG9va1Jlc3VsdCA9IHtcbiAgc3RhdGU6ICdlZGl0aW5nJyB8ICdsb2FkaW5nJyB8ICdjcmVhdGVkJ1xuICBzaG91bGRQcmV2ZW50TmF2aWdhdGlvbjogYm9vbGVhblxuICBlcnJvcj86IEFwb2xsb0Vycm9yXG4gIHByb3BzOiBDb21wb25lbnRQcm9wczx0eXBlb2YgRmllbGRzPlxuICBjcmVhdGU6ICgpID0+IFByb21pc2U8eyBpZDogc3RyaW5nOyBsYWJlbDogc3RyaW5nIHwgbnVsbCB9IHwgdW5kZWZpbmVkPlxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ3JlYXRlSXRlbShsaXN0OiBMaXN0TWV0YSk6IENyZWF0ZUl0ZW1Ib29rUmVzdWx0IHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcbiAgY29uc3QgW3RyeUNyZWF0ZUl0ZW0sIHsgbG9hZGluZywgZXJyb3IsIGRhdGE6IHJldHVybmVkRGF0YSB9XSA9IHVzZU11dGF0aW9uKFxuICAgIGdxbGBtdXRhdGlvbigkZGF0YTogJHtsaXN0LmdyYXBocWwubmFtZXMuY3JlYXRlSW5wdXROYW1lfSEpIHtcbiAgICAgIGl0ZW06ICR7bGlzdC5ncmFwaHFsLm5hbWVzLmNyZWF0ZU11dGF0aW9uTmFtZX0oZGF0YTogJGRhdGEpIHtcbiAgICAgICAgaWRcbiAgICAgICAgbGFiZWw6ICR7bGlzdC5sYWJlbEZpZWxkfVxuICAgICAgfVxuICAgIH1gXG4gIClcblxuICBjb25zdCBpc1JlcXVpcmVkcyA9IHVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobGlzdC5maWVsZHMpLm1hcCgoW2tleSwgZmllbGRdKSA9PiBba2V5LCBmaWVsZC5jcmVhdGVWaWV3LmlzUmVxdWlyZWRdKVxuICAgICAgKSxcbiAgICBbbGlzdC5maWVsZHNdXG4gIClcblxuICBjb25zdCBbZm9yY2VWYWxpZGF0aW9uLCBzZXRGb3JjZVZhbGlkYXRpb25dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUoKCkgPT4gbWFrZURlZmF1bHRWYWx1ZVN0YXRlKGxpc3QuZmllbGRzKSlcbiAgY29uc3QgaW52YWxpZEZpZWxkcyA9IHVzZUludmFsaWRGaWVsZHMobGlzdC5maWVsZHMsIHZhbHVlLCBpc1JlcXVpcmVkcylcblxuICBjb25zdCBoYXNDaGFuZ2VkRmllbGRzID0gdXNlSGFzQ2hhbmdlcyhcbiAgICAnY3JlYXRlJyxcbiAgICBsaXN0LmZpZWxkcyxcbiAgICB2YWx1ZSxcbiAgICBtYWtlRGVmYXVsdFZhbHVlU3RhdGUobGlzdC5maWVsZHMpXG4gIClcbiAgY29uc3Qgc2hvdWxkUHJldmVudE5hdmlnYXRpb24gPSAhcmV0dXJuZWREYXRhPy5pdGVtICYmIGhhc0NoYW5nZWRGaWVsZHNcbiAgY29uc3Qgc2hvdWxkUHJldmVudE5hdmlnYXRpb25SZWYgPSB1c2VSZWYoc2hvdWxkUHJldmVudE5hdmlnYXRpb24pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzaG91bGRQcmV2ZW50TmF2aWdhdGlvblJlZi5jdXJyZW50ID0gc2hvdWxkUHJldmVudE5hdmlnYXRpb25cbiAgfSwgW3Nob3VsZFByZXZlbnROYXZpZ2F0aW9uXSlcbiAgdXNlUHJldmVudE5hdmlnYXRpb24oc2hvdWxkUHJldmVudE5hdmlnYXRpb25SZWYpXG5cbiAgcmV0dXJuIHtcbiAgICBzdGF0ZTogbG9hZGluZyA/ICdsb2FkaW5nJyA6ICFyZXR1cm5lZERhdGE/Lml0ZW0gPyAnY3JlYXRlZCcgOiAnZWRpdGluZycsXG4gICAgc2hvdWxkUHJldmVudE5hdmlnYXRpb24sXG4gICAgZXJyb3IsXG4gICAgcHJvcHM6IHtcbiAgICAgIHZpZXc6ICdjcmVhdGVWaWV3JyxcbiAgICAgIHBvc2l0aW9uOiAnZm9ybScsXG4gICAgICBmaWVsZHM6IGxpc3QuZmllbGRzLFxuICAgICAgZ3JvdXBzOiBsaXN0Lmdyb3VwcyxcbiAgICAgIGZvcmNlVmFsaWRhdGlvbixcbiAgICAgIGludmFsaWRGaWVsZHMsXG4gICAgICB2YWx1ZSxcbiAgICAgIGlzUmVxdWlyZWRzLFxuICAgICAgb25DaGFuZ2U6IG5ld0l0ZW1WYWx1ZSA9PiBzZXRWYWx1ZShuZXdJdGVtVmFsdWUpLFxuICAgIH0sXG4gICAgYXN5bmMgY3JlYXRlKCk6IFByb21pc2U8eyBpZDogc3RyaW5nOyBsYWJlbDogc3RyaW5nIHwgbnVsbCB9IHwgdW5kZWZpbmVkPiB7XG4gICAgICBjb25zdCBuZXdGb3JjZVZhbGlkYXRpb24gPSBpbnZhbGlkRmllbGRzLnNpemUgIT09IDBcbiAgICAgIHNldEZvcmNlVmFsaWRhdGlvbihuZXdGb3JjZVZhbGlkYXRpb24pXG5cbiAgICAgIGlmIChuZXdGb3JjZVZhbGlkYXRpb24pIHJldHVyblxuXG4gICAgICBsZXQgb3V0cHV0RGF0YTogeyBpdGVtOiB7IGlkOiBzdHJpbmc7IGxhYmVsOiBzdHJpbmcgfCBudWxsIH0gfVxuICAgICAgdHJ5IHtcbiAgICAgICAgb3V0cHV0RGF0YSA9IGF3YWl0IHRyeUNyZWF0ZUl0ZW0oe1xuICAgICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgICAgZGF0YTogc2VyaWFsaXplVmFsdWVUb09wZXJhdGlvbkl0ZW0oJ2NyZWF0ZScsIGxpc3QuZmllbGRzLCB2YWx1ZSksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB1cGRhdGUoY2FjaGUsIHsgZGF0YSB9KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGE/Lml0ZW0/LmlkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjYWNoZS5ldmljdCh7XG4gICAgICAgICAgICAgICAgaWQ6ICdST09UX1FVRVJZJyxcbiAgICAgICAgICAgICAgICBmaWVsZE5hbWU6IGAke2xpc3QuZ3JhcGhxbC5uYW1lcy5pdGVtUXVlcnlOYW1lfSgke0pTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBkYXRhLml0ZW0uaWQgfSxcbiAgICAgICAgICAgICAgICB9KX0pYCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9KS50aGVuKHggPT4geC5kYXRhKVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIFRPRE86IHdoYXQgYWJvdXQgYGVycm9yYCByZXR1cm5lZCBmcm9tIHRoZSBtdXRhdGlvbj8gZG8gd2UgbmVlZFxuICAgICAgICAvLyB0byBoYW5kbGUgdGhhdCB0b28sIHNob3VsZCB0aGV5IGJlIGNvbWJpbmVkPyBkb2VzIHRoaXMgY29kZSBwYXRoXG4gICAgICAgIC8vIGV2ZW4gaGFwcGVuP1xuICAgICAgICB0b2FzdFF1ZXVlLmNyaXRpY2FsKGBVbmFibGUgdG8gY3JlYXRlICR7bGlzdC5zaW5ndWxhci50b0xvY2FsZUxvd2VyQ2FzZSgpfWApXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBzaG91bGRQcmV2ZW50TmF2aWdhdGlvblJlZi5jdXJyZW50ID0gZmFsc2VcbiAgICAgIHRvYXN0UXVldWUucG9zaXRpdmUoYCR7bGlzdC5zaW5ndWxhcn0gY3JlYXRlZGAsIHtcbiAgICAgICAgdGltZW91dDogNTAwMCxcbiAgICAgICAgYWN0aW9uTGFiZWw6ICdDcmVhdGUgYW5vdGhlcicsXG4gICAgICAgIG9uQWN0aW9uOiAoKSA9PiB7XG4gICAgICAgICAgcm91dGVyLnB1c2goYC8ke2xpc3QucGF0aH0vY3JlYXRlYClcbiAgICAgICAgfSxcbiAgICAgICAgc2hvdWxkQ2xvc2VPbkFjdGlvbjogdHJ1ZSxcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBvdXRwdXREYXRhLml0ZW1cbiAgICB9LFxuICB9XG59XG5cbnR5cGUgQnVpbGRJdGVtSG9va1Jlc3VsdCA9IHtcbiAgc3RhdGU6ICdlZGl0aW5nJ1xuICBlcnJvcj86IEFwb2xsb0Vycm9yXG4gIHByb3BzOiBDb21wb25lbnRQcm9wczx0eXBlb2YgRmllbGRzPlxuICBidWlsZDogKCkgPT4gUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZD5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUJ1aWxkSXRlbShsaXN0OiBMaXN0TWV0YSwgZmllbGRLZXlzOiBzdHJpbmdbXSA9IFtdKTogQnVpbGRJdGVtSG9va1Jlc3VsdCB7XG4gIGNvbnN0IFtmb3JjZVZhbGlkYXRpb24sIHNldEZvcmNlVmFsaWRhdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZSgoKSA9PiBtYWtlRGVmYXVsdFZhbHVlU3RhdGUobGlzdC5maWVsZHMpKVxuICBjb25zdCBmaWVsZHMgPSBmaWVsZEtleXMubGVuZ3RoXG4gICAgPyBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMobGlzdC5maWVsZHMpLmZpbHRlcigoW2tleV0pID0+IGZpZWxkS2V5cy5pbmNsdWRlcyhrZXkpKSlcbiAgICA6IGxpc3QuZmllbGRzXG5cbiAgY29uc3QgaXNSZXF1aXJlZHMgPSB1c2VNZW1vKFxuICAgICgpID0+XG4gICAgICBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGxpc3QuZmllbGRzKS5tYXAoKFtrZXksIGZpZWxkXSkgPT4gW2tleSwgZmllbGQuY3JlYXRlVmlldy5pc1JlcXVpcmVkXSlcbiAgICAgICksXG4gICAgW2xpc3QuZmllbGRzXVxuICApXG5cbiAgY29uc3QgaW52YWxpZEZpZWxkcyA9IHVzZUludmFsaWRGaWVsZHMobGlzdC5maWVsZHMsIHZhbHVlLCBpc1JlcXVpcmVkcylcblxuICByZXR1cm4ge1xuICAgIHN0YXRlOiAnZWRpdGluZycsXG4gICAgcHJvcHM6IHtcbiAgICAgIHZpZXc6ICdjcmVhdGVWaWV3JyxcbiAgICAgIHBvc2l0aW9uOiAnZm9ybScsXG4gICAgICBmaWVsZHMsXG4gICAgICBncm91cHM6IGxpc3QuZ3JvdXBzLFxuICAgICAgZm9yY2VWYWxpZGF0aW9uLFxuICAgICAgaW52YWxpZEZpZWxkcyxcbiAgICAgIHZhbHVlLFxuICAgICAgaXNSZXF1aXJlZHMsXG4gICAgICBvbkNoYW5nZTogbmV3SXRlbVZhbHVlID0+IHNldFZhbHVlKG5ld0l0ZW1WYWx1ZSksXG4gICAgfSxcbiAgICBhc3luYyBidWlsZCgpIHtcbiAgICAgIGNvbnN0IG5ld0ZvcmNlVmFsaWRhdGlvbiA9IGludmFsaWRGaWVsZHMuc2l6ZSAhPT0gMFxuICAgICAgc2V0Rm9yY2VWYWxpZGF0aW9uKG5ld0ZvcmNlVmFsaWRhdGlvbilcbiAgICAgIGlmIChuZXdGb3JjZVZhbGlkYXRpb24pIHJldHVyblxuICAgICAgcmV0dXJuIHNlcmlhbGl6ZVZhbHVlVG9PcGVyYXRpb25JdGVtKCdjcmVhdGUnLCBsaXN0LmZpZWxkcywgdmFsdWUpXG4gICAgfSxcbiAgfVxufVxuIl0sIm5hbWVzIjpbInVzZVJvdXRlciIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsInRvYXN0UXVldWUiLCJtYWtlRGVmYXVsdFZhbHVlU3RhdGUiLCJzZXJpYWxpemVWYWx1ZVRvT3BlcmF0aW9uSXRlbSIsInVzZUhhc0NoYW5nZXMiLCJ1c2VJbnZhbGlkRmllbGRzIiwiZ3FsIiwidXNlTXV0YXRpb24iLCJ1c2VQcmV2ZW50TmF2aWdhdGlvbiIsInVzZUNyZWF0ZUl0ZW0iLCJsaXN0Iiwicm91dGVyIiwidHJ5Q3JlYXRlSXRlbSIsImxvYWRpbmciLCJlcnJvciIsImRhdGEiLCJyZXR1cm5lZERhdGEiLCJncmFwaHFsIiwibmFtZXMiLCJjcmVhdGVJbnB1dE5hbWUiLCJjcmVhdGVNdXRhdGlvbk5hbWUiLCJsYWJlbEZpZWxkIiwiaXNSZXF1aXJlZHMiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJmaWVsZHMiLCJtYXAiLCJrZXkiLCJmaWVsZCIsImNyZWF0ZVZpZXciLCJpc1JlcXVpcmVkIiwiZm9yY2VWYWxpZGF0aW9uIiwic2V0Rm9yY2VWYWxpZGF0aW9uIiwidmFsdWUiLCJzZXRWYWx1ZSIsImludmFsaWRGaWVsZHMiLCJoYXNDaGFuZ2VkRmllbGRzIiwic2hvdWxkUHJldmVudE5hdmlnYXRpb24iLCJpdGVtIiwic2hvdWxkUHJldmVudE5hdmlnYXRpb25SZWYiLCJjdXJyZW50Iiwic3RhdGUiLCJwcm9wcyIsInZpZXciLCJwb3NpdGlvbiIsImdyb3VwcyIsIm9uQ2hhbmdlIiwibmV3SXRlbVZhbHVlIiwiY3JlYXRlIiwibmV3Rm9yY2VWYWxpZGF0aW9uIiwic2l6ZSIsIm91dHB1dERhdGEiLCJ2YXJpYWJsZXMiLCJ1cGRhdGUiLCJjYWNoZSIsImlkIiwiZXZpY3QiLCJmaWVsZE5hbWUiLCJpdGVtUXVlcnlOYW1lIiwiSlNPTiIsInN0cmluZ2lmeSIsIndoZXJlIiwidGhlbiIsIngiLCJjcml0aWNhbCIsInNpbmd1bGFyIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJwb3NpdGl2ZSIsInRpbWVvdXQiLCJhY3Rpb25MYWJlbCIsIm9uQWN0aW9uIiwicHVzaCIsInBhdGgiLCJzaG91bGRDbG9zZU9uQWN0aW9uIiwidXNlQnVpbGRJdGVtIiwiZmllbGRLZXlzIiwibGVuZ3RoIiwiZmlsdGVyIiwiaW5jbHVkZXMiLCJidWlsZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/utils/useCreateItem.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/utils/usePreventNavigation.tsx":
/*!*****************************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/utils/usePreventNavigation.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   usePreventNavigation: () => (/* binding */ usePreventNavigation)\n/* harmony export */ });\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/router */ \"../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction usePreventNavigation(shouldPreventNavigationRef) {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_0__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"usePreventNavigation.useEffect\": ()=>{\n            const clientSideRouteChangeHandler = {\n                \"usePreventNavigation.useEffect.clientSideRouteChangeHandler\": ()=>{\n                    if (shouldPreventNavigationRef.current && !window.confirm('There are unsaved changes, are you sure you want to exit?')) {\n                        // throwing from here seems to be the only way to prevent the navigation\n                        // we're throwing just a string here rather than an error because throwing an error\n                        // causes Next to show an error overlay in dev but it doesn't show the overlay when we throw a string\n                        throw 'Navigation cancelled by user';\n                    }\n                }\n            }[\"usePreventNavigation.useEffect.clientSideRouteChangeHandler\"];\n            router.events.on('routeChangeStart', clientSideRouteChangeHandler);\n            const beforeUnloadHandler = {\n                \"usePreventNavigation.useEffect.beforeUnloadHandler\": (event)=>{\n                    if (shouldPreventNavigationRef.current) {\n                        event.preventDefault();\n                    }\n                }\n            }[\"usePreventNavigation.useEffect.beforeUnloadHandler\"];\n            window.addEventListener('beforeunload', beforeUnloadHandler);\n            return ({\n                \"usePreventNavigation.useEffect\": ()=>{\n                    router.events.off('routeChangeStart', clientSideRouteChangeHandler);\n                    window.removeEventListener('beforeunload', beforeUnloadHandler);\n                }\n            })[\"usePreventNavigation.useEffect\"];\n        }\n    }[\"usePreventNavigation.useEffect\"], [\n        shouldPreventNavigationRef,\n        router.events\n    ]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvdXRpbHMvdXNlUHJldmVudE5hdmlnYXRpb24udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXVDO0FBQ047QUFFMUIsU0FBU0UscUJBQXFCQywwQkFBZ0Q7SUFDbkYsTUFBTUMsU0FBU0osc0RBQVNBO0lBRXhCQyxnREFBU0E7MENBQUM7WUFDUixNQUFNSTsrRUFBK0I7b0JBQ25DLElBQ0VGLDJCQUEyQkcsT0FBTyxJQUNsQyxDQUFDQyxPQUFPQyxPQUFPLENBQUMsOERBQ2hCO3dCQUNBLHdFQUF3RTt3QkFDeEUsbUZBQW1GO3dCQUNuRixxR0FBcUc7d0JBQ3JHLE1BQU07b0JBQ1I7Z0JBQ0Y7O1lBQ0FKLE9BQU9LLE1BQU0sQ0FBQ0MsRUFBRSxDQUFDLG9CQUFvQkw7WUFDckMsTUFBTU07c0VBQXNCLENBQUNDO29CQUMzQixJQUFJVCwyQkFBMkJHLE9BQU8sRUFBRTt3QkFDdENNLE1BQU1DLGNBQWM7b0JBQ3RCO2dCQUNGOztZQUNBTixPQUFPTyxnQkFBZ0IsQ0FBQyxnQkFBZ0JIO1lBQ3hDO2tEQUFPO29CQUNMUCxPQUFPSyxNQUFNLENBQUNNLEdBQUcsQ0FBQyxvQkFBb0JWO29CQUN0Q0UsT0FBT1MsbUJBQW1CLENBQUMsZ0JBQWdCTDtnQkFDN0M7O1FBQ0Y7eUNBQUc7UUFBQ1I7UUFBNEJDLE9BQU9LLE1BQU07S0FBQztBQUNoRCIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9hZG1pbi11aS91dGlscy91c2VQcmV2ZW50TmF2aWdhdGlvbi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInXG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVByZXZlbnROYXZpZ2F0aW9uKHNob3VsZFByZXZlbnROYXZpZ2F0aW9uUmVmOiB7IGN1cnJlbnQ6IGJvb2xlYW4gfSkge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2xpZW50U2lkZVJvdXRlQ2hhbmdlSGFuZGxlciA9ICgpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgc2hvdWxkUHJldmVudE5hdmlnYXRpb25SZWYuY3VycmVudCAmJlxuICAgICAgICAhd2luZG93LmNvbmZpcm0oJ1RoZXJlIGFyZSB1bnNhdmVkIGNoYW5nZXMsIGFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBleGl0PycpXG4gICAgICApIHtcbiAgICAgICAgLy8gdGhyb3dpbmcgZnJvbSBoZXJlIHNlZW1zIHRvIGJlIHRoZSBvbmx5IHdheSB0byBwcmV2ZW50IHRoZSBuYXZpZ2F0aW9uXG4gICAgICAgIC8vIHdlJ3JlIHRocm93aW5nIGp1c3QgYSBzdHJpbmcgaGVyZSByYXRoZXIgdGhhbiBhbiBlcnJvciBiZWNhdXNlIHRocm93aW5nIGFuIGVycm9yXG4gICAgICAgIC8vIGNhdXNlcyBOZXh0IHRvIHNob3cgYW4gZXJyb3Igb3ZlcmxheSBpbiBkZXYgYnV0IGl0IGRvZXNuJ3Qgc2hvdyB0aGUgb3ZlcmxheSB3aGVuIHdlIHRocm93IGEgc3RyaW5nXG4gICAgICAgIHRocm93ICdOYXZpZ2F0aW9uIGNhbmNlbGxlZCBieSB1c2VyJ1xuICAgICAgfVxuICAgIH1cbiAgICByb3V0ZXIuZXZlbnRzLm9uKCdyb3V0ZUNoYW5nZVN0YXJ0JywgY2xpZW50U2lkZVJvdXRlQ2hhbmdlSGFuZGxlcilcbiAgICBjb25zdCBiZWZvcmVVbmxvYWRIYW5kbGVyID0gKGV2ZW50OiBCZWZvcmVVbmxvYWRFdmVudCkgPT4ge1xuICAgICAgaWYgKHNob3VsZFByZXZlbnROYXZpZ2F0aW9uUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgfVxuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgYmVmb3JlVW5sb2FkSGFuZGxlcilcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcm91dGVyLmV2ZW50cy5vZmYoJ3JvdXRlQ2hhbmdlU3RhcnQnLCBjbGllbnRTaWRlUm91dGVDaGFuZ2VIYW5kbGVyKVxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGJlZm9yZVVubG9hZEhhbmRsZXIpXG4gICAgfVxuICB9LCBbc2hvdWxkUHJldmVudE5hdmlnYXRpb25SZWYsIHJvdXRlci5ldmVudHNdKVxufVxuIl0sIm5hbWVzIjpbInVzZVJvdXRlciIsInVzZUVmZmVjdCIsInVzZVByZXZlbnROYXZpZ2F0aW9uIiwic2hvdWxkUHJldmVudE5hdmlnYXRpb25SZWYiLCJyb3V0ZXIiLCJjbGllbnRTaWRlUm91dGVDaGFuZ2VIYW5kbGVyIiwiY3VycmVudCIsIndpbmRvdyIsImNvbmZpcm0iLCJldmVudHMiLCJvbiIsImJlZm9yZVVubG9hZEhhbmRsZXIiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9mZiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/utils/usePreventNavigation.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/admin-ui/utils/utils.tsx":
/*!**************************************************************!*\
  !*** ../../../../packages/core/src/admin-ui/utils/utils.tsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deserializeItemToValue: () => (/* binding */ deserializeItemToValue),\n/* harmony export */   getRootGraphQLFieldsFromFieldController: () => (/* binding */ getRootGraphQLFieldsFromFieldController),\n/* harmony export */   makeDefaultValueState: () => (/* binding */ makeDefaultValueState),\n/* harmony export */   serializeValueToOperationItem: () => (/* binding */ serializeValueToOperationItem),\n/* harmony export */   useHasChanges: () => (/* binding */ useHasChanges),\n/* harmony export */   useInvalidFields: () => (/* binding */ useInvalidFields)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fast-deep-equal */ \"../../../../node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js\");\n/* harmony import */ var fast_deep_equal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fast_deep_equal__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! graphql */ \"../../../../node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/index.js\");\n/* harmony import */ var _Fields__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Fields */ \"../../../../packages/core/src/admin-ui/utils/Fields.tsx\");\n\n\n\n\nfunction extractRootFields(selectedFields, selectionSet) {\n    selectionSet.selections.forEach((selection)=>{\n        if (selection.kind === 'Field') {\n            selectedFields.add(selection.alias ? selection.alias.value : selection.name.value);\n        }\n        if (selection.kind === 'InlineFragment') {\n            extractRootFields(selectedFields, selection.selectionSet);\n        }\n    // FragmentSpread will never happen for the use cases of getRootFieldsFromSelection\n    });\n}\nfunction getRootGraphQLFieldsFromFieldController(controller) {\n    const ast = (0,graphql__WEBPACK_IMPORTED_MODULE_3__.parse)(`fragment X on Y { id, ${controller.graphqlSelection} }`);\n    const selectedFields = new Set();\n    const fragmentNode = ast.definitions[0];\n    extractRootFields(selectedFields, fragmentNode.selectionSet);\n    return [\n        ...selectedFields\n    ];\n}\nfunction useInvalidFields(fields, item, isRequireds) {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useInvalidFields.useMemo\": ()=>{\n            const invalidFields = new Set();\n            const serialized = {};\n            for (const [fieldKey, field] of Object.entries(fields)){\n                Object.assign(serialized, field.controller.serialize(item[fieldKey]));\n            }\n            for(const fieldKey in item){\n                const validateFn = fields[fieldKey]?.controller?.validate;\n                if (!validateFn) continue;\n                const isRequired = (0,_Fields__WEBPACK_IMPORTED_MODULE_2__.testFilter)(isRequireds[fieldKey] ?? false, serialized);\n                const fieldValue = item[fieldKey];\n                const valid = validateFn(fieldValue, {\n                    isRequired\n                });\n                if (valid) continue;\n                invalidFields.add(fieldKey);\n            }\n            return invalidFields;\n        }\n    }[\"useInvalidFields.useMemo\"], [\n        fields,\n        isRequireds,\n        item\n    ]);\n}\nfunction makeDefaultValueState(fields) {\n    const result = {};\n    for(const fieldKey in fields){\n        result[fieldKey] = fields[fieldKey].controller.defaultValue;\n    }\n    return result;\n}\nfunction deserializeItemToValue(fields, item) {\n    const result = {};\n    for(const fieldKey in fields){\n        const field = fields[fieldKey];\n        const itemForField = {};\n        for (const graphqlField of getRootGraphQLFieldsFromFieldController(field.controller)){\n            itemForField[graphqlField] = item?.[graphqlField] ?? null;\n        }\n        result[fieldKey] = field.controller.deserialize(itemForField);\n    }\n    return result;\n}\nfunction serializeValueToOperationItem(operation, fields, value, valueReference) {\n    const result = {};\n    valueReference ??= makeDefaultValueState(fields);\n    for(const fieldKey in fields){\n        const field = fields[fieldKey];\n        const fieldValue = value[fieldKey];\n        const fieldValueSerialized = field.controller.serialize(fieldValue);\n        const fieldValueReference = valueReference[fieldKey];\n        const isAlwaysRequired = field.graphql.isNonNull.includes(operation);\n        if (!isAlwaysRequired) {\n            if (fast_deep_equal__WEBPACK_IMPORTED_MODULE_1___default()(fieldValueSerialized, field.controller.serialize(fieldValueReference))) continue;\n        }\n        Object.assign(result, fieldValueSerialized);\n    }\n    return result;\n}\nfunction useHasChanges(operation, fields, value, valueReference) {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useHasChanges.useMemo\": ()=>{\n            valueReference ??= makeDefaultValueState(fields);\n            for(const fieldKey in fields){\n                const field = fields[fieldKey];\n                const fieldValue = value[fieldKey];\n                const fieldValueSerialized = field.controller.serialize(fieldValue);\n                const fieldValueReference = valueReference[fieldKey];\n                if (!fast_deep_equal__WEBPACK_IMPORTED_MODULE_1___default()(fieldValueSerialized, field.controller.serialize(fieldValueReference))) return true;\n            }\n            return false;\n        }\n    }[\"useHasChanges.useMemo\"], [\n        fields,\n        operation,\n        value,\n        valueReference\n    ]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvYWRtaW4tdWkvdXRpbHMvdXRpbHMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUNVO0FBRTBDO0FBRTlDO0FBRXJDLFNBQVNJLGtCQUFrQkMsY0FBMkIsRUFBRUMsWUFBOEI7SUFDcEZBLGFBQWFDLFVBQVUsQ0FBQ0MsT0FBTyxDQUFDQyxDQUFBQTtRQUM5QixJQUFJQSxVQUFVQyxJQUFJLEtBQUssU0FBUztZQUM5QkwsZUFBZU0sR0FBRyxDQUFDRixVQUFVRyxLQUFLLEdBQUdILFVBQVVHLEtBQUssQ0FBQ0MsS0FBSyxHQUFHSixVQUFVSyxJQUFJLENBQUNELEtBQUs7UUFDbkY7UUFDQSxJQUFJSixVQUFVQyxJQUFJLEtBQUssa0JBQWtCO1lBQ3ZDTixrQkFBa0JDLGdCQUFnQkksVUFBVUgsWUFBWTtRQUMxRDtJQUNBLG1GQUFtRjtJQUNyRjtBQUNGO0FBRU8sU0FBU1Msd0NBQXdDQyxVQUFxQztJQUMzRixNQUFNQyxNQUFNZiw4Q0FBS0EsQ0FBQyxDQUFDLHNCQUFzQixFQUFFYyxXQUFXRSxnQkFBZ0IsQ0FBQyxFQUFFLENBQUM7SUFDMUUsTUFBTWIsaUJBQWlCLElBQUljO0lBQzNCLE1BQU1DLGVBQWVILElBQUlJLFdBQVcsQ0FBQyxFQUFFO0lBQ3ZDakIsa0JBQWtCQyxnQkFBZ0JlLGFBQWFkLFlBQVk7SUFDM0QsT0FBTztXQUFJRDtLQUFlO0FBQzVCO0FBRU8sU0FBU2lCLGlCQUNkQyxNQUFpQyxFQUNqQ0MsSUFBNkIsRUFDN0JDLFdBQXlFO0lBRXpFLE9BQU96Qiw4Q0FBT0E7b0NBQUM7WUFDYixNQUFNMEIsZ0JBQWdCLElBQUlQO1lBQzFCLE1BQU1RLGFBQXNDLENBQUM7WUFDN0MsS0FBSyxNQUFNLENBQUNDLFVBQVVDLE1BQU0sSUFBSUMsT0FBT0MsT0FBTyxDQUFDUixRQUFTO2dCQUN0RE8sT0FBT0UsTUFBTSxDQUFDTCxZQUFZRSxNQUFNYixVQUFVLENBQUNpQixTQUFT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M0I7UUFBUXdCO1FBQVdsQztRQUFPbUM7S0FBZTtBQUMvQyIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9hZG1pbi11aS91dGlscy91dGlscy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IGlzRGVlcEVxdWFsIGZyb20gJ2Zhc3QtZGVlcC1lcXVhbCdcbmltcG9ydCB0eXBlIHsgRmllbGRNZXRhIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMnXG5pbXBvcnQgeyB0eXBlIEZyYWdtZW50RGVmaW5pdGlvbk5vZGUsIHR5cGUgU2VsZWN0aW9uU2V0Tm9kZSwgcGFyc2UgfSBmcm9tICdncmFwaHFsJ1xuaW1wb3J0IHR5cGUgeyBCYXNlTGlzdFR5cGVJbmZvLCBDb25kaXRpb25hbEZpZWxkRmlsdGVyQ2FzZSwgRmllbGRDb250cm9sbGVyIH0gZnJvbSAnLi4vLi4vdHlwZXMnXG5pbXBvcnQgeyB0ZXN0RmlsdGVyIH0gZnJvbSAnLi9GaWVsZHMnXG5cbmZ1bmN0aW9uIGV4dHJhY3RSb290RmllbGRzKHNlbGVjdGVkRmllbGRzOiBTZXQ8c3RyaW5nPiwgc2VsZWN0aW9uU2V0OiBTZWxlY3Rpb25TZXROb2RlKSB7XG4gIHNlbGVjdGlvblNldC5zZWxlY3Rpb25zLmZvckVhY2goc2VsZWN0aW9uID0+IHtcbiAgICBpZiAoc2VsZWN0aW9uLmtpbmQgPT09ICdGaWVsZCcpIHtcbiAgICAgIHNlbGVjdGVkRmllbGRzLmFkZChzZWxlY3Rpb24uYWxpYXMgPyBzZWxlY3Rpb24uYWxpYXMudmFsdWUgOiBzZWxlY3Rpb24ubmFtZS52YWx1ZSlcbiAgICB9XG4gICAgaWYgKHNlbGVjdGlvbi5raW5kID09PSAnSW5saW5lRnJhZ21lbnQnKSB7XG4gICAgICBleHRyYWN0Um9vdEZpZWxkcyhzZWxlY3RlZEZpZWxkcywgc2VsZWN0aW9uLnNlbGVjdGlvblNldClcbiAgICB9XG4gICAgLy8gRnJhZ21lbnRTcHJlYWQgd2lsbCBuZXZlciBoYXBwZW4gZm9yIHRoZSB1c2UgY2FzZXMgb2YgZ2V0Um9vdEZpZWxkc0Zyb21TZWxlY3Rpb25cbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvb3RHcmFwaFFMRmllbGRzRnJvbUZpZWxkQ29udHJvbGxlcihjb250cm9sbGVyOiBGaWVsZENvbnRyb2xsZXI8YW55LCBhbnk+KSB7XG4gIGNvbnN0IGFzdCA9IHBhcnNlKGBmcmFnbWVudCBYIG9uIFkgeyBpZCwgJHtjb250cm9sbGVyLmdyYXBocWxTZWxlY3Rpb259IH1gKVxuICBjb25zdCBzZWxlY3RlZEZpZWxkcyA9IG5ldyBTZXQ8c3RyaW5nPigpXG4gIGNvbnN0IGZyYWdtZW50Tm9kZSA9IGFzdC5kZWZpbml0aW9uc1swXSBhcyBGcmFnbWVudERlZmluaXRpb25Ob2RlXG4gIGV4dHJhY3RSb290RmllbGRzKHNlbGVjdGVkRmllbGRzLCBmcmFnbWVudE5vZGUuc2VsZWN0aW9uU2V0KVxuICByZXR1cm4gWy4uLnNlbGVjdGVkRmllbGRzXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlSW52YWxpZEZpZWxkcyhcbiAgZmllbGRzOiBSZWNvcmQ8c3RyaW5nLCBGaWVsZE1ldGE+LFxuICBpdGVtOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgaXNSZXF1aXJlZHM6IFJlY29yZDxzdHJpbmcsIENvbmRpdGlvbmFsRmllbGRGaWx0ZXJDYXNlPEJhc2VMaXN0VHlwZUluZm8+PlxuKTogUmVhZG9ubHlTZXQ8c3RyaW5nPiB7XG4gIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBpbnZhbGlkRmllbGRzID0gbmV3IFNldDxzdHJpbmc+KClcbiAgICBjb25zdCBzZXJpYWxpemVkOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9XG4gICAgZm9yIChjb25zdCBbZmllbGRLZXksIGZpZWxkXSBvZiBPYmplY3QuZW50cmllcyhmaWVsZHMpKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHNlcmlhbGl6ZWQsIGZpZWxkLmNvbnRyb2xsZXIuc2VyaWFsaXplKGl0ZW1bZmllbGRLZXldKSlcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGZpZWxkS2V5IGluIGl0ZW0pIHtcbiAgICAgIGNvbnN0IHZhbGlkYXRlRm4gPSBmaWVsZHNbZmllbGRLZXldPy5jb250cm9sbGVyPy52YWxpZGF0ZVxuICAgICAgaWYgKCF2YWxpZGF0ZUZuKSBjb250aW51ZVxuICAgICAgY29uc3QgaXNSZXF1aXJlZCA9IHRlc3RGaWx0ZXIoaXNSZXF1aXJlZHNbZmllbGRLZXldID8/IGZhbHNlLCBzZXJpYWxpemVkKVxuICAgICAgY29uc3QgZmllbGRWYWx1ZSA9IGl0ZW1bZmllbGRLZXldXG4gICAgICBjb25zdCB2YWxpZCA9IHZhbGlkYXRlRm4oZmllbGRWYWx1ZSwgeyBpc1JlcXVpcmVkIH0pXG4gICAgICBpZiAodmFsaWQpIGNvbnRpbnVlXG5cbiAgICAgIGludmFsaWRGaWVsZHMuYWRkKGZpZWxkS2V5KVxuICAgIH1cbiAgICByZXR1cm4gaW52YWxpZEZpZWxkc1xuICB9LCBbZmllbGRzLCBpc1JlcXVpcmVkcywgaXRlbV0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlRGVmYXVsdFZhbHVlU3RhdGUoZmllbGRzOiBSZWNvcmQ8c3RyaW5nLCBGaWVsZE1ldGE+KSB7XG4gIGNvbnN0IHJlc3VsdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fVxuICBmb3IgKGNvbnN0IGZpZWxkS2V5IGluIGZpZWxkcykge1xuICAgIHJlc3VsdFtmaWVsZEtleV0gPSBmaWVsZHNbZmllbGRLZXldLmNvbnRyb2xsZXIuZGVmYXVsdFZhbHVlXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVJdGVtVG9WYWx1ZShcbiAgZmllbGRzOiBSZWNvcmQ8c3RyaW5nLCBGaWVsZE1ldGE+LFxuICBpdGVtOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duIHwgbnVsbD5cbikge1xuICBjb25zdCByZXN1bHQ6IFJlY29yZDxzdHJpbmcsIHVua25vd24gfCBudWxsPiA9IHt9XG4gIGZvciAoY29uc3QgZmllbGRLZXkgaW4gZmllbGRzKSB7XG4gICAgY29uc3QgZmllbGQgPSBmaWVsZHNbZmllbGRLZXldXG4gICAgY29uc3QgaXRlbUZvckZpZWxkOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9XG4gICAgZm9yIChjb25zdCBncmFwaHFsRmllbGQgb2YgZ2V0Um9vdEdyYXBoUUxGaWVsZHNGcm9tRmllbGRDb250cm9sbGVyKGZpZWxkLmNvbnRyb2xsZXIpKSB7XG4gICAgICBpdGVtRm9yRmllbGRbZ3JhcGhxbEZpZWxkXSA9IGl0ZW0/LltncmFwaHFsRmllbGRdID8/IG51bGxcbiAgICB9XG4gICAgcmVzdWx0W2ZpZWxkS2V5XSA9IGZpZWxkLmNvbnRyb2xsZXIuZGVzZXJpYWxpemUoaXRlbUZvckZpZWxkKVxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZVZhbHVlVG9PcGVyYXRpb25JdGVtKFxuICBvcGVyYXRpb246ICdjcmVhdGUnIHwgJ3VwZGF0ZScsXG4gIGZpZWxkczogUmVjb3JkPHN0cmluZywgRmllbGRNZXRhPixcbiAgdmFsdWU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICB2YWx1ZVJlZmVyZW5jZT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG4pIHtcbiAgY29uc3QgcmVzdWx0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9XG4gIHZhbHVlUmVmZXJlbmNlID8/PSBtYWtlRGVmYXVsdFZhbHVlU3RhdGUoZmllbGRzKVxuXG4gIGZvciAoY29uc3QgZmllbGRLZXkgaW4gZmllbGRzKSB7XG4gICAgY29uc3QgZmllbGQgPSBmaWVsZHNbZmllbGRLZXldXG4gICAgY29uc3QgZmllbGRWYWx1ZSA9IHZhbHVlW2ZpZWxkS2V5XVxuICAgIGNvbnN0IGZpZWxkVmFsdWVTZXJpYWxpemVkID0gZmllbGQuY29udHJvbGxlci5zZXJpYWxpemUoZmllbGRWYWx1ZSlcbiAgICBjb25zdCBmaWVsZFZhbHVlUmVmZXJlbmNlID0gdmFsdWVSZWZlcmVuY2VbZmllbGRLZXldXG5cbiAgICBjb25zdCBpc0Fsd2F5c1JlcXVpcmVkID0gZmllbGQuZ3JhcGhxbC5pc05vbk51bGwuaW5jbHVkZXMob3BlcmF0aW9uKVxuICAgIGlmICghaXNBbHdheXNSZXF1aXJlZCkge1xuICAgICAgaWYgKGlzRGVlcEVxdWFsKGZpZWxkVmFsdWVTZXJpYWxpemVkLCBmaWVsZC5jb250cm9sbGVyLnNlcmlhbGl6ZShmaWVsZFZhbHVlUmVmZXJlbmNlKSkpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgT2JqZWN0LmFzc2lnbihyZXN1bHQsIGZpZWxkVmFsdWVTZXJpYWxpemVkKVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlSGFzQ2hhbmdlcyhcbiAgb3BlcmF0aW9uOiAnY3JlYXRlJyB8ICd1cGRhdGUnLFxuICBmaWVsZHM6IFJlY29yZDxzdHJpbmcsIEZpZWxkTWV0YT4sXG4gIHZhbHVlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbiAgdmFsdWVSZWZlcmVuY2U/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuKSB7XG4gIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICB2YWx1ZVJlZmVyZW5jZSA/Pz0gbWFrZURlZmF1bHRWYWx1ZVN0YXRlKGZpZWxkcylcblxuICAgIGZvciAoY29uc3QgZmllbGRLZXkgaW4gZmllbGRzKSB7XG4gICAgICBjb25zdCBmaWVsZCA9IGZpZWxkc1tmaWVsZEtleV1cbiAgICAgIGNvbnN0IGZpZWxkVmFsdWUgPSB2YWx1ZVtmaWVsZEtleV1cbiAgICAgIGNvbnN0IGZpZWxkVmFsdWVTZXJpYWxpemVkID0gZmllbGQuY29udHJvbGxlci5zZXJpYWxpemUoZmllbGRWYWx1ZSlcbiAgICAgIGNvbnN0IGZpZWxkVmFsdWVSZWZlcmVuY2UgPSB2YWx1ZVJlZmVyZW5jZVtmaWVsZEtleV1cblxuICAgICAgaWYgKCFpc0RlZXBFcXVhbChmaWVsZFZhbHVlU2VyaWFsaXplZCwgZmllbGQuY29udHJvbGxlci5zZXJpYWxpemUoZmllbGRWYWx1ZVJlZmVyZW5jZSkpKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9LCBbZmllbGRzLCBvcGVyYXRpb24sIHZhbHVlLCB2YWx1ZVJlZmVyZW5jZV0pXG59XG4iXSwibmFtZXMiOlsidXNlTWVtbyIsImlzRGVlcEVxdWFsIiwicGFyc2UiLCJ0ZXN0RmlsdGVyIiwiZXh0cmFjdFJvb3RGaWVsZHMiLCJzZWxlY3RlZEZpZWxkcyIsInNlbGVjdGlvblNldCIsInNlbGVjdGlvbnMiLCJmb3JFYWNoIiwic2VsZWN0aW9uIiwia2luZCIsImFkZCIsImFsaWFzIiwidmFsdWUiLCJuYW1lIiwiZ2V0Um9vdEdyYXBoUUxGaWVsZHNGcm9tRmllbGRDb250cm9sbGVyIiwiY29udHJvbGxlciIsImFzdCIsImdyYXBocWxTZWxlY3Rpb24iLCJTZXQiLCJmcmFnbWVudE5vZGUiLCJkZWZpbml0aW9ucyIsInVzZUludmFsaWRGaWVsZHMiLCJmaWVsZHMiLCJpdGVtIiwiaXNSZXF1aXJlZHMiLCJpbnZhbGlkRmllbGRzIiwic2VyaWFsaXplZCIsImZpZWxkS2V5IiwiZmllbGQiLCJPYmplY3QiLCJlbnRyaWVzIiwiYXNzaWduIiwic2VyaWFsaXplIiwidmFsaWRhdGVGbiIsInZhbGlkYXRlIiwiaXNSZXF1aXJlZCIsImZpZWxkVmFsdWUiLCJ2YWxpZCIsIm1ha2VEZWZhdWx0VmFsdWVTdGF0ZSIsInJlc3VsdCIsImRlZmF1bHRWYWx1ZSIsImRlc2VyaWFsaXplSXRlbVRvVmFsdWUiLCJpdGVtRm9yRmllbGQiLCJncmFwaHFsRmllbGQiLCJkZXNlcmlhbGl6ZSIsInNlcmlhbGl6ZVZhbHVlVG9PcGVyYXRpb25JdGVtIiwib3BlcmF0aW9uIiwidmFsdWVSZWZlcmVuY2UiLCJmaWVsZFZhbHVlU2VyaWFsaXplZCIsImZpZWxkVmFsdWVSZWZlcmVuY2UiLCJpc0Fsd2F5c1JlcXVpcmVkIiwiZ3JhcGhxbCIsImlzTm9uTnVsbCIsImluY2x1ZGVzIiwidXNlSGFzQ2hhbmdlcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/admin-ui/utils/utils.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/checkbox/views/index.tsx":
/*!***************************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/checkbox/views/index.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cell: () => (/* binding */ Cell),\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   controller: () => (/* binding */ controller)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_checkbox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/checkbox */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-checkbox.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_checkIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/icon/icons/checkIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-checkIcon.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _lib_core_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../lib/core/utils */ \"../../../../packages/core/src/lib/core/utils.ts\");\n\n\n\n\n\n\nfunction Field({ field, value, onChange, autoFocus }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_checkbox__WEBPACK_IMPORTED_MODULE_1__.Checkbox, {\n        autoFocus: autoFocus,\n        isReadOnly: onChange == null,\n        isSelected: value,\n        onChange: onChange,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_4__.Text, {\n                children: field.label\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/checkbox/views/index.tsx\",\n                lineNumber: 23,\n                columnNumber: 7\n            }, this),\n            field.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_4__.Text, {\n                slot: \"description\",\n                children: field.description\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/checkbox/views/index.tsx\",\n                lineNumber: 24,\n                columnNumber: 29\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/checkbox/views/index.tsx\",\n        lineNumber: 17,\n        columnNumber: 5\n    }, this);\n}\nconst Cell = ({ value })=>{\n    return value ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n        src: _keystar_ui_icon_icons_checkIcon__WEBPACK_IMPORTED_MODULE_3__.checkIcon,\n        \"aria-label\": \"true\"\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/checkbox/views/index.tsx\",\n        lineNumber: 30,\n        columnNumber: 18\n    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_4__.VisuallyHidden, {\n        children: \"false\"\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/checkbox/views/index.tsx\",\n        lineNumber: 30,\n        columnNumber: 63\n    }, undefined);\n};\nfunction controller(config) {\n    return {\n        fieldKey: config.fieldKey,\n        label: config.label,\n        description: config.description,\n        defaultValue: config.fieldMeta.defaultValue,\n        deserialize (item) {\n            const value = item[config.fieldKey];\n            return typeof value === 'boolean' ? value : false;\n        },\n        serialize (value) {\n            return {\n                [config.fieldKey]: value\n            };\n        },\n        graphqlSelection: config.fieldKey,\n        filter: {\n            Filter (props) {\n                const { autoFocus, context, typeLabel, onChange, value, type, ...otherProps } = props;\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_checkbox__WEBPACK_IMPORTED_MODULE_1__.Checkbox, {\n                    autoFocus: autoFocus,\n                    onChange: onChange,\n                    isSelected: value,\n                    ...otherProps,\n                    children: [\n                        typeLabel,\n                        \" \",\n                        config.label.toLocaleLowerCase()\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/checkbox/views/index.tsx\",\n                    lineNumber: 59,\n                    columnNumber: 11\n                }, this);\n            },\n            Label ({ label, type, value }) {\n                return `${label.toLowerCase()} ${value ? 'true' : 'false'}`;\n            },\n            graphql ({ type, value }) {\n                return {\n                    [config.fieldKey]: {\n                        equals: type === 'not' ? !value : value\n                    }\n                };\n            },\n            parseGraphQL: (value)=>{\n                return (0,_lib_core_utils__WEBPACK_IMPORTED_MODULE_5__.entriesTyped)(value).flatMap(([type, value])=>{\n                    if (value == null) return [];\n                    if (type === 'equals') return {\n                        type: 'is',\n                        value\n                    };\n                    if (type === 'not') {\n                        if (value.equals == null) return [];\n                        return {\n                            type: 'not',\n                            value: value.equals\n                        };\n                    }\n                    return [];\n                });\n            },\n            types: {\n                is: {\n                    label: 'Is',\n                    initialValue: true\n                },\n                not: {\n                    label: 'Is not',\n                    initialValue: true\n                }\n            }\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL2NoZWNrYm94L3ZpZXdzL2luZGV4LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErQztBQUNSO0FBQ3FCO0FBQ0M7QUFTSjtBQUVsRCxTQUFTTSxNQUFNLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUVDLFNBQVMsRUFBaUM7SUFDeEYscUJBQ0UsOERBQUNWLDBEQUFRQTtRQUNQVSxXQUFXQTtRQUNYQyxZQUFZRixZQUFZO1FBQ3hCRyxZQUFZSjtRQUNaQyxVQUFVQTs7MEJBRVYsOERBQUNOLHdEQUFJQTswQkFBRUksTUFBTU0sS0FBSzs7Ozs7O1lBQ2pCTixNQUFNTyxXQUFXLGtCQUFJLDhEQUFDWCx3REFBSUE7Z0JBQUNZLE1BQUs7MEJBQWVSLE1BQU1PLFdBQVc7Ozs7Ozs7Ozs7OztBQUd2RTtBQUVPLE1BQU1FLE9BQXlDLENBQUMsRUFBRVIsS0FBSyxFQUFFO0lBQzlELE9BQU9BLHNCQUFRLDhEQUFDUCxrREFBSUE7UUFBQ2dCLEtBQUtmLHVFQUFTQTtRQUFFZ0IsY0FBVzs7Ozs7a0NBQVksOERBQUNkLGtFQUFjQTtrQkFBQzs7Ozs7O0FBQzlFLEVBQUM7QUFRTSxTQUFTZSxXQUNkQyxNQUF3RDtJQUV4RCxPQUFPO1FBQ0xDLFVBQVVELE9BQU9DLFFBQVE7UUFDekJSLE9BQU9PLE9BQU9QLEtBQUs7UUFDbkJDLGFBQWFNLE9BQU9OLFdBQVc7UUFDL0JRLGNBQWNGLE9BQU9HLFNBQVMsQ0FBQ0QsWUFBWTtRQUMzQ0UsYUFBWUMsSUFBSTtZQUNkLE1BQU1qQixRQUFRaUIsSUFBSSxDQUFDTCxPQUFPQyxRQUFRLENBQUM7WUFDbkMsT0FBTyxPQUFPYixVQUFVLFlBQVlBLFFBQVE7UUFDOUM7UUFDQWtCLFdBQVVsQixLQUFLO1lBQ2IsT0FBTztnQkFBRSxDQUFDWSxPQUFPQyxRQUFRLENBQUMsRUFBRWI7WUFBTTtRQUNwQztRQUNBbUIsa0JBQWtCUCxPQUFPQyxRQUFRO1FBQ2pDTyxRQUFRO1lBQ05DLFFBQU9DLEtBQUs7Z0JBQ1YsTUFBTSxFQUFFcEIsU0FBUyxFQUFFcUIsT0FBTyxFQUFFQyxTQUFTLEVBQUV2QixRQUFRLEVBQUVELEtBQUssRUFBRXlCLElBQUksRUFBRSxHQUFHQyxZQUFZLEdBQUdKO2dCQUNoRixxQkFDRSw4REFBQzlCLDBEQUFRQTtvQkFBQ1UsV0FBV0E7b0JBQVdELFVBQVVBO29CQUFVRyxZQUFZSjtvQkFBUSxHQUFHMEIsVUFBVTs7d0JBQ2xGRjt3QkFBVTt3QkFBRVosT0FBT1AsS0FBSyxDQUFDc0IsaUJBQWlCOzs7Ozs7O1lBR2pEO1lBQ0FDLE9BQU0sRUFBRXZCLEtBQUssRUFBRW9CLElBQUksRUFBRXpCLEtBQUssRUFBRTtnQkFDMUIsT0FBTyxHQUFHSyxNQUFNd0IsV0FBVyxHQUFHLENBQUMsRUFBRTdCLFFBQVEsU0FBUyxTQUFTO1lBQzdEO1lBQ0E4QixTQUFRLEVBQUVMLElBQUksRUFBRXpCLEtBQUssRUFBRTtnQkFDckIsT0FBTztvQkFDTCxDQUFDWSxPQUFPQyxRQUFRLENBQUMsRUFBRTt3QkFDakJrQixRQUFRTixTQUFTLFFBQVEsQ0FBQ3pCLFFBQVFBO29CQUNwQztnQkFDRjtZQUNGO1lBQ0FnQyxjQUFjaEMsQ0FBQUE7Z0JBQ1osT0FBT0gsNkRBQVlBLENBQUNHLE9BQU9pQyxPQUFPLENBQUMsQ0FBQyxDQUFDUixNQUFNekIsTUFBTTtvQkFDL0MsSUFBSUEsU0FBUyxNQUFNLE9BQU8sRUFBRTtvQkFDNUIsSUFBSXlCLFNBQVMsVUFBVSxPQUFPO3dCQUFFQSxNQUFNO3dCQUFNekI7b0JBQU07b0JBQ2xELElBQUl5QixTQUFTLE9BQU87d0JBQ2xCLElBQUl6QixNQUFNK0IsTUFBTSxJQUFJLE1BQU0sT0FBTyxFQUFFO3dCQUNuQyxPQUFPOzRCQUFFTixNQUFNOzRCQUFPekIsT0FBT0EsTUFBTStCLE1BQU07d0JBQUM7b0JBQzVDO29CQUNBLE9BQU8sRUFBRTtnQkFDWDtZQUNGO1lBQ0FHLE9BQU87Z0JBQ0xDLElBQUk7b0JBQ0Y5QixPQUFPO29CQUNQK0IsY0FBYztnQkFDaEI7Z0JBQ0FDLEtBQUs7b0JBQ0hoQyxPQUFPO29CQUNQK0IsY0FBYztnQkFDaEI7WUFDRjtRQUNGO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9maWVsZHMvdHlwZXMvY2hlY2tib3gvdmlld3MvaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnQGtleXN0YXIvdWkvY2hlY2tib3gnXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbidcbmltcG9ydCB7IGNoZWNrSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvY2hlY2tJY29uJ1xuaW1wb3J0IHsgVGV4dCwgVmlzdWFsbHlIaWRkZW4gfSBmcm9tICdAa2V5c3Rhci91aS90eXBvZ3JhcGh5J1xuXG5pbXBvcnQgdHlwZSB7XG4gIENlbGxDb21wb25lbnQsXG4gIEZpZWxkQ29udHJvbGxlcixcbiAgRmllbGRDb250cm9sbGVyQ29uZmlnLFxuICBGaWVsZFByb3BzLFxuICBTaW1wbGVGaWVsZFR5cGVJbmZvLFxufSBmcm9tICcuLi8uLi8uLi8uLi90eXBlcydcbmltcG9ydCB7IGVudHJpZXNUeXBlZCB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9jb3JlL3V0aWxzJ1xuXG5leHBvcnQgZnVuY3Rpb24gRmllbGQoeyBmaWVsZCwgdmFsdWUsIG9uQ2hhbmdlLCBhdXRvRm9jdXMgfTogRmllbGRQcm9wczx0eXBlb2YgY29udHJvbGxlcj4pIHtcbiAgcmV0dXJuIChcbiAgICA8Q2hlY2tib3hcbiAgICAgIGF1dG9Gb2N1cz17YXV0b0ZvY3VzfVxuICAgICAgaXNSZWFkT25seT17b25DaGFuZ2UgPT0gbnVsbH1cbiAgICAgIGlzU2VsZWN0ZWQ9e3ZhbHVlfVxuICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgID5cbiAgICAgIDxUZXh0PntmaWVsZC5sYWJlbH08L1RleHQ+XG4gICAgICB7ZmllbGQuZGVzY3JpcHRpb24gJiYgPFRleHQgc2xvdD1cImRlc2NyaXB0aW9uXCI+e2ZpZWxkLmRlc2NyaXB0aW9ufTwvVGV4dD59XG4gICAgPC9DaGVja2JveD5cbiAgKVxufVxuXG5leHBvcnQgY29uc3QgQ2VsbDogQ2VsbENvbXBvbmVudDx0eXBlb2YgY29udHJvbGxlcj4gPSAoeyB2YWx1ZSB9KSA9PiB7XG4gIHJldHVybiB2YWx1ZSA/IDxJY29uIHNyYz17Y2hlY2tJY29ufSBhcmlhLWxhYmVsPVwidHJ1ZVwiIC8+IDogPFZpc3VhbGx5SGlkZGVuPmZhbHNlPC9WaXN1YWxseUhpZGRlbj5cbn1cblxudHlwZSBDaGVja2JveENvbnRyb2xsZXIgPSBGaWVsZENvbnRyb2xsZXI8XG4gIGJvb2xlYW4sXG4gIGJvb2xlYW4sXG4gIFNpbXBsZUZpZWxkVHlwZUluZm88J0Jvb2xlYW4nPlsnaW5wdXRzJ11bJ3doZXJlJ11cbj5cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRyb2xsZXIoXG4gIGNvbmZpZzogRmllbGRDb250cm9sbGVyQ29uZmlnPHsgZGVmYXVsdFZhbHVlOiBib29sZWFuIH0+XG4pOiBDaGVja2JveENvbnRyb2xsZXIge1xuICByZXR1cm4ge1xuICAgIGZpZWxkS2V5OiBjb25maWcuZmllbGRLZXksXG4gICAgbGFiZWw6IGNvbmZpZy5sYWJlbCxcbiAgICBkZXNjcmlwdGlvbjogY29uZmlnLmRlc2NyaXB0aW9uLFxuICAgIGRlZmF1bHRWYWx1ZTogY29uZmlnLmZpZWxkTWV0YS5kZWZhdWx0VmFsdWUsXG4gICAgZGVzZXJpYWxpemUoaXRlbSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBpdGVtW2NvbmZpZy5maWVsZEtleV1cbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyA/IHZhbHVlIDogZmFsc2VcbiAgICB9LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHsgW2NvbmZpZy5maWVsZEtleV06IHZhbHVlIH1cbiAgICB9LFxuICAgIGdyYXBocWxTZWxlY3Rpb246IGNvbmZpZy5maWVsZEtleSxcbiAgICBmaWx0ZXI6IHtcbiAgICAgIEZpbHRlcihwcm9wcykge1xuICAgICAgICBjb25zdCB7IGF1dG9Gb2N1cywgY29udGV4dCwgdHlwZUxhYmVsLCBvbkNoYW5nZSwgdmFsdWUsIHR5cGUsIC4uLm90aGVyUHJvcHMgfSA9IHByb3BzXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPENoZWNrYm94IGF1dG9Gb2N1cz17YXV0b0ZvY3VzfSBvbkNoYW5nZT17b25DaGFuZ2V9IGlzU2VsZWN0ZWQ9e3ZhbHVlfSB7Li4ub3RoZXJQcm9wc30+XG4gICAgICAgICAgICB7dHlwZUxhYmVsfSB7Y29uZmlnLmxhYmVsLnRvTG9jYWxlTG93ZXJDYXNlKCl9XG4gICAgICAgICAgPC9DaGVja2JveD5cbiAgICAgICAgKVxuICAgICAgfSxcbiAgICAgIExhYmVsKHsgbGFiZWwsIHR5cGUsIHZhbHVlIH0pIHtcbiAgICAgICAgcmV0dXJuIGAke2xhYmVsLnRvTG93ZXJDYXNlKCl9ICR7dmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnfWBcbiAgICAgIH0sXG4gICAgICBncmFwaHFsKHsgdHlwZSwgdmFsdWUgfSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIFtjb25maWcuZmllbGRLZXldOiB7XG4gICAgICAgICAgICBlcXVhbHM6IHR5cGUgPT09ICdub3QnID8gIXZhbHVlIDogdmFsdWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHBhcnNlR3JhcGhRTDogdmFsdWUgPT4ge1xuICAgICAgICByZXR1cm4gZW50cmllc1R5cGVkKHZhbHVlKS5mbGF0TWFwKChbdHlwZSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBbXVxuICAgICAgICAgIGlmICh0eXBlID09PSAnZXF1YWxzJykgcmV0dXJuIHsgdHlwZTogJ2lzJywgdmFsdWUgfVxuICAgICAgICAgIGlmICh0eXBlID09PSAnbm90Jykge1xuICAgICAgICAgICAgaWYgKHZhbHVlLmVxdWFscyA9PSBudWxsKSByZXR1cm4gW11cbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdub3QnLCB2YWx1ZTogdmFsdWUuZXF1YWxzIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgdHlwZXM6IHtcbiAgICAgICAgaXM6IHtcbiAgICAgICAgICBsYWJlbDogJ0lzJyxcbiAgICAgICAgICBpbml0aWFsVmFsdWU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIG5vdDoge1xuICAgICAgICAgIGxhYmVsOiAnSXMgbm90JyxcbiAgICAgICAgICBpbml0aWFsVmFsdWU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDaGVja2JveCIsIkljb24iLCJjaGVja0ljb24iLCJUZXh0IiwiVmlzdWFsbHlIaWRkZW4iLCJlbnRyaWVzVHlwZWQiLCJGaWVsZCIsImZpZWxkIiwidmFsdWUiLCJvbkNoYW5nZSIsImF1dG9Gb2N1cyIsImlzUmVhZE9ubHkiLCJpc1NlbGVjdGVkIiwibGFiZWwiLCJkZXNjcmlwdGlvbiIsInNsb3QiLCJDZWxsIiwic3JjIiwiYXJpYS1sYWJlbCIsImNvbnRyb2xsZXIiLCJjb25maWciLCJmaWVsZEtleSIsImRlZmF1bHRWYWx1ZSIsImZpZWxkTWV0YSIsImRlc2VyaWFsaXplIiwiaXRlbSIsInNlcmlhbGl6ZSIsImdyYXBocWxTZWxlY3Rpb24iLCJmaWx0ZXIiLCJGaWx0ZXIiLCJwcm9wcyIsImNvbnRleHQiLCJ0eXBlTGFiZWwiLCJ0eXBlIiwib3RoZXJQcm9wcyIsInRvTG9jYWxlTG93ZXJDYXNlIiwiTGFiZWwiLCJ0b0xvd2VyQ2FzZSIsImdyYXBocWwiLCJlcXVhbHMiLCJwYXJzZUdyYXBoUUwiLCJmbGF0TWFwIiwidHlwZXMiLCJpcyIsImluaXRpYWxWYWx1ZSIsIm5vdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/checkbox/views/index.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/file/views/Field.tsx":
/*!***********************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/file/views/Field.tsx ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   formatBytes: () => (/* binding */ formatBytes),\n/* harmony export */   useTrimStartStyles: () => (/* binding */ useTrimStartStyles),\n/* harmony export */   validateFile: () => (/* binding */ validateFile)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_aria_i18n__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @react-aria/i18n */ \"../../../../node_modules/.pnpm/@react-aria+i18n@3.12.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-aria/i18n/dist/import.mjs\");\n/* harmony import */ var bytes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bytes */ \"../../../../node_modules/.pnpm/bytes@3.1.2/node_modules/bytes/index.js\");\n/* harmony import */ var bytes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bytes__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_field__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-field.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_fileAudioIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/icon/icons/fileAudioIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-fileAudioIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_fileCodeIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/icon/icons/fileCodeIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-fileCodeIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_fileDigitIcon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystar/ui/icon/icons/fileDigitIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-fileDigitIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_fileIcon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @keystar/ui/icon/icons/fileIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-fileIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_fileImageIcon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @keystar/ui/icon/icons/fileImageIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-fileImageIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_fileJsonIcon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @keystar/ui/icon/icons/fileJsonIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-fileJsonIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_fileSpreadsheetIcon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @keystar/ui/icon/icons/fileSpreadsheetIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-fileSpreadsheetIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_fileTextIcon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @keystar/ui/icon/icons/fileTextIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-fileTextIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_fileUpIcon__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @keystar/ui/icon/icons/fileUpIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-fileUpIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_fileVideoIcon__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @keystar/ui/icon/icons/fileVideoIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-fileVideoIcon.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Field(props) {\n    const { autoFocus, field, onChange, value } = props;\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const errorMessage = createErrorMessage(value);\n    const onUploadChange = ({ currentTarget: { validity, files } })=>{\n        const file = files?.[0];\n        if (!file) return; // bail if the user cancels from the file browser\n        onChange?.({\n            kind: 'upload',\n            data: {\n                file,\n                validity\n            },\n            previous: value\n        });\n    };\n    const onFileTrigger = ()=>{\n        inputRef.current?.click();\n    };\n    // Generate a random input key when the value changes, to ensure the file input is unmounted and\n    // remounted (this is the only way to reset its value and ensure onChange will fire again if\n    // the user selects the same file again)\n    const inputKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"Field.useMemo[inputKey]\": ()=>Math.random()\n    }[\"Field.useMemo[inputKey]\"], [\n        value\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_field__WEBPACK_IMPORTED_MODULE_5__.Field, {\n        label: field.label,\n        description: field.description,\n        errorMessage: errorMessage,\n        children: (inputProps)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FileView, {\n                        isInvalid: Boolean(errorMessage),\n                        onFileTrigger: onFileTrigger,\n                        onChange: onChange,\n                        value: value\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                        lineNumber: 66,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(\"input\", {\n                        ...inputProps,\n                        // TODO: add support for configurable file types\n                        // @see https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/accept\n                        autoComplete: \"off\",\n                        autoFocus: autoFocus,\n                        disabled: onChange === undefined,\n                        hidden: true,\n                        key: inputKey,\n                        name: field.fieldKey,\n                        onChange: onUploadChange,\n                        ref: inputRef,\n                        type: \"file\",\n                        __source: {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                            lineNumber: 72,\n                            columnNumber: 11\n                        },\n                        __self: this\n                    })\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                lineNumber: 65,\n                columnNumber: 9\n            }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n        lineNumber: 63,\n        columnNumber: 5\n    }, this);\n}\nfunction FileView(props) {\n    const { isInvalid, onFileTrigger, onChange, value } = props;\n    const fileData = useFileData(value);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_17__.VStack, {\n        gap: \"medium\",\n        children: [\n            isInvalid || !fileData ? null : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FileDetails, {\n                ...fileData,\n                children: onChange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_17__.HStack, {\n                    gap: \"regular\",\n                    marginTop: \"auto\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.ActionButton, {\n                            onPress: onFileTrigger,\n                            children: \"Change\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                            lineNumber: 107,\n                            columnNumber: 15\n                        }, this),\n                        value.kind === 'from-server' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.ActionButton, {\n                            prominence: \"low\",\n                            onPress: ()=>{\n                                onChange({\n                                    kind: 'remove',\n                                    previous: value\n                                });\n                            },\n                            children: \"Remove\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                            lineNumber: 109,\n                            columnNumber: 17\n                        }, this),\n                        value.kind === 'upload' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.ActionButton, {\n                            prominence: \"low\",\n                            onPress: ()=>{\n                                onChange(value.previous);\n                            },\n                            children: \"Cancel\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                            lineNumber: 119,\n                            columnNumber: 17\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                    lineNumber: 106,\n                    columnNumber: 13\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                lineNumber: 104,\n                columnNumber: 9\n            }, this),\n            !fileData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_17__.HStack, {\n                gap: \"regular\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.ActionButton, {\n                        isDisabled: onChange === undefined,\n                        onPress: onFileTrigger,\n                        children: \"Upload\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                        lineNumber: 135,\n                        columnNumber: 11\n                    }, this),\n                    value.kind === 'remove' && value.previous && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.ActionButton, {\n                        prominence: \"low\",\n                        onPress: ()=>{\n                            if (value.previous !== undefined) {\n                                onChange?.(value?.previous);\n                            }\n                        },\n                        children: \"Undo removal\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                        lineNumber: 139,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                lineNumber: 134,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n        lineNumber: 102,\n        columnNumber: 5\n    }, this);\n}\nfunction FileDetails(props) {\n    const trimStartStyles = useTrimStartStyles();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_17__.HStack, {\n        backgroundColor: \"canvas\",\n        border: \"neutral\",\n        borderRadius: \"regular\",\n        gap: \"medium\",\n        padding: \"medium\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                href: props.href,\n                download: props.name,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_17__.HStack, {\n                    alignItems: \"center\",\n                    backgroundColor: \"surfaceTertiary\",\n                    borderRadius: \"small\",\n                    justifyContent: \"center\",\n                    height: \"100%\",\n                    UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_18__.css)({\n                        aspectRatio: '1 / 1'\n                    }),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_6__.Icon, {\n                        src: props.icon,\n                        size: \"medium\",\n                        color: \"neutral\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                        lineNumber: 176,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                    lineNumber: 168,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                lineNumber: 167,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_17__.VStack, {\n                gap: \"medium\",\n                minWidth: \"alias.singleLineWidth\",\n                flex: true,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_19__.Text, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_18__.css)(trimStartStyles),\n                            title: props.name,\n                            children: props.name\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                            lineNumber: 181,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                        lineNumber: 180,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_19__.Text, {\n                        size: \"small\",\n                        color: \"neutralSecondary\",\n                        children: formatBytes(props.size)\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                        lineNumber: 185,\n                        columnNumber: 9\n                    }, this),\n                    props.children\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n                lineNumber: 179,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/file/views/Field.tsx\",\n        lineNumber: 160,\n        columnNumber: 5\n    }, this);\n}\nfunction formatBytes(size, options = defaultBytesOptions(size)) {\n    return bytes__WEBPACK_IMPORTED_MODULE_2___default()(size, options);\n}\nfunction defaultBytesOptions(size) {\n    // increase precision for larger files\n    const GB = 1000000000;\n    const MB = 1000000;\n    const decimalPlaces = size >= GB ? 2 : size >= MB ? 1 : 0;\n    return {\n        decimalPlaces\n    };\n}\nfunction useFileData(value) {\n    const [objectUrl, setObjectUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"useFileData.useEffect\": ()=>{\n            if (value.kind === 'upload') {\n                const objectUrl = URL.createObjectURL(value.data.file);\n                setObjectUrl(objectUrl);\n                return ({\n                    \"useFileData.useEffect\": ()=>{\n                        URL.revokeObjectURL(objectUrl);\n                    }\n                })[\"useFileData.useEffect\"];\n            }\n        }\n    }[\"useFileData.useEffect\"], [\n        value\n    ]);\n    switch(value.kind){\n        case 'from-server':\n            return {\n                icon: getFileIcon(value.data.filename),\n                name: value.data.filename,\n                size: value.data.filesize,\n                href: value.data.src\n            };\n        case 'upload':\n            return {\n                icon: _keystar_ui_icon_icons_fileUpIcon__WEBPACK_IMPORTED_MODULE_15__.fileUpIcon,\n                name: value.data.file.name,\n                size: value.data.file.size,\n                href: objectUrl\n            };\n        default:\n            return null;\n    }\n}\n// prettier-ignore\nconst FILE_TYPES = {\n    audio: new Set([\n        'aac',\n        'aiff',\n        'alac',\n        'flac',\n        'm4a',\n        'mp3',\n        'ogg',\n        'wav',\n        'wma'\n    ]),\n    binary: new Set([\n        'bin',\n        'dat',\n        'exe',\n        'iso',\n        'pkg',\n        'rar',\n        'tar',\n        'zip'\n    ]),\n    code: new Set([\n        'c',\n        'cpp',\n        'cs',\n        'css',\n        'go',\n        'html',\n        'java',\n        'js',\n        'jsx',\n        'less',\n        'php',\n        'py',\n        'rb',\n        'rs',\n        'scss',\n        'ts',\n        'tsx',\n        'xml'\n    ]),\n    image: new Set([\n        'avif',\n        'bmp',\n        'gif',\n        'heic',\n        'ico',\n        'jpeg',\n        'jpg',\n        'png',\n        'svg',\n        'tiff',\n        'webp'\n    ]),\n    json: new Set([\n        'geojson',\n        'json',\n        'json5',\n        'jsonld'\n    ]),\n    spreadsheet: new Set([\n        'csv',\n        'ods',\n        'tsv',\n        'xls',\n        'xlsx'\n    ]),\n    text: new Set([\n        'doc',\n        'docx',\n        'eml',\n        'log',\n        'md',\n        'msg',\n        'odt',\n        'pdf',\n        'rtf',\n        'tex',\n        'txt'\n    ]),\n    video: new Set([\n        'avi',\n        'flv',\n        'm4v',\n        'mkv',\n        'mov',\n        'mp4',\n        'ogg',\n        'webm',\n        'wmv'\n    ])\n};\nfunction getFileIcon(filename) {\n    const extension = getExtension(filename);\n    if (FILE_TYPES.audio.has(extension)) return _keystar_ui_icon_icons_fileAudioIcon__WEBPACK_IMPORTED_MODULE_7__.fileAudioIcon;\n    if (FILE_TYPES.binary.has(extension)) return _keystar_ui_icon_icons_fileDigitIcon__WEBPACK_IMPORTED_MODULE_9__.fileDigitIcon;\n    if (FILE_TYPES.code.has(extension)) return _keystar_ui_icon_icons_fileCodeIcon__WEBPACK_IMPORTED_MODULE_8__.fileCodeIcon;\n    if (FILE_TYPES.image.has(extension)) return _keystar_ui_icon_icons_fileImageIcon__WEBPACK_IMPORTED_MODULE_11__.fileImageIcon;\n    if (FILE_TYPES.json.has(extension)) return _keystar_ui_icon_icons_fileJsonIcon__WEBPACK_IMPORTED_MODULE_12__.fileJsonIcon;\n    if (FILE_TYPES.spreadsheet.has(extension)) return _keystar_ui_icon_icons_fileSpreadsheetIcon__WEBPACK_IMPORTED_MODULE_13__.fileSpreadsheetIcon;\n    if (FILE_TYPES.text.has(extension)) return _keystar_ui_icon_icons_fileTextIcon__WEBPACK_IMPORTED_MODULE_14__.fileTextIcon;\n    if (FILE_TYPES.video.has(extension)) return _keystar_ui_icon_icons_fileVideoIcon__WEBPACK_IMPORTED_MODULE_16__.fileVideoIcon;\n    return _keystar_ui_icon_icons_fileIcon__WEBPACK_IMPORTED_MODULE_10__.fileIcon;\n}\nfunction getExtension(filename) {\n    // `extname` returns e.g. \".mov\", remove leading dot to match \"mov\"\n    return (0,path__WEBPACK_IMPORTED_MODULE_3__.extname)(filename).slice(1).toLowerCase();\n}\nfunction useTrimStartStyles() {\n    const { direction } = (0,_react_aria_i18n__WEBPACK_IMPORTED_MODULE_20__.useLocale)();\n    return {\n        direction: direction === 'rtl' ? 'ltr' : 'rtl',\n        display: 'block',\n        overflow: 'hidden',\n        textAlign: direction === 'rtl' ? 'right' : 'left',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap'\n    };\n}\nfunction createErrorMessage(value) {\n    if (value.kind === 'upload') {\n        return validateFile(value.data);\n    }\n}\nfunction validateFile({ validity }) {\n    if (!validity.valid) {\n        return 'Something went wrong, please reload and try again.';\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL2ZpbGUvdmlld3MvRmllbGQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEM7QUFDSTtBQUNsQjtBQVVoQjtBQUVtQztBQUNRO0FBQ2xCO0FBQzZCO0FBQ0Y7QUFDRTtBQUNWO0FBQ1U7QUFDRjtBQUNjO0FBQ2Q7QUFDSjtBQUNNO0FBQ2pCO0FBQ1o7QUFDTTtBQU10QyxTQUFTUyxNQUFNaUIsS0FBb0M7SUFDeEQsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQUUsR0FBR0o7SUFFOUMsTUFBTUssV0FBV3pCLDZDQUFNQSxDQUEwQjtJQUNqRCxNQUFNMEIsZUFBZUMsbUJBQW1CSDtJQUV4QyxNQUFNSSxpQkFBaUIsQ0FBQyxFQUN0QkMsZUFBZSxFQUFFQyxRQUFRLEVBQUVDLEtBQUssRUFBRSxFQUNEO1FBQ2pDLE1BQU1DLE9BQU9ELE9BQU8sQ0FBQyxFQUFFO1FBQ3ZCLElBQUksQ0FBQ0MsTUFBTSxRQUFPLGlEQUFpRDtRQUNuRVQsV0FBVztZQUNUVSxNQUFNO1lBQ05DLE1BQU07Z0JBQUVGO2dCQUFNRjtZQUFTO1lBQ3ZCSyxVQUFVWDtRQUNaO0lBQ0Y7SUFDQSxNQUFNWSxnQkFBZ0I7UUFDcEJYLFNBQVNZLE9BQU8sRUFBRUM7SUFDcEI7SUFFQSxnR0FBZ0c7SUFDaEcsNEZBQTRGO0lBQzVGLHdDQUF3QztJQUN4QyxNQUFNQyxXQUFXeEMsOENBQU9BO21DQUFDLElBQU15QyxLQUFLQyxNQUFNO2tDQUFJO1FBQUNqQjtLQUFNO0lBRXJELHFCQUNFLDhEQUFDcEIsb0RBQVlBO1FBQUNzQyxPQUFPcEIsTUFBTW9CLEtBQUs7UUFBRUMsYUFBYXJCLE1BQU1xQixXQUFXO1FBQUVqQixjQUFjQTtrQkFDN0VrQixDQUFBQSwyQkFDQyw4REFBQy9DLDJDQUFRQTs7a0NBQ1AsOERBQUNnRDt3QkFDQ0MsV0FBV0MsUUFBUXJCO3dCQUNuQlUsZUFBZUE7d0JBQ2ZiLFVBQVVBO3dCQUNWQyxPQUFPQTs7Ozs7O2tDQUVULHFEQUFDd0I7d0JBQ0UsR0FBR0osVUFBVTt3QkFDZCxnREFBZ0Q7d0JBQ2hELDJFQUEyRTt3QkFDM0VLLGNBQWE7d0JBQ2I1QixXQUFXQTt3QkFDWDZCLFVBQVUzQixhQUFhNEI7d0JBQ3ZCQyxNQUFNO3dCQUNOQyxLQUFLZDt3QkFDTGUsTUFBTWhDLE1BQU1pQyxRQUFRO3dCQUNwQmhDLFVBQVVLO3dCQUNWNEIsS0FBSy9CO3dCQUNMZ0MsTUFBSzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1qQjtBQUVBLFNBQVNaLFNBQVN6QixLQUtqQjtJQUNDLE1BQU0sRUFBRTBCLFNBQVMsRUFBRVYsYUFBYSxFQUFFYixRQUFRLEVBQUVDLEtBQUssRUFBRSxHQUFHSjtJQUN0RCxNQUFNc0MsV0FBV0MsWUFBWW5DO0lBRTdCLHFCQUNFLDhEQUFDUCx1REFBTUE7UUFBQzJDLEtBQUk7O1lBQ1RkLGFBQWEsQ0FBQ1ksV0FBVyxxQkFDeEIsOERBQUNHO2dCQUFhLEdBQUdILFFBQVE7MEJBQ3RCbkMsMEJBQ0MsOERBQUNQLHVEQUFNQTtvQkFBQzRDLEtBQUk7b0JBQVVFLFdBQVU7O3NDQUM5Qiw4REFBQzVELDREQUFZQTs0QkFBQzZELFNBQVMzQjtzQ0FBZTs7Ozs7O3dCQUNyQ1osTUFBTVMsSUFBSSxLQUFLLCtCQUNkLDhEQUFDL0IsNERBQVlBOzRCQUNYOEQsWUFBVzs0QkFDWEQsU0FBUztnQ0FDUHhDLFNBQVM7b0NBQUVVLE1BQU07b0NBQVVFLFVBQVVYO2dDQUFNOzRCQUM3QztzQ0FDRDs7Ozs7O3dCQUlGQSxNQUFNUyxJQUFJLEtBQUssMEJBQ2QsOERBQUMvQiw0REFBWUE7NEJBQ1g4RCxZQUFXOzRCQUNYRCxTQUFTO2dDQUNQeEMsU0FBU0MsTUFBTVcsUUFBUTs0QkFDekI7c0NBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBU1YsQ0FBQ3VCLDBCQUNBLDhEQUFDMUMsdURBQU1BO2dCQUFDNEMsS0FBSTs7a0NBQ1YsOERBQUMxRCw0REFBWUE7d0JBQUMrRCxZQUFZMUMsYUFBYTRCO3dCQUFXWSxTQUFTM0I7a0NBQWU7Ozs7OztvQkFHekVaLE1BQU1TLElBQUksS0FBSyxZQUFZVCxNQUFNVyxRQUFRLGtCQUN4Qyw4REFBQ2pDLDREQUFZQTt3QkFDWDhELFlBQVc7d0JBQ1hELFNBQVM7NEJBQ1AsSUFBSXZDLE1BQU1XLFFBQVEsS0FBS2dCLFdBQVc7Z0NBQ2hDNUIsV0FBV0MsT0FBT1c7NEJBQ3BCO3dCQUNGO2tDQUNEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRYjtBQUVBLFNBQVMwQixZQUFZekMsS0FBa0M7SUFDckQsTUFBTThDLGtCQUFrQkM7SUFFeEIscUJBQ0UsOERBQUNuRCx1REFBTUE7UUFDTG9ELGlCQUFnQjtRQUNoQkMsUUFBTztRQUNQQyxjQUFhO1FBQ2JWLEtBQUk7UUFDSlcsU0FBUTs7MEJBRVIsOERBQUNDO2dCQUFFQyxNQUFNckQsTUFBTXFELElBQUk7Z0JBQUVDLFVBQVV0RCxNQUFNa0MsSUFBSTswQkFDdkMsNEVBQUN0Qyx1REFBTUE7b0JBQ0wyRCxZQUFXO29CQUNYUCxpQkFBZ0I7b0JBQ2hCRSxjQUFhO29CQUNiTSxnQkFBZTtvQkFDZkMsUUFBTztvQkFDUEMsa0JBQWtCNUQsdURBQUdBLENBQUM7d0JBQUU2RCxhQUFhO29CQUFROzhCQUU3Qyw0RUFBQzFFLGtEQUFJQTt3QkFBQzJFLEtBQUs1RCxNQUFNNkQsSUFBSTt3QkFBRUMsTUFBSzt3QkFBU0MsT0FBTTs7Ozs7Ozs7Ozs7Ozs7OzswQkFHL0MsOERBQUNsRSx1REFBTUE7Z0JBQUMyQyxLQUFJO2dCQUFTd0IsVUFBUztnQkFBd0JDLElBQUk7O2tDQUN4RCw4REFBQ2xFLHlEQUFJQTtrQ0FDSCw0RUFBQ21FOzRCQUFLQyxXQUFXckUsdURBQUdBLENBQUNnRDs0QkFBa0JzQixPQUFPcEUsTUFBTWtDLElBQUk7c0NBQ3JEbEMsTUFBTWtDLElBQUk7Ozs7Ozs7Ozs7O2tDQUdmLDhEQUFDbkMseURBQUlBO3dCQUFDK0QsTUFBSzt3QkFBUUMsT0FBTTtrQ0FDdEJNLFlBQVlyRSxNQUFNOEQsSUFBSTs7Ozs7O29CQUl4QjlELE1BQU1zRSxRQUFROzs7Ozs7Ozs7Ozs7O0FBSXZCO0FBRU8sU0FBU0QsWUFBWVAsSUFBWSxFQUFFUyxVQUFVQyxvQkFBb0JWLEtBQUs7SUFDM0UsT0FBT3ZGLDRDQUFLQSxDQUFDdUYsTUFBTVM7QUFDckI7QUFFQSxTQUFTQyxvQkFBb0JWLElBQVk7SUFDdkMsc0NBQXNDO0lBQ3RDLE1BQU1XLEtBQUs7SUFDWCxNQUFNQyxLQUFLO0lBQ1gsTUFBTUMsZ0JBQWdCYixRQUFRVyxLQUFLLElBQUlYLFFBQVFZLEtBQUssSUFBSTtJQUV4RCxPQUFPO1FBQUVDO0lBQWM7QUFDekI7QUFTQSxTQUFTcEMsWUFBWW5DLEtBQWdCO0lBQ25DLE1BQU0sQ0FBQ3dFLFdBQVdDLGFBQWEsR0FBR2hHLCtDQUFRQSxDQUFTO0lBQ25ESCxnREFBU0E7aUNBQUM7WUFDUixJQUFJMEIsTUFBTVMsSUFBSSxLQUFLLFVBQVU7Z0JBQzNCLE1BQU0rRCxZQUFZRSxJQUFJQyxlQUFlLENBQUMzRSxNQUFNVSxJQUFJLENBQUNGLElBQUk7Z0JBQ3JEaUUsYUFBYUQ7Z0JBQ2I7NkNBQU87d0JBQ0xFLElBQUlFLGVBQWUsQ0FBQ0o7b0JBQ3RCOztZQUNGO1FBQ0Y7Z0NBQUc7UUFBQ3hFO0tBQU07SUFDVixPQUFRQSxNQUFNUyxJQUFJO1FBQ2hCLEtBQUs7WUFDSCxPQUFPO2dCQUNMZ0QsTUFBTW9CLFlBQVk3RSxNQUFNVSxJQUFJLENBQUNvRSxRQUFRO2dCQUNyQ2hELE1BQU05QixNQUFNVSxJQUFJLENBQUNvRSxRQUFRO2dCQUN6QnBCLE1BQU0xRCxNQUFNVSxJQUFJLENBQUNxRSxRQUFRO2dCQUN6QjlCLE1BQU1qRCxNQUFNVSxJQUFJLENBQUM4QyxHQUFHO1lBQ3RCO1FBQ0YsS0FBSztZQUNILE9BQU87Z0JBQ0xDLE1BQU1uRSwwRUFBVUE7Z0JBQ2hCd0MsTUFBTTlCLE1BQU1VLElBQUksQ0FBQ0YsSUFBSSxDQUFDc0IsSUFBSTtnQkFDMUI0QixNQUFNMUQsTUFBTVUsSUFBSSxDQUFDRixJQUFJLENBQUNrRCxJQUFJO2dCQUMxQlQsTUFBTXVCO1lBQ1I7UUFDRjtZQUNFLE9BQU87SUFDWDtBQUNGO0FBRUEsa0JBQWtCO0FBQ2xCLE1BQU1RLGFBQWE7SUFDakJDLE9BQU8sSUFBSUMsSUFBSTtRQUFDO1FBQU87UUFBUTtRQUFRO1FBQVE7UUFBTztRQUFPO1FBQU87UUFBTztLQUFNO0lBQ2pGQyxRQUFRLElBQUlELElBQUk7UUFBQztRQUFPO1FBQU87UUFBTztRQUFPO1FBQU87UUFBTztRQUFPO0tBQU07SUFDeEVFLE1BQU0sSUFBSUYsSUFBSTtRQUFDO1FBQUs7UUFBTztRQUFNO1FBQU87UUFBTTtRQUFRO1FBQVE7UUFBTTtRQUFPO1FBQVE7UUFBTztRQUFNO1FBQU07UUFBTTtRQUFRO1FBQU07UUFBTztLQUFNO0lBQ3ZJRyxPQUFPLElBQUlILElBQUk7UUFBQztRQUFRO1FBQU87UUFBTztRQUFRO1FBQU87UUFBUTtRQUFPO1FBQU87UUFBTztRQUFRO0tBQU87SUFDakdJLE1BQU0sSUFBSUosSUFBSTtRQUFDO1FBQVc7UUFBUTtRQUFTO0tBQVM7SUFDcERLLGFBQWEsSUFBSUwsSUFBSTtRQUFDO1FBQU87UUFBTztRQUFPO1FBQU87S0FBTztJQUN6RE0sTUFBTSxJQUFJTixJQUFJO1FBQUM7UUFBTztRQUFRO1FBQU87UUFBTztRQUFNO1FBQU87UUFBTztRQUFPO1FBQU87UUFBTztLQUFNO0lBQzNGTyxPQUFPLElBQUlQLElBQUk7UUFBQztRQUFPO1FBQU87UUFBTztRQUFPO1FBQU87UUFBTztRQUFPO1FBQVE7S0FBTTtBQUNqRjtBQUVBLFNBQVNMLFlBQVlDLFFBQWdCO0lBQ25DLE1BQU1ZLFlBQVlDLGFBQWFiO0lBRS9CLElBQUlFLFdBQVdDLEtBQUssQ0FBQ1csR0FBRyxDQUFDRixZQUFZLE9BQU81RywrRUFBYUE7SUFDekQsSUFBSWtHLFdBQVdHLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDRixZQUFZLE9BQU8xRywrRUFBYUE7SUFDMUQsSUFBSWdHLFdBQVdJLElBQUksQ0FBQ1EsR0FBRyxDQUFDRixZQUFZLE9BQU8zRyw2RUFBWUE7SUFDdkQsSUFBSWlHLFdBQVdLLEtBQUssQ0FBQ08sR0FBRyxDQUFDRixZQUFZLE9BQU94RyxnRkFBYUE7SUFDekQsSUFBSThGLFdBQVdNLElBQUksQ0FBQ00sR0FBRyxDQUFDRixZQUFZLE9BQU92Ryw4RUFBWUE7SUFDdkQsSUFBSTZGLFdBQVdPLFdBQVcsQ0FBQ0ssR0FBRyxDQUFDRixZQUFZLE9BQU90Ryw0RkFBbUJBO0lBQ3JFLElBQUk0RixXQUFXUSxJQUFJLENBQUNJLEdBQUcsQ0FBQ0YsWUFBWSxPQUFPckcsOEVBQVlBO0lBQ3ZELElBQUkyRixXQUFXUyxLQUFLLENBQUNHLEdBQUcsQ0FBQ0YsWUFBWSxPQUFPbkcsZ0ZBQWFBO0lBRXpELE9BQU9OLHNFQUFRQTtBQUNqQjtBQUNBLFNBQVMwRyxhQUFhYixRQUFnQjtJQUNwQyxtRUFBbUU7SUFDbkUsT0FBTzFHLDZDQUFPQSxDQUFDMEcsVUFBVWUsS0FBSyxDQUFDLEdBQUdDLFdBQVc7QUFDL0M7QUFFTyxTQUFTbkQ7SUFDZCxNQUFNLEVBQUVvRCxTQUFTLEVBQUUsR0FBRzdILDREQUFTQTtJQUMvQixPQUFPO1FBQ0w2SCxXQUFXQSxjQUFjLFFBQVEsUUFBUTtRQUN6Q0MsU0FBUztRQUNUQyxVQUFVO1FBQ1ZDLFdBQVdILGNBQWMsUUFBUSxVQUFVO1FBQzNDSSxjQUFjO1FBQ2RDLFlBQVk7SUFDZDtBQUNGO0FBRUEsU0FBU2pHLG1CQUFtQkgsS0FBZ0I7SUFDMUMsSUFBSUEsTUFBTVMsSUFBSSxLQUFLLFVBQVU7UUFDM0IsT0FBTzRGLGFBQWFyRyxNQUFNVSxJQUFJO0lBQ2hDO0FBQ0Y7QUFFTyxTQUFTMkYsYUFBYSxFQUFFL0YsUUFBUSxFQUErQjtJQUNwRSxJQUFJLENBQUNBLFNBQVNnRyxLQUFLLEVBQUU7UUFDbkIsT0FBTztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL2ZpbGUvdmlld3MvRmllbGQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUxvY2FsZSB9IGZyb20gJ0ByZWFjdC1hcmlhL2kxOG4nXG5pbXBvcnQgYnl0ZXMsIHsgdHlwZSBCeXRlc09wdGlvbnMgfSBmcm9tICdieXRlcydcbmltcG9ydCB7IGV4dG5hbWUgfSBmcm9tICdwYXRoJ1xuaW1wb3J0IHtcbiAgdHlwZSBQcm9wc1dpdGhDaGlsZHJlbixcbiAgdHlwZSBSZWFjdEVsZW1lbnQsXG4gIHR5cGUgU3ludGhldGljRXZlbnQsXG4gIEZyYWdtZW50LFxuICB1c2VFZmZlY3QsXG4gIHVzZU1lbW8sXG4gIHVzZVJlZixcbiAgdXNlU3RhdGUsXG59IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyBBY3Rpb25CdXR0b24gfSBmcm9tICdAa2V5c3Rhci91aS9idXR0b24nXG5pbXBvcnQgeyBGaWVsZCBhcyBLZXlzdGFyRmllbGQgfSBmcm9tICdAa2V5c3Rhci91aS9maWVsZCdcbmltcG9ydCB7IEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uJ1xuaW1wb3J0IHsgZmlsZUF1ZGlvSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvZmlsZUF1ZGlvSWNvbidcbmltcG9ydCB7IGZpbGVDb2RlSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvZmlsZUNvZGVJY29uJ1xuaW1wb3J0IHsgZmlsZURpZ2l0SWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvZmlsZURpZ2l0SWNvbidcbmltcG9ydCB7IGZpbGVJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbi9pY29ucy9maWxlSWNvbidcbmltcG9ydCB7IGZpbGVJbWFnZUljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2ZpbGVJbWFnZUljb24nXG5pbXBvcnQgeyBmaWxlSnNvbkljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2ZpbGVKc29uSWNvbidcbmltcG9ydCB7IGZpbGVTcHJlYWRzaGVldEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2ZpbGVTcHJlYWRzaGVldEljb24nXG5pbXBvcnQgeyBmaWxlVGV4dEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2ZpbGVUZXh0SWNvbidcbmltcG9ydCB7IGZpbGVVcEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2ZpbGVVcEljb24nXG5pbXBvcnQgeyBmaWxlVmlkZW9JY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbi9pY29ucy9maWxlVmlkZW9JY29uJ1xuaW1wb3J0IHsgSFN0YWNrLCBWU3RhY2sgfSBmcm9tICdAa2V5c3Rhci91aS9sYXlvdXQnXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdAa2V5c3Rhci91aS9zdHlsZSdcbmltcG9ydCB7IFRleHQgfSBmcm9tICdAa2V5c3Rhci91aS90eXBvZ3JhcGh5J1xuXG5pbXBvcnQgdHlwZSB7IGNvbnRyb2xsZXIgfSBmcm9tICcuJ1xuaW1wb3J0IHR5cGUgeyBGaWVsZFByb3BzIH0gZnJvbSAnLi4vLi4vLi4vLi4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IEZpbGVWYWx1ZSB9IGZyb20gJy4vaW5kZXgnXG5cbmV4cG9ydCBmdW5jdGlvbiBGaWVsZChwcm9wczogRmllbGRQcm9wczx0eXBlb2YgY29udHJvbGxlcj4pIHtcbiAgY29uc3QgeyBhdXRvRm9jdXMsIGZpZWxkLCBvbkNoYW5nZSwgdmFsdWUgfSA9IHByb3BzXG5cbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudCB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGVycm9yTWVzc2FnZSA9IGNyZWF0ZUVycm9yTWVzc2FnZSh2YWx1ZSlcblxuICBjb25zdCBvblVwbG9hZENoYW5nZSA9ICh7XG4gICAgY3VycmVudFRhcmdldDogeyB2YWxpZGl0eSwgZmlsZXMgfSxcbiAgfTogU3ludGhldGljRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBmaWxlID0gZmlsZXM/LlswXVxuICAgIGlmICghZmlsZSkgcmV0dXJuIC8vIGJhaWwgaWYgdGhlIHVzZXIgY2FuY2VscyBmcm9tIHRoZSBmaWxlIGJyb3dzZXJcbiAgICBvbkNoYW5nZT8uKHtcbiAgICAgIGtpbmQ6ICd1cGxvYWQnLFxuICAgICAgZGF0YTogeyBmaWxlLCB2YWxpZGl0eSB9LFxuICAgICAgcHJldmlvdXM6IHZhbHVlLFxuICAgIH0pXG4gIH1cbiAgY29uc3Qgb25GaWxlVHJpZ2dlciA9ICgpID0+IHtcbiAgICBpbnB1dFJlZi5jdXJyZW50Py5jbGljaygpXG4gIH1cblxuICAvLyBHZW5lcmF0ZSBhIHJhbmRvbSBpbnB1dCBrZXkgd2hlbiB0aGUgdmFsdWUgY2hhbmdlcywgdG8gZW5zdXJlIHRoZSBmaWxlIGlucHV0IGlzIHVubW91bnRlZCBhbmRcbiAgLy8gcmVtb3VudGVkICh0aGlzIGlzIHRoZSBvbmx5IHdheSB0byByZXNldCBpdHMgdmFsdWUgYW5kIGVuc3VyZSBvbkNoYW5nZSB3aWxsIGZpcmUgYWdhaW4gaWZcbiAgLy8gdGhlIHVzZXIgc2VsZWN0cyB0aGUgc2FtZSBmaWxlIGFnYWluKVxuICBjb25zdCBpbnB1dEtleSA9IHVzZU1lbW8oKCkgPT4gTWF0aC5yYW5kb20oKSwgW3ZhbHVlXSlcblxuICByZXR1cm4gKFxuICAgIDxLZXlzdGFyRmllbGQgbGFiZWw9e2ZpZWxkLmxhYmVsfSBkZXNjcmlwdGlvbj17ZmllbGQuZGVzY3JpcHRpb259IGVycm9yTWVzc2FnZT17ZXJyb3JNZXNzYWdlfT5cbiAgICAgIHtpbnB1dFByb3BzID0+IChcbiAgICAgICAgPEZyYWdtZW50PlxuICAgICAgICAgIDxGaWxlVmlld1xuICAgICAgICAgICAgaXNJbnZhbGlkPXtCb29sZWFuKGVycm9yTWVzc2FnZSl9XG4gICAgICAgICAgICBvbkZpbGVUcmlnZ2VyPXtvbkZpbGVUcmlnZ2VyfVxuICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB7Li4uaW5wdXRQcm9wc31cbiAgICAgICAgICAgIC8vIFRPRE86IGFkZCBzdXBwb3J0IGZvciBjb25maWd1cmFibGUgZmlsZSB0eXBlc1xuICAgICAgICAgICAgLy8gQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0F0dHJpYnV0ZXMvYWNjZXB0XG4gICAgICAgICAgICBhdXRvQ29tcGxldGU9XCJvZmZcIlxuICAgICAgICAgICAgYXV0b0ZvY3VzPXthdXRvRm9jdXN9XG4gICAgICAgICAgICBkaXNhYmxlZD17b25DaGFuZ2UgPT09IHVuZGVmaW5lZH1cbiAgICAgICAgICAgIGhpZGRlblxuICAgICAgICAgICAga2V5PXtpbnB1dEtleX1cbiAgICAgICAgICAgIG5hbWU9e2ZpZWxkLmZpZWxkS2V5fVxuICAgICAgICAgICAgb25DaGFuZ2U9e29uVXBsb2FkQ2hhbmdlfVxuICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cbiAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgKX1cbiAgICA8L0tleXN0YXJGaWVsZD5cbiAgKVxufVxuXG5mdW5jdGlvbiBGaWxlVmlldyhwcm9wczoge1xuICBvbkZpbGVUcmlnZ2VyOiAoKSA9PiB2b2lkXG4gIGlzSW52YWxpZD86IGJvb2xlYW5cbiAgb25DaGFuZ2U/OiAodmFsdWU6IEZpbGVWYWx1ZSkgPT4gdm9pZFxuICB2YWx1ZTogRmlsZVZhbHVlXG59KSB7XG4gIGNvbnN0IHsgaXNJbnZhbGlkLCBvbkZpbGVUcmlnZ2VyLCBvbkNoYW5nZSwgdmFsdWUgfSA9IHByb3BzXG4gIGNvbnN0IGZpbGVEYXRhID0gdXNlRmlsZURhdGEodmFsdWUpXG5cbiAgcmV0dXJuIChcbiAgICA8VlN0YWNrIGdhcD1cIm1lZGl1bVwiPlxuICAgICAge2lzSW52YWxpZCB8fCAhZmlsZURhdGEgPyBudWxsIDogKFxuICAgICAgICA8RmlsZURldGFpbHMgey4uLmZpbGVEYXRhfT5cbiAgICAgICAgICB7b25DaGFuZ2UgJiYgKFxuICAgICAgICAgICAgPEhTdGFjayBnYXA9XCJyZWd1bGFyXCIgbWFyZ2luVG9wPVwiYXV0b1wiPlxuICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uIG9uUHJlc3M9e29uRmlsZVRyaWdnZXJ9PkNoYW5nZTwvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgICAgICB7dmFsdWUua2luZCA9PT0gJ2Zyb20tc2VydmVyJyAmJiAoXG4gICAgICAgICAgICAgICAgPEFjdGlvbkJ1dHRvblxuICAgICAgICAgICAgICAgICAgcHJvbWluZW5jZT1cImxvd1wiXG4gICAgICAgICAgICAgICAgICBvblByZXNzPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHsga2luZDogJ3JlbW92ZScsIHByZXZpb3VzOiB2YWx1ZSB9KVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBSZW1vdmVcbiAgICAgICAgICAgICAgICA8L0FjdGlvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge3ZhbHVlLmtpbmQgPT09ICd1cGxvYWQnICYmIChcbiAgICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uXG4gICAgICAgICAgICAgICAgICBwcm9taW5lbmNlPVwibG93XCJcbiAgICAgICAgICAgICAgICAgIG9uUHJlc3M9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UodmFsdWUucHJldmlvdXMpXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgIDwvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9IU3RhY2s+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9GaWxlRGV0YWlscz5cbiAgICAgICl9XG5cbiAgICAgIHshZmlsZURhdGEgJiYgKFxuICAgICAgICA8SFN0YWNrIGdhcD1cInJlZ3VsYXJcIj5cbiAgICAgICAgICA8QWN0aW9uQnV0dG9uIGlzRGlzYWJsZWQ9e29uQ2hhbmdlID09PSB1bmRlZmluZWR9IG9uUHJlc3M9e29uRmlsZVRyaWdnZXJ9PlxuICAgICAgICAgICAgVXBsb2FkXG4gICAgICAgICAgPC9BY3Rpb25CdXR0b24+XG4gICAgICAgICAge3ZhbHVlLmtpbmQgPT09ICdyZW1vdmUnICYmIHZhbHVlLnByZXZpb3VzICYmIChcbiAgICAgICAgICAgIDxBY3Rpb25CdXR0b25cbiAgICAgICAgICAgICAgcHJvbWluZW5jZT1cImxvd1wiXG4gICAgICAgICAgICAgIG9uUHJlc3M9eygpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUucHJldmlvdXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U/Lih2YWx1ZT8ucHJldmlvdXMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBVbmRvIHJlbW92YWxcbiAgICAgICAgICAgIDwvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvSFN0YWNrPlxuICAgICAgKX1cbiAgICA8L1ZTdGFjaz5cbiAgKVxufVxuXG5mdW5jdGlvbiBGaWxlRGV0YWlscyhwcm9wczogUHJvcHNXaXRoQ2hpbGRyZW48RmlsZURhdGE+KSB7XG4gIGNvbnN0IHRyaW1TdGFydFN0eWxlcyA9IHVzZVRyaW1TdGFydFN0eWxlcygpXG5cbiAgcmV0dXJuIChcbiAgICA8SFN0YWNrXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJjYW52YXNcIlxuICAgICAgYm9yZGVyPVwibmV1dHJhbFwiXG4gICAgICBib3JkZXJSYWRpdXM9XCJyZWd1bGFyXCJcbiAgICAgIGdhcD1cIm1lZGl1bVwiXG4gICAgICBwYWRkaW5nPVwibWVkaXVtXCJcbiAgICA+XG4gICAgICA8YSBocmVmPXtwcm9wcy5ocmVmfSBkb3dubG9hZD17cHJvcHMubmFtZX0+XG4gICAgICAgIDxIU3RhY2tcbiAgICAgICAgICBhbGlnbkl0ZW1zPVwiY2VudGVyXCJcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCJzdXJmYWNlVGVydGlhcnlcIlxuICAgICAgICAgIGJvcmRlclJhZGl1cz1cInNtYWxsXCJcbiAgICAgICAgICBqdXN0aWZ5Q29udGVudD1cImNlbnRlclwiXG4gICAgICAgICAgaGVpZ2h0PVwiMTAwJVwiXG4gICAgICAgICAgVU5TQUZFX2NsYXNzTmFtZT17Y3NzKHsgYXNwZWN0UmF0aW86ICcxIC8gMScgfSl9XG4gICAgICAgID5cbiAgICAgICAgICA8SWNvbiBzcmM9e3Byb3BzLmljb259IHNpemU9XCJtZWRpdW1cIiBjb2xvcj1cIm5ldXRyYWxcIiAvPlxuICAgICAgICA8L0hTdGFjaz5cbiAgICAgIDwvYT5cbiAgICAgIDxWU3RhY2sgZ2FwPVwibWVkaXVtXCIgbWluV2lkdGg9XCJhbGlhcy5zaW5nbGVMaW5lV2lkdGhcIiBmbGV4PlxuICAgICAgICA8VGV4dD5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Nzcyh0cmltU3RhcnRTdHlsZXMpfSB0aXRsZT17cHJvcHMubmFtZX0+XG4gICAgICAgICAgICB7cHJvcHMubmFtZX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvVGV4dD5cbiAgICAgICAgPFRleHQgc2l6ZT1cInNtYWxsXCIgY29sb3I9XCJuZXV0cmFsU2Vjb25kYXJ5XCI+XG4gICAgICAgICAge2Zvcm1hdEJ5dGVzKHByb3BzLnNpemUpfVxuICAgICAgICA8L1RleHQ+XG5cbiAgICAgICAgey8qIGZpZWxkIGNvbnRyb2xzIGRlcGVuZGFudCBvbiB2YWx1ZSB0eXBlICovfVxuICAgICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgICA8L1ZTdGFjaz5cbiAgICA8L0hTdGFjaz5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0Qnl0ZXMoc2l6ZTogbnVtYmVyLCBvcHRpb25zID0gZGVmYXVsdEJ5dGVzT3B0aW9ucyhzaXplKSkge1xuICByZXR1cm4gYnl0ZXMoc2l6ZSwgb3B0aW9ucylcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEJ5dGVzT3B0aW9ucyhzaXplOiBudW1iZXIpOiBCeXRlc09wdGlvbnMge1xuICAvLyBpbmNyZWFzZSBwcmVjaXNpb24gZm9yIGxhcmdlciBmaWxlc1xuICBjb25zdCBHQiA9IDFfMDAwXzAwMF8wMDBcbiAgY29uc3QgTUIgPSAxXzAwMF8wMDBcbiAgY29uc3QgZGVjaW1hbFBsYWNlcyA9IHNpemUgPj0gR0IgPyAyIDogc2l6ZSA+PSBNQiA/IDEgOiAwXG5cbiAgcmV0dXJuIHsgZGVjaW1hbFBsYWNlcyB9XG59XG5cbnR5cGUgRmlsZURhdGEgPSB7XG4gIGljb246IFJlYWN0RWxlbWVudFxuICBuYW1lOiBzdHJpbmdcbiAgc2l6ZTogbnVtYmVyXG4gIGhyZWY6IHN0cmluZ1xufVxuXG5mdW5jdGlvbiB1c2VGaWxlRGF0YSh2YWx1ZTogRmlsZVZhbHVlKTogRmlsZURhdGEgfCBudWxsIHtcbiAgY29uc3QgW29iamVjdFVybCwgc2V0T2JqZWN0VXJsXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHZhbHVlLmtpbmQgPT09ICd1cGxvYWQnKSB7XG4gICAgICBjb25zdCBvYmplY3RVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHZhbHVlLmRhdGEuZmlsZSlcbiAgICAgIHNldE9iamVjdFVybChvYmplY3RVcmwpXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKG9iamVjdFVybClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFt2YWx1ZV0pXG4gIHN3aXRjaCAodmFsdWUua2luZCkge1xuICAgIGNhc2UgJ2Zyb20tc2VydmVyJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGljb246IGdldEZpbGVJY29uKHZhbHVlLmRhdGEuZmlsZW5hbWUpLFxuICAgICAgICBuYW1lOiB2YWx1ZS5kYXRhLmZpbGVuYW1lLFxuICAgICAgICBzaXplOiB2YWx1ZS5kYXRhLmZpbGVzaXplLFxuICAgICAgICBocmVmOiB2YWx1ZS5kYXRhLnNyYyxcbiAgICAgIH1cbiAgICBjYXNlICd1cGxvYWQnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWNvbjogZmlsZVVwSWNvbixcbiAgICAgICAgbmFtZTogdmFsdWUuZGF0YS5maWxlLm5hbWUsXG4gICAgICAgIHNpemU6IHZhbHVlLmRhdGEuZmlsZS5zaXplLFxuICAgICAgICBocmVmOiBvYmplY3RVcmwsXG4gICAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBGSUxFX1RZUEVTID0ge1xuICBhdWRpbzogbmV3IFNldChbJ2FhYycsICdhaWZmJywgJ2FsYWMnLCAnZmxhYycsICdtNGEnLCAnbXAzJywgJ29nZycsICd3YXYnLCAnd21hJ10pLFxuICBiaW5hcnk6IG5ldyBTZXQoWydiaW4nLCAnZGF0JywgJ2V4ZScsICdpc28nLCAncGtnJywgJ3JhcicsICd0YXInLCAnemlwJ10pLFxuICBjb2RlOiBuZXcgU2V0KFsnYycsICdjcHAnLCAnY3MnLCAnY3NzJywgJ2dvJywgJ2h0bWwnLCAnamF2YScsICdqcycsICdqc3gnLCAnbGVzcycsICdwaHAnLCAncHknLCAncmInLCAncnMnLCAnc2NzcycsICd0cycsICd0c3gnLCAneG1sJ10pLFxuICBpbWFnZTogbmV3IFNldChbJ2F2aWYnLCAnYm1wJywgJ2dpZicsICdoZWljJywgJ2ljbycsICdqcGVnJywgJ2pwZycsICdwbmcnLCAnc3ZnJywgJ3RpZmYnLCAnd2VicCddKSxcbiAganNvbjogbmV3IFNldChbJ2dlb2pzb24nLCAnanNvbicsICdqc29uNScsICdqc29ubGQnXSksXG4gIHNwcmVhZHNoZWV0OiBuZXcgU2V0KFsnY3N2JywgJ29kcycsICd0c3YnLCAneGxzJywgJ3hsc3gnXSksXG4gIHRleHQ6IG5ldyBTZXQoWydkb2MnLCAnZG9jeCcsICdlbWwnLCAnbG9nJywgJ21kJywgJ21zZycsICdvZHQnLCAncGRmJywgJ3J0ZicsICd0ZXgnLCAndHh0J10pLFxuICB2aWRlbzogbmV3IFNldChbJ2F2aScsICdmbHYnLCAnbTR2JywgJ21rdicsICdtb3YnLCAnbXA0JywgJ29nZycsICd3ZWJtJywgJ3dtdiddKSxcbn1cblxuZnVuY3Rpb24gZ2V0RmlsZUljb24oZmlsZW5hbWU6IHN0cmluZykge1xuICBjb25zdCBleHRlbnNpb24gPSBnZXRFeHRlbnNpb24oZmlsZW5hbWUpXG5cbiAgaWYgKEZJTEVfVFlQRVMuYXVkaW8uaGFzKGV4dGVuc2lvbikpIHJldHVybiBmaWxlQXVkaW9JY29uXG4gIGlmIChGSUxFX1RZUEVTLmJpbmFyeS5oYXMoZXh0ZW5zaW9uKSkgcmV0dXJuIGZpbGVEaWdpdEljb25cbiAgaWYgKEZJTEVfVFlQRVMuY29kZS5oYXMoZXh0ZW5zaW9uKSkgcmV0dXJuIGZpbGVDb2RlSWNvblxuICBpZiAoRklMRV9UWVBFUy5pbWFnZS5oYXMoZXh0ZW5zaW9uKSkgcmV0dXJuIGZpbGVJbWFnZUljb25cbiAgaWYgKEZJTEVfVFlQRVMuanNvbi5oYXMoZXh0ZW5zaW9uKSkgcmV0dXJuIGZpbGVKc29uSWNvblxuICBpZiAoRklMRV9UWVBFUy5zcHJlYWRzaGVldC5oYXMoZXh0ZW5zaW9uKSkgcmV0dXJuIGZpbGVTcHJlYWRzaGVldEljb25cbiAgaWYgKEZJTEVfVFlQRVMudGV4dC5oYXMoZXh0ZW5zaW9uKSkgcmV0dXJuIGZpbGVUZXh0SWNvblxuICBpZiAoRklMRV9UWVBFUy52aWRlby5oYXMoZXh0ZW5zaW9uKSkgcmV0dXJuIGZpbGVWaWRlb0ljb25cblxuICByZXR1cm4gZmlsZUljb25cbn1cbmZ1bmN0aW9uIGdldEV4dGVuc2lvbihmaWxlbmFtZTogc3RyaW5nKSB7XG4gIC8vIGBleHRuYW1lYCByZXR1cm5zIGUuZy4gXCIubW92XCIsIHJlbW92ZSBsZWFkaW5nIGRvdCB0byBtYXRjaCBcIm1vdlwiXG4gIHJldHVybiBleHRuYW1lKGZpbGVuYW1lKS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VUcmltU3RhcnRTdHlsZXMoKSB7XG4gIGNvbnN0IHsgZGlyZWN0aW9uIH0gPSB1c2VMb2NhbGUoKVxuICByZXR1cm4ge1xuICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uID09PSAncnRsJyA/ICdsdHInIDogJ3J0bCcsXG4gICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgdGV4dEFsaWduOiBkaXJlY3Rpb24gPT09ICdydGwnID8gJ3JpZ2h0JyA6ICdsZWZ0JyxcbiAgICB0ZXh0T3ZlcmZsb3c6ICdlbGxpcHNpcycsXG4gICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gIH0gYXMgY29uc3Rcbn1cblxuZnVuY3Rpb24gY3JlYXRlRXJyb3JNZXNzYWdlKHZhbHVlOiBGaWxlVmFsdWUpIHtcbiAgaWYgKHZhbHVlLmtpbmQgPT09ICd1cGxvYWQnKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRlRmlsZSh2YWx1ZS5kYXRhKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUZpbGUoeyB2YWxpZGl0eSB9OiB7IHZhbGlkaXR5OiBWYWxpZGl0eVN0YXRlIH0pIHtcbiAgaWYgKCF2YWxpZGl0eS52YWxpZCkge1xuICAgIHJldHVybiAnU29tZXRoaW5nIHdlbnQgd3JvbmcsIHBsZWFzZSByZWxvYWQgYW5kIHRyeSBhZ2Fpbi4nXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJ1c2VMb2NhbGUiLCJieXRlcyIsImV4dG5hbWUiLCJGcmFnbWVudCIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkFjdGlvbkJ1dHRvbiIsIkZpZWxkIiwiS2V5c3RhckZpZWxkIiwiSWNvbiIsImZpbGVBdWRpb0ljb24iLCJmaWxlQ29kZUljb24iLCJmaWxlRGlnaXRJY29uIiwiZmlsZUljb24iLCJmaWxlSW1hZ2VJY29uIiwiZmlsZUpzb25JY29uIiwiZmlsZVNwcmVhZHNoZWV0SWNvbiIsImZpbGVUZXh0SWNvbiIsImZpbGVVcEljb24iLCJmaWxlVmlkZW9JY29uIiwiSFN0YWNrIiwiVlN0YWNrIiwiY3NzIiwiVGV4dCIsInByb3BzIiwiYXV0b0ZvY3VzIiwiZmllbGQiLCJvbkNoYW5nZSIsInZhbHVlIiwiaW5wdXRSZWYiLCJlcnJvck1lc3NhZ2UiLCJjcmVhdGVFcnJvck1lc3NhZ2UiLCJvblVwbG9hZENoYW5nZSIsImN1cnJlbnRUYXJnZXQiLCJ2YWxpZGl0eSIsImZpbGVzIiwiZmlsZSIsImtpbmQiLCJkYXRhIiwicHJldmlvdXMiLCJvbkZpbGVUcmlnZ2VyIiwiY3VycmVudCIsImNsaWNrIiwiaW5wdXRLZXkiLCJNYXRoIiwicmFuZG9tIiwibGFiZWwiLCJkZXNjcmlwdGlvbiIsImlucHV0UHJvcHMiLCJGaWxlVmlldyIsImlzSW52YWxpZCIsIkJvb2xlYW4iLCJpbnB1dCIsImF1dG9Db21wbGV0ZSIsImRpc2FibGVkIiwidW5kZWZpbmVkIiwiaGlkZGVuIiwia2V5IiwibmFtZSIsImZpZWxkS2V5IiwicmVmIiwidHlwZSIsImZpbGVEYXRhIiwidXNlRmlsZURhdGEiLCJnYXAiLCJGaWxlRGV0YWlscyIsIm1hcmdpblRvcCIsIm9uUHJlc3MiLCJwcm9taW5lbmNlIiwiaXNEaXNhYmxlZCIsInRyaW1TdGFydFN0eWxlcyIsInVzZVRyaW1TdGFydFN0eWxlcyIsImJhY2tncm91bmRDb2xvciIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsInBhZGRpbmciLCJhIiwiaHJlZiIsImRvd25sb2FkIiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiaGVpZ2h0IiwiVU5TQUZFX2NsYXNzTmFtZSIsImFzcGVjdFJhdGlvIiwic3JjIiwiaWNvbiIsInNpemUiLCJjb2xvciIsIm1pbldpZHRoIiwiZmxleCIsInNwYW4iLCJjbGFzc05hbWUiLCJ0aXRsZSIsImZvcm1hdEJ5dGVzIiwiY2hpbGRyZW4iLCJvcHRpb25zIiwiZGVmYXVsdEJ5dGVzT3B0aW9ucyIsIkdCIiwiTUIiLCJkZWNpbWFsUGxhY2VzIiwib2JqZWN0VXJsIiwic2V0T2JqZWN0VXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiZ2V0RmlsZUljb24iLCJmaWxlbmFtZSIsImZpbGVzaXplIiwiRklMRV9UWVBFUyIsImF1ZGlvIiwiU2V0IiwiYmluYXJ5IiwiY29kZSIsImltYWdlIiwianNvbiIsInNwcmVhZHNoZWV0IiwidGV4dCIsInZpZGVvIiwiZXh0ZW5zaW9uIiwiZ2V0RXh0ZW5zaW9uIiwiaGFzIiwic2xpY2UiLCJ0b0xvd2VyQ2FzZSIsImRpcmVjdGlvbiIsImRpc3BsYXkiLCJvdmVyZmxvdyIsInRleHRBbGlnbiIsInRleHRPdmVyZmxvdyIsIndoaXRlU3BhY2UiLCJ2YWxpZGF0ZUZpbGUiLCJ2YWxpZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/file/views/Field.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/file/views/index.tsx":
/*!***********************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/file/views/index.tsx ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cell: () => (/* binding */ Cell),\n/* harmony export */   Field: () => (/* reexport safe */ _Field__WEBPACK_IMPORTED_MODULE_0__.Field),\n/* harmony export */   controller: () => (/* binding */ controller)\n/* harmony export */ });\n/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Field */ \"../../../../packages/core/src/fields/types/file/views/Field.tsx\");\n\n\nconst Cell = ({ value })=>{\n    if (!value) return null;\n    return value.filename;\n};\nfunction controller(config) {\n    return {\n        fieldKey: config.fieldKey,\n        label: config.label,\n        description: config.description,\n        defaultValue: {\n            kind: 'empty'\n        },\n        deserialize (item) {\n            const value = item[config.fieldKey];\n            if (!value) return {\n                kind: 'empty'\n            };\n            return {\n                kind: 'from-server',\n                data: {\n                    src: value.url,\n                    filename: value.filename,\n                    ref: value.ref,\n                    filesize: value.filesize,\n                    storage: value.storage\n                }\n            };\n        },\n        serialize (value) {\n            if (value.kind === 'upload') {\n                return {\n                    [config.fieldKey]: {\n                        upload: value.data.file\n                    }\n                };\n            }\n            if (value.kind === 'remove') {\n                return {\n                    [config.fieldKey]: null\n                };\n            }\n            return {};\n        },\n        validate (value) {\n            return value.kind !== 'upload' || (0,_Field__WEBPACK_IMPORTED_MODULE_0__.validateFile)(value.data) === undefined;\n        },\n        graphqlSelection: `${config.fieldKey} {\n        url\n        filename\n        filesize\n      }`\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL2ZpbGUvdmlld3MvaW5kZXgudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFc0M7QUFFUDtBQUV4QixNQUFNRSxPQUF5QyxDQUFDLEVBQUVDLEtBQUssRUFBRTtJQUM5RCxJQUFJLENBQUNBLE9BQU8sT0FBTztJQUNuQixPQUFPQSxNQUFNQyxRQUFRO0FBQ3ZCLEVBQUM7QUEwQk0sU0FBU0MsV0FBV0MsTUFBNkI7SUFDdEQsT0FBTztRQUNMQyxVQUFVRCxPQUFPQyxRQUFRO1FBQ3pCQyxPQUFPRixPQUFPRSxLQUFLO1FBQ25CQyxhQUFhSCxPQUFPRyxXQUFXO1FBQy9CQyxjQUFjO1lBQUVDLE1BQU07UUFBUTtRQUM5QkMsYUFBWUMsSUFBSTtZQUNkLE1BQU1WLFFBQVFVLElBQUksQ0FBQ1AsT0FBT0MsUUFBUSxDQUFDO1lBQ25DLElBQUksQ0FBQ0osT0FBTyxPQUFPO2dCQUFFUSxNQUFNO1lBQVE7WUFDbkMsT0FBTztnQkFDTEEsTUFBTTtnQkFDTkcsTUFBTTtvQkFDSkMsS0FBS1osTUFBTWEsR0FBRztvQkFDZFosVUFBVUQsTUFBTUMsUUFBUTtvQkFDeEJhLEtBQUtkLE1BQU1jLEdBQUc7b0JBQ2RDLFVBQVVmLE1BQU1lLFFBQVE7b0JBQ3hCQyxTQUFTaEIsTUFBTWdCLE9BQU87Z0JBQ3hCO1lBQ0Y7UUFDRjtRQUNBQyxXQUFVakIsS0FBSztZQUNiLElBQUlBLE1BQU1RLElBQUksS0FBSyxVQUFVO2dCQUMzQixPQUFPO29CQUFFLENBQUNMLE9BQU9DLFFBQVEsQ0FBQyxFQUFFO3dCQUFFYyxRQUFRbEIsTUFBTVcsSUFBSSxDQUFDUSxJQUFJO29CQUFDO2dCQUFFO1lBQzFEO1lBQ0EsSUFBSW5CLE1BQU1RLElBQUksS0FBSyxVQUFVO2dCQUMzQixPQUFPO29CQUFFLENBQUNMLE9BQU9DLFFBQVEsQ0FBQyxFQUFFO2dCQUFLO1lBQ25DO1lBQ0EsT0FBTyxDQUFDO1FBQ1Y7UUFDQWdCLFVBQVNwQixLQUFLO1lBQ1osT0FBT0EsTUFBTVEsSUFBSSxLQUFLLFlBQVlYLG9EQUFZQSxDQUFDRyxNQUFNVyxJQUFJLE1BQU1VO1FBQ2pFO1FBQ0FDLGtCQUFrQixHQUFHbkIsT0FBT0MsUUFBUSxDQUFDOzs7O09BSWxDLENBQUM7SUFDTjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2NvcmUvc3JjL2ZpZWxkcy90eXBlcy9maWxlL3ZpZXdzL2luZGV4LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IENlbGxDb21wb25lbnQsIEZpZWxkQ29udHJvbGxlciwgRmllbGRDb250cm9sbGVyQ29uZmlnIH0gZnJvbSAnLi4vLi4vLi4vLi4vdHlwZXMnXG5cbmltcG9ydCB7IHZhbGlkYXRlRmlsZSB9IGZyb20gJy4vRmllbGQnXG5cbmV4cG9ydCB7IEZpZWxkIH0gZnJvbSAnLi9GaWVsZCdcblxuZXhwb3J0IGNvbnN0IENlbGw6IENlbGxDb21wb25lbnQ8dHlwZW9mIGNvbnRyb2xsZXI+ID0gKHsgdmFsdWUgfSkgPT4ge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gbnVsbFxuICByZXR1cm4gdmFsdWUuZmlsZW5hbWVcbn1cblxudHlwZSBGaWxlRGF0YSA9IHtcbiAgc3JjOiBzdHJpbmdcbiAgZmlsZXNpemU6IG51bWJlclxuICBmaWxlbmFtZTogc3RyaW5nXG59XG5cbmV4cG9ydCB0eXBlIEZpbGVWYWx1ZSA9XG4gIHwgeyBraW5kOiAnZW1wdHknIH1cbiAgfCB7XG4gICAgICBraW5kOiAnZnJvbS1zZXJ2ZXInXG4gICAgICBkYXRhOiBGaWxlRGF0YVxuICAgIH1cbiAgfCB7XG4gICAgICBraW5kOiAndXBsb2FkJ1xuICAgICAgZGF0YToge1xuICAgICAgICBmaWxlOiBGaWxlXG4gICAgICAgIHZhbGlkaXR5OiBWYWxpZGl0eVN0YXRlXG4gICAgICB9XG4gICAgICBwcmV2aW91czogRmlsZVZhbHVlXG4gICAgfVxuICB8IHsga2luZDogJ3JlbW92ZSc7IHByZXZpb3VzPzogRXhjbHVkZTxGaWxlVmFsdWUsIHsga2luZDogJ3JlbW92ZScgfT4gfVxuXG50eXBlIEZpbGVDb250cm9sbGVyID0gRmllbGRDb250cm9sbGVyPEZpbGVWYWx1ZT5cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRyb2xsZXIoY29uZmlnOiBGaWVsZENvbnRyb2xsZXJDb25maWcpOiBGaWxlQ29udHJvbGxlciB7XG4gIHJldHVybiB7XG4gICAgZmllbGRLZXk6IGNvbmZpZy5maWVsZEtleSxcbiAgICBsYWJlbDogY29uZmlnLmxhYmVsLFxuICAgIGRlc2NyaXB0aW9uOiBjb25maWcuZGVzY3JpcHRpb24sXG4gICAgZGVmYXVsdFZhbHVlOiB7IGtpbmQ6ICdlbXB0eScgfSxcbiAgICBkZXNlcmlhbGl6ZShpdGVtKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGl0ZW1bY29uZmlnLmZpZWxkS2V5XVxuICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHsga2luZDogJ2VtcHR5JyB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiAnZnJvbS1zZXJ2ZXInLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc3JjOiB2YWx1ZS51cmwsXG4gICAgICAgICAgZmlsZW5hbWU6IHZhbHVlLmZpbGVuYW1lLFxuICAgICAgICAgIHJlZjogdmFsdWUucmVmLFxuICAgICAgICAgIGZpbGVzaXplOiB2YWx1ZS5maWxlc2l6ZSxcbiAgICAgICAgICBzdG9yYWdlOiB2YWx1ZS5zdG9yYWdlLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgIH0sXG4gICAgc2VyaWFsaXplKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUua2luZCA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgcmV0dXJuIHsgW2NvbmZpZy5maWVsZEtleV06IHsgdXBsb2FkOiB2YWx1ZS5kYXRhLmZpbGUgfSB9XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUua2luZCA9PT0gJ3JlbW92ZScpIHtcbiAgICAgICAgcmV0dXJuIHsgW2NvbmZpZy5maWVsZEtleV06IG51bGwgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHt9XG4gICAgfSxcbiAgICB2YWxpZGF0ZSh2YWx1ZSk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHZhbHVlLmtpbmQgIT09ICd1cGxvYWQnIHx8IHZhbGlkYXRlRmlsZSh2YWx1ZS5kYXRhKSA9PT0gdW5kZWZpbmVkXG4gICAgfSxcbiAgICBncmFwaHFsU2VsZWN0aW9uOiBgJHtjb25maWcuZmllbGRLZXl9IHtcbiAgICAgICAgdXJsXG4gICAgICAgIGZpbGVuYW1lXG4gICAgICAgIGZpbGVzaXplXG4gICAgICB9YCxcbiAgfVxufVxuIl0sIm5hbWVzIjpbInZhbGlkYXRlRmlsZSIsIkZpZWxkIiwiQ2VsbCIsInZhbHVlIiwiZmlsZW5hbWUiLCJjb250cm9sbGVyIiwiY29uZmlnIiwiZmllbGRLZXkiLCJsYWJlbCIsImRlc2NyaXB0aW9uIiwiZGVmYXVsdFZhbHVlIiwia2luZCIsImRlc2VyaWFsaXplIiwiaXRlbSIsImRhdGEiLCJzcmMiLCJ1cmwiLCJyZWYiLCJmaWxlc2l6ZSIsInN0b3JhZ2UiLCJzZXJpYWxpemUiLCJ1cGxvYWQiLCJmaWxlIiwidmFsaWRhdGUiLCJ1bmRlZmluZWQiLCJncmFwaHFsU2VsZWN0aW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/file/views/index.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/image/utils.ts":
/*!*****************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/image/utils.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SUPPORTED_IMAGE_EXTENSIONS: () => (/* binding */ SUPPORTED_IMAGE_EXTENSIONS)\n/* harmony export */ });\nconst SUPPORTED_IMAGE_EXTENSIONS = [\n    'jpg',\n    'png',\n    'webp',\n    'gif'\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL2ltYWdlL3V0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyxNQUFNQSw2QkFBNkI7SUFBQztJQUFPO0lBQU87SUFBUTtDQUFNLENBQVMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL2ltYWdlL3V0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBTVVBQT1JURURfSU1BR0VfRVhURU5TSU9OUyA9IFsnanBnJywgJ3BuZycsICd3ZWJwJywgJ2dpZiddIGFzIGNvbnN0XG4iXSwibmFtZXMiOlsiU1VQUE9SVEVEX0lNQUdFX0VYVEVOU0lPTlMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/image/utils.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/image/views/Field.tsx":
/*!************************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/image/views/Field.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Field: () => (/* binding */ Field)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_field__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-field.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! . */ \"../../../../packages/core/src/fields/types/image/views/index.tsx\");\n/* harmony import */ var _file_views_Field__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../file/views/Field */ \"../../../../packages/core/src/fields/types/file/views/Field.tsx\");\n\n\n\n\n\n\n\n\n\n\nfunction Field(props) {\n    const { autoFocus, field, onChange, value } = props;\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const errorMessage = (0,___WEBPACK_IMPORTED_MODULE_7__.validateImage)(field.extensions, value);\n    const onUploadChange = ({ currentTarget: { validity, files } })=>{\n        const file = files?.[0];\n        if (!file) return; // bail if the user cancels from the file browser\n        onChange?.({\n            kind: 'upload',\n            data: {\n                file,\n                validity\n            },\n            previous: value\n        });\n    };\n    const onFileTrigger = ()=>{\n        inputRef.current?.click();\n    };\n    // Generate a random input key when the value changes, to ensure the file input is unmounted and\n    // remounted (this is the only way to reset its value and ensure onChange will fire again if\n    // the user selects the same file again)\n    const inputKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"Field.useMemo[inputKey]\": ()=>Math.random()\n    }[\"Field.useMemo[inputKey]\"], [\n        value\n    ]);\n    const accept = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"Field.useMemo[accept]\": ()=>field.extensions.map({\n                \"Field.useMemo[accept]\": (ext)=>[\n                        `.${ext}`,\n                        `image/${ext}`\n                    ].join(', ')\n            }[\"Field.useMemo[accept]\"]).join(', ')\n    }[\"Field.useMemo[accept]\"], []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_field__WEBPACK_IMPORTED_MODULE_3__.Field, {\n        label: field.label,\n        description: field.description,\n        errorMessage: errorMessage,\n        children: (inputProps)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ImageView, {\n                        isInvalid: Boolean(errorMessage),\n                        onFileTrigger: onFileTrigger,\n                        onChange: onChange,\n                        value: value\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                        lineNumber: 56,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(\"input\", {\n                        ...inputProps,\n                        accept: accept,\n                        autoComplete: \"off\",\n                        autoFocus: autoFocus,\n                        disabled: onChange === undefined,\n                        hidden: true,\n                        key: inputKey,\n                        name: field.fieldKey,\n                        onChange: onUploadChange,\n                        ref: inputRef,\n                        type: \"file\",\n                        __source: {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                            lineNumber: 62,\n                            columnNumber: 11\n                        },\n                        __self: this\n                    })\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                lineNumber: 55,\n                columnNumber: 9\n            }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n        lineNumber: 53,\n        columnNumber: 5\n    }, this);\n}\nfunction ImageView(props) {\n    const { isInvalid, onFileTrigger, onChange, value } = props;\n    const imageData = useImageData(value);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_4__.VStack, {\n        gap: \"regular\",\n        children: [\n            isInvalid || !imageData ? null : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ImageDetails, {\n                ...imageData,\n                children: onChange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_4__.HStack, {\n                    gap: \"regular\",\n                    alignItems: \"center\",\n                    marginTop: \"auto\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.ActionButton, {\n                            onPress: onFileTrigger,\n                            children: \"Change\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                            lineNumber: 96,\n                            columnNumber: 15\n                        }, this),\n                        value.kind === 'from-server' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.ActionButton, {\n                            prominence: \"low\",\n                            onPress: ()=>{\n                                onChange({\n                                    kind: 'remove',\n                                    previous: value\n                                });\n                            },\n                            children: \"Remove\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                            lineNumber: 98,\n                            columnNumber: 17\n                        }, this),\n                        value.kind === 'upload' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.ActionButton, {\n                            prominence: \"low\",\n                            onPress: ()=>{\n                                onChange(value.previous);\n                            },\n                            children: \"Cancel\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                            lineNumber: 108,\n                            columnNumber: 17\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                    lineNumber: 95,\n                    columnNumber: 13\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                lineNumber: 93,\n                columnNumber: 9\n            }, this),\n            !imageData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_4__.HStack, {\n                gap: \"regular\",\n                alignItems: \"center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.ActionButton, {\n                        isDisabled: onChange === undefined,\n                        onPress: onFileTrigger,\n                        children: \"Upload\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                        lineNumber: 124,\n                        columnNumber: 11\n                    }, this),\n                    value.kind === 'remove' && value.previous && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.ActionButton, {\n                        prominence: \"low\",\n                        onPress: ()=>{\n                            if (value.previous !== undefined) {\n                                onChange?.(value?.previous);\n                            }\n                        },\n                        children: \"Undo removal\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                        lineNumber: 128,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                lineNumber: 123,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n        lineNumber: 91,\n        columnNumber: 5\n    }, this);\n}\nfunction useObjectURL(fileData) {\n    const [objectURL, setObjectURL] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(undefined);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"useObjectURL.useEffect\": ()=>{\n            if (!fileData) return;\n            const url = URL.createObjectURL(fileData);\n            setObjectURL(url);\n            return ({\n                \"useObjectURL.useEffect\": ()=>URL.revokeObjectURL(url)\n            })[\"useObjectURL.useEffect\"];\n        }\n    }[\"useObjectURL.useEffect\"], [\n        fileData\n    ]);\n    return objectURL;\n}\n// ==============================\n// Styled Components\n// ==============================\nconst SMALL_CONTAINER_MAX = `@container (max-width: 419px)`;\nconst SMALL_CONTAINER_MIN = `@container (min-width: 420px)`;\nfunction ImageDetails(props) {\n    const trimStartStyles = (0,_file_views_Field__WEBPACK_IMPORTED_MODULE_8__.useTrimStartStyles)();\n    // hide content until the uploaded image until it's available; use dimensions\n    // as an indicator since they're set on load.\n    const loadedStyles = {\n        opacity: props.height && props.width ? 1 : 0,\n        transition: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__.transition)('opacity')\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__.css)({\n            backgroundColor: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__.tokenSchema.color.background.canvas,\n            border: `1px solid ${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__.tokenSchema.color.border.neutral}`,\n            borderRadius: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__.tokenSchema.size.radius.regular,\n            minHeight: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__.tokenSchema.size.scale['1600'],\n            contain: 'paint',\n            display: 'flex',\n            [SMALL_CONTAINER_MAX]: {\n                flexDirection: 'column'\n            }\n        }),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                onLoad: props.onLoad,\n                className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__.css)({\n                    maxHeight: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__.tokenSchema.size.scale[6000],\n                    maxWidth: '100%',\n                    minWidth: 0,\n                    objectFit: 'cover',\n                    [SMALL_CONTAINER_MIN]: {\n                        height: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__.tokenSchema.size.scale['1600']\n                    }\n                }),\n                style: loadedStyles,\n                alt: \"preview of the upload\",\n                src: props.url\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                lineNumber: 188,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_4__.VStack, {\n                gap: \"medium\",\n                padding: \"large\",\n                flex: true,\n                UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__.css)({\n                    // ensure the metadata doesn't shrink too much, 40% allows more\n                    // breathing room where available with a hard limit pixel value\n                    minWidth: `max(${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__.tokenSchema.size.alias.singleLineWidth}, 40%)`\n                }),\n                UNSAFE_style: loadedStyles,\n                children: [\n                    props.name ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_6__.Text, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_5__.css)(trimStartStyles),\n                            title: props.name,\n                            children: props.name\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                            lineNumber: 217,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                        lineNumber: 216,\n                        columnNumber: 11\n                    }, this) : null,\n                    props.filesize ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_6__.Text, {\n                        size: \"small\",\n                        color: \"neutralSecondary\",\n                        overflow: \"unset\",\n                        children: [\n                            (0,_file_views_Field__WEBPACK_IMPORTED_MODULE_8__.formatBytes)(props.filesize),\n                            \" \\xb7 \",\n                            props.width,\n                            \"\\xd7\",\n                            props.height\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                        lineNumber: 223,\n                        columnNumber: 11\n                    }, this) : null,\n                    props.children\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n                lineNumber: 204,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/Field.tsx\",\n        lineNumber: 174,\n        columnNumber: 5\n    }, this);\n}\nfunction useImageData(value) {\n    // only relevant for uploaded images, but we must observe the rules of hooks\n    // so these can't be called conditionally.\n    const imagePathFromUpload = useObjectURL(value.kind === 'upload' ? value.data.file : undefined);\n    const [dimensions, setDimensions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        height: 0,\n        width: 0\n    });\n    const onLoad = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"useImageData.useCallback[onLoad]\": (event)=>{\n            if (value.kind === 'upload') {\n                setDimensions({\n                    height: event.currentTarget.naturalHeight,\n                    width: event.currentTarget.naturalWidth\n                });\n            }\n        }\n    }[\"useImageData.useCallback[onLoad]\"], [\n        value.kind\n    ]);\n    // reset dimensions when the user cancels the upload. we use the dimensions as\n    // a signal that the image has loaded.\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"useImageData.useEffect\": ()=>{\n            if (value.kind !== 'upload') {\n                setDimensions({\n                    height: 0,\n                    width: 0\n                });\n            }\n        }\n    }[\"useImageData.useEffect\"], [\n        value.kind\n    ]);\n    switch(value.kind){\n        case 'from-server':\n            return {\n                url: value.data.url,\n                name: `${value.data.id}.${value.data.extension}`,\n                filesize: value.data.filesize,\n                width: value.data.width,\n                height: value.data.height,\n                onLoad\n            };\n        case 'upload':\n            return {\n                // always string for simpler types, should be unreachable if the file selection fails validation.\n                url: imagePathFromUpload || '',\n                name: value.data.file.name,\n                filesize: value.data.file.size,\n                width: dimensions.width,\n                height: dimensions.height,\n                onLoad\n            };\n    }\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL2ltYWdlL3ZpZXdzL0ZpZWxkLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQVNjO0FBRW1DO0FBQ1E7QUFDTjtBQUNhO0FBQ25CO0FBRUs7QUFFc0I7QUFHakUsU0FBU08sTUFBTVcsS0FBb0M7SUFDeEQsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQUUsR0FBR0o7SUFDOUMsTUFBTUssV0FBV25CLDZDQUFNQSxDQUEwQjtJQUNqRCxNQUFNb0IsZUFBZVQsZ0RBQWFBLENBQUNLLE1BQU1LLFVBQVUsRUFBRUg7SUFFckQsTUFBTUksaUJBQWlCLENBQUMsRUFDdEJDLGVBQWUsRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQUUsRUFDRDtRQUNqQyxNQUFNQyxPQUFPRCxPQUFPLENBQUMsRUFBRTtRQUN2QixJQUFJLENBQUNDLE1BQU0sUUFBTyxpREFBaUQ7UUFDbkVULFdBQVc7WUFDVFUsTUFBTTtZQUNOQyxNQUFNO2dCQUFFRjtnQkFBTUY7WUFBUztZQUN2QkssVUFBVVg7UUFDWjtJQUNGO0lBQ0EsTUFBTVksZ0JBQWdCO1FBQ3BCWCxTQUFTWSxPQUFPLEVBQUVDO0lBQ3BCO0lBRUEsZ0dBQWdHO0lBQ2hHLDRGQUE0RjtJQUM1Rix3Q0FBd0M7SUFDeEMsTUFBTUMsV0FBV2xDLDhDQUFPQTttQ0FBQyxJQUFNbUMsS0FBS0MsTUFBTTtrQ0FBSTtRQUFDakI7S0FBTTtJQUNyRCxNQUFNa0IsU0FBU3JDLDhDQUFPQTtpQ0FDcEIsSUFBTWlCLE1BQU1LLFVBQVUsQ0FBQ2dCLEdBQUc7eUNBQUNDLENBQUFBLE1BQU87d0JBQUMsQ0FBQyxDQUFDLEVBQUVBLEtBQUs7d0JBQUUsQ0FBQyxNQUFNLEVBQUVBLEtBQUs7cUJBQUMsQ0FBQ0MsSUFBSSxDQUFDO3dDQUFPQSxJQUFJLENBQUM7Z0NBQy9FLEVBQUU7SUFHSixxQkFDRSw4REFBQ25D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QkFBRXpDLFFBQVE7b0JBQUdDLE9BQU87Z0JBQUU7WUFDdEM7UUFDRjtpQ0FBRztRQUFDN0QsTUFBTVMsSUFBSTtLQUFDO0lBRWYsT0FBUVQsTUFBTVMsSUFBSTtRQUNoQixLQUFLO1lBQ0gsT0FBTztnQkFDTDBDLEtBQUtuRCxNQUFNVSxJQUFJLENBQUN5QyxHQUFHO2dCQUNuQmpCLE1BQU0sR0FBR2xDLE1BQU1VLElBQUksQ0FBQytGLEVBQUUsQ0FBQyxDQUFDLEVBQUV6RyxNQUFNVSxJQUFJLENBQUNnRyxTQUFTLEVBQUU7Z0JBQ2hEVixVQUFVaEcsTUFBTVUsSUFBSSxDQUFDc0YsUUFBUTtnQkFDN0JuQyxPQUFPN0QsTUFBTVUsSUFBSSxDQUFDbUQsS0FBSztnQkFDdkJELFFBQVE1RCxNQUFNVSxJQUFJLENBQUNrRCxNQUFNO2dCQUN6Qm9CO1lBQ0Y7UUFFRixLQUFLO1lBQ0gsT0FBTztnQkFDTCxpR0FBaUc7Z0JBQ2pHN0IsS0FBS2dELHVCQUF1QjtnQkFDNUJqRSxNQUFNbEMsTUFBTVUsSUFBSSxDQUFDRixJQUFJLENBQUMwQixJQUFJO2dCQUMxQjhELFVBQVVoRyxNQUFNVSxJQUFJLENBQUNGLElBQUksQ0FBQytELElBQUk7Z0JBQzlCVixPQUFPdUMsV0FBV3ZDLEtBQUs7Z0JBQ3ZCRCxRQUFRd0MsV0FBV3hDLE1BQU07Z0JBQ3pCb0I7WUFDRjtJQUNKO0lBRUEsT0FBTztBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2NvcmUvc3JjL2ZpZWxkcy90eXBlcy9pbWFnZS92aWV3cy9GaWVsZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdHlwZSBQcm9wc1dpdGhDaGlsZHJlbixcbiAgdHlwZSBTeW50aGV0aWNFdmVudCxcbiAgRnJhZ21lbnQsXG4gIHVzZUNhbGxiYWNrLFxuICB1c2VFZmZlY3QsXG4gIHVzZU1lbW8sXG4gIHVzZVJlZixcbiAgdXNlU3RhdGUsXG59IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyBBY3Rpb25CdXR0b24gfSBmcm9tICdAa2V5c3Rhci91aS9idXR0b24nXG5pbXBvcnQgeyBGaWVsZCBhcyBLZXlzdGFyRmllbGQgfSBmcm9tICdAa2V5c3Rhci91aS9maWVsZCdcbmltcG9ydCB7IEhTdGFjaywgVlN0YWNrIH0gZnJvbSAnQGtleXN0YXIvdWkvbGF5b3V0J1xuaW1wb3J0IHsgY3NzLCB0b2tlblNjaGVtYSwgdHJhbnNpdGlvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL3N0eWxlJ1xuaW1wb3J0IHsgVGV4dCB9IGZyb20gJ0BrZXlzdGFyL3VpL3R5cG9ncmFwaHknXG5cbmltcG9ydCB7IHR5cGUgY29udHJvbGxlciwgdmFsaWRhdGVJbWFnZSB9IGZyb20gJy4nXG5pbXBvcnQgdHlwZSB7IEZpZWxkUHJvcHMgfSBmcm9tICcuLi8uLi8uLi8uLi90eXBlcydcbmltcG9ydCB7IGZvcm1hdEJ5dGVzLCB1c2VUcmltU3RhcnRTdHlsZXMgfSBmcm9tICcuLi8uLi9maWxlL3ZpZXdzL0ZpZWxkJ1xuaW1wb3J0IHR5cGUgeyBJbWFnZVZhbHVlIH0gZnJvbSAnLi9pbmRleCdcblxuZXhwb3J0IGZ1bmN0aW9uIEZpZWxkKHByb3BzOiBGaWVsZFByb3BzPHR5cGVvZiBjb250cm9sbGVyPikge1xuICBjb25zdCB7IGF1dG9Gb2N1cywgZmllbGQsIG9uQ2hhbmdlLCB2YWx1ZSB9ID0gcHJvcHNcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudCB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGVycm9yTWVzc2FnZSA9IHZhbGlkYXRlSW1hZ2UoZmllbGQuZXh0ZW5zaW9ucywgdmFsdWUpXG5cbiAgY29uc3Qgb25VcGxvYWRDaGFuZ2UgPSAoe1xuICAgIGN1cnJlbnRUYXJnZXQ6IHsgdmFsaWRpdHksIGZpbGVzIH0sXG4gIH06IFN5bnRoZXRpY0V2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGZpbGVzPy5bMF1cbiAgICBpZiAoIWZpbGUpIHJldHVybiAvLyBiYWlsIGlmIHRoZSB1c2VyIGNhbmNlbHMgZnJvbSB0aGUgZmlsZSBicm93c2VyXG4gICAgb25DaGFuZ2U/Lih7XG4gICAgICBraW5kOiAndXBsb2FkJyxcbiAgICAgIGRhdGE6IHsgZmlsZSwgdmFsaWRpdHkgfSxcbiAgICAgIHByZXZpb3VzOiB2YWx1ZSxcbiAgICB9KVxuICB9XG4gIGNvbnN0IG9uRmlsZVRyaWdnZXIgPSAoKSA9PiB7XG4gICAgaW5wdXRSZWYuY3VycmVudD8uY2xpY2soKVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgYSByYW5kb20gaW5wdXQga2V5IHdoZW4gdGhlIHZhbHVlIGNoYW5nZXMsIHRvIGVuc3VyZSB0aGUgZmlsZSBpbnB1dCBpcyB1bm1vdW50ZWQgYW5kXG4gIC8vIHJlbW91bnRlZCAodGhpcyBpcyB0aGUgb25seSB3YXkgdG8gcmVzZXQgaXRzIHZhbHVlIGFuZCBlbnN1cmUgb25DaGFuZ2Ugd2lsbCBmaXJlIGFnYWluIGlmXG4gIC8vIHRoZSB1c2VyIHNlbGVjdHMgdGhlIHNhbWUgZmlsZSBhZ2FpbilcbiAgY29uc3QgaW5wdXRLZXkgPSB1c2VNZW1vKCgpID0+IE1hdGgucmFuZG9tKCksIFt2YWx1ZV0pXG4gIGNvbnN0IGFjY2VwdCA9IHVzZU1lbW8oXG4gICAgKCkgPT4gZmllbGQuZXh0ZW5zaW9ucy5tYXAoZXh0ID0+IFtgLiR7ZXh0fWAsIGBpbWFnZS8ke2V4dH1gXS5qb2luKCcsICcpKS5qb2luKCcsICcpLFxuICAgIFtdXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxLZXlzdGFyRmllbGQgbGFiZWw9e2ZpZWxkLmxhYmVsfSBkZXNjcmlwdGlvbj17ZmllbGQuZGVzY3JpcHRpb259IGVycm9yTWVzc2FnZT17ZXJyb3JNZXNzYWdlfT5cbiAgICAgIHtpbnB1dFByb3BzID0+IChcbiAgICAgICAgPEZyYWdtZW50PlxuICAgICAgICAgIDxJbWFnZVZpZXdcbiAgICAgICAgICAgIGlzSW52YWxpZD17Qm9vbGVhbihlcnJvck1lc3NhZ2UpfVxuICAgICAgICAgICAgb25GaWxlVHJpZ2dlcj17b25GaWxlVHJpZ2dlcn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgey4uLmlucHV0UHJvcHN9XG4gICAgICAgICAgICBhY2NlcHQ9e2FjY2VwdH1cbiAgICAgICAgICAgIGF1dG9Db21wbGV0ZT1cIm9mZlwiXG4gICAgICAgICAgICBhdXRvRm9jdXM9e2F1dG9Gb2N1c31cbiAgICAgICAgICAgIGRpc2FibGVkPXtvbkNoYW5nZSA9PT0gdW5kZWZpbmVkfVxuICAgICAgICAgICAgaGlkZGVuXG4gICAgICAgICAgICBrZXk9e2lucHV0S2V5fVxuICAgICAgICAgICAgbmFtZT17ZmllbGQuZmllbGRLZXl9XG4gICAgICAgICAgICBvbkNoYW5nZT17b25VcGxvYWRDaGFuZ2V9XG4gICAgICAgICAgICByZWY9e2lucHV0UmVmfVxuICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRnJhZ21lbnQ+XG4gICAgICApfVxuICAgIDwvS2V5c3RhckZpZWxkPlxuICApXG59XG5cbmZ1bmN0aW9uIEltYWdlVmlldyhwcm9wczoge1xuICBvbkZpbGVUcmlnZ2VyOiAoKSA9PiB2b2lkXG4gIGlzSW52YWxpZD86IGJvb2xlYW5cbiAgb25DaGFuZ2U/OiAodmFsdWU6IEltYWdlVmFsdWUpID0+IHZvaWRcbiAgdmFsdWU6IEltYWdlVmFsdWVcbn0pIHtcbiAgY29uc3QgeyBpc0ludmFsaWQsIG9uRmlsZVRyaWdnZXIsIG9uQ2hhbmdlLCB2YWx1ZSB9ID0gcHJvcHNcbiAgY29uc3QgaW1hZ2VEYXRhID0gdXNlSW1hZ2VEYXRhKHZhbHVlKVxuXG4gIHJldHVybiAoXG4gICAgPFZTdGFjayBnYXA9XCJyZWd1bGFyXCI+XG4gICAgICB7aXNJbnZhbGlkIHx8ICFpbWFnZURhdGEgPyBudWxsIDogKFxuICAgICAgICA8SW1hZ2VEZXRhaWxzIHsuLi5pbWFnZURhdGF9PlxuICAgICAgICAgIHtvbkNoYW5nZSAmJiAoXG4gICAgICAgICAgICA8SFN0YWNrIGdhcD1cInJlZ3VsYXJcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgbWFyZ2luVG9wPVwiYXV0b1wiPlxuICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uIG9uUHJlc3M9e29uRmlsZVRyaWdnZXJ9PkNoYW5nZTwvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgICAgICB7dmFsdWUua2luZCA9PT0gJ2Zyb20tc2VydmVyJyAmJiAoXG4gICAgICAgICAgICAgICAgPEFjdGlvbkJ1dHRvblxuICAgICAgICAgICAgICAgICAgcHJvbWluZW5jZT1cImxvd1wiXG4gICAgICAgICAgICAgICAgICBvblByZXNzPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHsga2luZDogJ3JlbW92ZScsIHByZXZpb3VzOiB2YWx1ZSB9KVxuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBSZW1vdmVcbiAgICAgICAgICAgICAgICA8L0FjdGlvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge3ZhbHVlLmtpbmQgPT09ICd1cGxvYWQnICYmIChcbiAgICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uXG4gICAgICAgICAgICAgICAgICBwcm9taW5lbmNlPVwibG93XCJcbiAgICAgICAgICAgICAgICAgIG9uUHJlc3M9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UodmFsdWUucHJldmlvdXMpXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgIDwvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9IU3RhY2s+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9JbWFnZURldGFpbHM+XG4gICAgICApfVxuXG4gICAgICB7IWltYWdlRGF0YSAmJiAoXG4gICAgICAgIDxIU3RhY2sgZ2FwPVwicmVndWxhclwiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cbiAgICAgICAgICA8QWN0aW9uQnV0dG9uIGlzRGlzYWJsZWQ9e29uQ2hhbmdlID09PSB1bmRlZmluZWR9IG9uUHJlc3M9e29uRmlsZVRyaWdnZXJ9PlxuICAgICAgICAgICAgVXBsb2FkXG4gICAgICAgICAgPC9BY3Rpb25CdXR0b24+XG4gICAgICAgICAge3ZhbHVlLmtpbmQgPT09ICdyZW1vdmUnICYmIHZhbHVlLnByZXZpb3VzICYmIChcbiAgICAgICAgICAgIDxBY3Rpb25CdXR0b25cbiAgICAgICAgICAgICAgcHJvbWluZW5jZT1cImxvd1wiXG4gICAgICAgICAgICAgIG9uUHJlc3M9eygpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUucHJldmlvdXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U/Lih2YWx1ZT8ucHJldmlvdXMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBVbmRvIHJlbW92YWxcbiAgICAgICAgICAgIDwvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvSFN0YWNrPlxuICAgICAgKX1cbiAgICA8L1ZTdGFjaz5cbiAgKVxufVxuXG5mdW5jdGlvbiB1c2VPYmplY3RVUkwoZmlsZURhdGE6IEZpbGUgfCB1bmRlZmluZWQpIHtcbiAgY29uc3QgW29iamVjdFVSTCwgc2V0T2JqZWN0VVJMXSA9IHVzZVN0YXRlPHN0cmluZyB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZmlsZURhdGEpIHJldHVyblxuICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZURhdGEpXG4gICAgc2V0T2JqZWN0VVJMKHVybClcbiAgICByZXR1cm4gKCkgPT4gVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpXG4gIH0sIFtmaWxlRGF0YV0pXG4gIHJldHVybiBvYmplY3RVUkxcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTdHlsZWQgQ29tcG9uZW50c1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IFNNQUxMX0NPTlRBSU5FUl9NQVggPSBgQGNvbnRhaW5lciAobWF4LXdpZHRoOiA0MTlweClgXG5jb25zdCBTTUFMTF9DT05UQUlORVJfTUlOID0gYEBjb250YWluZXIgKG1pbi13aWR0aDogNDIwcHgpYFxuXG5mdW5jdGlvbiBJbWFnZURldGFpbHMocHJvcHM6IFByb3BzV2l0aENoaWxkcmVuPEltYWdlRGF0YT4pIHtcbiAgY29uc3QgdHJpbVN0YXJ0U3R5bGVzID0gdXNlVHJpbVN0YXJ0U3R5bGVzKClcblxuICAvLyBoaWRlIGNvbnRlbnQgdW50aWwgdGhlIHVwbG9hZGVkIGltYWdlIHVudGlsIGl0J3MgYXZhaWxhYmxlOyB1c2UgZGltZW5zaW9uc1xuICAvLyBhcyBhbiBpbmRpY2F0b3Igc2luY2UgdGhleSdyZSBzZXQgb24gbG9hZC5cbiAgY29uc3QgbG9hZGVkU3R5bGVzID0ge1xuICAgIG9wYWNpdHk6IHByb3BzLmhlaWdodCAmJiBwcm9wcy53aWR0aCA/IDEgOiAwLFxuICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb24oJ29wYWNpdHknKSxcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtjc3Moe1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRva2VuU2NoZW1hLmNvbG9yLmJhY2tncm91bmQuY2FudmFzLFxuICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHt0b2tlblNjaGVtYS5jb2xvci5ib3JkZXIubmV1dHJhbH1gLFxuICAgICAgICBib3JkZXJSYWRpdXM6IHRva2VuU2NoZW1hLnNpemUucmFkaXVzLnJlZ3VsYXIsXG4gICAgICAgIG1pbkhlaWdodDogdG9rZW5TY2hlbWEuc2l6ZS5zY2FsZVsnMTYwMCddLFxuICAgICAgICBjb250YWluOiAncGFpbnQnLCAvLyBjcm9wIGltZyB0byBib3JkZXIgcmFkaXVzXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcblxuICAgICAgICBbU01BTExfQ09OVEFJTkVSX01BWF06IHtcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pfVxuICAgID5cbiAgICAgIDxpbWdcbiAgICAgICAgb25Mb2FkPXtwcm9wcy5vbkxvYWR9XG4gICAgICAgIGNsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgICBtYXhIZWlnaHQ6IHRva2VuU2NoZW1hLnNpemUuc2NhbGVbNjAwMF0sIC8vIGNvbnN0cmFpbiB0YWxsL25hcnJvdyBpbWFnZXNcbiAgICAgICAgICBtYXhXaWR0aDogJzEwMCUnLCAvLyBjb25zdHJhaW4gdG8gY29udGFpbmVyIHdpZHRoXG4gICAgICAgICAgbWluV2lkdGg6IDAsIC8vIGFsbG93IHRoZSBpbWFnZSB0byBzaHJpbmsgcHJvcGVybHlcbiAgICAgICAgICBvYmplY3RGaXQ6ICdjb3ZlcicsIC8vIGZpbGwgYXZhaWxhYmxlIHNwYWNlIHcvbyBkaXN0b3J0aW5nXG5cbiAgICAgICAgICBbU01BTExfQ09OVEFJTkVSX01JTl06IHtcbiAgICAgICAgICAgIGhlaWdodDogdG9rZW5TY2hlbWEuc2l6ZS5zY2FsZVsnMTYwMCddLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pfVxuICAgICAgICBzdHlsZT17bG9hZGVkU3R5bGVzfVxuICAgICAgICBhbHQ9XCJwcmV2aWV3IG9mIHRoZSB1cGxvYWRcIlxuICAgICAgICBzcmM9e3Byb3BzLnVybH1cbiAgICAgIC8+XG4gICAgICA8VlN0YWNrXG4gICAgICAgIGdhcD1cIm1lZGl1bVwiXG4gICAgICAgIHBhZGRpbmc9XCJsYXJnZVwiXG4gICAgICAgIGZsZXhcbiAgICAgICAgVU5TQUZFX2NsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgICAvLyBlbnN1cmUgdGhlIG1ldGFkYXRhIGRvZXNuJ3Qgc2hyaW5rIHRvbyBtdWNoLCA0MCUgYWxsb3dzIG1vcmVcbiAgICAgICAgICAvLyBicmVhdGhpbmcgcm9vbSB3aGVyZSBhdmFpbGFibGUgd2l0aCBhIGhhcmQgbGltaXQgcGl4ZWwgdmFsdWVcbiAgICAgICAgICBtaW5XaWR0aDogYG1heCgke3Rva2VuU2NoZW1hLnNpemUuYWxpYXMuc2luZ2xlTGluZVdpZHRofSwgNDAlKWAsXG4gICAgICAgIH0pfVxuICAgICAgICBVTlNBRkVfc3R5bGU9e2xvYWRlZFN0eWxlc31cbiAgICAgID5cbiAgICAgICAge3Byb3BzLm5hbWUgPyAoXG4gICAgICAgICAgPFRleHQ+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Nzcyh0cmltU3RhcnRTdHlsZXMpfSB0aXRsZT17cHJvcHMubmFtZX0+XG4gICAgICAgICAgICAgIHtwcm9wcy5uYW1lfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIHtwcm9wcy5maWxlc2l6ZSA/IChcbiAgICAgICAgICA8VGV4dCBzaXplPVwic21hbGxcIiBjb2xvcj1cIm5ldXRyYWxTZWNvbmRhcnlcIiBvdmVyZmxvdz1cInVuc2V0XCI+XG4gICAgICAgICAgICB7Zm9ybWF0Qnl0ZXMocHJvcHMuZmlsZXNpemUpfSAmbWlkZG90OyB7cHJvcHMud2lkdGh9XG4gICAgICAgICAgICAmIzgyMzk7JnRpbWVzOyYjODIzOTtcbiAgICAgICAgICAgIHtwcm9wcy5oZWlnaHR9XG4gICAgICAgICAgPC9UZXh0PlxuICAgICAgICApIDogbnVsbH1cblxuICAgICAgICB7LyogZmllbGQgY29udHJvbHMgZGVwZW5kYW50IG9uIHZhbHVlIHR5cGUgKi99XG4gICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgIDwvVlN0YWNrPlxuICAgIDwvZGl2PlxuICApXG59XG5cbnR5cGUgSW1hZ2VEYXRhID0ge1xuICBuYW1lPzogc3RyaW5nXG4gIHVybDogc3RyaW5nXG4gIGZpbGVzaXplPzogbnVtYmVyXG4gIHdpZHRoPzogbnVtYmVyXG4gIGhlaWdodD86IG51bWJlclxuICBvbkxvYWQ6IChldmVudDogU3ludGhldGljRXZlbnQ8SFRNTEltYWdlRWxlbWVudD4pID0+IHZvaWRcbn1cblxuZnVuY3Rpb24gdXNlSW1hZ2VEYXRhKHZhbHVlOiBJbWFnZVZhbHVlKTogSW1hZ2VEYXRhIHwgbnVsbCB7XG4gIC8vIG9ubHkgcmVsZXZhbnQgZm9yIHVwbG9hZGVkIGltYWdlcywgYnV0IHdlIG11c3Qgb2JzZXJ2ZSB0aGUgcnVsZXMgb2YgaG9va3NcbiAgLy8gc28gdGhlc2UgY2FuJ3QgYmUgY2FsbGVkIGNvbmRpdGlvbmFsbHkuXG4gIGNvbnN0IGltYWdlUGF0aEZyb21VcGxvYWQgPSB1c2VPYmplY3RVUkwodmFsdWUua2luZCA9PT0gJ3VwbG9hZCcgPyB2YWx1ZS5kYXRhLmZpbGUgOiB1bmRlZmluZWQpXG4gIGNvbnN0IFtkaW1lbnNpb25zLCBzZXREaW1lbnNpb25zXSA9IHVzZVN0YXRlKHsgaGVpZ2h0OiAwLCB3aWR0aDogMCB9KVxuICBjb25zdCBvbkxvYWQgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQ6IFN5bnRoZXRpY0V2ZW50PEhUTUxJbWFnZUVsZW1lbnQ+KSA9PiB7XG4gICAgICBpZiAodmFsdWUua2luZCA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgc2V0RGltZW5zaW9ucyh7XG4gICAgICAgICAgaGVpZ2h0OiBldmVudC5jdXJyZW50VGFyZ2V0Lm5hdHVyYWxIZWlnaHQsXG4gICAgICAgICAgd2lkdGg6IGV2ZW50LmN1cnJlbnRUYXJnZXQubmF0dXJhbFdpZHRoLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG4gICAgW3ZhbHVlLmtpbmRdXG4gIClcblxuICAvLyByZXNldCBkaW1lbnNpb25zIHdoZW4gdGhlIHVzZXIgY2FuY2VscyB0aGUgdXBsb2FkLiB3ZSB1c2UgdGhlIGRpbWVuc2lvbnMgYXNcbiAgLy8gYSBzaWduYWwgdGhhdCB0aGUgaW1hZ2UgaGFzIGxvYWRlZC5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodmFsdWUua2luZCAhPT0gJ3VwbG9hZCcpIHtcbiAgICAgIHNldERpbWVuc2lvbnMoeyBoZWlnaHQ6IDAsIHdpZHRoOiAwIH0pXG4gICAgfVxuICB9LCBbdmFsdWUua2luZF0pXG5cbiAgc3dpdGNoICh2YWx1ZS5raW5kKSB7XG4gICAgY2FzZSAnZnJvbS1zZXJ2ZXInOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXJsOiB2YWx1ZS5kYXRhLnVybCxcbiAgICAgICAgbmFtZTogYCR7dmFsdWUuZGF0YS5pZH0uJHt2YWx1ZS5kYXRhLmV4dGVuc2lvbn1gLFxuICAgICAgICBmaWxlc2l6ZTogdmFsdWUuZGF0YS5maWxlc2l6ZSxcbiAgICAgICAgd2lkdGg6IHZhbHVlLmRhdGEud2lkdGgsXG4gICAgICAgIGhlaWdodDogdmFsdWUuZGF0YS5oZWlnaHQsXG4gICAgICAgIG9uTG9hZCxcbiAgICAgIH0gYXMgY29uc3RcblxuICAgIGNhc2UgJ3VwbG9hZCc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAvLyBhbHdheXMgc3RyaW5nIGZvciBzaW1wbGVyIHR5cGVzLCBzaG91bGQgYmUgdW5yZWFjaGFibGUgaWYgdGhlIGZpbGUgc2VsZWN0aW9uIGZhaWxzIHZhbGlkYXRpb24uXG4gICAgICAgIHVybDogaW1hZ2VQYXRoRnJvbVVwbG9hZCB8fCAnJyxcbiAgICAgICAgbmFtZTogdmFsdWUuZGF0YS5maWxlLm5hbWUsXG4gICAgICAgIGZpbGVzaXplOiB2YWx1ZS5kYXRhLmZpbGUuc2l6ZSxcbiAgICAgICAgd2lkdGg6IGRpbWVuc2lvbnMud2lkdGgsXG4gICAgICAgIGhlaWdodDogZGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICAgIG9uTG9hZCxcbiAgICAgIH0gYXMgY29uc3RcbiAgfVxuXG4gIHJldHVybiBudWxsXG59XG4iXSwibmFtZXMiOlsiRnJhZ21lbnQiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkFjdGlvbkJ1dHRvbiIsIkZpZWxkIiwiS2V5c3RhckZpZWxkIiwiSFN0YWNrIiwiVlN0YWNrIiwiY3NzIiwidG9rZW5TY2hlbWEiLCJ0cmFuc2l0aW9uIiwiVGV4dCIsInZhbGlkYXRlSW1hZ2UiLCJmb3JtYXRCeXRlcyIsInVzZVRyaW1TdGFydFN0eWxlcyIsInByb3BzIiwiYXV0b0ZvY3VzIiwiZmllbGQiLCJvbkNoYW5nZSIsInZhbHVlIiwiaW5wdXRSZWYiLCJlcnJvck1lc3NhZ2UiLCJleHRlbnNpb25zIiwib25VcGxvYWRDaGFuZ2UiLCJjdXJyZW50VGFyZ2V0IiwidmFsaWRpdHkiLCJmaWxlcyIsImZpbGUiLCJraW5kIiwiZGF0YSIsInByZXZpb3VzIiwib25GaWxlVHJpZ2dlciIsImN1cnJlbnQiLCJjbGljayIsImlucHV0S2V5IiwiTWF0aCIsInJhbmRvbSIsImFjY2VwdCIsIm1hcCIsImV4dCIsImpvaW4iLCJsYWJlbCIsImRlc2NyaXB0aW9uIiwiaW5wdXRQcm9wcyIsIkltYWdlVmlldyIsImlzSW52YWxpZCIsIkJvb2xlYW4iLCJpbnB1dCIsImF1dG9Db21wbGV0ZSIsImRpc2FibGVkIiwidW5kZWZpbmVkIiwiaGlkZGVuIiwia2V5IiwibmFtZSIsImZpZWxkS2V5IiwicmVmIiwidHlwZSIsImltYWdlRGF0YSIsInVzZUltYWdlRGF0YSIsImdhcCIsIkltYWdlRGV0YWlscyIsImFsaWduSXRlbXMiLCJtYXJnaW5Ub3AiLCJvblByZXNzIiwicHJvbWluZW5jZSIsImlzRGlzYWJsZWQiLCJ1c2VPYmplY3RVUkwiLCJmaWxlRGF0YSIsIm9iamVjdFVSTCIsInNldE9iamVjdFVSTCIsInVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIlNNQUxMX0NPTlRBSU5FUl9NQVgiLCJTTUFMTF9DT05UQUlORVJfTUlOIiwidHJpbVN0YXJ0U3R5bGVzIiwibG9hZGVkU3R5bGVzIiwib3BhY2l0eSIsImhlaWdodCIsIndpZHRoIiwiZGl2IiwiY2xhc3NOYW1lIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJiYWNrZ3JvdW5kIiwiY2FudmFzIiwiYm9yZGVyIiwibmV1dHJhbCIsImJvcmRlclJhZGl1cyIsInNpemUiLCJyYWRpdXMiLCJyZWd1bGFyIiwibWluSGVpZ2h0Iiwic2NhbGUiLCJjb250YWluIiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJpbWciLCJvbkxvYWQiLCJtYXhIZWlnaHQiLCJtYXhXaWR0aCIsIm1pbldpZHRoIiwib2JqZWN0Rml0Iiwic3R5bGUiLCJhbHQiLCJzcmMiLCJwYWRkaW5nIiwiZmxleCIsIlVOU0FGRV9jbGFzc05hbWUiLCJhbGlhcyIsInNpbmdsZUxpbmVXaWR0aCIsIlVOU0FGRV9zdHlsZSIsInNwYW4iLCJ0aXRsZSIsImZpbGVzaXplIiwib3ZlcmZsb3ciLCJjaGlsZHJlbiIsImltYWdlUGF0aEZyb21VcGxvYWQiLCJkaW1lbnNpb25zIiwic2V0RGltZW5zaW9ucyIsImV2ZW50IiwibmF0dXJhbEhlaWdodCIsIm5hdHVyYWxXaWR0aCIsImlkIiwiZXh0ZW5zaW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/image/views/Field.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/image/views/index.tsx":
/*!************************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/image/views/index.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cell: () => (/* binding */ Cell),\n/* harmony export */   Field: () => (/* reexport safe */ _Field__WEBPACK_IMPORTED_MODULE_2__.Field),\n/* harmony export */   controller: () => (/* binding */ controller),\n/* harmony export */   validateImage: () => (/* binding */ validateImage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"../../../../packages/core/src/fields/types/image/utils.ts\");\n/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Field */ \"../../../../packages/core/src/fields/types/image/views/Field.tsx\");\n\n\n\nconst Cell = ({ value })=>{\n    if (!value) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            alignItems: 'center',\n            display: 'flex',\n            height: 24,\n            lineHeight: 0,\n            width: 24\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n            style: {\n                maxHeight: '100%',\n                maxWidth: '100%'\n            },\n            src: value.url\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/index.tsx\",\n            lineNumber: 18,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/image/views/index.tsx\",\n        lineNumber: 9,\n        columnNumber: 5\n    }, undefined);\n};\nfunction validateImage(extensions, v) {\n    if (v.kind !== 'upload') return;\n    if (!v.data.validity.valid) return 'Something went wrong, please reload and try again.';\n    // check if the file is actually an image\n    if (!v.data.file.type.includes('image')) {\n        return `Sorry, that file type isn't accepted. Please try ${extensions.join(', ')}`;\n    }\n}\nfunction controller(config) {\n    return {\n        fieldKey: config.fieldKey,\n        label: config.label,\n        description: config.description,\n        defaultValue: {\n            kind: 'empty'\n        },\n        extensions: _utils__WEBPACK_IMPORTED_MODULE_1__.SUPPORTED_IMAGE_EXTENSIONS,\n        deserialize (item) {\n            const value = item[config.fieldKey];\n            if (!value) return {\n                kind: 'empty'\n            };\n            return {\n                kind: 'from-server',\n                data: value\n            };\n        },\n        serialize (value) {\n            if (value.kind === 'upload') {\n                return {\n                    [config.fieldKey]: {\n                        upload: value.data.file\n                    }\n                };\n            }\n            if (value.kind === 'remove') {\n                return {\n                    [config.fieldKey]: null\n                };\n            }\n            return {};\n        },\n        validate (value) {\n            return validateImage(_utils__WEBPACK_IMPORTED_MODULE_1__.SUPPORTED_IMAGE_EXTENSIONS, value) === undefined;\n        },\n        graphqlSelection: `${config.fieldKey} {\n      id\n      url\n      extension\n      filesize\n      width\n      height\n    }`\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL2ltYWdlL3ZpZXdzL2luZGV4LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFDcUQ7QUFFdEI7QUFFeEIsTUFBTUUsT0FBeUMsQ0FBQyxFQUFFQyxLQUFLLEVBQUU7SUFDOUQsSUFBSSxDQUFDQSxPQUFPLE9BQU87SUFDbkIscUJBQ0UsOERBQUNDO1FBQ0NDLE9BQU87WUFDTEMsWUFBWTtZQUNaQyxTQUFTO1lBQ1RDLFFBQVE7WUFDUkMsWUFBWTtZQUNaQyxPQUFPO1FBQ1Q7a0JBRUEsNEVBQUNDO1lBQUlOLE9BQU87Z0JBQUVPLFdBQVc7Z0JBQVFDLFVBQVU7WUFBTztZQUFHQyxLQUFLWCxNQUFNWSxHQUFHOzs7Ozs7Ozs7OztBQUd6RSxFQUFDO0FBeUJNLFNBQVNDLGNBQWNDLFVBQTZCLEVBQUVDLENBQWE7SUFDeEUsSUFBSUEsRUFBRUMsSUFBSSxLQUFLLFVBQVU7SUFDekIsSUFBSSxDQUFDRCxFQUFFRSxJQUFJLENBQUNDLFFBQVEsQ0FBQ0MsS0FBSyxFQUFFLE9BQU87SUFFbkMseUNBQXlDO0lBQ3pDLElBQUksQ0FBQ0osRUFBRUUsSUFBSSxDQUFDRyxJQUFJLENBQUNDLElBQUksQ0FBQ0MsUUFBUSxDQUFDLFVBQVU7UUFDdkMsT0FBTyxDQUFDLGlEQUFpRCxFQUFFUixXQUFXUyxJQUFJLENBQUMsT0FBTztJQUNwRjtBQUNGO0FBRU8sU0FBU0MsV0FBV0MsTUFBNkI7SUFDdEQsT0FBTztRQUNMQyxVQUFVRCxPQUFPQyxRQUFRO1FBQ3pCQyxPQUFPRixPQUFPRSxLQUFLO1FBQ25CQyxhQUFhSCxPQUFPRyxXQUFXO1FBQy9CQyxjQUFjO1lBQUViLE1BQU07UUFBUTtRQUM5QkYsWUFBWWpCLDhEQUEwQkE7UUFDdENpQyxhQUFZQyxJQUFTO1lBQ25CLE1BQU0vQixRQUFRK0IsSUFBSSxDQUFDTixPQUFPQyxRQUFRLENBQUM7WUFDbkMsSUFBSSxDQUFDMUIsT0FBTyxPQUFPO2dCQUFFZ0IsTUFBTTtZQUFRO1lBQ25DLE9BQU87Z0JBQ0xBLE1BQU07Z0JBQ05DLE1BQU1qQjtZQUNSO1FBQ0Y7UUFDQWdDLFdBQVVoQyxLQUFpQjtZQUN6QixJQUFJQSxNQUFNZ0IsSUFBSSxLQUFLLFVBQVU7Z0JBQzNCLE9BQU87b0JBQUUsQ0FBQ1MsT0FBT0MsUUFBUSxDQUFDLEVBQUU7d0JBQUVPLFFBQVFqQyxNQUFNaUIsSUFBSSxDQUFDRyxJQUFJO29CQUFDO2dCQUFFO1lBQzFEO1lBQ0EsSUFBSXBCLE1BQU1nQixJQUFJLEtBQUssVUFBVTtnQkFDM0IsT0FBTztvQkFBRSxDQUFDUyxPQUFPQyxRQUFRLENBQUMsRUFBRTtnQkFBSztZQUNuQztZQUNBLE9BQU8sQ0FBQztRQUNWO1FBQ0FRLFVBQVNsQyxLQUFpQjtZQUN4QixPQUFPYSxjQUFjaEIsOERBQTBCQSxFQUFFRyxXQUFXbUM7UUFDOUQ7UUFDQUMsa0JBQWtCLEdBQUdYLE9BQU9DLFFBQVEsQ0FBQzs7Ozs7OztLQU9wQyxDQUFDO0lBQ0o7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9maWVsZHMvdHlwZXMvaW1hZ2Uvdmlld3MvaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQ2VsbENvbXBvbmVudCwgRmllbGRDb250cm9sbGVyQ29uZmlnIH0gZnJvbSAnLi4vLi4vLi4vLi4vdHlwZXMnXG5pbXBvcnQgeyBTVVBQT1JURURfSU1BR0VfRVhURU5TSU9OUyB9IGZyb20gJy4uL3V0aWxzJ1xuXG5leHBvcnQgeyBGaWVsZCB9IGZyb20gJy4vRmllbGQnXG5cbmV4cG9ydCBjb25zdCBDZWxsOiBDZWxsQ29tcG9uZW50PHR5cGVvZiBjb250cm9sbGVyPiA9ICh7IHZhbHVlIH0pID0+IHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIG51bGxcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBzdHlsZT17e1xuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBoZWlnaHQ6IDI0LFxuICAgICAgICBsaW5lSGVpZ2h0OiAwLFxuICAgICAgICB3aWR0aDogMjQsXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxpbWcgc3R5bGU9e3sgbWF4SGVpZ2h0OiAnMTAwJScsIG1heFdpZHRoOiAnMTAwJScgfX0gc3JjPXt2YWx1ZS51cmx9IC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IHR5cGUgSW1hZ2VWYWx1ZSA9XG4gIHwgeyBraW5kOiAnZW1wdHknIH1cbiAgfCB7XG4gICAgICBraW5kOiAnZnJvbS1zZXJ2ZXInXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGlkOiBzdHJpbmdcbiAgICAgICAgdXJsOiBzdHJpbmdcbiAgICAgICAgZXh0ZW5zaW9uOiBzdHJpbmdcbiAgICAgICAgZmlsZXNpemU6IG51bWJlclxuICAgICAgICB3aWR0aDogbnVtYmVyXG4gICAgICAgIGhlaWdodDogbnVtYmVyXG4gICAgICB9XG4gICAgfVxuICB8IHtcbiAgICAgIGtpbmQ6ICd1cGxvYWQnXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGZpbGU6IEZpbGVcbiAgICAgICAgdmFsaWRpdHk6IFZhbGlkaXR5U3RhdGVcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzOiBJbWFnZVZhbHVlXG4gICAgfVxuICB8IHsga2luZDogJ3JlbW92ZSc7IHByZXZpb3VzPzogRXhjbHVkZTxJbWFnZVZhbHVlLCB7IGtpbmQ6ICdyZW1vdmUnIH0+IH1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW1hZ2UoZXh0ZW5zaW9uczogcmVhZG9ubHkgc3RyaW5nW10sIHY6IEltYWdlVmFsdWUpIHtcbiAgaWYgKHYua2luZCAhPT0gJ3VwbG9hZCcpIHJldHVyblxuICBpZiAoIXYuZGF0YS52YWxpZGl0eS52YWxpZCkgcmV0dXJuICdTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHJlbG9hZCBhbmQgdHJ5IGFnYWluLidcblxuICAvLyBjaGVjayBpZiB0aGUgZmlsZSBpcyBhY3R1YWxseSBhbiBpbWFnZVxuICBpZiAoIXYuZGF0YS5maWxlLnR5cGUuaW5jbHVkZXMoJ2ltYWdlJykpIHtcbiAgICByZXR1cm4gYFNvcnJ5LCB0aGF0IGZpbGUgdHlwZSBpc24ndCBhY2NlcHRlZC4gUGxlYXNlIHRyeSAke2V4dGVuc2lvbnMuam9pbignLCAnKX1gXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRyb2xsZXIoY29uZmlnOiBGaWVsZENvbnRyb2xsZXJDb25maWcpIHtcbiAgcmV0dXJuIHtcbiAgICBmaWVsZEtleTogY29uZmlnLmZpZWxkS2V5LFxuICAgIGxhYmVsOiBjb25maWcubGFiZWwsXG4gICAgZGVzY3JpcHRpb246IGNvbmZpZy5kZXNjcmlwdGlvbixcbiAgICBkZWZhdWx0VmFsdWU6IHsga2luZDogJ2VtcHR5JyB9LFxuICAgIGV4dGVuc2lvbnM6IFNVUFBPUlRFRF9JTUFHRV9FWFRFTlNJT05TLFxuICAgIGRlc2VyaWFsaXplKGl0ZW06IGFueSk6IEltYWdlVmFsdWUge1xuICAgICAgY29uc3QgdmFsdWUgPSBpdGVtW2NvbmZpZy5maWVsZEtleV1cbiAgICAgIGlmICghdmFsdWUpIHJldHVybiB7IGtpbmQ6ICdlbXB0eScgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAga2luZDogJ2Zyb20tc2VydmVyJyxcbiAgICAgICAgZGF0YTogdmFsdWUsXG4gICAgICB9XG4gICAgfSxcbiAgICBzZXJpYWxpemUodmFsdWU6IEltYWdlVmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZS5raW5kID09PSAndXBsb2FkJykge1xuICAgICAgICByZXR1cm4geyBbY29uZmlnLmZpZWxkS2V5XTogeyB1cGxvYWQ6IHZhbHVlLmRhdGEuZmlsZSB9IH1cbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZS5raW5kID09PSAncmVtb3ZlJykge1xuICAgICAgICByZXR1cm4geyBbY29uZmlnLmZpZWxkS2V5XTogbnVsbCB9XG4gICAgICB9XG4gICAgICByZXR1cm4ge31cbiAgICB9LFxuICAgIHZhbGlkYXRlKHZhbHVlOiBJbWFnZVZhbHVlKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdmFsaWRhdGVJbWFnZShTVVBQT1JURURfSU1BR0VfRVhURU5TSU9OUywgdmFsdWUpID09PSB1bmRlZmluZWRcbiAgICB9LFxuICAgIGdyYXBocWxTZWxlY3Rpb246IGAke2NvbmZpZy5maWVsZEtleX0ge1xuICAgICAgaWRcbiAgICAgIHVybFxuICAgICAgZXh0ZW5zaW9uXG4gICAgICBmaWxlc2l6ZVxuICAgICAgd2lkdGhcbiAgICAgIGhlaWdodFxuICAgIH1gLFxuICB9XG59XG4iXSwibmFtZXMiOlsiU1VQUE9SVEVEX0lNQUdFX0VYVEVOU0lPTlMiLCJGaWVsZCIsIkNlbGwiLCJ2YWx1ZSIsImRpdiIsInN0eWxlIiwiYWxpZ25JdGVtcyIsImRpc3BsYXkiLCJoZWlnaHQiLCJsaW5lSGVpZ2h0Iiwid2lkdGgiLCJpbWciLCJtYXhIZWlnaHQiLCJtYXhXaWR0aCIsInNyYyIsInVybCIsInZhbGlkYXRlSW1hZ2UiLCJleHRlbnNpb25zIiwidiIsImtpbmQiLCJkYXRhIiwidmFsaWRpdHkiLCJ2YWxpZCIsImZpbGUiLCJ0eXBlIiwiaW5jbHVkZXMiLCJqb2luIiwiY29udHJvbGxlciIsImNvbmZpZyIsImZpZWxkS2V5IiwibGFiZWwiLCJkZXNjcmlwdGlvbiIsImRlZmF1bHRWYWx1ZSIsImRlc2VyaWFsaXplIiwiaXRlbSIsInNlcmlhbGl6ZSIsInVwbG9hZCIsInZhbGlkYXRlIiwidW5kZWZpbmVkIiwiZ3JhcGhxbFNlbGVjdGlvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/image/views/index.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/json/views/index.tsx":
/*!***********************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/json/views/index.tsx ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cell: () => (/* binding */ Cell),\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   controller: () => (/* binding */ controller)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/text-field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-text-field.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n\n\n\n\nconst Field = (props)=>{\n    const { autoFocus, field, forceValidation, onChange, value } = props;\n    const errorMessage = forceValidation ? 'Invalid JSON' : undefined;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_2__.TextArea, {\n        autoFocus: autoFocus,\n        description: field.description,\n        errorMessage: errorMessage,\n        isReadOnly: onChange === undefined,\n        label: field.label,\n        onChange: onChange,\n        value: value,\n        UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.css)({\n            textarea: {\n                fontSize: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.typography.text.small.size,\n                fontFamily: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.typography.fontFamily.code\n            }\n        })\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/json/views/index.tsx\",\n        lineNumber: 18,\n        columnNumber: 5\n    }, undefined);\n};\nconst Cell = ({ value })=>{\n    return value ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_3__.Text, {\n        children: JSON.stringify(value)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/json/views/index.tsx\",\n        lineNumber: 37,\n        columnNumber: 18\n    }, undefined) : null;\n};\nfunction controller(config) {\n    return {\n        fieldKey: config.fieldKey,\n        label: config.label,\n        description: config.description,\n        defaultValue: config.fieldMeta.defaultValue === null ? '' : JSON.stringify(config.fieldMeta.defaultValue, null, 2),\n        deserialize: (data)=>{\n            const value = data[config.fieldKey];\n            // null is equivalent to Prisma.DbNull, and we show that as an empty input\n            if (value === null) return '';\n            return JSON.stringify(value, null, 2);\n        },\n        serialize: (value)=>{\n            if (!value) return {\n                [config.fieldKey]: null\n            };\n            try {\n                return {\n                    [config.fieldKey]: JSON.parse(value)\n                };\n            } catch (e) {\n                return {\n                    [config.fieldKey]: undefined\n                };\n            }\n        },\n        validate: (value)=>{\n            if (!value) return true;\n            try {\n                JSON.parse(value);\n                return true;\n            } catch (e) {\n                return false;\n            }\n        },\n        graphqlSelection: config.fieldKey\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL2pzb24vdmlld3MvaW5kZXgudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFvRDtBQUNIO0FBQ0o7QUFVdEMsTUFBTUksUUFBUSxDQUFDQztJQUNwQixNQUFNLEVBQUVDLFNBQVMsRUFBRUMsS0FBSyxFQUFFQyxlQUFlLEVBQUVDLFFBQVEsRUFBRUMsS0FBSyxFQUFFLEdBQUdMO0lBQy9ELE1BQU1NLGVBQWVILGtCQUFrQixpQkFBaUJJO0lBRXhELHFCQUNFLDhEQUFDViw0REFBUUE7UUFDUEksV0FBV0E7UUFDWE8sYUFBYU4sTUFBTU0sV0FBVztRQUM5QkYsY0FBY0E7UUFDZEcsWUFBWUwsYUFBYUc7UUFDekJHLE9BQU9SLE1BQU1RLEtBQUs7UUFDbEJOLFVBQVVBO1FBQ1ZDLE9BQU9BO1FBQ1BNLGtCQUFrQmhCLHNEQUFHQSxDQUFDO1lBQ3BCaUIsVUFBVTtnQkFDUkMsVUFBVWpCLDBEQUFXQSxDQUFDa0IsVUFBVSxDQUFDQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0MsSUFBSTtnQkFDaERDLFlBQVl0QiwwREFBV0EsQ0FBQ2tCLFVBQVUsQ0FBQ0ksVUFBVSxDQUFDQyxJQUFJO1lBQ3BEO1FBQ0Y7Ozs7OztBQUdOLEVBQUM7QUFFTSxNQUFNQyxPQUF5QyxDQUFDLEVBQUVmLEtBQUssRUFBRTtJQUM5RCxPQUFPQSxzQkFBUSw4REFBQ1Asd0RBQUlBO2tCQUFFdUIsS0FBS0MsU0FBUyxDQUFDakI7Ozs7O29CQUFpQjtBQUN4RCxFQUFDO0FBSU0sU0FBU2tCLFdBQVdDLE1BQWM7SUFDdkMsT0FBTztRQUNMQyxVQUFVRCxPQUFPQyxRQUFRO1FBQ3pCZixPQUFPYyxPQUFPZCxLQUFLO1FBQ25CRixhQUFhZ0IsT0FBT2hCLFdBQVc7UUFDL0JrQixjQUNFRixPQUFPRyxTQUFTLENBQUNELFlBQVksS0FBSyxPQUM5QixLQUNBTCxLQUFLQyxTQUFTLENBQUNFLE9BQU9HLFNBQVMsQ0FBQ0QsWUFBWSxFQUFFLE1BQU07UUFDMURFLGFBQWFDLENBQUFBO1lBQ1gsTUFBTXhCLFFBQVF3QixJQUFJLENBQUNMLE9BQU9DLFFBQVEsQ0FBQztZQUNuQywwRUFBMEU7WUFDMUUsSUFBSXBCLFVBQVUsTUFBTSxPQUFPO1lBQzNCLE9BQU9nQixLQUFLQyxTQUFTLENBQUNqQixPQUFPLE1BQU07UUFDckM7UUFDQXlCLFdBQVd6QixDQUFBQTtZQUNULElBQUksQ0FBQ0EsT0FBTyxPQUFPO2dCQUFFLENBQUNtQixPQUFPQyxRQUFRLENBQUMsRUFBRTtZQUFLO1lBQzdDLElBQUk7Z0JBQ0YsT0FBTztvQkFBRSxDQUFDRCxPQUFPQyxRQUFRLENBQUMsRUFBRUosS0FBS1UsS0FBSyxDQUFDMUI7Z0JBQU87WUFDaEQsRUFBRSxPQUFPMkIsR0FBRztnQkFDVixPQUFPO29CQUFFLENBQUNSLE9BQU9DLFFBQVEsQ0FBQyxFQUFFbEI7Z0JBQVU7WUFDeEM7UUFDRjtRQUNBMEIsVUFBVTVCLENBQUFBO1lBQ1IsSUFBSSxDQUFDQSxPQUFPLE9BQU87WUFDbkIsSUFBSTtnQkFDRmdCLEtBQUtVLEtBQUssQ0FBQzFCO2dCQUNYLE9BQU87WUFDVCxFQUFFLE9BQU8yQixHQUFHO2dCQUNWLE9BQU87WUFDVDtRQUNGO1FBQ0FFLGtCQUFrQlYsT0FBT0MsUUFBUTtJQUNuQztBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2NvcmUvc3JjL2ZpZWxkcy90eXBlcy9qc29uL3ZpZXdzL2luZGV4LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MsIHRva2VuU2NoZW1hIH0gZnJvbSAnQGtleXN0YXIvdWkvc3R5bGUnXG5pbXBvcnQgeyBUZXh0QXJlYSB9IGZyb20gJ0BrZXlzdGFyL3VpL3RleHQtZmllbGQnXG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnQGtleXN0YXIvdWkvdHlwb2dyYXBoeSdcblxuaW1wb3J0IHR5cGUge1xuICBDZWxsQ29tcG9uZW50LFxuICBGaWVsZENvbnRyb2xsZXIsXG4gIEZpZWxkQ29udHJvbGxlckNvbmZpZyxcbiAgRmllbGRQcm9wcyxcbiAgSlNPTlZhbHVlLFxufSBmcm9tICcuLi8uLi8uLi8uLi90eXBlcydcblxuZXhwb3J0IGNvbnN0IEZpZWxkID0gKHByb3BzOiBGaWVsZFByb3BzPHR5cGVvZiBjb250cm9sbGVyPikgPT4ge1xuICBjb25zdCB7IGF1dG9Gb2N1cywgZmllbGQsIGZvcmNlVmFsaWRhdGlvbiwgb25DaGFuZ2UsIHZhbHVlIH0gPSBwcm9wc1xuICBjb25zdCBlcnJvck1lc3NhZ2UgPSBmb3JjZVZhbGlkYXRpb24gPyAnSW52YWxpZCBKU09OJyA6IHVuZGVmaW5lZFxuXG4gIHJldHVybiAoXG4gICAgPFRleHRBcmVhXG4gICAgICBhdXRvRm9jdXM9e2F1dG9Gb2N1c31cbiAgICAgIGRlc2NyaXB0aW9uPXtmaWVsZC5kZXNjcmlwdGlvbn1cbiAgICAgIGVycm9yTWVzc2FnZT17ZXJyb3JNZXNzYWdlfVxuICAgICAgaXNSZWFkT25seT17b25DaGFuZ2UgPT09IHVuZGVmaW5lZH1cbiAgICAgIGxhYmVsPXtmaWVsZC5sYWJlbH1cbiAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgIFVOU0FGRV9jbGFzc05hbWU9e2Nzcyh7XG4gICAgICAgIHRleHRhcmVhOiB7XG4gICAgICAgICAgZm9udFNpemU6IHRva2VuU2NoZW1hLnR5cG9ncmFwaHkudGV4dC5zbWFsbC5zaXplLFxuICAgICAgICAgIGZvbnRGYW1pbHk6IHRva2VuU2NoZW1hLnR5cG9ncmFwaHkuZm9udEZhbWlseS5jb2RlLFxuICAgICAgICB9LFxuICAgICAgfSl9XG4gICAgLz5cbiAgKVxufVxuXG5leHBvcnQgY29uc3QgQ2VsbDogQ2VsbENvbXBvbmVudDx0eXBlb2YgY29udHJvbGxlcj4gPSAoeyB2YWx1ZSB9KSA9PiB7XG4gIHJldHVybiB2YWx1ZSA/IDxUZXh0PntKU09OLnN0cmluZ2lmeSh2YWx1ZSl9PC9UZXh0PiA6IG51bGxcbn1cblxudHlwZSBDb25maWcgPSBGaWVsZENvbnRyb2xsZXJDb25maWc8eyBkZWZhdWx0VmFsdWU6IEpTT05WYWx1ZSB9PlxuXG5leHBvcnQgZnVuY3Rpb24gY29udHJvbGxlcihjb25maWc6IENvbmZpZyk6IEZpZWxkQ29udHJvbGxlcjxzdHJpbmcsIHN0cmluZz4ge1xuICByZXR1cm4ge1xuICAgIGZpZWxkS2V5OiBjb25maWcuZmllbGRLZXksXG4gICAgbGFiZWw6IGNvbmZpZy5sYWJlbCxcbiAgICBkZXNjcmlwdGlvbjogY29uZmlnLmRlc2NyaXB0aW9uLFxuICAgIGRlZmF1bHRWYWx1ZTpcbiAgICAgIGNvbmZpZy5maWVsZE1ldGEuZGVmYXVsdFZhbHVlID09PSBudWxsXG4gICAgICAgID8gJydcbiAgICAgICAgOiBKU09OLnN0cmluZ2lmeShjb25maWcuZmllbGRNZXRhLmRlZmF1bHRWYWx1ZSwgbnVsbCwgMiksXG4gICAgZGVzZXJpYWxpemU6IGRhdGEgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBkYXRhW2NvbmZpZy5maWVsZEtleV1cbiAgICAgIC8vIG51bGwgaXMgZXF1aXZhbGVudCB0byBQcmlzbWEuRGJOdWxsLCBhbmQgd2Ugc2hvdyB0aGF0IGFzIGFuIGVtcHR5IGlucHV0XG4gICAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiAnJ1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlLCBudWxsLCAyKVxuICAgIH0sXG4gICAgc2VyaWFsaXplOiB2YWx1ZSA9PiB7XG4gICAgICBpZiAoIXZhbHVlKSByZXR1cm4geyBbY29uZmlnLmZpZWxkS2V5XTogbnVsbCB9XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4geyBbY29uZmlnLmZpZWxkS2V5XTogSlNPTi5wYXJzZSh2YWx1ZSkgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4geyBbY29uZmlnLmZpZWxkS2V5XTogdW5kZWZpbmVkIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHZhbGlkYXRlOiB2YWx1ZSA9PiB7XG4gICAgICBpZiAoIXZhbHVlKSByZXR1cm4gdHJ1ZVxuICAgICAgdHJ5IHtcbiAgICAgICAgSlNPTi5wYXJzZSh2YWx1ZSlcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSxcbiAgICBncmFwaHFsU2VsZWN0aW9uOiBjb25maWcuZmllbGRLZXksXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJjc3MiLCJ0b2tlblNjaGVtYSIsIlRleHRBcmVhIiwiVGV4dCIsIkZpZWxkIiwicHJvcHMiLCJhdXRvRm9jdXMiLCJmaWVsZCIsImZvcmNlVmFsaWRhdGlvbiIsIm9uQ2hhbmdlIiwidmFsdWUiLCJlcnJvck1lc3NhZ2UiLCJ1bmRlZmluZWQiLCJkZXNjcmlwdGlvbiIsImlzUmVhZE9ubHkiLCJsYWJlbCIsIlVOU0FGRV9jbGFzc05hbWUiLCJ0ZXh0YXJlYSIsImZvbnRTaXplIiwidHlwb2dyYXBoeSIsInRleHQiLCJzbWFsbCIsInNpemUiLCJmb250RmFtaWx5IiwiY29kZSIsIkNlbGwiLCJKU09OIiwic3RyaW5naWZ5IiwiY29udHJvbGxlciIsImNvbmZpZyIsImZpZWxkS2V5IiwiZGVmYXVsdFZhbHVlIiwiZmllbGRNZXRhIiwiZGVzZXJpYWxpemUiLCJkYXRhIiwic2VyaWFsaXplIiwicGFyc2UiLCJlIiwidmFsaWRhdGUiLCJncmFwaHFsU2VsZWN0aW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/json/views/index.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/password/views/index.tsx":
/*!***************************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/password/views/index.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cell: () => (/* binding */ Cell),\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   controller: () => (/* binding */ controller)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var dumb_passwords__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dumb-passwords */ \"../../../../node_modules/.pnpm/dumb-passwords@0.2.1/node_modules/dumb-passwords/index.js\");\n/* harmony import */ var dumb_passwords__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dumb_passwords__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _react_aria_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @react-aria/utils */ \"../../../../node_modules/.pnpm/@react-aria+utils@3.28.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-aria/utils/dist/import.mjs\");\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_checkbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/checkbox */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-checkbox.js\");\n/* harmony import */ var _keystar_ui_field__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-field.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_eyeIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/icon/icons/eyeIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-eyeIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_asteriskIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/icon/icons/asteriskIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-asteriskIcon.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @keystar/ui/text-field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-text-field.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n// @ts-expect-error\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction validate(value, validation, isRequired, fieldLabel) {\n    if (value.kind === 'initial' && (value.isSet === null || value.isSet === true)) {\n        return undefined;\n    }\n    if (value.kind === 'initial' && isRequired) {\n        return `${fieldLabel} is required`;\n    }\n    if (value.kind === 'editing' && value.confirm !== value.value) {\n        return `The passwords do not match`;\n    }\n    if (value.kind === 'editing') {\n        const val = value.value;\n        if (val.length < validation.length.min) {\n            if (validation.length.min === 1) {\n                return `${fieldLabel} must not be empty`;\n            }\n            return `${fieldLabel} must be at least ${validation.length.min} characters long`;\n        }\n        if (validation.length.max !== null && val.length > validation.length.max) {\n            return `${fieldLabel} must be no longer than ${validation.length.max} characters`;\n        }\n        if (validation.match && !validation.match.regex.test(val)) {\n            return validation.match.explanation;\n        }\n        if (validation.rejectCommon && dumb_passwords__WEBPACK_IMPORTED_MODULE_1___default().check(val)) {\n            return `${fieldLabel} is too common and is not allowed`;\n        }\n    }\n    return undefined;\n}\nfunction readonlyCheckboxProps(isSet) {\n    const isIndeterminate = isSet == null;\n    const isSelected = isSet == null ? undefined : isSet;\n    return {\n        children: isIndeterminate ? 'Access denied' : 'Value is set',\n        isIndeterminate,\n        isReadOnly: true,\n        isSelected,\n        prominence: 'low'\n    };\n}\nfunction Field(props) {\n    const { autoFocus, field, forceValidation, onChange, value } = props;\n    const [secureTextEntry, setSecureTextEntry] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [touched, setTouched] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        value: false,\n        confirm: false\n    });\n    const triggerRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const isReadOnly = onChange == null;\n    const validationMessage = forceValidation || touched.value && touched.confirm ? validate(value, field.validation, props.isRequired, field.label) : undefined;\n    const labelId = (0,react__WEBPACK_IMPORTED_MODULE_2__.useId)();\n    const descriptionId = (0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_13__.useSlotId)([\n        !!field.description,\n        !!validationMessage\n    ]);\n    const messageId = (0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_13__.useSlotId)([\n        !!field.description,\n        !!validationMessage\n    ]);\n    const cancelEditing = ()=>{\n        onChange?.({\n            kind: 'initial',\n            isSet: value.isSet\n        });\n        setTimeout(()=>{\n            triggerRef.current?.focus();\n        }, 0);\n    };\n    const onEscape = (e)=>{\n        if (e.key !== 'Escape' || value.kind !== 'editing') return;\n        if (value.value === '' && value.confirm === '') {\n            cancelEditing();\n        }\n    };\n    // reset when the user cancels, or when the form is submitted\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"Field.useEffect\": ()=>{\n            if (value.kind === 'initial') {\n                setTouched({\n                    value: false,\n                    confirm: false\n                });\n                setSecureTextEntry(true);\n            }\n        }\n    }[\"Field.useEffect\"], [\n        value.kind\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_9__.VStack, {\n        role: \"group\",\n        \"aria-labelledby\": labelId,\n        \"aria-describedby\": descriptionId,\n        gap: \"medium\",\n        minWidth: 0,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_field__WEBPACK_IMPORTED_MODULE_5__.FieldLabel, {\n                elementType: \"span\",\n                id: labelId,\n                children: field.label\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                lineNumber: 118,\n                columnNumber: 7\n            }, this),\n            !!field.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_12__.Text, {\n                id: descriptionId,\n                size: \"regular\",\n                color: \"neutralSecondary\",\n                children: field.description\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                lineNumber: 122,\n                columnNumber: 9\n            }, this),\n            isReadOnly ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_checkbox__WEBPACK_IMPORTED_MODULE_4__.Checkbox, {\n                ...readonlyCheckboxProps(value.isSet)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                lineNumber: 127,\n                columnNumber: 9\n            }, this) : value.kind === 'initial' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_3__.ActionButton, {\n                ref: triggerRef,\n                alignSelf: \"start\",\n                autoFocus: autoFocus,\n                onPress: ()=>{\n                    onChange({\n                        kind: 'editing',\n                        confirm: '',\n                        value: '',\n                        isSet: value.isSet\n                    });\n                },\n                children: [\n                    value.isSet ? `Change ` : `Set `,\n                    field.label.toLocaleLowerCase()\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                lineNumber: 129,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_9__.Flex, {\n                gap: \"regular\",\n                UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.css)({\n                    [_keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.containerQueries.below.tablet]: {\n                        flexDirection: 'column'\n                    }\n                }),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_11__.TextField, {\n                        autoFocus: true,\n                        \"aria-label\": `new ${field.label}`,\n                        \"aria-describedby\": [\n                            descriptionId,\n                            messageId\n                        ].filter(Boolean).join(' '),\n                        // @ts-expect-error  needs to be fixed in \"@keystar/ui\"\n                        isInvalid: !!validationMessage,\n                        onBlur: ()=>setTouched({\n                                ...touched,\n                                value: true\n                            }),\n                        onChange: (text)=>onChange({\n                                ...value,\n                                value: text\n                            }),\n                        onKeyDown: onEscape,\n                        placeholder: \"New\",\n                        type: secureTextEntry ? 'password' : 'text',\n                        value: value.value,\n                        flex: true\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                        lineNumber: 154,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_11__.TextField, {\n                        \"aria-label\": `confirm ${field.label}`,\n                        \"aria-describedby\": messageId,\n                        // @ts-expect-error  needs to be fixed in \"@keystar/ui\"\n                        isInvalid: !!validationMessage,\n                        onBlur: ()=>setTouched({\n                                ...touched,\n                                confirm: true\n                            }),\n                        onChange: (text)=>onChange({\n                                ...value,\n                                confirm: text\n                            }),\n                        onKeyDown: onEscape,\n                        placeholder: \"Confirm\",\n                        type: secureTextEntry ? 'password' : 'text',\n                        value: value.confirm,\n                        flex: true\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                        lineNumber: 168,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_9__.Flex, {\n                        gap: \"regular\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_3__.ToggleButton, {\n                                \"aria-label\": \"show\",\n                                isSelected: !secureTextEntry,\n                                onPress: ()=>setSecureTextEntry((bool)=>!bool),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_6__.Icon, {\n                                        src: _keystar_ui_icon_icons_eyeIcon__WEBPACK_IMPORTED_MODULE_7__.eyeIcon\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                                        lineNumber: 188,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_12__.Text, {\n                                        UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.css)({\n                                            [_keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.containerQueries.above.mobile]: {\n                                                display: 'none'\n                                            }\n                                        }),\n                                        children: \"Show\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                                        lineNumber: 189,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                                lineNumber: 183,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_3__.ActionButton, {\n                                onPress: cancelEditing,\n                                children: \"Cancel\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                                lineNumber: 199,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                        lineNumber: 182,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                lineNumber: 146,\n                columnNumber: 9\n            }, this),\n            !!validationMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_field__WEBPACK_IMPORTED_MODULE_5__.FieldMessage, {\n                id: messageId,\n                children: validationMessage\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                lineNumber: 203,\n                columnNumber: 31\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n        lineNumber: 111,\n        columnNumber: 5\n    }, this);\n}\nconst Cell = ({ value })=>{\n    return value !== null ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        \"aria-label\": \"is set\",\n        style: {\n            display: 'flex'\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_6__.Icon, {\n                src: _keystar_ui_icon_icons_asteriskIcon__WEBPACK_IMPORTED_MODULE_8__.asteriskIcon,\n                size: \"small\"\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                lineNumber: 211,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_6__.Icon, {\n                src: _keystar_ui_icon_icons_asteriskIcon__WEBPACK_IMPORTED_MODULE_8__.asteriskIcon,\n                size: \"small\"\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                lineNumber: 212,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_6__.Icon, {\n                src: _keystar_ui_icon_icons_asteriskIcon__WEBPACK_IMPORTED_MODULE_8__.asteriskIcon,\n                size: \"small\"\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                lineNumber: 213,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n        lineNumber: 210,\n        columnNumber: 5\n    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_12__.VisuallyHidden, {\n        children: \"not set\"\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n        lineNumber: 216,\n        columnNumber: 5\n    }, undefined);\n};\nfunction controller(config) {\n    const validation = {\n        ...config.fieldMeta.validation,\n        match: config.fieldMeta.validation.match === null ? null : {\n            regex: new RegExp(config.fieldMeta.validation.match.regex.source, config.fieldMeta.validation.match.regex.flags),\n            explanation: config.fieldMeta.validation.match.explanation\n        }\n    };\n    return {\n        fieldKey: config.fieldKey,\n        label: config.label,\n        description: config.description,\n        graphqlSelection: `${config.fieldKey} {isSet}`,\n        validation,\n        defaultValue: {\n            kind: 'initial',\n            isSet: false\n        },\n        validate: (state, opts)=>validate(state, validation, opts.isRequired, config.label) === undefined,\n        deserialize: (data)=>({\n                kind: 'initial',\n                isSet: data[config.fieldKey]?.isSet ?? null\n            }),\n        serialize: (value)=>{\n            if (value.kind === 'initial') return {};\n            return {\n                [config.fieldKey]: value.value\n            };\n        },\n        filter: config.fieldMeta.isNullable === false ? undefined : {\n            Filter (props) {\n                const { autoFocus, context, typeLabel, onChange, value, type, ...otherProps } = props;\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_checkbox__WEBPACK_IMPORTED_MODULE_4__.Checkbox, {\n                    autoFocus: autoFocus,\n                    onChange: onChange,\n                    isSelected: value ?? false,\n                    ...otherProps,\n                    children: [\n                        typeLabel,\n                        \" set\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/password/views/index.tsx\",\n                    lineNumber: 303,\n                    columnNumber: 17\n                }, this);\n            },\n            graphql ({ type, value }) {\n                return {\n                    [config.fieldKey]: {\n                        isSet: type === 'not' ? !value : value\n                    }\n                };\n            },\n            parseGraphQL: (value)=>{\n                if (value?.isSet !== undefined) {\n                    return [\n                        {\n                            type: 'is',\n                            value: value.isSet\n                        }\n                    ];\n                }\n                return [];\n            },\n            Label ({ type, value }) {\n                if (type === 'is' && value || type === 'not' && !value) return `is set`;\n                return `is not set`;\n            },\n            types: {\n                is: {\n                    label: 'Is',\n                    initialValue: true\n                },\n                not: {\n                    label: 'Is not',\n                    initialValue: true\n                }\n            }\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3Bhc3N3b3JkL3ZpZXdzL2luZGV4LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1CQUFtQjs7QUFDdUI7QUFDZ0I7QUFDYjtBQUVrQjtBQUNoQjtBQUNhO0FBQ3JCO0FBQ2lCO0FBQ1U7QUFDakI7QUFDUTtBQUNQO0FBQ1c7QUFTN0QsU0FBU3FCLFNBQ1BDLEtBQVksRUFDWkMsVUFBc0IsRUFDdEJDLFVBQW1CLEVBQ25CQyxVQUFrQjtJQUVsQixJQUFJSCxNQUFNSSxJQUFJLEtBQUssYUFBY0osQ0FBQUEsTUFBTUssS0FBSyxLQUFLLFFBQVFMLE1BQU1LLEtBQUssS0FBSyxJQUFHLEdBQUk7UUFDOUUsT0FBT0M7SUFDVDtJQUNBLElBQUlOLE1BQU1JLElBQUksS0FBSyxhQUFhRixZQUFZO1FBQzFDLE9BQU8sR0FBR0MsV0FBVyxZQUFZLENBQUM7SUFDcEM7SUFDQSxJQUFJSCxNQUFNSSxJQUFJLEtBQUssYUFBYUosTUFBTU8sT0FBTyxLQUFLUCxNQUFNQSxLQUFLLEVBQUU7UUFDN0QsT0FBTyxDQUFDLDBCQUEwQixDQUFDO0lBQ3JDO0lBQ0EsSUFBSUEsTUFBTUksSUFBSSxLQUFLLFdBQVc7UUFDNUIsTUFBTUksTUFBTVIsTUFBTUEsS0FBSztRQUN2QixJQUFJUSxJQUFJQyxNQUFNLEdBQUdSLFdBQVdRLE1BQU0sQ0FBQ0MsR0FBRyxFQUFFO1lBQ3RDLElBQUlULFdBQVdRLE1BQU0sQ0FBQ0MsR0FBRyxLQUFLLEdBQUc7Z0JBQy9CLE9BQU8sR0FBR1AsV0FBVyxrQkFBa0IsQ0FBQztZQUMxQztZQUNBLE9BQU8sR0FBR0EsV0FBVyxrQkFBa0IsRUFBRUYsV0FBV1EsTUFBTSxDQUFDQyxHQUFHLENBQUMsZ0JBQWdCLENBQUM7UUFDbEY7UUFDQSxJQUFJVCxXQUFXUSxNQUFNLENBQUNFLEdBQUcsS0FBSyxRQUFRSCxJQUFJQyxNQUFNLEdBQUdSLFdBQVdR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QkFDbkIsSUFBSSxTQUFVLFFBQVFBLFNBQVcwRSxTQUFTLFNBQVMsQ0FBQzFFLE9BQVEsT0FBTyxDQUFDLE1BQU0sQ0FBQztnQkFDM0UsT0FBTyxDQUFDLFVBQVUsQ0FBQztZQUNyQjtZQUNBMEcsT0FBTztnQkFDTEMsSUFBSTtvQkFDRnZFLE9BQU87b0JBQ1B3RSxjQUFjO2dCQUNoQjtnQkFDQUMsS0FBSztvQkFDSHpFLE9BQU87b0JBQ1B3RSxjQUFjO2dCQUNoQjtZQUNGO1FBQ0Y7SUFDUjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2NvcmUvc3JjL2ZpZWxkcy90eXBlcy9wYXNzd29yZC92aWV3cy9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLWV4cGVjdC1lcnJvclxuaW1wb3J0IGR1bWJQYXNzd29yZHMgZnJvbSAnZHVtYi1wYXNzd29yZHMnXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUlkLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VTbG90SWQgfSBmcm9tICdAcmVhY3QtYXJpYS91dGlscydcblxuaW1wb3J0IHsgQWN0aW9uQnV0dG9uLCBUb2dnbGVCdXR0b24gfSBmcm9tICdAa2V5c3Rhci91aS9idXR0b24nXG5pbXBvcnQgeyBDaGVja2JveCB9IGZyb20gJ0BrZXlzdGFyL3VpL2NoZWNrYm94J1xuaW1wb3J0IHsgRmllbGRMYWJlbCwgRmllbGRNZXNzYWdlIH0gZnJvbSAnQGtleXN0YXIvdWkvZmllbGQnXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbidcbmltcG9ydCB7IGV5ZUljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2V5ZUljb24nXG5pbXBvcnQgeyBhc3Rlcmlza0ljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2FzdGVyaXNrSWNvbidcbmltcG9ydCB7IEZsZXgsIFZTdGFjayB9IGZyb20gJ0BrZXlzdGFyL3VpL2xheW91dCdcbmltcG9ydCB7IGNvbnRhaW5lclF1ZXJpZXMsIGNzcyB9IGZyb20gJ0BrZXlzdGFyL3VpL3N0eWxlJ1xuaW1wb3J0IHsgVGV4dEZpZWxkIH0gZnJvbSAnQGtleXN0YXIvdWkvdGV4dC1maWVsZCdcbmltcG9ydCB7IFRleHQsIFZpc3VhbGx5SGlkZGVuIH0gZnJvbSAnQGtleXN0YXIvdWkvdHlwb2dyYXBoeSdcblxuaW1wb3J0IHR5cGUge1xuICBDZWxsQ29tcG9uZW50LFxuICBGaWVsZENvbnRyb2xsZXIsXG4gIEZpZWxkQ29udHJvbGxlckNvbmZpZyxcbiAgRmllbGRQcm9wcyxcbn0gZnJvbSAnLi4vLi4vLi4vLi4vdHlwZXMnXG5cbmZ1bmN0aW9uIHZhbGlkYXRlKFxuICB2YWx1ZTogVmFsdWUsXG4gIHZhbGlkYXRpb246IFZhbGlkYXRpb24sXG4gIGlzUmVxdWlyZWQ6IGJvb2xlYW4sXG4gIGZpZWxkTGFiZWw6IHN0cmluZ1xuKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgaWYgKHZhbHVlLmtpbmQgPT09ICdpbml0aWFsJyAmJiAodmFsdWUuaXNTZXQgPT09IG51bGwgfHwgdmFsdWUuaXNTZXQgPT09IHRydWUpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG4gIGlmICh2YWx1ZS5raW5kID09PSAnaW5pdGlhbCcgJiYgaXNSZXF1aXJlZCkge1xuICAgIHJldHVybiBgJHtmaWVsZExhYmVsfSBpcyByZXF1aXJlZGBcbiAgfVxuICBpZiAodmFsdWUua2luZCA9PT0gJ2VkaXRpbmcnICYmIHZhbHVlLmNvbmZpcm0gIT09IHZhbHVlLnZhbHVlKSB7XG4gICAgcmV0dXJuIGBUaGUgcGFzc3dvcmRzIGRvIG5vdCBtYXRjaGBcbiAgfVxuICBpZiAodmFsdWUua2luZCA9PT0gJ2VkaXRpbmcnKSB7XG4gICAgY29uc3QgdmFsID0gdmFsdWUudmFsdWVcbiAgICBpZiAodmFsLmxlbmd0aCA8IHZhbGlkYXRpb24ubGVuZ3RoLm1pbikge1xuICAgICAgaWYgKHZhbGlkYXRpb24ubGVuZ3RoLm1pbiA9PT0gMSkge1xuICAgICAgICByZXR1cm4gYCR7ZmllbGRMYWJlbH0gbXVzdCBub3QgYmUgZW1wdHlgXG4gICAgICB9XG4gICAgICByZXR1cm4gYCR7ZmllbGRMYWJlbH0gbXVzdCBiZSBhdCBsZWFzdCAke3ZhbGlkYXRpb24ubGVuZ3RoLm1pbn0gY2hhcmFjdGVycyBsb25nYFxuICAgIH1cbiAgICBpZiAodmFsaWRhdGlvbi5sZW5ndGgubWF4ICE9PSBudWxsICYmIHZhbC5sZW5ndGggPiB2YWxpZGF0aW9uLmxlbmd0aC5tYXgpIHtcbiAgICAgIHJldHVybiBgJHtmaWVsZExhYmVsfSBtdXN0IGJlIG5vIGxvbmdlciB0aGFuICR7dmFsaWRhdGlvbi5sZW5ndGgubWF4fSBjaGFyYWN0ZXJzYFxuICAgIH1cbiAgICBpZiAodmFsaWRhdGlvbi5tYXRjaCAmJiAhdmFsaWRhdGlvbi5tYXRjaC5yZWdleC50ZXN0KHZhbCkpIHtcbiAgICAgIHJldHVybiB2YWxpZGF0aW9uLm1hdGNoLmV4cGxhbmF0aW9uXG4gICAgfVxuICAgIGlmICh2YWxpZGF0aW9uLnJlamVjdENvbW1vbiAmJiBkdW1iUGFzc3dvcmRzLmNoZWNrKHZhbCkpIHtcbiAgICAgIHJldHVybiBgJHtmaWVsZExhYmVsfSBpcyB0b28gY29tbW9uIGFuZCBpcyBub3QgYWxsb3dlZGBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZFxufVxuXG5mdW5jdGlvbiByZWFkb25seUNoZWNrYm94UHJvcHMoaXNTZXQ6IG51bGwgfCB1bmRlZmluZWQgfCBib29sZWFuKSB7XG4gIGNvbnN0IGlzSW5kZXRlcm1pbmF0ZSA9IGlzU2V0ID09IG51bGxcbiAgY29uc3QgaXNTZWxlY3RlZCA9IGlzU2V0ID09IG51bGwgPyB1bmRlZmluZWQgOiBpc1NldFxuICByZXR1cm4ge1xuICAgIGNoaWxkcmVuOiBpc0luZGV0ZXJtaW5hdGUgPyAnQWNjZXNzIGRlbmllZCcgOiAnVmFsdWUgaXMgc2V0JyxcbiAgICBpc0luZGV0ZXJtaW5hdGUsXG4gICAgaXNSZWFkT25seTogdHJ1ZSxcbiAgICBpc1NlbGVjdGVkLFxuICAgIHByb21pbmVuY2U6ICdsb3cnIGFzIGNvbnN0LFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBGaWVsZChwcm9wczogRmllbGRQcm9wczx0eXBlb2YgY29udHJvbGxlcj4pIHtcbiAgY29uc3QgeyBhdXRvRm9jdXMsIGZpZWxkLCBmb3JjZVZhbGlkYXRpb24sIG9uQ2hhbmdlLCB2YWx1ZSB9ID0gcHJvcHNcblxuICBjb25zdCBbc2VjdXJlVGV4dEVudHJ5LCBzZXRTZWN1cmVUZXh0RW50cnldID0gdXNlU3RhdGUodHJ1ZSlcbiAgY29uc3QgW3RvdWNoZWQsIHNldFRvdWNoZWRdID0gdXNlU3RhdGUoeyB2YWx1ZTogZmFsc2UsIGNvbmZpcm06IGZhbHNlIH0pXG4gIGNvbnN0IHRyaWdnZXJSZWYgPSB1c2VSZWY8SFRNTEJ1dHRvbkVsZW1lbnQ+KG51bGwpXG5cbiAgY29uc3QgaXNSZWFkT25seSA9IG9uQ2hhbmdlID09IG51bGxcbiAgY29uc3QgdmFsaWRhdGlvbk1lc3NhZ2UgPVxuICAgIGZvcmNlVmFsaWRhdGlvbiB8fCAodG91Y2hlZC52YWx1ZSAmJiB0b3VjaGVkLmNvbmZpcm0pXG4gICAgICA/IHZhbGlkYXRlKHZhbHVlLCBmaWVsZC52YWxpZGF0aW9uLCBwcm9wcy5pc1JlcXVpcmVkLCBmaWVsZC5sYWJlbClcbiAgICAgIDogdW5kZWZpbmVkXG5cbiAgY29uc3QgbGFiZWxJZCA9IHVzZUlkKClcbiAgY29uc3QgZGVzY3JpcHRpb25JZCA9IHVzZVNsb3RJZChbISFmaWVsZC5kZXNjcmlwdGlvbiwgISF2YWxpZGF0aW9uTWVzc2FnZV0pXG4gIGNvbnN0IG1lc3NhZ2VJZCA9IHVzZVNsb3RJZChbISFmaWVsZC5kZXNjcmlwdGlvbiwgISF2YWxpZGF0aW9uTWVzc2FnZV0pXG5cbiAgY29uc3QgY2FuY2VsRWRpdGluZyA9ICgpID0+IHtcbiAgICBvbkNoYW5nZT8uKHsga2luZDogJ2luaXRpYWwnLCBpc1NldDogdmFsdWUuaXNTZXQgfSlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRyaWdnZXJSZWYuY3VycmVudD8uZm9jdXMoKVxuICAgIH0sIDApXG4gIH1cbiAgY29uc3Qgb25Fc2NhcGUgPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChlLmtleSAhPT0gJ0VzY2FwZScgfHwgdmFsdWUua2luZCAhPT0gJ2VkaXRpbmcnKSByZXR1cm5cbiAgICBpZiAodmFsdWUudmFsdWUgPT09ICcnICYmIHZhbHVlLmNvbmZpcm0gPT09ICcnKSB7XG4gICAgICBjYW5jZWxFZGl0aW5nKClcbiAgICB9XG4gIH1cblxuICAvLyByZXNldCB3aGVuIHRoZSB1c2VyIGNhbmNlbHMsIG9yIHdoZW4gdGhlIGZvcm0gaXMgc3VibWl0dGVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHZhbHVlLmtpbmQgPT09ICdpbml0aWFsJykge1xuICAgICAgc2V0VG91Y2hlZCh7IHZhbHVlOiBmYWxzZSwgY29uZmlybTogZmFsc2UgfSlcbiAgICAgIHNldFNlY3VyZVRleHRFbnRyeSh0cnVlKVxuICAgIH1cbiAgfSwgW3ZhbHVlLmtpbmRdKVxuXG4gIHJldHVybiAoXG4gICAgPFZTdGFja1xuICAgICAgcm9sZT1cImdyb3VwXCJcbiAgICAgIGFyaWEtbGFiZWxsZWRieT17bGFiZWxJZH1cbiAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e2Rlc2NyaXB0aW9uSWR9XG4gICAgICBnYXA9XCJtZWRpdW1cIlxuICAgICAgbWluV2lkdGg9ezB9XG4gICAgPlxuICAgICAgPEZpZWxkTGFiZWwgZWxlbWVudFR5cGU9XCJzcGFuXCIgaWQ9e2xhYmVsSWR9PlxuICAgICAgICB7ZmllbGQubGFiZWx9XG4gICAgICA8L0ZpZWxkTGFiZWw+XG4gICAgICB7ISFmaWVsZC5kZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgIDxUZXh0IGlkPXtkZXNjcmlwdGlvbklkfSBzaXplPVwicmVndWxhclwiIGNvbG9yPVwibmV1dHJhbFNlY29uZGFyeVwiPlxuICAgICAgICAgIHtmaWVsZC5kZXNjcmlwdGlvbn1cbiAgICAgICAgPC9UZXh0PlxuICAgICAgKX1cbiAgICAgIHtpc1JlYWRPbmx5ID8gKFxuICAgICAgICA8Q2hlY2tib3ggey4uLnJlYWRvbmx5Q2hlY2tib3hQcm9wcyh2YWx1ZS5pc1NldCl9IC8+XG4gICAgICApIDogdmFsdWUua2luZCA9PT0gJ2luaXRpYWwnID8gKFxuICAgICAgICA8QWN0aW9uQnV0dG9uXG4gICAgICAgICAgcmVmPXt0cmlnZ2VyUmVmfVxuICAgICAgICAgIGFsaWduU2VsZj1cInN0YXJ0XCJcbiAgICAgICAgICBhdXRvRm9jdXM9e2F1dG9Gb2N1c31cbiAgICAgICAgICBvblByZXNzPXsoKSA9PiB7XG4gICAgICAgICAgICBvbkNoYW5nZSh7XG4gICAgICAgICAgICAgIGtpbmQ6ICdlZGl0aW5nJyxcbiAgICAgICAgICAgICAgY29uZmlybTogJycsXG4gICAgICAgICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgaXNTZXQ6IHZhbHVlLmlzU2V0LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge3ZhbHVlLmlzU2V0ID8gYENoYW5nZSBgIDogYFNldCBgfVxuICAgICAgICAgIHtmaWVsZC5sYWJlbC50b0xvY2FsZUxvd2VyQ2FzZSgpfVxuICAgICAgICA8L0FjdGlvbkJ1dHRvbj5cbiAgICAgICkgOiAoXG4gICAgICAgIDxGbGV4XG4gICAgICAgICAgZ2FwPVwicmVndWxhclwiXG4gICAgICAgICAgVU5TQUZFX2NsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgICAgIFtjb250YWluZXJRdWVyaWVzLmJlbG93LnRhYmxldF06IHtcbiAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pfVxuICAgICAgICA+XG4gICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgYXV0b0ZvY3VzXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtgbmV3ICR7ZmllbGQubGFiZWx9YH1cbiAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e1tkZXNjcmlwdGlvbklkLCBtZXNzYWdlSWRdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJyl9XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIOKAlCBuZWVkcyB0byBiZSBmaXhlZCBpbiBcIkBrZXlzdGFyL3VpXCJcbiAgICAgICAgICAgIGlzSW52YWxpZD17ISF2YWxpZGF0aW9uTWVzc2FnZX1cbiAgICAgICAgICAgIG9uQmx1cj17KCkgPT4gc2V0VG91Y2hlZCh7IC4uLnRvdWNoZWQsIHZhbHVlOiB0cnVlIH0pfVxuICAgICAgICAgICAgb25DaGFuZ2U9e3RleHQgPT4gb25DaGFuZ2UoeyAuLi52YWx1ZSwgdmFsdWU6IHRleHQgfSl9XG4gICAgICAgICAgICBvbktleURvd249e29uRXNjYXBlfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJOZXdcIlxuICAgICAgICAgICAgdHlwZT17c2VjdXJlVGV4dEVudHJ5ID8gJ3Bhc3N3b3JkJyA6ICd0ZXh0J31cbiAgICAgICAgICAgIHZhbHVlPXt2YWx1ZS52YWx1ZX1cbiAgICAgICAgICAgIGZsZXhcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2Bjb25maXJtICR7ZmllbGQubGFiZWx9YH1cbiAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e21lc3NhZ2VJZH0gLy8gZG9uJ3QgcmVwZWF0IHRoZSBkZXNjcmlwdGlvbiBhbm5vdW5jZW1lbnQgZm9yIHRoZSBjb25maXJtIGZpZWxkXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIOKAlCBuZWVkcyB0byBiZSBmaXhlZCBpbiBcIkBrZXlzdGFyL3VpXCJcbiAgICAgICAgICAgIGlzSW52YWxpZD17ISF2YWxpZGF0aW9uTWVzc2FnZX1cbiAgICAgICAgICAgIG9uQmx1cj17KCkgPT4gc2V0VG91Y2hlZCh7IC4uLnRvdWNoZWQsIGNvbmZpcm06IHRydWUgfSl9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGV4dCA9PiBvbkNoYW5nZSh7IC4uLnZhbHVlLCBjb25maXJtOiB0ZXh0IH0pfVxuICAgICAgICAgICAgb25LZXlEb3duPXtvbkVzY2FwZX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQ29uZmlybVwiXG4gICAgICAgICAgICB0eXBlPXtzZWN1cmVUZXh0RW50cnkgPyAncGFzc3dvcmQnIDogJ3RleHQnfVxuICAgICAgICAgICAgdmFsdWU9e3ZhbHVlLmNvbmZpcm19XG4gICAgICAgICAgICBmbGV4XG4gICAgICAgICAgLz5cblxuICAgICAgICAgIDxGbGV4IGdhcD1cInJlZ3VsYXJcIj5cbiAgICAgICAgICAgIDxUb2dnbGVCdXR0b25cbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cInNob3dcIlxuICAgICAgICAgICAgICBpc1NlbGVjdGVkPXshc2VjdXJlVGV4dEVudHJ5fVxuICAgICAgICAgICAgICBvblByZXNzPXsoKSA9PiBzZXRTZWN1cmVUZXh0RW50cnkoYm9vbCA9PiAhYm9vbCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxJY29uIHNyYz17ZXllSWNvbn0gLz5cbiAgICAgICAgICAgICAgPFRleHRcbiAgICAgICAgICAgICAgICBVTlNBRkVfY2xhc3NOYW1lPXtjc3Moe1xuICAgICAgICAgICAgICAgICAgW2NvbnRhaW5lclF1ZXJpZXMuYWJvdmUubW9iaWxlXToge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2hvd1xuICAgICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgICA8L1RvZ2dsZUJ1dHRvbj5cbiAgICAgICAgICAgIDxBY3Rpb25CdXR0b24gb25QcmVzcz17Y2FuY2VsRWRpdGluZ30+Q2FuY2VsPC9BY3Rpb25CdXR0b24+XG4gICAgICAgICAgPC9GbGV4PlxuICAgICAgICA8L0ZsZXg+XG4gICAgICApfVxuICAgICAgeyEhdmFsaWRhdGlvbk1lc3NhZ2UgJiYgPEZpZWxkTWVzc2FnZSBpZD17bWVzc2FnZUlkfT57dmFsaWRhdGlvbk1lc3NhZ2V9PC9GaWVsZE1lc3NhZ2U+fVxuICAgIDwvVlN0YWNrPlxuICApXG59XG5cbmV4cG9ydCBjb25zdCBDZWxsOiBDZWxsQ29tcG9uZW50PHR5cGVvZiBjb250cm9sbGVyPiA9ICh7IHZhbHVlIH0pID0+IHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsID8gKFxuICAgIDxkaXYgYXJpYS1sYWJlbD1cImlzIHNldFwiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JyB9fT5cbiAgICAgIDxJY29uIHNyYz17YXN0ZXJpc2tJY29ufSBzaXplPVwic21hbGxcIiAvPlxuICAgICAgPEljb24gc3JjPXthc3Rlcmlza0ljb259IHNpemU9XCJzbWFsbFwiIC8+XG4gICAgICA8SWNvbiBzcmM9e2FzdGVyaXNrSWNvbn0gc2l6ZT1cInNtYWxsXCIgLz5cbiAgICA8L2Rpdj5cbiAgKSA6IChcbiAgICA8VmlzdWFsbHlIaWRkZW4+bm90IHNldDwvVmlzdWFsbHlIaWRkZW4+XG4gIClcbn1cblxudHlwZSBWYWxpZGF0aW9uID0ge1xuICByZWplY3RDb21tb246IGJvb2xlYW5cbiAgbWF0Y2g6IHtcbiAgICByZWdleDogUmVnRXhwXG4gICAgZXhwbGFuYXRpb246IHN0cmluZ1xuICB9IHwgbnVsbFxuICBsZW5ndGg6IHtcbiAgICBtaW46IG51bWJlclxuICAgIG1heDogbnVtYmVyIHwgbnVsbFxuICB9XG59XG5cbmV4cG9ydCB0eXBlIFBhc3N3b3JkRmllbGRNZXRhID0ge1xuICBpc051bGxhYmxlOiBib29sZWFuXG4gIHZhbGlkYXRpb246IHtcbiAgICByZWplY3RDb21tb246IGJvb2xlYW5cbiAgICBtYXRjaDoge1xuICAgICAgcmVnZXg6IHsgc291cmNlOiBzdHJpbmc7IGZsYWdzOiBzdHJpbmcgfVxuICAgICAgZXhwbGFuYXRpb246IHN0cmluZ1xuICAgIH0gfCBudWxsXG4gICAgbGVuZ3RoOiB7XG4gICAgICBtaW46IG51bWJlclxuICAgICAgbWF4OiBudW1iZXIgfCBudWxsXG4gICAgfVxuICB9XG59XG5cbnR5cGUgVmFsdWUgPVxuICB8IHtcbiAgICAgIGtpbmQ6ICdpbml0aWFsJ1xuICAgICAgaXNTZXQ6IGJvb2xlYW4gfCBudWxsXG4gICAgfVxuICB8IHtcbiAgICAgIGtpbmQ6ICdlZGl0aW5nJ1xuICAgICAgaXNTZXQ6IGJvb2xlYW4gfCBudWxsXG4gICAgICB2YWx1ZTogc3RyaW5nXG4gICAgICBjb25maXJtOiBzdHJpbmdcbiAgICB9XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250cm9sbGVyKGNvbmZpZzogRmllbGRDb250cm9sbGVyQ29uZmlnPFBhc3N3b3JkRmllbGRNZXRhPik6IEZpZWxkQ29udHJvbGxlcjxcbiAgVmFsdWUsXG4gIGJvb2xlYW4gfCBudWxsLFxuICB7IGlzU2V0PzogYm9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWQgfVxuPiAmIHtcbiAgdmFsaWRhdGlvbjogVmFsaWRhdGlvblxufSB7XG4gIGNvbnN0IHZhbGlkYXRpb246IFZhbGlkYXRpb24gPSB7XG4gICAgLi4uY29uZmlnLmZpZWxkTWV0YS52YWxpZGF0aW9uLFxuICAgIG1hdGNoOlxuICAgICAgY29uZmlnLmZpZWxkTWV0YS52YWxpZGF0aW9uLm1hdGNoID09PSBudWxsXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IHtcbiAgICAgICAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgICBjb25maWcuZmllbGRNZXRhLnZhbGlkYXRpb24ubWF0Y2gucmVnZXguc291cmNlLFxuICAgICAgICAgICAgICBjb25maWcuZmllbGRNZXRhLnZhbGlkYXRpb24ubWF0Y2gucmVnZXguZmxhZ3NcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBleHBsYW5hdGlvbjogY29uZmlnLmZpZWxkTWV0YS52YWxpZGF0aW9uLm1hdGNoLmV4cGxhbmF0aW9uLFxuICAgICAgICAgIH0sXG4gIH1cbiAgcmV0dXJuIHtcbiAgICBmaWVsZEtleTogY29uZmlnLmZpZWxkS2V5LFxuICAgIGxhYmVsOiBjb25maWcubGFiZWwsXG4gICAgZGVzY3JpcHRpb246IGNvbmZpZy5kZXNjcmlwdGlvbixcbiAgICBncmFwaHFsU2VsZWN0aW9uOiBgJHtjb25maWcuZmllbGRLZXl9IHtpc1NldH1gLFxuICAgIHZhbGlkYXRpb24sXG4gICAgZGVmYXVsdFZhbHVlOiB7XG4gICAgICBraW5kOiAnaW5pdGlhbCcsXG4gICAgICBpc1NldDogZmFsc2UsXG4gICAgfSxcbiAgICB2YWxpZGF0ZTogKHN0YXRlLCBvcHRzKSA9PlxuICAgICAgdmFsaWRhdGUoc3RhdGUsIHZhbGlkYXRpb24sIG9wdHMuaXNSZXF1aXJlZCwgY29uZmlnLmxhYmVsKSA9PT0gdW5kZWZpbmVkLFxuICAgIGRlc2VyaWFsaXplOiBkYXRhID0+ICh7IGtpbmQ6ICdpbml0aWFsJywgaXNTZXQ6IGRhdGFbY29uZmlnLmZpZWxkS2V5XT8uaXNTZXQgPz8gbnVsbCB9KSxcbiAgICBzZXJpYWxpemU6IHZhbHVlID0+IHtcbiAgICAgIGlmICh2YWx1ZS5raW5kID09PSAnaW5pdGlhbCcpIHJldHVybiB7fVxuICAgICAgcmV0dXJuIHsgW2NvbmZpZy5maWVsZEtleV06IHZhbHVlLnZhbHVlIH1cbiAgICB9LFxuICAgIGZpbHRlcjpcbiAgICAgIGNvbmZpZy5maWVsZE1ldGEuaXNOdWxsYWJsZSA9PT0gZmFsc2VcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiB7XG4gICAgICAgICAgICBGaWx0ZXIocHJvcHMpIHtcbiAgICAgICAgICAgICAgY29uc3QgeyBhdXRvRm9jdXMsIGNvbnRleHQsIHR5cGVMYWJlbCwgb25DaGFuZ2UsIHZhbHVlLCB0eXBlLCAuLi5vdGhlclByb3BzIH0gPSBwcm9wc1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgYXV0b0ZvY3VzPXthdXRvRm9jdXN9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBpc1NlbGVjdGVkPXt2YWx1ZSA/PyBmYWxzZX1cbiAgICAgICAgICAgICAgICAgIHsuLi5vdGhlclByb3BzfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHt0eXBlTGFiZWx9IHNldFxuICAgICAgICAgICAgICAgIDwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBncmFwaHFsKHsgdHlwZSwgdmFsdWUgfSkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIFtjb25maWcuZmllbGRLZXldOiB7XG4gICAgICAgICAgICAgICAgICBpc1NldDogdHlwZSA9PT0gJ25vdCcgPyAhdmFsdWUgOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyc2VHcmFwaFFMOiB2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZT8uaXNTZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbeyB0eXBlOiAnaXMnLCB2YWx1ZTogdmFsdWUuaXNTZXQgfV1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBMYWJlbCh7IHR5cGUsIHZhbHVlIH0pIHtcbiAgICAgICAgICAgICAgaWYgKCh0eXBlID09PSAnaXMnICYmIHZhbHVlKSB8fCAodHlwZSA9PT0gJ25vdCcgJiYgIXZhbHVlKSkgcmV0dXJuIGBpcyBzZXRgXG4gICAgICAgICAgICAgIHJldHVybiBgaXMgbm90IHNldGBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0eXBlczoge1xuICAgICAgICAgICAgICBpczoge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnSXMnLFxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbm90OiB7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdJcyBub3QnLFxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgfVxufVxuIl0sIm5hbWVzIjpbImR1bWJQYXNzd29yZHMiLCJ1c2VFZmZlY3QiLCJ1c2VJZCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlU2xvdElkIiwiQWN0aW9uQnV0dG9uIiwiVG9nZ2xlQnV0dG9uIiwiQ2hlY2tib3giLCJGaWVsZExhYmVsIiwiRmllbGRNZXNzYWdlIiwiSWNvbiIsImV5ZUljb24iLCJhc3Rlcmlza0ljb24iLCJGbGV4IiwiVlN0YWNrIiwiY29udGFpbmVyUXVlcmllcyIsImNzcyIsIlRleHRGaWVsZCIsIlRleHQiLCJWaXN1YWxseUhpZGRlbiIsInZhbGlkYXRlIiwidmFsdWUiLCJ2YWxpZGF0aW9uIiwiaXNSZXF1aXJlZCIsImZpZWxkTGFiZWwiLCJraW5kIiwiaXNTZXQiLCJ1bmRlZmluZWQiLCJjb25maXJtIiwidmFsIiwibGVuZ3RoIiwibWluIiwibWF4IiwibWF0Y2giLCJyZWdleCIsInRlc3QiLCJleHBsYW5hdGlvbiIsInJlamVjdENvbW1vbiIsImNoZWNrIiwicmVhZG9ubHlDaGVja2JveFByb3BzIiwiaXNJbmRldGVybWluYXRlIiwiaXNTZWxlY3RlZCIsImNoaWxkcmVuIiwiaXNSZWFkT25seSIsInByb21pbmVuY2UiLCJGaWVsZCIsInByb3BzIiwiYXV0b0ZvY3VzIiwiZmllbGQiLCJmb3JjZVZhbGlkYXRpb24iLCJvbkNoYW5nZSIsInNlY3VyZVRleHRFbnRyeSIsInNldFNlY3VyZVRleHRFbnRyeSIsInRvdWNoZWQiLCJzZXRUb3VjaGVkIiwidHJpZ2dlclJlZiIsInZhbGlkYXRpb25NZXNzYWdlIiwibGFiZWwiLCJsYWJlbElkIiwiZGVzY3JpcHRpb25JZCIsImRlc2NyaXB0aW9uIiwibWVzc2FnZUlkIiwiY2FuY2VsRWRpdGluZyIsInNldFRpbWVvdXQiLCJjdXJyZW50IiwiZm9jdXMiLCJvbkVzY2FwZSIsImUiLCJrZXkiLCJyb2xlIiwiYXJpYS1sYWJlbGxlZGJ5IiwiYXJpYS1kZXNjcmliZWRieSIsImdhcCIsIm1pbldpZHRoIiwiZWxlbWVudFR5cGUiLCJpZCIsInNpemUiLCJjb2xvciIsInJlZiIsImFsaWduU2VsZiIsIm9uUHJlc3MiLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsIlVOU0FGRV9jbGFzc05hbWUiLCJiZWxvdyIsInRhYmxldCIsImZsZXhEaXJlY3Rpb24iLCJhcmlhLWxhYmVsIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJpc0ludmFsaWQiLCJvbkJsdXIiLCJ0ZXh0Iiwib25LZXlEb3duIiwicGxhY2Vob2xkZXIiLCJ0eXBlIiwiZmxleCIsImJvb2wiLCJzcmMiLCJhYm92ZSIsIm1vYmlsZSIsImRpc3BsYXkiLCJDZWxsIiwiZGl2Iiwic3R5bGUiLCJjb250cm9sbGVyIiwiY29uZmlnIiwiZmllbGRNZXRhIiwiUmVnRXhwIiwic291cmNlIiwiZmxhZ3MiLCJmaWVsZEtleSIsImdyYXBocWxTZWxlY3Rpb24iLCJkZWZhdWx0VmFsdWUiLCJzdGF0ZSIsIm9wdHMiLCJkZXNlcmlhbGl6ZSIsImRhdGEiLCJzZXJpYWxpemUiLCJpc051bGxhYmxlIiwiRmlsdGVyIiwiY29udGV4dCIsInR5cGVMYWJlbCIsIm90aGVyUHJvcHMiLCJncmFwaHFsIiwicGFyc2VHcmFwaFFMIiwiTGFiZWwiLCJ0eXBlcyIsImlzIiwiaW5pdGlhbFZhbHVlIiwibm90Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/password/views/index.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/relationship/views/ComboboxMany.tsx":
/*!**************************************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/relationship/views/ComboboxMany.tsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ComboboxMany: () => (/* binding */ ComboboxMany)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_combobox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/combobox */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-combobox.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _useApolloQuery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useApolloQuery */ \"../../../../packages/core/src/fields/types/relationship/views/useApolloQuery.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nfunction ComboboxMany({ extraSelection = '', forceValidation, isDisabled, isLoading, isReadOnly, isRequired, labelField, list, searchFields, state, filter, sort, ...props }) {\n    const { data, loadingState, error, onLoadMore, search, setSearch } = (0,_useApolloQuery__WEBPACK_IMPORTED_MODULE_3__.useApolloQuery)({\n        labelField,\n        list,\n        searchFields,\n        state,\n        filter,\n        sort\n    });\n    const [shouldShowErrors, setShouldShowErrors] = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false);\n    const validationMessages = isRequired && state.value.length === 0 ? [\n        `At least one ${list.singular} is required`\n    ] : [];\n    // TODO: better error UI\n    // TODO: Handle permission errors\n    // (ie; user has permission to read this relationship field, but\n    // not the related list, or some items on the list)\n    if (error) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        children: \"Error\"\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ComboboxMany.tsx\",\n        lineNumber: 62,\n        columnNumber: 21\n    }, this);\n    const items = data?.items?.map((x)=>({\n            ...x,\n            built: false\n        })) ?? [];\n    const fetchedIds = new Set(items.map((item)=>item.id));\n    for (const item of state.value){\n        if (!fetchedIds.has(item.id)) {\n            items.push(item);\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_combobox__WEBPACK_IMPORTED_MODULE_1__.ComboboxMulti, {\n        ...props,\n        isDisabled: isDisabled || isReadOnly,\n        isRequired: isRequired,\n        items: items,\n        loadingState: loadingState,\n        errorMessage: !!validationMessages.length && (shouldShowErrors || forceValidation) ? validationMessages.join('. ') : undefined,\n        onBlur: ()=>{\n            setShouldShowErrors(true);\n        },\n        onInputChange: setSearch,\n        inputValue: search,\n        onLoadMore: onLoadMore,\n        selectedKeys: state.value?.map((item)=>item.id.toString()),\n        onSelectionChange: (selection)=>{\n            // TODO\n            if (selection === 'all') return;\n            const selectedItems = items.filter((item)=>selection.has(item.id.toString()));\n            state.onChange(selectedItems);\n        },\n        minWidth: \"alias.singleLineWidth\",\n        width: \"auto\",\n        UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.css)({\n            // This should probably be addressed in @keystar/ui/combobox\n            // - the mobile variant should respect the `width` prop\n            '[role=\"button\"]': {\n                width: 'auto'\n            }\n        }),\n        children: (item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_combobox__WEBPACK_IMPORTED_MODULE_1__.Item, {\n                children: item.label || item.id\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ComboboxMany.tsx\",\n                lineNumber: 107,\n                columnNumber: 16\n            }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ComboboxMany.tsx\",\n        lineNumber: 74,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy9Db21ib2JveE1hbnkudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEwRDtBQUNuQjtBQUlVO0FBQ2pCO0FBRXpCLFNBQVNLLGFBQWEsRUFDM0JDLGlCQUFpQixFQUFFLEVBQ25CQyxlQUFlLEVBQ2ZDLFVBQVUsRUFDVkMsU0FBUyxFQUNUQyxVQUFVLEVBQ1ZDLFVBQVUsRUFDVkMsVUFBVSxFQUNWQyxJQUFJLEVBQ0pDLFlBQVksRUFDWkMsS0FBSyxFQUNMQyxNQUFNLEVBQ05DLElBQUksRUFDSixHQUFHQyxPQXVCSjtJQUNDLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxZQUFZLEVBQUVDLEtBQUssRUFBRUMsVUFBVSxFQUFFQyxNQUFNLEVBQUVDLFNBQVMsRUFBRSxHQUFHckIsK0RBQWNBLENBQUM7UUFDbEZTO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO0lBQ0Y7SUFDQSxNQUFNLENBQUNRLGtCQUFrQkMsb0JBQW9CLEdBQUd0QiwrQ0FBUUEsQ0FBQztJQUN6RCxNQUFNdUIscUJBQ0poQixjQUFjSSxNQUFNYSxLQUFLLENBQUNDLE1BQU0sS0FBSyxJQUFJO1FBQUMsQ0FBQyxhQUFhLEVBQUVoQixLQUFLaUIsUUFBUSxDQUFDLFlBQVksQ0FBQztLQUFDLEdBQUcsRUFBRTtJQUU3Rix3QkFBd0I7SUFDeEIsaUNBQWlDO0lBQ2pDLGdFQUFnRTtJQUNoRSxtREFBbUQ7SUFDbkQsSUFBSVQsT0FBTyxxQkFBTyw4REFBQ1U7a0JBQUs7Ozs7OztJQUV4QixNQUFNQyxRQUE2QmIsTUFBTWEsT0FBT0MsSUFBSUMsQ0FBQUEsSUFBTTtZQUFFLEdBQUdBLENBQUM7WUFBRUMsT0FBTztRQUFNLE9BQU8sRUFBRTtJQUN4RixNQUFNQyxhQUFhLElBQUlDLElBQUlMLE1BQU1DLEdBQUcsQ0FBQ0ssQ0FBQUEsT0FBUUEsS0FBS0MsRUFBRTtJQUVwRCxLQUFLLE1BQU1ELFFBQVF2QixNQUFNYSxLQUFLLENBQUU7UUFDOUIsSUFBSSxDQUFDUSxXQUFXSSxHQUFHLENBQUNGLEtBQUtDLEVBQUUsR0FBRztZQUM1QlAsTUFBTVMsSUFBSSxDQUFDSDtRQUNiO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ3RDLCtEQUFhQTtRQUNYLEdBQUdrQixLQUFLO1FBQ1RWLFlBQVlBLGNBQWNFO1FBQzFCQyxZQUFZQTtRQUNacUIsT0FBT0E7UUFDUFosY0FBY0E7UUFDZHNCLGNBQ0UsQ0FBQyxDQUFDZixtQkFBbUJFLE1BQU0sSUFBS0osQ0FBQUEsb0JBQW9CbEIsZUFBYyxJQUM5RG9CLG1CQUFtQmdCLElBQUksQ0FBQyxRQUN4QkM7UUFFTkMsUUFBUTtZQUNObkIsb0JBQW9CO1FBQ3RCO1FBQ0FvQixlQUFldEI7UUFDZnVCLFlBQVl4QjtRQUNaRCxZQUFZQTtRQUNaMEIsY0FBY2pDLE1BQU1hLEtBQUssRUFBRUssSUFBSUssQ0FBQUEsT0FBUUEsS0FBS0MsRUFBRSxDQUFDVSxRQUFRO1FBQ3ZEQyxtQkFBbUJDLENBQUFBO1lBQ2pCLE9BQU87WUFDUCxJQUFJQSxjQUFjLE9BQU87WUFFekIsTUFBTUMsZ0JBQWdCcEIsTUFBTWhCLE1BQU0sQ0FBQ3NCLENBQUFBLE9BQVFhLFVBQVVYLEdBQUcsQ0FBQ0YsS0FBS0MsRUFBRSxDQUFDVSxRQUFRO1lBQ3pFbEMsTUFBTXNDLFFBQVEsQ0FBQ0Q7UUFDakI7UUFDQUUsVUFBUztRQUNUQyxPQUFNO1FBQ05DLGtCQUFrQnRELHNEQUFHQSxDQUFDO1lBQ3BCLDREQUE0RDtZQUM1RCx1REFBdUQ7WUFDdkQsbUJBQW1CO2dCQUFFcUQsT0FBTztZQUFPO1FBQ3JDO2tCQUVDakIsQ0FBQUEscUJBQVEsOERBQUNyQyxzREFBSUE7MEJBQUVxQyxLQUFLbUIsS0FBSyxJQUFJbkIsS0FBS0MsRUFBRTs7Ozs7Ozs7Ozs7QUFHM0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy9Db21ib2JveE1hbnkudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbWJvYm94TXVsdGksIEl0ZW0gfSBmcm9tICdAa2V5c3Rhci91aS9jb21ib2JveCdcbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BrZXlzdGFyL3VpL3N0eWxlJ1xuXG5pbXBvcnQgdHlwZSB7IExpc3RNZXRhIH0gZnJvbSAnLi4vLi4vLi4vLi4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IFJlbGF0aW9uc2hpcFZhbHVlIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IHVzZUFwb2xsb1F1ZXJ5IH0gZnJvbSAnLi91c2VBcG9sbG9RdWVyeSdcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5cbmV4cG9ydCBmdW5jdGlvbiBDb21ib2JveE1hbnkoe1xuICBleHRyYVNlbGVjdGlvbiA9ICcnLFxuICBmb3JjZVZhbGlkYXRpb24sXG4gIGlzRGlzYWJsZWQsXG4gIGlzTG9hZGluZyxcbiAgaXNSZWFkT25seSxcbiAgaXNSZXF1aXJlZCxcbiAgbGFiZWxGaWVsZCxcbiAgbGlzdCxcbiAgc2VhcmNoRmllbGRzLFxuICBzdGF0ZSxcbiAgZmlsdGVyLFxuICBzb3J0LFxuICAuLi5wcm9wc1xufToge1xuICBhdXRvRm9jdXM/OiBib29sZWFuXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nXG4gIGZvcmNlVmFsaWRhdGlvbj86IGJvb2xlYW5cbiAgaXNEaXNhYmxlZD86IGJvb2xlYW5cbiAgaXNMb2FkaW5nPzogYm9vbGVhblxuICBpc1JlYWRPbmx5PzogYm9vbGVhblxuICBpc1JlcXVpcmVkPzogYm9vbGVhblxuICBsYWJlbD86IHN0cmluZ1xuICAnYXJpYS1sYWJlbCc/OiBzdHJpbmdcbiAgbGFiZWxGaWVsZDogc3RyaW5nXG4gIHNlYXJjaEZpZWxkczogc3RyaW5nW11cbiAgbGlzdDogTGlzdE1ldGFcbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmdcbiAgZmlsdGVyPzogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGxcbiAgc29ydD86IHsgZmllbGQ6IHN0cmluZzsgZGlyZWN0aW9uOiAnQVNDJyB8ICdERVNDJyB9IHwgbnVsbFxuICBzdGF0ZToge1xuICAgIGtpbmQ6ICdtYW55J1xuICAgIHZhbHVlOiBSZWxhdGlvbnNoaXBWYWx1ZVtdXG4gICAgb25DaGFuZ2UodmFsdWU6IFJlbGF0aW9uc2hpcFZhbHVlW10pOiB2b2lkXG4gIH1cbiAgZXh0cmFTZWxlY3Rpb24/OiBzdHJpbmdcbn0pIHtcbiAgY29uc3QgeyBkYXRhLCBsb2FkaW5nU3RhdGUsIGVycm9yLCBvbkxvYWRNb3JlLCBzZWFyY2gsIHNldFNlYXJjaCB9ID0gdXNlQXBvbGxvUXVlcnkoe1xuICAgIGxhYmVsRmllbGQsXG4gICAgbGlzdCxcbiAgICBzZWFyY2hGaWVsZHMsXG4gICAgc3RhdGUsXG4gICAgZmlsdGVyLFxuICAgIHNvcnQsXG4gIH0pXG4gIGNvbnN0IFtzaG91bGRTaG93RXJyb3JzLCBzZXRTaG91bGRTaG93RXJyb3JzXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCB2YWxpZGF0aW9uTWVzc2FnZXMgPVxuICAgIGlzUmVxdWlyZWQgJiYgc3RhdGUudmFsdWUubGVuZ3RoID09PSAwID8gW2BBdCBsZWFzdCBvbmUgJHtsaXN0LnNpbmd1bGFyfSBpcyByZXF1aXJlZGBdIDogW11cblxuICAvLyBUT0RPOiBiZXR0ZXIgZXJyb3IgVUlcbiAgLy8gVE9ETzogSGFuZGxlIHBlcm1pc3Npb24gZXJyb3JzXG4gIC8vIChpZTsgdXNlciBoYXMgcGVybWlzc2lvbiB0byByZWFkIHRoaXMgcmVsYXRpb25zaGlwIGZpZWxkLCBidXRcbiAgLy8gbm90IHRoZSByZWxhdGVkIGxpc3QsIG9yIHNvbWUgaXRlbXMgb24gdGhlIGxpc3QpXG4gIGlmIChlcnJvcikgcmV0dXJuIDxzcGFuPkVycm9yPC9zcGFuPlxuXG4gIGNvbnN0IGl0ZW1zOiBSZWxhdGlvbnNoaXBWYWx1ZVtdID0gZGF0YT8uaXRlbXM/Lm1hcCh4ID0+ICh7IC4uLngsIGJ1aWx0OiBmYWxzZSB9KSkgPz8gW11cbiAgY29uc3QgZmV0Y2hlZElkcyA9IG5ldyBTZXQoaXRlbXMubWFwKGl0ZW0gPT4gaXRlbS5pZCkpXG5cbiAgZm9yIChjb25zdCBpdGVtIG9mIHN0YXRlLnZhbHVlKSB7XG4gICAgaWYgKCFmZXRjaGVkSWRzLmhhcyhpdGVtLmlkKSkge1xuICAgICAgaXRlbXMucHVzaChpdGVtKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPENvbWJvYm94TXVsdGlcbiAgICAgIHsuLi5wcm9wc31cbiAgICAgIGlzRGlzYWJsZWQ9e2lzRGlzYWJsZWQgfHwgaXNSZWFkT25seX1cbiAgICAgIGlzUmVxdWlyZWQ9e2lzUmVxdWlyZWR9XG4gICAgICBpdGVtcz17aXRlbXN9XG4gICAgICBsb2FkaW5nU3RhdGU9e2xvYWRpbmdTdGF0ZX1cbiAgICAgIGVycm9yTWVzc2FnZT17XG4gICAgICAgICEhdmFsaWRhdGlvbk1lc3NhZ2VzLmxlbmd0aCAmJiAoc2hvdWxkU2hvd0Vycm9ycyB8fCBmb3JjZVZhbGlkYXRpb24pXG4gICAgICAgICAgPyB2YWxpZGF0aW9uTWVzc2FnZXMuam9pbignLiAnKVxuICAgICAgICAgIDogdW5kZWZpbmVkXG4gICAgICB9XG4gICAgICBvbkJsdXI9eygpID0+IHtcbiAgICAgICAgc2V0U2hvdWxkU2hvd0Vycm9ycyh0cnVlKVxuICAgICAgfX1cbiAgICAgIG9uSW5wdXRDaGFuZ2U9e3NldFNlYXJjaH1cbiAgICAgIGlucHV0VmFsdWU9e3NlYXJjaH1cbiAgICAgIG9uTG9hZE1vcmU9e29uTG9hZE1vcmV9XG4gICAgICBzZWxlY3RlZEtleXM9e3N0YXRlLnZhbHVlPy5tYXAoaXRlbSA9PiBpdGVtLmlkLnRvU3RyaW5nKCkpfVxuICAgICAgb25TZWxlY3Rpb25DaGFuZ2U9e3NlbGVjdGlvbiA9PiB7XG4gICAgICAgIC8vIFRPRE9cbiAgICAgICAgaWYgKHNlbGVjdGlvbiA9PT0gJ2FsbCcpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbXMgPSBpdGVtcy5maWx0ZXIoaXRlbSA9PiBzZWxlY3Rpb24uaGFzKGl0ZW0uaWQudG9TdHJpbmcoKSkpXG4gICAgICAgIHN0YXRlLm9uQ2hhbmdlKHNlbGVjdGVkSXRlbXMpXG4gICAgICB9fVxuICAgICAgbWluV2lkdGg9XCJhbGlhcy5zaW5nbGVMaW5lV2lkdGhcIlxuICAgICAgd2lkdGg9XCJhdXRvXCJcbiAgICAgIFVOU0FGRV9jbGFzc05hbWU9e2Nzcyh7XG4gICAgICAgIC8vIFRoaXMgc2hvdWxkIHByb2JhYmx5IGJlIGFkZHJlc3NlZCBpbiBAa2V5c3Rhci91aS9jb21ib2JveFxuICAgICAgICAvLyAtIHRoZSBtb2JpbGUgdmFyaWFudCBzaG91bGQgcmVzcGVjdCB0aGUgYHdpZHRoYCBwcm9wXG4gICAgICAgICdbcm9sZT1cImJ1dHRvblwiXSc6IHsgd2lkdGg6ICdhdXRvJyB9LFxuICAgICAgfSl9XG4gICAgPlxuICAgICAge2l0ZW0gPT4gPEl0ZW0+e2l0ZW0ubGFiZWwgfHwgaXRlbS5pZH08L0l0ZW0+fVxuICAgIDwvQ29tYm9ib3hNdWx0aT5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIkNvbWJvYm94TXVsdGkiLCJJdGVtIiwiY3NzIiwidXNlQXBvbGxvUXVlcnkiLCJ1c2VTdGF0ZSIsIkNvbWJvYm94TWFueSIsImV4dHJhU2VsZWN0aW9uIiwiZm9yY2VWYWxpZGF0aW9uIiwiaXNEaXNhYmxlZCIsImlzTG9hZGluZyIsImlzUmVhZE9ubHkiLCJpc1JlcXVpcmVkIiwibGFiZWxGaWVsZCIsImxpc3QiLCJzZWFyY2hGaWVsZHMiLCJzdGF0ZSIsImZpbHRlciIsInNvcnQiLCJwcm9wcyIsImRhdGEiLCJsb2FkaW5nU3RhdGUiLCJlcnJvciIsIm9uTG9hZE1vcmUiLCJzZWFyY2giLCJzZXRTZWFyY2giLCJzaG91bGRTaG93RXJyb3JzIiwic2V0U2hvdWxkU2hvd0Vycm9ycyIsInZhbGlkYXRpb25NZXNzYWdlcyIsInZhbHVlIiwibGVuZ3RoIiwic2luZ3VsYXIiLCJzcGFuIiwiaXRlbXMiLCJtYXAiLCJ4IiwiYnVpbHQiLCJmZXRjaGVkSWRzIiwiU2V0IiwiaXRlbSIsImlkIiwiaGFzIiwicHVzaCIsImVycm9yTWVzc2FnZSIsImpvaW4iLCJ1bmRlZmluZWQiLCJvbkJsdXIiLCJvbklucHV0Q2hhbmdlIiwiaW5wdXRWYWx1ZSIsInNlbGVjdGVkS2V5cyIsInRvU3RyaW5nIiwib25TZWxlY3Rpb25DaGFuZ2UiLCJzZWxlY3Rpb24iLCJzZWxlY3RlZEl0ZW1zIiwib25DaGFuZ2UiLCJtaW5XaWR0aCIsIndpZHRoIiwiVU5TQUZFX2NsYXNzTmFtZSIsImxhYmVsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/relationship/views/ComboboxMany.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/relationship/views/ComboboxSingle.tsx":
/*!****************************************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/relationship/views/ComboboxSingle.tsx ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ComboboxSingle: () => (/* binding */ ComboboxSingle)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_combobox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/combobox */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-combobox.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _useApolloQuery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useApolloQuery */ \"../../../../packages/core/src/fields/types/relationship/views/useApolloQuery.ts\");\n\n\n\n\n\nfunction ComboboxSingle({ forceValidation, isLoading, isRequired, labelField, list, searchFields, state, filter, sort, ...props }) {\n    const { data, loading, error, onLoadMore, search, setSearch } = (0,_useApolloQuery__WEBPACK_IMPORTED_MODULE_4__.useApolloQuery)({\n        labelField,\n        list,\n        searchFields,\n        state,\n        filter,\n        sort\n    });\n    const [shouldShowErrors, setShouldShowErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const validationMessages = isRequired && state.value === null ? [\n        `A ${list.singular} is required`\n    ] : [];\n    const [lastSeenStateValue, setLastSeenStateValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(state.value);\n    if (state.value !== lastSeenStateValue) {\n        setLastSeenStateValue(state.value);\n        setSearch(state.value?.label ?? '');\n    }\n    // TODO: better error UI\n    // TODO: Handle permission errors\n    // (ie; user has permission to read this relationship field, but\n    // not the related list, or some items on the list)\n    if (error) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        children: \"Error\"\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ComboboxSingle.tsx\",\n        lineNumber: 65,\n        columnNumber: 21\n    }, this);\n    const items = data?.items?.map((x)=>({\n            ...x,\n            built: false\n        })) ?? [];\n    if (state.value !== null && (state.value.built || !items.some((item)=>item.id === state.value?.id))) {\n        items.push(state.value);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_combobox__WEBPACK_IMPORTED_MODULE_2__.Combobox, {\n        ...props,\n        isRequired: isRequired,\n        items: data?.items ?? [],\n        loadingState: loading || isLoading ? 'loading' : 'idle',\n        errorMessage: !!validationMessages.length && (shouldShowErrors || forceValidation) ? validationMessages.join('. ') : undefined,\n        onBlur: ()=>{\n            setShouldShowErrors(true);\n        },\n        onInputChange: (input)=>{\n            setSearch(input);\n            // unset the selected value when the user clears the input\n            if (input === '') state.onChange(null);\n        },\n        inputValue: search,\n        onLoadMore: onLoadMore,\n        selectedKey: state.value ? state.value.id.toString() : null,\n        onSelectionChange: (key)=>{\n            const selectedItem = items.find((item)=>item.id.toString() === key) ?? null;\n            state.onChange(selectedItem);\n            setSearch(selectedItem?.label ?? '');\n        },\n        minWidth: \"alias.singleLineWidth\",\n        width: \"auto\",\n        UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.css)({\n            // This should probably be addressed in @keystar/ui/combobox\n            // - the mobile variant should respect the `width` prop\n            '[role=\"button\"]': {\n                width: 'auto'\n            }\n        }),\n        children: (item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_combobox__WEBPACK_IMPORTED_MODULE_2__.Item, {\n                children: item.label || item.id\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ComboboxSingle.tsx\",\n                lineNumber: 112,\n                columnNumber: 16\n            }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ComboboxSingle.tsx\",\n        lineNumber: 77,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy9Db21ib2JveFNpbmdsZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQWdDO0FBRXFCO0FBQ2Q7QUFJVTtBQUUxQyxTQUFTSyxlQUFlLEVBQzdCQyxlQUFlLEVBQ2ZDLFNBQVMsRUFDVEMsVUFBVSxFQUNWQyxVQUFVLEVBQ1ZDLElBQUksRUFDSkMsWUFBWSxFQUNaQyxLQUFLLEVBQ0xDLE1BQU0sRUFDTkMsSUFBSSxFQUNKLEdBQUdDLE9BcUJKO0lBQ0MsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxVQUFVLEVBQUVDLE1BQU0sRUFBRUMsU0FBUyxFQUFFLEdBQUdqQiwrREFBY0EsQ0FBQztRQUM3RUs7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7SUFDRjtJQUVBLE1BQU0sQ0FBQ1Esa0JBQWtCQyxvQkFBb0IsR0FBR3ZCLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU13QixxQkFDSmhCLGNBQWNJLE1BQU1hLEtBQUssS0FBSyxPQUFPO1FBQUMsQ0FBQyxFQUFFLEVBQUVmLEtBQUtnQixRQUFRLENBQUMsWUFBWSxDQUFDO0tBQUMsR0FBRyxFQUFFO0lBQzlFLE1BQU0sQ0FBQ0Msb0JBQW9CQyxzQkFBc0IsR0FBRzVCLCtDQUFRQSxDQUFDWSxNQUFNYSxLQUFLO0lBRXhFLElBQUliLE1BQU1hLEtBQUssS0FBS0Usb0JBQW9CO1FBQ3RDQyxzQkFBc0JoQixNQUFNYSxLQUFLO1FBQ2pDSixVQUFVVCxNQUFNYSxLQUFLLEVBQUVJLFNBQVM7SUFDbEM7SUFFQSx3QkFBd0I7SUFDeEIsaUNBQWlDO0lBQ2pDLGdFQUFnRTtJQUNoRSxtREFBbUQ7SUFDbkQsSUFBSVgsT0FBTyxxQkFBTyw4REFBQ1k7a0JBQUs7Ozs7OztJQUV4QixNQUFNQyxRQUE2QmYsTUFBTWUsT0FBT0MsSUFBSUMsQ0FBQUEsSUFBTTtZQUFFLEdBQUdBLENBQUM7WUFBRUMsT0FBTztRQUFNLE9BQU8sRUFBRTtJQUV4RixJQUNFdEIsTUFBTWEsS0FBSyxLQUFLLFFBQ2ZiLENBQUFBLE1BQU1hLEtBQUssQ0FBQ1MsS0FBSyxJQUFJLENBQUNILE1BQU1JLElBQUksQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0MsRUFBRSxLQUFLekIsTUFBTWEsS0FBSyxFQUFFWSxHQUFFLEdBQ3JFO1FBQ0FOLE1BQU1PLElBQUksQ0FBQzFCLE1BQU1hLEtBQUs7SUFDeEI7SUFFQSxxQkFDRSw4REFBQ3hCLDBEQUFRQTtRQUNOLEdBQUdjLEtBQUs7UUFDVFAsWUFBWUE7UUFDWnVCLE9BQU9mLE1BQU1lLFNBQVMsRUFBRTtRQUN4QlEsY0FBY3RCLFdBQVdWLFlBQVksWUFBWTtRQUNqRGlDLGNBQ0UsQ0FBQyxDQUFDaEIsbUJBQW1CaUIsTUFBTSxJQUFLbkIsQ0FBQUEsb0JBQW9CaEIsZUFBYyxJQUM5RGtCLG1CQUFtQmtCLElBQUksQ0FBQyxRQUN4QkM7UUFFTkMsUUFBUTtZQUNOckIsb0JBQW9CO1FBQ3RCO1FBQ0FzQixlQUFlQyxDQUFBQTtZQUNiekIsVUFBVXlCO1lBRVYsMERBQTBEO1lBQzFELElBQUlBLFVBQVUsSUFBSWxDLE1BQU1tQyxRQUFRLENBQUM7UUFDbkM7UUFDQUMsWUFBWTVCO1FBQ1pELFlBQVlBO1FBQ1o4QixhQUFhckMsTUFBTWEsS0FBSyxHQUFHYixNQUFNYSxLQUFLLENBQUNZLEVBQUUsQ0FBQ2EsUUFBUSxLQUFLO1FBQ3ZEQyxtQkFBbUJDLENBQUFBO1lBQ2pCLE1BQU1DLGVBQWV0QixNQUFNdUIsSUFBSSxDQUFDbEIsQ0FBQUEsT0FBUUEsS0FBS0MsRUFBRSxDQUFDYSxRQUFRLE9BQU9FLFFBQVE7WUFDdkV4QyxNQUFNbUMsUUFBUSxDQUFDTTtZQUNmaEMsVUFBVWdDLGNBQWN4QixTQUFTO1FBQ25DO1FBQ0EwQixVQUFTO1FBQ1RDLE9BQU07UUFDTkMsa0JBQWtCdEQsc0RBQUdBLENBQUM7WUFDcEIsNERBQTREO1lBQzVELHVEQUF1RDtZQUN2RCxtQkFBbUI7Z0JBQUVxRCxPQUFPO1lBQU87UUFDckM7a0JBRUNwQixDQUFBQSxxQkFBUSw4REFBQ2xDLHNEQUFJQTswQkFBRWtDLEtBQUtQLEtBQUssSUFBSU8sS0FBS0MsRUFBRTs7Ozs7Ozs7Ozs7QUFHM0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy9Db21ib2JveFNpbmdsZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgQ29tYm9ib3gsIEl0ZW0gfSBmcm9tICdAa2V5c3Rhci91aS9jb21ib2JveCdcbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BrZXlzdGFyL3VpL3N0eWxlJ1xuXG5pbXBvcnQgdHlwZSB7IExpc3RNZXRhIH0gZnJvbSAnLi4vLi4vLi4vLi4vdHlwZXMnXG5pbXBvcnQgdHlwZSB7IFJlbGF0aW9uc2hpcFZhbHVlIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IHVzZUFwb2xsb1F1ZXJ5IH0gZnJvbSAnLi91c2VBcG9sbG9RdWVyeSdcblxuZXhwb3J0IGZ1bmN0aW9uIENvbWJvYm94U2luZ2xlKHtcbiAgZm9yY2VWYWxpZGF0aW9uLFxuICBpc0xvYWRpbmcsXG4gIGlzUmVxdWlyZWQsXG4gIGxhYmVsRmllbGQsXG4gIGxpc3QsXG4gIHNlYXJjaEZpZWxkcyxcbiAgc3RhdGUsXG4gIGZpbHRlcixcbiAgc29ydCxcbiAgLi4ucHJvcHNcbn06IHtcbiAgYXV0b0ZvY3VzPzogYm9vbGVhblxuICBkZXNjcmlwdGlvbj86IHN0cmluZ1xuICBmb3JjZVZhbGlkYXRpb24/OiBib29sZWFuXG4gIGlzRGlzYWJsZWQ/OiBib29sZWFuXG4gIGlzTG9hZGluZz86IGJvb2xlYW5cbiAgaXNSZWFkT25seT86IGJvb2xlYW5cbiAgaXNSZXF1aXJlZD86IGJvb2xlYW5cbiAgbGFiZWw/OiBzdHJpbmdcbiAgbGFiZWxGaWVsZDogc3RyaW5nXG4gIHNlYXJjaEZpZWxkczogc3RyaW5nW11cbiAgbGlzdDogTGlzdE1ldGFcbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmdcbiAgZmlsdGVyPzogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGxcbiAgc29ydD86IHsgZmllbGQ6IHN0cmluZzsgZGlyZWN0aW9uOiAnQVNDJyB8ICdERVNDJyB9IHwgbnVsbFxuICBzdGF0ZToge1xuICAgIGtpbmQ6ICdvbmUnXG4gICAgdmFsdWU6IFJlbGF0aW9uc2hpcFZhbHVlIHwgbnVsbFxuICAgIG9uQ2hhbmdlKHZhbHVlOiBSZWxhdGlvbnNoaXBWYWx1ZSB8IG51bGwpOiB2b2lkXG4gIH1cbn0pIHtcbiAgY29uc3QgeyBkYXRhLCBsb2FkaW5nLCBlcnJvciwgb25Mb2FkTW9yZSwgc2VhcmNoLCBzZXRTZWFyY2ggfSA9IHVzZUFwb2xsb1F1ZXJ5KHtcbiAgICBsYWJlbEZpZWxkLFxuICAgIGxpc3QsXG4gICAgc2VhcmNoRmllbGRzLFxuICAgIHN0YXRlLFxuICAgIGZpbHRlcixcbiAgICBzb3J0LFxuICB9KVxuXG4gIGNvbnN0IFtzaG91bGRTaG93RXJyb3JzLCBzZXRTaG91bGRTaG93RXJyb3JzXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCB2YWxpZGF0aW9uTWVzc2FnZXMgPVxuICAgIGlzUmVxdWlyZWQgJiYgc3RhdGUudmFsdWUgPT09IG51bGwgPyBbYEEgJHtsaXN0LnNpbmd1bGFyfSBpcyByZXF1aXJlZGBdIDogW11cbiAgY29uc3QgW2xhc3RTZWVuU3RhdGVWYWx1ZSwgc2V0TGFzdFNlZW5TdGF0ZVZhbHVlXSA9IHVzZVN0YXRlKHN0YXRlLnZhbHVlKVxuXG4gIGlmIChzdGF0ZS52YWx1ZSAhPT0gbGFzdFNlZW5TdGF0ZVZhbHVlKSB7XG4gICAgc2V0TGFzdFNlZW5TdGF0ZVZhbHVlKHN0YXRlLnZhbHVlKVxuICAgIHNldFNlYXJjaChzdGF0ZS52YWx1ZT8ubGFiZWwgPz8gJycpXG4gIH1cblxuICAvLyBUT0RPOiBiZXR0ZXIgZXJyb3IgVUlcbiAgLy8gVE9ETzogSGFuZGxlIHBlcm1pc3Npb24gZXJyb3JzXG4gIC8vIChpZTsgdXNlciBoYXMgcGVybWlzc2lvbiB0byByZWFkIHRoaXMgcmVsYXRpb25zaGlwIGZpZWxkLCBidXRcbiAgLy8gbm90IHRoZSByZWxhdGVkIGxpc3QsIG9yIHNvbWUgaXRlbXMgb24gdGhlIGxpc3QpXG4gIGlmIChlcnJvcikgcmV0dXJuIDxzcGFuPkVycm9yPC9zcGFuPlxuXG4gIGNvbnN0IGl0ZW1zOiBSZWxhdGlvbnNoaXBWYWx1ZVtdID0gZGF0YT8uaXRlbXM/Lm1hcCh4ID0+ICh7IC4uLngsIGJ1aWx0OiBmYWxzZSB9KSkgPz8gW11cblxuICBpZiAoXG4gICAgc3RhdGUudmFsdWUgIT09IG51bGwgJiZcbiAgICAoc3RhdGUudmFsdWUuYnVpbHQgfHwgIWl0ZW1zLnNvbWUoaXRlbSA9PiBpdGVtLmlkID09PSBzdGF0ZS52YWx1ZT8uaWQpKVxuICApIHtcbiAgICBpdGVtcy5wdXNoKHN0YXRlLnZhbHVlKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Q29tYm9ib3hcbiAgICAgIHsuLi5wcm9wc31cbiAgICAgIGlzUmVxdWlyZWQ9e2lzUmVxdWlyZWR9XG4gICAgICBpdGVtcz17ZGF0YT8uaXRlbXMgPz8gW119XG4gICAgICBsb2FkaW5nU3RhdGU9e2xvYWRpbmcgfHwgaXNMb2FkaW5nID8gJ2xvYWRpbmcnIDogJ2lkbGUnfVxuICAgICAgZXJyb3JNZXNzYWdlPXtcbiAgICAgICAgISF2YWxpZGF0aW9uTWVzc2FnZXMubGVuZ3RoICYmIChzaG91bGRTaG93RXJyb3JzIHx8IGZvcmNlVmFsaWRhdGlvbilcbiAgICAgICAgICA/IHZhbGlkYXRpb25NZXNzYWdlcy5qb2luKCcuICcpXG4gICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgIH1cbiAgICAgIG9uQmx1cj17KCkgPT4ge1xuICAgICAgICBzZXRTaG91bGRTaG93RXJyb3JzKHRydWUpXG4gICAgICB9fVxuICAgICAgb25JbnB1dENoYW5nZT17aW5wdXQgPT4ge1xuICAgICAgICBzZXRTZWFyY2goaW5wdXQpXG5cbiAgICAgICAgLy8gdW5zZXQgdGhlIHNlbGVjdGVkIHZhbHVlIHdoZW4gdGhlIHVzZXIgY2xlYXJzIHRoZSBpbnB1dFxuICAgICAgICBpZiAoaW5wdXQgPT09ICcnKSBzdGF0ZS5vbkNoYW5nZShudWxsKVxuICAgICAgfX1cbiAgICAgIGlucHV0VmFsdWU9e3NlYXJjaH1cbiAgICAgIG9uTG9hZE1vcmU9e29uTG9hZE1vcmV9XG4gICAgICBzZWxlY3RlZEtleT17c3RhdGUudmFsdWUgPyBzdGF0ZS52YWx1ZS5pZC50b1N0cmluZygpIDogbnVsbH1cbiAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlPXtrZXkgPT4ge1xuICAgICAgICBjb25zdCBzZWxlY3RlZEl0ZW0gPSBpdGVtcy5maW5kKGl0ZW0gPT4gaXRlbS5pZC50b1N0cmluZygpID09PSBrZXkpID8/IG51bGxcbiAgICAgICAgc3RhdGUub25DaGFuZ2Uoc2VsZWN0ZWRJdGVtKVxuICAgICAgICBzZXRTZWFyY2goc2VsZWN0ZWRJdGVtPy5sYWJlbCA/PyAnJylcbiAgICAgIH19XG4gICAgICBtaW5XaWR0aD1cImFsaWFzLnNpbmdsZUxpbmVXaWR0aFwiXG4gICAgICB3aWR0aD1cImF1dG9cIlxuICAgICAgVU5TQUZFX2NsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgcHJvYmFibHkgYmUgYWRkcmVzc2VkIGluIEBrZXlzdGFyL3VpL2NvbWJvYm94XG4gICAgICAgIC8vIC0gdGhlIG1vYmlsZSB2YXJpYW50IHNob3VsZCByZXNwZWN0IHRoZSBgd2lkdGhgIHByb3BcbiAgICAgICAgJ1tyb2xlPVwiYnV0dG9uXCJdJzogeyB3aWR0aDogJ2F1dG8nIH0sXG4gICAgICB9KX1cbiAgICA+XG4gICAgICB7aXRlbSA9PiA8SXRlbT57aXRlbS5sYWJlbCB8fCBpdGVtLmlkfTwvSXRlbT59XG4gICAgPC9Db21ib2JveD5cbiAgKVxufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwiQ29tYm9ib3giLCJJdGVtIiwiY3NzIiwidXNlQXBvbGxvUXVlcnkiLCJDb21ib2JveFNpbmdsZSIsImZvcmNlVmFsaWRhdGlvbiIsImlzTG9hZGluZyIsImlzUmVxdWlyZWQiLCJsYWJlbEZpZWxkIiwibGlzdCIsInNlYXJjaEZpZWxkcyIsInN0YXRlIiwiZmlsdGVyIiwic29ydCIsInByb3BzIiwiZGF0YSIsImxvYWRpbmciLCJlcnJvciIsIm9uTG9hZE1vcmUiLCJzZWFyY2giLCJzZXRTZWFyY2giLCJzaG91bGRTaG93RXJyb3JzIiwic2V0U2hvdWxkU2hvd0Vycm9ycyIsInZhbGlkYXRpb25NZXNzYWdlcyIsInZhbHVlIiwic2luZ3VsYXIiLCJsYXN0U2VlblN0YXRlVmFsdWUiLCJzZXRMYXN0U2VlblN0YXRlVmFsdWUiLCJsYWJlbCIsInNwYW4iLCJpdGVtcyIsIm1hcCIsIngiLCJidWlsdCIsInNvbWUiLCJpdGVtIiwiaWQiLCJwdXNoIiwibG9hZGluZ1N0YXRlIiwiZXJyb3JNZXNzYWdlIiwibGVuZ3RoIiwiam9pbiIsInVuZGVmaW5lZCIsIm9uQmx1ciIsIm9uSW5wdXRDaGFuZ2UiLCJpbnB1dCIsIm9uQ2hhbmdlIiwiaW5wdXRWYWx1ZSIsInNlbGVjdGVkS2V5IiwidG9TdHJpbmciLCJvblNlbGVjdGlvbkNoYW5nZSIsImtleSIsInNlbGVjdGVkSXRlbSIsImZpbmQiLCJtaW5XaWR0aCIsIndpZHRoIiwiVU5TQUZFX2NsYXNzTmFtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/relationship/views/ComboboxSingle.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/relationship/views/ContextualActions.tsx":
/*!*******************************************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/relationship/views/ContextualActions.tsx ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContextualActions: () => (/* binding */ ContextualActions),\n/* harmony export */   buildQueryForRelationshipFieldWithForeignField: () => (/* binding */ buildQueryForRelationshipFieldWithForeignField),\n/* harmony export */   useRelatedItemHref: () => (/* binding */ useRelatedItemHref),\n/* harmony export */   useRelatedItemLabel: () => (/* binding */ useRelatedItemLabel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_arrowUpRightIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/icon/icons/arrowUpRightIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-arrowUpRightIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_plusIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/icon/icons/plusIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-plusIcon.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_menu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/menu */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-menu.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _admin_ui_context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../admin-ui/context */ \"../../../../packages/core/src/admin-ui/context.tsx\");\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction ContextualActions(props) {\n    const { children, ...otherProps } = props;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_5__.Grid, {\n        gap: \"regular\",\n        alignItems: \"end\",\n        columns: \"minmax(0, 1fr) auto\",\n        children: [\n            children,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ContextualActionsMenu, {\n                ...otherProps\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ContextualActions.tsx\",\n                lineNumber: 25,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ContextualActions.tsx\",\n        lineNumber: 23,\n        columnNumber: 5\n    }, this);\n}\nfunction ContextualActionsMenu(props) {\n    const { field, onAdd, onChange } = props;\n    const foreignList = (0,_admin_ui_context__WEBPACK_IMPORTED_MODULE_8__.useList)(field.refListKey);\n    const relatedItemHref = useRelatedItemHref(props);\n    const relatedItemLabel = useRelatedItemLabel(field);\n    const allowAdd = !field.hideCreate && !!onChange;\n    const items = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ContextualActionsMenu.useMemo[items]\": ()=>{\n            const result = [];\n            if (allowAdd) {\n                result.push({\n                    icon: _keystar_ui_icon_icons_plusIcon__WEBPACK_IMPORTED_MODULE_4__.plusIcon,\n                    key: 'add',\n                    label: `Add ${foreignList.singular.toLocaleLowerCase()}`\n                });\n            }\n            result.push({\n                key: 'view',\n                icon: _keystar_ui_icon_icons_arrowUpRightIcon__WEBPACK_IMPORTED_MODULE_3__.arrowUpRightIcon,\n                href: relatedItemHref,\n                label: relatedItemLabel\n            });\n            return result;\n        }\n    }[\"ContextualActionsMenu.useMemo[items]\"], [\n        allowAdd,\n        foreignList,\n        relatedItemHref,\n        relatedItemLabel\n    ]);\n    const onAction = (key)=>{\n        switch(key){\n            case 'add':\n                {\n                    onAdd();\n                    break;\n                }\n        }\n    };\n    // we don't want to change the presence or lack thereof of a selected value\n    // but since `allowAdd` is based on config, it's fairly static and showing\n    // a menu when the menu will only have one item is quite silly\n    if (!allowAdd) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_10__.TooltipTrigger, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_9__.ActionButton, {\n                    ...relatedItemHref ? {\n                        href: relatedItemHref\n                    } : {\n                        isDisabled: true\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n                        src: _keystar_ui_icon_icons_arrowUpRightIcon__WEBPACK_IMPORTED_MODULE_3__.arrowUpRightIcon\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ContextualActions.tsx\",\n                        lineNumber: 73,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ContextualActions.tsx\",\n                    lineNumber: 72,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_10__.Tooltip, {\n                    children: relatedItemLabel\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ContextualActions.tsx\",\n                    lineNumber: 75,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ContextualActions.tsx\",\n            lineNumber: 71,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_menu__WEBPACK_IMPORTED_MODULE_6__.ActionMenu, {\n        \"aria-label\": `Actions for ${field.label}`,\n        direction: \"bottom\",\n        align: \"end\",\n        isDisabled: items.length === 0,\n        disabledKeys: relatedItemHref === null ? [\n            'view'\n        ] : [],\n        items: items,\n        onAction: onAction,\n        children: (item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_menu__WEBPACK_IMPORTED_MODULE_6__.Item, {\n                href: item.href ?? undefined,\n                textValue: item.label,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n                        src: item.icon\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ContextualActions.tsx\",\n                        lineNumber: 92,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__.Text, {\n                        children: item.label\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ContextualActions.tsx\",\n                        lineNumber: 93,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, item.key, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ContextualActions.tsx\",\n                lineNumber: 91,\n                columnNumber: 9\n            }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/ContextualActions.tsx\",\n        lineNumber: 81,\n        columnNumber: 5\n    }, this);\n}\nfunction useRelatedItemLabel(field) {\n    const foreignList = (0,_admin_ui_context__WEBPACK_IMPORTED_MODULE_8__.useList)(field.refListKey);\n    if (field.many) {\n        return `View related ${foreignList.plural.toLocaleLowerCase()}`;\n    }\n    return `View ${foreignList.singular.toLocaleLowerCase()}`;\n}\nfunction useRelatedItemHref({ field, value }) {\n    const foreignList = (0,_admin_ui_context__WEBPACK_IMPORTED_MODULE_8__.useList)(field.refListKey);\n    if (value.kind === 'one') {\n        if (!value.value) return null;\n        // the related item isn't actually created yet so we can't view it\n        if (value.value.built) return null;\n        return `/${foreignList.path}/${value.value.id}`;\n    }\n    let query;\n    if (field.refFieldKey && value.id !== null) {\n        query = buildQueryForRelationshipFieldWithForeignField(foreignList, field.refFieldKey, value.id);\n    } else if (value.kind === 'many' && value.value.length > 0) {\n        query = `!id_in=${JSON.stringify(value.value.map((x)=>x.id))}`;\n    }\n    if (query === undefined) return null;\n    return `/${foreignList.path}?${query}`;\n}\nfunction buildQueryForRelationshipFieldWithForeignField(foreignList, refFieldKey, localId) {\n    const foreignField = foreignList.fields[refFieldKey];\n    const foreignMany = foreignField.fieldMeta.many;\n    return `filter=${refFieldKey}_${foreignMany ? 'some' : 'is'}_${JSON.stringify(foreignMany ? [\n        localId\n    ] : localId)}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy9Db250ZXh0dWFsQWN0aW9ucy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlFO0FBRTFCO0FBQ21DO0FBQ2hCO0FBQ2pCO0FBQ1U7QUFDTjtBQUVTO0FBR0w7QUFDWTtBQU10RCxTQUFTWSxrQkFBa0JDLEtBQTJDO0lBQzNFLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdDLFlBQVksR0FBR0Y7SUFDcEMscUJBQ0UsOERBQUNULG9EQUFJQTtRQUFDWSxLQUFJO1FBQVVDLFlBQVc7UUFBTUMsU0FBUTs7WUFDMUNKOzBCQUNELDhEQUFDSztnQkFBdUIsR0FBR0osVUFBVTs7Ozs7Ozs7Ozs7O0FBRzNDO0FBRUEsU0FBU0ksc0JBQXNCTixLQUF3QjtJQUNyRCxNQUFNLEVBQUVPLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUUsR0FBR1Q7SUFFbkMsTUFBTVUsY0FBY2YsMERBQU9BLENBQUNZLE1BQU1JLFVBQVU7SUFDNUMsTUFBTUMsa0JBQWtCQyxtQkFBbUJiO0lBQzNDLE1BQU1jLG1CQUFtQkMsb0JBQW9CUjtJQUM3QyxNQUFNUyxXQUFXLENBQUNULE1BQU1VLFVBQVUsSUFBSSxDQUFDLENBQUNSO0lBQ3hDLE1BQU1TLFFBQVEvQiw4Q0FBT0E7Z0RBQUM7WUFDcEIsTUFBTWdDLFNBQVMsRUFBRTtZQUNqQixJQUFJSCxVQUFVO2dCQUNaRyxPQUFPQyxJQUFJLENBQUM7b0JBQ1ZDLE1BQU0vQixxRUFBUUE7b0JBQ2RnQyxLQUFLO29CQUNMQyxPQUFPLENBQUMsSUFBSSxFQUFFYixZQUFZYyxRQUFRLENBQUNDLGlCQUFpQixJQUFJO2dCQUMxRDtZQUNGO1lBRUFOLE9BQU9DLElBQUksQ0FBQztnQkFDVkUsS0FBSztnQkFDTEQsTUFBTWhDLHFGQUFnQkE7Z0JBQ3RCcUMsTUFBTWQ7Z0JBQ05XLE9BQU9UO1lBQ1Q7WUFFQSxP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QyxlQUFlM0MsWUFBWTRDLE1BQU0sQ0FBQ1IsWUFBWTtJQUNwRCxNQUFNUyxjQUF1QixhQUFjQyxTQUFTLENBQVNsQixJQUFJO0lBQ2pFLE9BQU8sQ0FBQyxPQUFPLEVBQUVRLFlBQVksQ0FBQyxFQUFFUyxjQUFjLFNBQVMsS0FBSyxDQUFDLEVBQUVQLEtBQUtDLFNBQVMsQ0FBQ00sY0FBYztRQUFDSDtLQUFRLEdBQUdBLFVBQVU7QUFDcEgiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy9Db250ZXh0dWFsQWN0aW9ucy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBLZXksIHR5cGUgUHJvcHNXaXRoQ2hpbGRyZW4sIHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24nXG5pbXBvcnQgeyBhcnJvd1VwUmlnaHRJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbi9pY29ucy9hcnJvd1VwUmlnaHRJY29uJ1xuaW1wb3J0IHsgcGx1c0ljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL3BsdXNJY29uJ1xuaW1wb3J0IHsgR3JpZCB9IGZyb20gJ0BrZXlzdGFyL3VpL2xheW91dCdcbmltcG9ydCB7IEFjdGlvbk1lbnUsIEl0ZW0gfSBmcm9tICdAa2V5c3Rhci91aS9tZW51J1xuaW1wb3J0IHsgVGV4dCB9IGZyb20gJ0BrZXlzdGFyL3VpL3R5cG9ncmFwaHknXG5cbmltcG9ydCB7IHVzZUxpc3QgfSBmcm9tICcuLi8uLi8uLi8uLi9hZG1pbi11aS9jb250ZXh0J1xuaW1wb3J0IHR5cGUgeyBGaWVsZFByb3BzLCBMaXN0TWV0YSB9IGZyb20gJy4uLy4uLy4uLy4uL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBSZWxhdGlvbnNoaXBDb250cm9sbGVyIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2J1dHRvbidcbmltcG9ydCB7IFRvb2x0aXAsIFRvb2x0aXBUcmlnZ2VyIH0gZnJvbSAnQGtleXN0YXIvdWkvdG9vbHRpcCdcblxudHlwZSBSZWxhdGlvbnNoaXBQcm9wcyA9IHtcbiAgb25BZGQ6ICgpID0+IHZvaWRcbn0gJiBGaWVsZFByb3BzPCgpID0+IFJlbGF0aW9uc2hpcENvbnRyb2xsZXI+XG5cbmV4cG9ydCBmdW5jdGlvbiBDb250ZXh0dWFsQWN0aW9ucyhwcm9wczogUHJvcHNXaXRoQ2hpbGRyZW48UmVsYXRpb25zaGlwUHJvcHM+KSB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIC4uLm90aGVyUHJvcHMgfSA9IHByb3BzXG4gIHJldHVybiAoXG4gICAgPEdyaWQgZ2FwPVwicmVndWxhclwiIGFsaWduSXRlbXM9XCJlbmRcIiBjb2x1bW5zPVwibWlubWF4KDAsIDFmcikgYXV0b1wiPlxuICAgICAge2NoaWxkcmVufVxuICAgICAgPENvbnRleHR1YWxBY3Rpb25zTWVudSB7Li4ub3RoZXJQcm9wc30gLz5cbiAgICA8L0dyaWQ+XG4gIClcbn1cblxuZnVuY3Rpb24gQ29udGV4dHVhbEFjdGlvbnNNZW51KHByb3BzOiBSZWxhdGlvbnNoaXBQcm9wcykge1xuICBjb25zdCB7IGZpZWxkLCBvbkFkZCwgb25DaGFuZ2UgfSA9IHByb3BzXG5cbiAgY29uc3QgZm9yZWlnbkxpc3QgPSB1c2VMaXN0KGZpZWxkLnJlZkxpc3RLZXkpXG4gIGNvbnN0IHJlbGF0ZWRJdGVtSHJlZiA9IHVzZVJlbGF0ZWRJdGVtSHJlZihwcm9wcylcbiAgY29uc3QgcmVsYXRlZEl0ZW1MYWJlbCA9IHVzZVJlbGF0ZWRJdGVtTGFiZWwoZmllbGQpXG4gIGNvbnN0IGFsbG93QWRkID0gIWZpZWxkLmhpZGVDcmVhdGUgJiYgISFvbkNoYW5nZVxuICBjb25zdCBpdGVtcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdXG4gICAgaWYgKGFsbG93QWRkKSB7XG4gICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIGljb246IHBsdXNJY29uLFxuICAgICAgICBrZXk6ICdhZGQnLFxuICAgICAgICBsYWJlbDogYEFkZCAke2ZvcmVpZ25MaXN0LnNpbmd1bGFyLnRvTG9jYWxlTG93ZXJDYXNlKCl9YCxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmVzdWx0LnB1c2goe1xuICAgICAga2V5OiAndmlldycsXG4gICAgICBpY29uOiBhcnJvd1VwUmlnaHRJY29uLFxuICAgICAgaHJlZjogcmVsYXRlZEl0ZW1IcmVmLFxuICAgICAgbGFiZWw6IHJlbGF0ZWRJdGVtTGFiZWwsXG4gICAgfSlcblxuICAgIHJldHVybiByZXN1bHRcbiAgfSwgW2FsbG93QWRkLCBmb3JlaWduTGlzdCwgcmVsYXRlZEl0ZW1IcmVmLCByZWxhdGVkSXRlbUxhYmVsXSlcblxuICBjb25zdCBvbkFjdGlvbiA9IChrZXk6IEtleSkgPT4ge1xuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlICdhZGQnOiB7XG4gICAgICAgIG9uQWRkKClcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyB3ZSBkb24ndCB3YW50IHRvIGNoYW5nZSB0aGUgcHJlc2VuY2Ugb3IgbGFjayB0aGVyZW9mIG9mIGEgc2VsZWN0ZWQgdmFsdWVcbiAgLy8gYnV0IHNpbmNlIGBhbGxvd0FkZGAgaXMgYmFzZWQgb24gY29uZmlnLCBpdCdzIGZhaXJseSBzdGF0aWMgYW5kIHNob3dpbmdcbiAgLy8gYSBtZW51IHdoZW4gdGhlIG1lbnUgd2lsbCBvbmx5IGhhdmUgb25lIGl0ZW0gaXMgcXVpdGUgc2lsbHlcbiAgaWYgKCFhbGxvd0FkZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8VG9vbHRpcFRyaWdnZXI+XG4gICAgICAgIDxBY3Rpb25CdXR0b24gey4uLihyZWxhdGVkSXRlbUhyZWYgPyB7IGhyZWY6IHJlbGF0ZWRJdGVtSHJlZiB9IDogeyBpc0Rpc2FibGVkOiB0cnVlIH0pfT5cbiAgICAgICAgICA8SWNvbiBzcmM9e2Fycm93VXBSaWdodEljb259IC8+XG4gICAgICAgIDwvQWN0aW9uQnV0dG9uPlxuICAgICAgICA8VG9vbHRpcD57cmVsYXRlZEl0ZW1MYWJlbH08L1Rvb2x0aXA+XG4gICAgICA8L1Rvb2x0aXBUcmlnZ2VyPlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPEFjdGlvbk1lbnVcbiAgICAgIGFyaWEtbGFiZWw9e2BBY3Rpb25zIGZvciAke2ZpZWxkLmxhYmVsfWB9XG4gICAgICBkaXJlY3Rpb249XCJib3R0b21cIlxuICAgICAgYWxpZ249XCJlbmRcIlxuICAgICAgaXNEaXNhYmxlZD17aXRlbXMubGVuZ3RoID09PSAwfVxuICAgICAgZGlzYWJsZWRLZXlzPXtyZWxhdGVkSXRlbUhyZWYgPT09IG51bGwgPyBbJ3ZpZXcnXSA6IFtdfVxuICAgICAgaXRlbXM9e2l0ZW1zfVxuICAgICAgb25BY3Rpb249e29uQWN0aW9ufVxuICAgID5cbiAgICAgIHtpdGVtID0+IChcbiAgICAgICAgPEl0ZW0ga2V5PXtpdGVtLmtleX0gaHJlZj17aXRlbS5ocmVmID8/IHVuZGVmaW5lZH0gdGV4dFZhbHVlPXtpdGVtLmxhYmVsfT5cbiAgICAgICAgICA8SWNvbiBzcmM9e2l0ZW0uaWNvbn0gLz5cbiAgICAgICAgICA8VGV4dD57aXRlbS5sYWJlbH08L1RleHQ+XG4gICAgICAgIDwvSXRlbT5cbiAgICAgICl9XG4gICAgPC9BY3Rpb25NZW51PlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VSZWxhdGVkSXRlbUxhYmVsKGZpZWxkOiBSZWxhdGlvbnNoaXBDb250cm9sbGVyKSB7XG4gIGNvbnN0IGZvcmVpZ25MaXN0ID0gdXNlTGlzdChmaWVsZC5yZWZMaXN0S2V5KVxuICBpZiAoZmllbGQubWFueSkge1xuICAgIHJldHVybiBgVmlldyByZWxhdGVkICR7Zm9yZWlnbkxpc3QucGx1cmFsLnRvTG9jYWxlTG93ZXJDYXNlKCl9YFxuICB9XG4gIHJldHVybiBgVmlldyAke2ZvcmVpZ25MaXN0LnNpbmd1bGFyLnRvTG9jYWxlTG93ZXJDYXNlKCl9YFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVsYXRlZEl0ZW1IcmVmKHtcbiAgZmllbGQsXG4gIHZhbHVlLFxufTogUGljazxGaWVsZFByb3BzPCgpID0+IFJlbGF0aW9uc2hpcENvbnRyb2xsZXI+LCAnZmllbGQnIHwgJ3ZhbHVlJz4pIHtcbiAgY29uc3QgZm9yZWlnbkxpc3QgPSB1c2VMaXN0KGZpZWxkLnJlZkxpc3RLZXkpXG4gIGlmICh2YWx1ZS5raW5kID09PSAnb25lJykge1xuICAgIGlmICghdmFsdWUudmFsdWUpIHJldHVybiBudWxsXG4gICAgLy8gdGhlIHJlbGF0ZWQgaXRlbSBpc24ndCBhY3R1YWxseSBjcmVhdGVkIHlldCBzbyB3ZSBjYW4ndCB2aWV3IGl0XG4gICAgaWYgKHZhbHVlLnZhbHVlLmJ1aWx0KSByZXR1cm4gbnVsbFxuXG4gICAgcmV0dXJuIGAvJHtmb3JlaWduTGlzdC5wYXRofS8ke3ZhbHVlLnZhbHVlLmlkfWBcbiAgfVxuICBsZXQgcXVlcnk6IHN0cmluZyB8IHVuZGVmaW5lZFxuICBpZiAoZmllbGQucmVmRmllbGRLZXkgJiYgdmFsdWUuaWQgIT09IG51bGwpIHtcbiAgICBxdWVyeSA9IGJ1aWxkUXVlcnlGb3JSZWxhdGlvbnNoaXBGaWVsZFdpdGhGb3JlaWduRmllbGQoZm9yZWlnbkxpc3QsIGZpZWxkLnJlZkZpZWxkS2V5LCB2YWx1ZS5pZClcbiAgfSBlbHNlIGlmICh2YWx1ZS5raW5kID09PSAnbWFueScgJiYgdmFsdWUudmFsdWUubGVuZ3RoID4gMCkge1xuICAgIHF1ZXJ5ID0gYCFpZF9pbj0ke0pTT04uc3RyaW5naWZ5KHZhbHVlLnZhbHVlLm1hcCh4ID0+IHguaWQpKX1gXG4gIH1cbiAgaWYgKHF1ZXJ5ID09PSB1bmRlZmluZWQpIHJldHVybiBudWxsXG5cbiAgcmV0dXJuIGAvJHtmb3JlaWduTGlzdC5wYXRofT8ke3F1ZXJ5fWBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkUXVlcnlGb3JSZWxhdGlvbnNoaXBGaWVsZFdpdGhGb3JlaWduRmllbGQoXG4gIGZvcmVpZ25MaXN0OiBMaXN0TWV0YSxcbiAgcmVmRmllbGRLZXk6IHN0cmluZyxcbiAgbG9jYWxJZDogc3RyaW5nXG4pIHtcbiAgY29uc3QgZm9yZWlnbkZpZWxkID0gZm9yZWlnbkxpc3QuZmllbGRzW3JlZkZpZWxkS2V5XVxuICBjb25zdCBmb3JlaWduTWFueTogYm9vbGVhbiA9IChmb3JlaWduRmllbGQuZmllbGRNZXRhIGFzIGFueSkubWFueVxuICByZXR1cm4gYGZpbHRlcj0ke3JlZkZpZWxkS2V5fV8ke2ZvcmVpZ25NYW55ID8gJ3NvbWUnIDogJ2lzJ31fJHtKU09OLnN0cmluZ2lmeShmb3JlaWduTWFueSA/IFtsb2NhbElkXSA6IGxvY2FsSWQpfWBcbn1cbiJdLCJuYW1lcyI6WyJ1c2VNZW1vIiwiSWNvbiIsImFycm93VXBSaWdodEljb24iLCJwbHVzSWNvbiIsIkdyaWQiLCJBY3Rpb25NZW51IiwiSXRlbSIsIlRleHQiLCJ1c2VMaXN0IiwiQWN0aW9uQnV0dG9uIiwiVG9vbHRpcCIsIlRvb2x0aXBUcmlnZ2VyIiwiQ29udGV4dHVhbEFjdGlvbnMiLCJwcm9wcyIsImNoaWxkcmVuIiwib3RoZXJQcm9wcyIsImdhcCIsImFsaWduSXRlbXMiLCJjb2x1bW5zIiwiQ29udGV4dHVhbEFjdGlvbnNNZW51IiwiZmllbGQiLCJvbkFkZCIsIm9uQ2hhbmdlIiwiZm9yZWlnbkxpc3QiLCJyZWZMaXN0S2V5IiwicmVsYXRlZEl0ZW1IcmVmIiwidXNlUmVsYXRlZEl0ZW1IcmVmIiwicmVsYXRlZEl0ZW1MYWJlbCIsInVzZVJlbGF0ZWRJdGVtTGFiZWwiLCJhbGxvd0FkZCIsImhpZGVDcmVhdGUiLCJpdGVtcyIsInJlc3VsdCIsInB1c2giLCJpY29uIiwia2V5IiwibGFiZWwiLCJzaW5ndWxhciIsInRvTG9jYWxlTG93ZXJDYXNlIiwiaHJlZiIsIm9uQWN0aW9uIiwiaXNEaXNhYmxlZCIsInNyYyIsImFyaWEtbGFiZWwiLCJkaXJlY3Rpb24iLCJhbGlnbiIsImxlbmd0aCIsImRpc2FibGVkS2V5cyIsIml0ZW0iLCJ1bmRlZmluZWQiLCJ0ZXh0VmFsdWUiLCJtYW55IiwicGx1cmFsIiwidmFsdWUiLCJraW5kIiwiYnVpbHQiLCJwYXRoIiwiaWQiLCJxdWVyeSIsInJlZkZpZWxkS2V5IiwiYnVpbGRRdWVyeUZvclJlbGF0aW9uc2hpcEZpZWxkV2l0aEZvcmVpZ25GaWVsZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJtYXAiLCJ4IiwibG9jYWxJZCIsImZvcmVpZ25GaWVsZCIsImZpZWxkcyIsImZvcmVpZ25NYW55IiwiZmllbGRNZXRhIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/relationship/views/ContextualActions.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/relationship/views/RelationshipTable.tsx":
/*!*******************************************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/relationship/views/RelationshipTable.tsx ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RelationshipTable: () => (/* binding */ RelationshipTable)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_table__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/table */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-table.js\");\n/* harmony import */ var _keystar_ui_field__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-field.js\");\n/* harmony import */ var _admin_ui_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../admin-ui/context */ \"../../../../packages/core/src/admin-ui/context.tsx\");\n/* harmony import */ var _keystar_ui_icon_icons_textSelectIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/icon/icons/textSelectIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-textSelectIcon.js\");\n/* harmony import */ var _admin_ui_components_EmptyState__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../admin-ui/components/EmptyState */ \"../../../../packages/core/src/admin-ui/components/EmptyState.tsx\");\n/* harmony import */ var _admin_ui_apollo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../admin-ui/apollo */ \"../../../../packages/core/src/admin-ui/apollo.tsx\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _admin_ui_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../admin-ui/components */ \"../../../../packages/core/src/admin-ui/components/index.ts\");\n/* harmony import */ var _internal_do_not_use_will_break_in_patch_admin_ui_pages_ListPage_PaginationControls__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls */ \"../../../../packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/ListPage/PaginationControls.tsx\");\n/* harmony import */ var _ContextualActions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ContextualActions */ \"../../../../packages/core/src/fields/types/relationship/views/ContextualActions.tsx\");\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_arrowUpRightIcon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @keystar/ui/icon/icons/arrowUpRightIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-arrowUpRightIcon.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var _keystar_ui_progress__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @keystar/ui/progress */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-progress.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction RelationshipTable({ field, value }) {\n    if (!field.refFieldKey) {\n        throw new Error('refFieldKey is required for displayMode: table');\n    }\n    const [currentPage, setCurrentPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [pageSize, setPageSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(50);\n    const list = (0,_admin_ui_context__WEBPACK_IMPORTED_MODULE_4__.useList)(field.refListKey);\n    const hasManyOnRefList = list.fields[field.refFieldKey].controller.many;\n    const selectedFields = field.columns ?? list.initialColumns;\n    const columns = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"RelationshipTable.useMemo[columns]\": ()=>{\n            return selectedFields.map({\n                \"RelationshipTable.useMemo[columns]\": (path)=>{\n                    const field = list.fields[path];\n                    return {\n                        id: path,\n                        label: field.label,\n                        allowsSorting: field.isOrderable\n                    };\n                }\n            }[\"RelationshipTable.useMemo[columns]\"]);\n        }\n    }[\"RelationshipTable.useMemo[columns]\"], [\n        selectedFields,\n        list\n    ]);\n    const [sort, setSort] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        \"RelationshipTable.useState\": ()=>{\n            if (field.initialSort) {\n                return {\n                    column: field.initialSort.field,\n                    direction: field.initialSort.direction === 'ASC' ? 'ascending' : 'descending'\n                };\n            }\n            return {\n                column: 'id',\n                direction: 'ascending'\n            };\n        }\n    }[\"RelationshipTable.useState\"]);\n    const { data, error, loading } = (0,_admin_ui_apollo__WEBPACK_IMPORTED_MODULE_7__.useQuery)((0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"RelationshipTable.useQuery.useMemo\": ()=>{\n            const selectedGqlFields = [\n                ...selectedFields\n            ].map({\n                \"RelationshipTable.useQuery.useMemo.selectedGqlFields\": (fieldPath)=>list.fields[fieldPath].controller.graphqlSelection\n            }[\"RelationshipTable.useQuery.useMemo.selectedGqlFields\"]).join('\\n');\n            // TODO: FIXME: this is bad\n            return (0,_admin_ui_apollo__WEBPACK_IMPORTED_MODULE_7__.gql)`\n          query (\n            $where: ${list.graphql.names.whereInputName},\n            $take: Int!,\n            $skip: Int!,\n            $orderBy: [${list.graphql.names.listOrderName}!]\n          ) {\n            items: ${list.graphql.names.listQueryName}(\n              where: $where,\n              take: $take,\n              skip: $skip,\n              orderBy: $orderBy\n            ) {\n              ${selectedFields.includes('id') ? '' : 'id'}\n              ${selectedGqlFields}\n            }\n          }\n        `;\n        }\n    }[\"RelationshipTable.useQuery.useMemo\"], [\n        list,\n        selectedFields\n    ]), {\n        fetchPolicy: 'cache-and-network',\n        errorPolicy: 'all',\n        variables: {\n            where: {\n                [field.refFieldKey]: hasManyOnRefList ? {\n                    some: {\n                        id: {\n                            equals: value.id\n                        }\n                    }\n                } : {\n                    id: {\n                        equals: value.id\n                    }\n                }\n            },\n            take: pageSize,\n            skip: (currentPage - 1) * pageSize,\n            orderBy: [\n                {\n                    [sort.column]: sort.direction === 'ascending' ? 'asc' : 'desc'\n                }\n            ]\n        }\n    });\n    const relatedItemLabel = (0,_ContextualActions__WEBPACK_IMPORTED_MODULE_11__.useRelatedItemLabel)(field);\n    const relatedItemHref = (0,_ContextualActions__WEBPACK_IMPORTED_MODULE_11__.useRelatedItemHref)({\n        field,\n        value\n    });\n    const items = data?.items ?? [];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_field__WEBPACK_IMPORTED_MODULE_3__.Field, {\n        label: field.label,\n        description: field.description,\n        children: (inputProps)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_table__WEBPACK_IMPORTED_MODULE_2__.TableView, {\n                        ...inputProps,\n                        selectionMode: \"none\",\n                        onSortChange: (sort)=>setSort(sort),\n                        sortDescriptor: sort,\n                        density: \"compact\",\n                        UNSAFE_style: {\n                            minHeight: 29 * 10,\n                            maxHeight: 29 * 10\n                        },\n                        overflowMode: \"truncate\",\n                        renderEmptyState: ()=>loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_progress__WEBPACK_IMPORTED_MODULE_16__.ProgressCircle, {\n                                isIndeterminate: true\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                                lineNumber: 116,\n                                columnNumber: 17\n                            }, void 0) : error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_admin_ui_components__WEBPACK_IMPORTED_MODULE_9__.GraphQLErrorNotice, {\n                                errors: [\n                                    error.networkError,\n                                    ...error.graphQLErrors ?? []\n                                ]\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                                lineNumber: 118,\n                                columnNumber: 17\n                            }, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_admin_ui_components_EmptyState__WEBPACK_IMPORTED_MODULE_6__.EmptyState, {\n                                icon: _keystar_ui_icon_icons_textSelectIcon__WEBPACK_IMPORTED_MODULE_5__.textSelectIcon,\n                                title: \"Empty related items\",\n                                message: \"There are no related items.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                                lineNumber: 120,\n                                columnNumber: 17\n                            }, void 0),\n                        flex: true,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_table__WEBPACK_IMPORTED_MODULE_2__.TableHeader, {\n                                columns: columns,\n                                children: ({ label, id, ...options })=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_table__WEBPACK_IMPORTED_MODULE_2__.Column, {\n                                        isRowHeader: true,\n                                        ...options,\n                                        children: label\n                                    }, id, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                                        lineNumber: 131,\n                                        columnNumber: 17\n                                    }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                                lineNumber: 129,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_table__WEBPACK_IMPORTED_MODULE_2__.TableBody, {\n                                items: items,\n                                children: (row)=>{\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_table__WEBPACK_IMPORTED_MODULE_2__.Row, {\n                                        href: `/${list.path}/${row?.id}`,\n                                        children: (key)=>{\n                                            const field = list.fields[key];\n                                            const value = row[key];\n                                            const CellContent = field.views.Cell;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_table__WEBPACK_IMPORTED_MODULE_2__.Cell, {\n                                                children: CellContent ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CellContent, {\n                                                    value: value,\n                                                    field: field.controller,\n                                                    item: row\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                                                    lineNumber: 147,\n                                                    columnNumber: 29\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_8__.Text, {\n                                                    children: value?.toString()\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                                                    lineNumber: 149,\n                                                    columnNumber: 29\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                                                lineNumber: 145,\n                                                columnNumber: 25\n                                            }, this);\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                                        lineNumber: 139,\n                                        columnNumber: 19\n                                    }, this);\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                                lineNumber: 136,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                        lineNumber: 106,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_internal_do_not_use_will_break_in_patch_admin_ui_pages_ListPage_PaginationControls__WEBPACK_IMPORTED_MODULE_10__.PaginationControls, {\n                        currentPage: currentPage,\n                        pageSize: pageSize,\n                        plural: list.plural,\n                        singular: list.singular,\n                        total: value.count,\n                        onChangePage: (page)=>setCurrentPage(page),\n                        onChangePageSize: (size)=>setPageSize(size),\n                        extraActions: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_15__.TooltipTrigger, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_12__.ActionButton, {\n                                    href: relatedItemHref,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_13__.Icon, {\n                                        src: _keystar_ui_icon_icons_arrowUpRightIcon__WEBPACK_IMPORTED_MODULE_14__.arrowUpRightIcon\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                                        lineNumber: 170,\n                                        columnNumber: 19\n                                    }, void 0)\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                                    lineNumber: 169,\n                                    columnNumber: 17\n                                }, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_15__.Tooltip, {\n                                    children: relatedItemLabel\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                                    lineNumber: 172,\n                                    columnNumber: 17\n                                }, void 0)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                            lineNumber: 168,\n                            columnNumber: 15\n                        }, void 0)\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n                        lineNumber: 159,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\",\n        lineNumber: 103,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy9SZWxhdGlvbnNoaXBUYWJsZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlDO0FBRStDO0FBQy9CO0FBQ0g7QUFFZ0I7QUFDQztBQUNaO0FBQ2Q7QUFDdUI7QUFDa0U7QUFFekQ7QUFDNUI7QUFDVjtBQUNtQztBQUNiO0FBQ1I7QUFFOUMsU0FBUzBCLGtCQUFrQixFQUNoQ0MsS0FBSyxFQUNMQyxLQUFLLEVBSU47SUFDQyxJQUFJLENBQUNELE1BQU1FLFdBQVcsRUFBRTtRQUN0QixNQUFNLElBQUlDLE1BQU07SUFDbEI7SUFDQSxNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBRy9CLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ2dDLFVBQVVDLFlBQVksR0FBR2pDLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU1rQyxPQUFPekIsMERBQU9BLENBQUNpQixNQUFNUyxVQUFVO0lBQ3JDLE1BQU1DLG1CQUE0QixLQUFNQyxNQUFNLENBQUNYLE1BQU1FLFdBQVcsQ0FBQyxDQUFDVSxVQUFVLENBQVNDLElBQUk7SUFFekYsTUFBTUMsaUJBQWlCZCxNQUFNZSxPQUFPLElBQUlQLEtBQUtRLGNBQWM7SUFDM0QsTUFBTUQsVUFBVTFDLDhDQUFPQTs4Q0FBQztZQUN0QixPQUFPeUMsZUFBZUcsR0FBRztzREFBQ0MsQ0FBQUE7b0JBQ3hCLE1BQU1sQixRQUFRUSxLQUFLRyxNQUFNLENBQUNPLEtBQUs7b0JBQy9CLE9BQU87d0JBQ0xDLElBQUlEO3dCQUNKRSxPQUFPcEIsTUFBTW9CLEtBQUs7d0JBQ2xCQyxlQUFlckIsTUFBTXNCLFdBQVc7b0JBQ2xDO2dCQUNGOztRQUNGOzZDQUFHO1FBQUNSO1FBQWdCTjtLQUFLO0lBRXpCLE1BQU0sQ0FBQ2UsTUFBTUMsUUFBUSxHQUFHbEQsK0NBQVFBO3NDQUFpQjtZQUMvQyxJQUFJMEIsTUFBTXlC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Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRMUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy9SZWxhdGlvbnNoaXBUYWJsZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB0eXBlIHsgU29ydERlc2NyaXB0b3IgfSBmcm9tICdAa2V5c3Rhci91aS90YWJsZSdcbmltcG9ydCB7IENlbGwsIENvbHVtbiwgUm93LCBUYWJsZUJvZHksIFRhYmxlSGVhZGVyLCBUYWJsZVZpZXcgfSBmcm9tICdAa2V5c3Rhci91aS90YWJsZSdcbmltcG9ydCB7IEZpZWxkIGFzIEtleXN0YXJGaWVsZCB9IGZyb20gJ0BrZXlzdGFyL3VpL2ZpZWxkJ1xuaW1wb3J0IHsgdXNlTGlzdCB9IGZyb20gJy4uLy4uLy4uLy4uL2FkbWluLXVpL2NvbnRleHQnXG5pbXBvcnQgdHlwZSB7IGNvbnRyb2xsZXIgfSBmcm9tICcuJ1xuaW1wb3J0IHsgdGV4dFNlbGVjdEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL3RleHRTZWxlY3RJY29uJ1xuaW1wb3J0IHsgRW1wdHlTdGF0ZSB9IGZyb20gJy4uLy4uLy4uLy4uL2FkbWluLXVpL2NvbXBvbmVudHMvRW1wdHlTdGF0ZSdcbmltcG9ydCB7IGdxbCwgdXNlUXVlcnkgfSBmcm9tICcuLi8uLi8uLi8uLi9hZG1pbi11aS9hcG9sbG8nXG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnQGtleXN0YXIvdWkvdHlwb2dyYXBoeSdcbmltcG9ydCB7IEdyYXBoUUxFcnJvck5vdGljZSB9IGZyb20gJy4uLy4uLy4uLy4uL2FkbWluLXVpL2NvbXBvbmVudHMnXG5pbXBvcnQgeyBQYWdpbmF0aW9uQ29udHJvbHMgfSBmcm9tICcuLi8uLi8uLi8uLi9fX19pbnRlcm5hbC1kby1ub3QtdXNlLXdpbGwtYnJlYWstaW4tcGF0Y2gvYWRtaW4tdWkvcGFnZXMvTGlzdFBhZ2UvUGFnaW5hdGlvbkNvbnRyb2xzJ1xuaW1wb3J0IHR5cGUgeyBDb3VudFJlbGF0aW9uc2hpcFZhbHVlIH0gZnJvbSAnLi90eXBlcydcbmltcG9ydCB7IHVzZVJlbGF0ZWRJdGVtSHJlZiwgdXNlUmVsYXRlZEl0ZW1MYWJlbCB9IGZyb20gJy4vQ29udGV4dHVhbEFjdGlvbnMnXG5pbXBvcnQgeyBBY3Rpb25CdXR0b24gfSBmcm9tICdAa2V5c3Rhci91aS9idXR0b24nXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbidcbmltcG9ydCB7IGFycm93VXBSaWdodEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2Fycm93VXBSaWdodEljb24nXG5pbXBvcnQgeyBUb29sdGlwVHJpZ2dlciwgVG9vbHRpcCB9IGZyb20gJ0BrZXlzdGFyL3VpL3Rvb2x0aXAnXG5pbXBvcnQgeyBQcm9ncmVzc0NpcmNsZSB9IGZyb20gJ0BrZXlzdGFyL3VpL3Byb2dyZXNzJ1xuXG5leHBvcnQgZnVuY3Rpb24gUmVsYXRpb25zaGlwVGFibGUoe1xuICBmaWVsZCxcbiAgdmFsdWUsXG59OiB7XG4gIGZpZWxkOiBSZXR1cm5UeXBlPHR5cGVvZiBjb250cm9sbGVyPlxuICB2YWx1ZTogQ291bnRSZWxhdGlvbnNoaXBWYWx1ZVxufSkge1xuICBpZiAoIWZpZWxkLnJlZkZpZWxkS2V5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyZWZGaWVsZEtleSBpcyByZXF1aXJlZCBmb3IgZGlzcGxheU1vZGU6IHRhYmxlJylcbiAgfVxuICBjb25zdCBbY3VycmVudFBhZ2UsIHNldEN1cnJlbnRQYWdlXSA9IHVzZVN0YXRlKDEpXG4gIGNvbnN0IFtwYWdlU2l6ZSwgc2V0UGFnZVNpemVdID0gdXNlU3RhdGUoNTApXG4gIGNvbnN0IGxpc3QgPSB1c2VMaXN0KGZpZWxkLnJlZkxpc3RLZXkpXG4gIGNvbnN0IGhhc01hbnlPblJlZkxpc3Q6IGJvb2xlYW4gPSAobGlzdC5maWVsZHNbZmllbGQucmVmRmllbGRLZXldLmNvbnRyb2xsZXIgYXMgYW55KS5tYW55XG5cbiAgY29uc3Qgc2VsZWN0ZWRGaWVsZHMgPSBmaWVsZC5jb2x1bW5zID8/IGxpc3QuaW5pdGlhbENvbHVtbnNcbiAgY29uc3QgY29sdW1ucyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBzZWxlY3RlZEZpZWxkcy5tYXAocGF0aCA9PiB7XG4gICAgICBjb25zdCBmaWVsZCA9IGxpc3QuZmllbGRzW3BhdGhdXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcGF0aCxcbiAgICAgICAgbGFiZWw6IGZpZWxkLmxhYmVsLFxuICAgICAgICBhbGxvd3NTb3J0aW5nOiBmaWVsZC5pc09yZGVyYWJsZSxcbiAgICAgIH1cbiAgICB9KVxuICB9LCBbc2VsZWN0ZWRGaWVsZHMsIGxpc3RdKVxuXG4gIGNvbnN0IFtzb3J0LCBzZXRTb3J0XSA9IHVzZVN0YXRlPFNvcnREZXNjcmlwdG9yPigoKSA9PiB7XG4gICAgaWYgKGZpZWxkLmluaXRpYWxTb3J0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2x1bW46IGZpZWxkLmluaXRpYWxTb3J0LmZpZWxkLFxuICAgICAgICBkaXJlY3Rpb246IGZpZWxkLmluaXRpYWxTb3J0LmRpcmVjdGlvbiA9PT0gJ0FTQycgPyAnYXNjZW5kaW5nJyA6ICdkZXNjZW5kaW5nJyxcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgY29sdW1uOiAnaWQnLCBkaXJlY3Rpb246ICdhc2NlbmRpbmcnIH1cbiAgfSlcblxuICBjb25zdCB7IGRhdGEsIGVycm9yLCBsb2FkaW5nIH0gPSB1c2VRdWVyeShcbiAgICB1c2VNZW1vKCgpID0+IHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkR3FsRmllbGRzID0gWy4uLnNlbGVjdGVkRmllbGRzXVxuICAgICAgICAubWFwKGZpZWxkUGF0aCA9PiBsaXN0LmZpZWxkc1tmaWVsZFBhdGhdLmNvbnRyb2xsZXIuZ3JhcGhxbFNlbGVjdGlvbilcbiAgICAgICAgLmpvaW4oJ1xcbicpXG5cbiAgICAgIC8vIFRPRE86IEZJWE1FOiB0aGlzIGlzIGJhZFxuICAgICAgcmV0dXJuIGdxbGBcbiAgICAgICAgICBxdWVyeSAoXG4gICAgICAgICAgICAkd2hlcmU6ICR7bGlzdC5ncmFwaHFsLm5hbWVzLndoZXJlSW5wdXROYW1lfSxcbiAgICAgICAgICAgICR0YWtlOiBJbnQhLFxuICAgICAgICAgICAgJHNraXA6IEludCEsXG4gICAgICAgICAgICAkb3JkZXJCeTogWyR7bGlzdC5ncmFwaHFsLm5hbWVzLmxpc3RPcmRlck5hbWV9IV1cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGl0ZW1zOiAke2xpc3QuZ3JhcGhxbC5uYW1lcy5saXN0UXVlcnlOYW1lfShcbiAgICAgICAgICAgICAgd2hlcmU6ICR3aGVyZSxcbiAgICAgICAgICAgICAgdGFrZTogJHRha2UsXG4gICAgICAgICAgICAgIHNraXA6ICRza2lwLFxuICAgICAgICAgICAgICBvcmRlckJ5OiAkb3JkZXJCeVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICR7c2VsZWN0ZWRGaWVsZHMuaW5jbHVkZXMoJ2lkJykgPyAnJyA6ICdpZCd9XG4gICAgICAgICAgICAgICR7c2VsZWN0ZWRHcWxGaWVsZHN9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBgXG4gICAgfSwgW2xpc3QsIHNlbGVjdGVkRmllbGRzXSksXG4gICAge1xuICAgICAgZmV0Y2hQb2xpY3k6ICdjYWNoZS1hbmQtbmV0d29yaycsXG4gICAgICBlcnJvclBvbGljeTogJ2FsbCcsXG4gICAgICB2YXJpYWJsZXM6IHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICBbZmllbGQucmVmRmllbGRLZXldOiBoYXNNYW55T25SZWZMaXN0XG4gICAgICAgICAgICA/IHsgc29tZTogeyBpZDogeyBlcXVhbHM6IHZhbHVlLmlkIH0gfSB9XG4gICAgICAgICAgICA6IHsgaWQ6IHsgZXF1YWxzOiB2YWx1ZS5pZCB9IH0sXG4gICAgICAgIH0sXG4gICAgICAgIHRha2U6IHBhZ2VTaXplLFxuICAgICAgICBza2lwOiAoY3VycmVudFBhZ2UgLSAxKSAqIHBhZ2VTaXplLFxuICAgICAgICBvcmRlckJ5OiBbeyBbc29ydC5jb2x1bW5dOiBzb3J0LmRpcmVjdGlvbiA9PT0gJ2FzY2VuZGluZycgPyAnYXNjJyA6ICdkZXNjJyB9XSxcbiAgICAgIH0sXG4gICAgfVxuICApXG4gIGNvbnN0IHJlbGF0ZWRJdGVtTGFiZWwgPSB1c2VSZWxhdGVkSXRlbUxhYmVsKGZpZWxkKVxuICBjb25zdCByZWxhdGVkSXRlbUhyZWYgPSB1c2VSZWxhdGVkSXRlbUhyZWYoeyBmaWVsZCwgdmFsdWUgfSlcbiAgY29uc3QgaXRlbXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+W10gPSBkYXRhPy5pdGVtcyA/PyBbXVxuICByZXR1cm4gKFxuICAgIDxLZXlzdGFyRmllbGQgbGFiZWw9e2ZpZWxkLmxhYmVsfSBkZXNjcmlwdGlvbj17ZmllbGQuZGVzY3JpcHRpb259PlxuICAgICAge2lucHV0UHJvcHMgPT4gKFxuICAgICAgICA8PlxuICAgICAgICAgIDxUYWJsZVZpZXdcbiAgICAgICAgICAgIHsuLi5pbnB1dFByb3BzfVxuICAgICAgICAgICAgc2VsZWN0aW9uTW9kZT1cIm5vbmVcIlxuICAgICAgICAgICAgb25Tb3J0Q2hhbmdlPXtzb3J0ID0+IHNldFNvcnQoc29ydCl9XG4gICAgICAgICAgICBzb3J0RGVzY3JpcHRvcj17c29ydH1cbiAgICAgICAgICAgIGRlbnNpdHk9XCJjb21wYWN0XCJcbiAgICAgICAgICAgIFVOU0FGRV9zdHlsZT17eyBtaW5IZWlnaHQ6IDI5ICogMTAsIG1heEhlaWdodDogMjkgKiAxMCB9fVxuICAgICAgICAgICAgb3ZlcmZsb3dNb2RlPVwidHJ1bmNhdGVcIlxuICAgICAgICAgICAgcmVuZGVyRW1wdHlTdGF0ZT17KCkgPT5cbiAgICAgICAgICAgICAgbG9hZGluZyA/IChcbiAgICAgICAgICAgICAgICA8UHJvZ3Jlc3NDaXJjbGUgaXNJbmRldGVybWluYXRlIC8+XG4gICAgICAgICAgICAgICkgOiBlcnJvciA/IChcbiAgICAgICAgICAgICAgICA8R3JhcGhRTEVycm9yTm90aWNlIGVycm9ycz17W2Vycm9yLm5ldHdvcmtFcnJvciwgLi4uKGVycm9yLmdyYXBoUUxFcnJvcnMgPz8gW10pXX0gLz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8RW1wdHlTdGF0ZVxuICAgICAgICAgICAgICAgICAgaWNvbj17dGV4dFNlbGVjdEljb259XG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIkVtcHR5IHJlbGF0ZWQgaXRlbXNcIlxuICAgICAgICAgICAgICAgICAgbWVzc2FnZT1cIlRoZXJlIGFyZSBubyByZWxhdGVkIGl0ZW1zLlwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmxleFxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxUYWJsZUhlYWRlciBjb2x1bW5zPXtjb2x1bW5zfT5cbiAgICAgICAgICAgICAgeyh7IGxhYmVsLCBpZCwgLi4ub3B0aW9ucyB9KSA9PiAoXG4gICAgICAgICAgICAgICAgPENvbHVtbiBrZXk9e2lkfSBpc1Jvd0hlYWRlciB7Li4ub3B0aW9uc30+XG4gICAgICAgICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgICAgICAgPC9Db2x1bW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L1RhYmxlSGVhZGVyPlxuICAgICAgICAgICAgPFRhYmxlQm9keSBpdGVtcz17aXRlbXN9PlxuICAgICAgICAgICAgICB7cm93ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPFJvdyBocmVmPXtgLyR7bGlzdC5wYXRofS8ke3Jvdz8uaWR9YH0+XG4gICAgICAgICAgICAgICAgICAgIHtrZXkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gbGlzdC5maWVsZHNba2V5XVxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcm93W2tleV1cbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBDZWxsQ29udGVudCA9IGZpZWxkLnZpZXdzLkNlbGxcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPENlbGw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtDZWxsQ29udGVudCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2VsbENvbnRlbnQgdmFsdWU9e3ZhbHVlfSBmaWVsZD17ZmllbGQuY29udHJvbGxlcn0gaXRlbT17cm93fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0Pnt2YWx1ZT8udG9TdHJpbmcoKX08L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NlbGw+XG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPC9UYWJsZUJvZHk+XG4gICAgICAgICAgPC9UYWJsZVZpZXc+XG4gICAgICAgICAgPFBhZ2luYXRpb25Db250cm9sc1xuICAgICAgICAgICAgY3VycmVudFBhZ2U9e2N1cnJlbnRQYWdlfVxuICAgICAgICAgICAgcGFnZVNpemU9e3BhZ2VTaXplfVxuICAgICAgICAgICAgcGx1cmFsPXtsaXN0LnBsdXJhbH1cbiAgICAgICAgICAgIHNpbmd1bGFyPXtsaXN0LnNpbmd1bGFyfVxuICAgICAgICAgICAgdG90YWw9e3ZhbHVlLmNvdW50fVxuICAgICAgICAgICAgb25DaGFuZ2VQYWdlPXtwYWdlID0+IHNldEN1cnJlbnRQYWdlKHBhZ2UpfVxuICAgICAgICAgICAgb25DaGFuZ2VQYWdlU2l6ZT17c2l6ZSA9PiBzZXRQYWdlU2l6ZShzaXplKX1cbiAgICAgICAgICAgIGV4dHJhQWN0aW9ucz17XG4gICAgICAgICAgICAgIDxUb29sdGlwVHJpZ2dlcj5cbiAgICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uIGhyZWY9e3JlbGF0ZWRJdGVtSHJlZiF9PlxuICAgICAgICAgICAgICAgICAgPEljb24gc3JjPXthcnJvd1VwUmlnaHRJY29ufSAvPlxuICAgICAgICAgICAgICAgIDwvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxUb29sdGlwPntyZWxhdGVkSXRlbUxhYmVsfTwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgPC9Ub29sdGlwVHJpZ2dlcj5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvPlxuICAgICAgICA8Lz5cbiAgICAgICl9XG4gICAgPC9LZXlzdGFyRmllbGQ+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VNZW1vIiwidXNlU3RhdGUiLCJDZWxsIiwiQ29sdW1uIiwiUm93IiwiVGFibGVCb2R5IiwiVGFibGVIZWFkZXIiLCJUYWJsZVZpZXciLCJGaWVsZCIsIktleXN0YXJGaWVsZCIsInVzZUxpc3QiLCJ0ZXh0U2VsZWN0SWNvbiIsIkVtcHR5U3RhdGUiLCJncWwiLCJ1c2VRdWVyeSIsIlRleHQiLCJHcmFwaFFMRXJyb3JOb3RpY2UiLCJQYWdpbmF0aW9uQ29udHJvbHMiLCJ1c2VSZWxhdGVkSXRlbUhyZWYiLCJ1c2VSZWxhdGVkSXRlbUxhYmVsIiwiQWN0aW9uQnV0dG9uIiwiSWNvbiIsImFycm93VXBSaWdodEljb24iLCJUb29sdGlwVHJpZ2dlciIsIlRvb2x0aXAiLCJQcm9ncmVzc0NpcmNsZSIsIlJlbGF0aW9uc2hpcFRhYmxlIiwiZmllbGQiLCJ2YWx1ZSIsInJlZkZpZWxkS2V5IiwiRXJyb3IiLCJjdXJyZW50UGFnZSIsInNldEN1cnJlbnRQYWdlIiwicGFnZVNpemUiLCJzZXRQYWdlU2l6ZSIsImxpc3QiLCJyZWZMaXN0S2V5IiwiaGFzTWFueU9uUmVmTGlzdCIsImZpZWxkcyIsImNvbnRyb2xsZXIiLCJtYW55Iiwic2VsZWN0ZWRGaWVsZHMiLCJjb2x1bW5zIiwiaW5pdGlhbENvbHVtbnMiLCJtYXAiLCJwYXRoIiwiaWQiLCJsYWJlbCIsImFsbG93c1NvcnRpbmciLCJpc09yZGVyYWJsZSIsInNvcnQiLCJzZXRTb3J0IiwiaW5pdGlhbFNvcnQiLCJjb2x1bW4iLCJkaXJlY3Rpb24iLCJkYXRhIiwiZXJyb3IiLCJsb2FkaW5nIiwic2VsZWN0ZWRHcWxGaWVsZHMiLCJmaWVsZFBhdGgiLCJncmFwaHFsU2VsZWN0aW9uIiwiam9pbiIsImdyYXBocWwiLCJuYW1lcyIsIndoZXJlSW5wdXROYW1lIiwibGlzdE9yZGVyTmFtZSIsImxpc3RRdWVyeU5hbWUiLCJpbmNsdWRlcyIsImZldGNoUG9saWN5IiwiZXJyb3JQb2xpY3kiLCJ2YXJpYWJsZXMiLCJ3aGVyZSIsInNvbWUiLCJlcXVhbHMiLCJ0YWtlIiwic2tpcCIsIm9yZGVyQnkiLCJyZWxhdGVkSXRlbUxhYmVsIiwicmVsYXRlZEl0ZW1IcmVmIiwiaXRlbXMiLCJkZXNjcmlwdGlvbiIsImlucHV0UHJvcHMiLCJzZWxlY3Rpb25Nb2RlIiwib25Tb3J0Q2hhbmdlIiwic29ydERlc2NyaXB0b3IiLCJkZW5zaXR5IiwiVU5TQUZFX3N0eWxlIiwibWluSGVpZ2h0IiwibWF4SGVpZ2h0Iiwib3ZlcmZsb3dNb2RlIiwicmVuZGVyRW1wdHlTdGF0ZSIsImlzSW5kZXRlcm1pbmF0ZSIsImVycm9ycyIsIm5ldHdvcmtFcnJvciIsImdyYXBoUUxFcnJvcnMiLCJpY29uIiwidGl0bGUiLCJtZXNzYWdlIiwiZmxleCIsIm9wdGlvbnMiLCJpc1Jvd0hlYWRlciIsInJvdyIsImhyZWYiLCJrZXkiLCJDZWxsQ29udGVudCIsInZpZXdzIiwiaXRlbSIsInRvU3RyaW5nIiwicGx1cmFsIiwic2luZ3VsYXIiLCJ0b3RhbCIsImNvdW50Iiwib25DaGFuZ2VQYWdlIiwicGFnZSIsIm9uQ2hhbmdlUGFnZVNpemUiLCJzaXplIiwiZXh0cmFBY3Rpb25zIiwic3JjIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/relationship/views/index.tsx":
/*!*******************************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/relationship/views/index.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cell: () => (/* binding */ Cell),\n/* harmony export */   ComboboxMany: () => (/* reexport safe */ _ComboboxMany__WEBPACK_IMPORTED_MODULE_13__.ComboboxMany),\n/* harmony export */   ComboboxSingle: () => (/* reexport safe */ _ComboboxSingle__WEBPACK_IMPORTED_MODULE_14__.ComboboxSingle),\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   controller: () => (/* binding */ controller)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_aria_i18n__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @react-aria/i18n */ \"../../../../node_modules/.pnpm/@react-aria+i18n@3.12.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-aria/i18n/dist/import.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/dialog */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-dialog.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_link__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/link */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-link.js\");\n/* harmony import */ var _keystar_ui_tag__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/tag */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tag.js\");\n/* harmony import */ var _keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/text-field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-text-field.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _admin_ui_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../admin-ui/components */ \"../../../../packages/core/src/admin-ui/components/index.ts\");\n/* harmony import */ var _admin_ui_context__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../admin-ui/context */ \"../../../../packages/core/src/admin-ui/context.tsx\");\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_arrowUpRightIcon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @keystar/ui/icon/icons/arrowUpRightIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-arrowUpRightIcon.js\");\n/* harmony import */ var _ComboboxMany__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ComboboxMany */ \"../../../../packages/core/src/fields/types/relationship/views/ComboboxMany.tsx\");\n/* harmony import */ var _ComboboxSingle__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ComboboxSingle */ \"../../../../packages/core/src/fields/types/relationship/views/ComboboxSingle.tsx\");\n/* harmony import */ var _ContextualActions__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ContextualActions */ \"../../../../packages/core/src/fields/types/relationship/views/ContextualActions.tsx\");\n/* harmony import */ var _RelationshipTable__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./RelationshipTable */ \"../../../../packages/core/src/fields/types/relationship/views/RelationshipTable.tsx\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Field(props) {\n    const { autoFocus, field, forceValidation = false, onChange, value, isRequired } = props;\n    const foreignList = (0,_admin_ui_context__WEBPACK_IMPORTED_MODULE_9__.useList)(field.refListKey);\n    const [dialogIsOpen, setDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const description = field.description || undefined;\n    const isReadOnly = onChange === undefined;\n    const [counter, setCounter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    if (value.kind === 'count') {\n        if (field.display === 'table') {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_RelationshipTable__WEBPACK_IMPORTED_MODULE_16__.RelationshipTable, {\n                field: field,\n                value: value\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                lineNumber: 39,\n                columnNumber: 14\n            }, this);\n        }\n        const textField = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_6__.TextField, {\n            autoFocus: autoFocus,\n            label: field.label,\n            description: description,\n            isReadOnly: true,\n            value: value.count.toString(),\n            width: \"alias.singleLineWidth\"\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n            lineNumber: 42,\n            columnNumber: 7\n        }, this);\n        if (!field.refFieldKey) return textField;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_3__.HStack, {\n            gap: \"small\",\n            alignItems: \"end\",\n            children: [\n                textField,\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_10__.ActionButton, {\n                    href: `/${foreignList.path}?${(0,_ContextualActions__WEBPACK_IMPORTED_MODULE_15__.buildQueryForRelationshipFieldWithForeignField)(foreignList, field.refFieldKey, value.id)}`,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_11__.Icon, {\n                        src: _keystar_ui_icon_icons_arrowUpRightIcon__WEBPACK_IMPORTED_MODULE_12__.arrowUpRightIcon\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                        lineNumber: 58,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                    lineNumber: 55,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n            lineNumber: 53,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_3__.VStack, {\n                gap: \"medium\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ContextualActions__WEBPACK_IMPORTED_MODULE_15__.ContextualActions, {\n                        onAdd: ()=>setDialogOpen(true),\n                        ...props,\n                        children: value.kind === 'many' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ComboboxMany__WEBPACK_IMPORTED_MODULE_13__.ComboboxMany, {\n                            autoFocus: autoFocus,\n                            label: field.label,\n                            description: description,\n                            forceValidation: forceValidation,\n                            isReadOnly: isReadOnly,\n                            isRequired: isRequired,\n                            list: foreignList,\n                            labelField: field.refLabelField,\n                            searchFields: field.refSearchFields,\n                            filter: field.selectFilter,\n                            sort: field.sort,\n                            state: {\n                                kind: 'many',\n                                value: value.value,\n                                onChange (newItems) {\n                                    onChange?.({\n                                        ...value,\n                                        value: newItems\n                                    });\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                            lineNumber: 69,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ComboboxSingle__WEBPACK_IMPORTED_MODULE_14__.ComboboxSingle, {\n                            autoFocus: autoFocus,\n                            label: field.label,\n                            description: description,\n                            forceValidation: forceValidation,\n                            isReadOnly: isReadOnly,\n                            isRequired: isRequired,\n                            list: foreignList,\n                            labelField: field.refLabelField,\n                            searchFields: field.refSearchFields,\n                            filter: field.selectFilter,\n                            sort: field.sort,\n                            state: {\n                                kind: 'one',\n                                value: value.value,\n                                onChange (newItem) {\n                                    onChange?.({\n                                        ...value,\n                                        value: newItem\n                                    });\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                            lineNumber: 90,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                        lineNumber: 67,\n                        columnNumber: 9\n                    }, this),\n                    value.kind === 'many' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tag__WEBPACK_IMPORTED_MODULE_5__.TagGroup, {\n                        \"aria-label\": `related ${foreignList.plural}`,\n                        isRequired: isRequired,\n                        items: value.value.map((item)=>({\n                                id: item.id.toString() ?? '',\n                                label: item.label ?? '',\n                                href: item.built ? '' : `/${foreignList.path}/${item.id}`\n                            })),\n                        maxRows: 2,\n                        onRemove: isReadOnly ? undefined : (keys)=>{\n                            onChange?.({\n                                ...value,\n                                value: value.value.filter((item)=>!keys.has(item.id))\n                            });\n                        },\n                        renderEmptyState: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__.Text, {\n                                color: \"neutralSecondary\",\n                                size: \"small\",\n                                children: [\n                                    \"No related \",\n                                    foreignList.plural.toLowerCase(),\n                                    \"\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                                lineNumber: 134,\n                                columnNumber: 15\n                            }, void 0),\n                        children: renderItem\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                        lineNumber: 114,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                lineNumber: 66,\n                columnNumber: 7\n            }, this),\n            !isReadOnly && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.DialogContainer, {\n                onDismiss: ()=>setDialogOpen(false),\n                children: dialogIsOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_admin_ui_components__WEBPACK_IMPORTED_MODULE_8__.BuildItemDialog, {\n                    listKey: foreignList.key,\n                    onChange: (builtItemData)=>{\n                        const id = `_____temporary_${counter}`;\n                        const label = builtItemData?.[foreignList.labelField] ?? `[Unnamed ${foreignList.singular} ${counter}]`;\n                        setDialogOpen(false);\n                        setCounter(counter + 1);\n                        if (value.kind === 'many') {\n                            onChange({\n                                ...value,\n                                value: [\n                                    ...value.value,\n                                    {\n                                        id,\n                                        label,\n                                        data: builtItemData,\n                                        built: true\n                                    }\n                                ]\n                            });\n                        } else if (value.kind === 'one') {\n                            onChange({\n                                ...value,\n                                value: {\n                                    id,\n                                    label,\n                                    data: builtItemData,\n                                    built: true\n                                }\n                            });\n                        }\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                    lineNumber: 147,\n                    columnNumber: 13\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                lineNumber: 145,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n        lineNumber: 65,\n        columnNumber: 5\n    }, this);\n}\n// NOTE: fix for `TagGroup` perf issue, should typically be okay to just\n// inline the render function\nfunction renderItem(item) {\n    if (item.href === '') return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tag__WEBPACK_IMPORTED_MODULE_5__.Item, {\n        children: item.label\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n        lineNumber: 193,\n        columnNumber: 32\n    }, this);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tag__WEBPACK_IMPORTED_MODULE_5__.Item, {\n        href: item.href,\n        children: item.label\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n        lineNumber: 194,\n        columnNumber: 10\n    }, this);\n}\nconst Cell = ({ field, item })=>{\n    const list = (0,_admin_ui_context__WEBPACK_IMPORTED_MODULE_9__.useList)(field.refListKey);\n    if (field.display === 'count' || field.display === 'table') {\n        const count = item[`${field.fieldKey}Count`];\n        return count != null ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__.Numeral, {\n            value: count,\n            abbreviate: true\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n            lineNumber: 202,\n            columnNumber: 28\n        }, undefined) : null;\n    }\n    const data = item[field.fieldKey];\n    const items = (Array.isArray(data) ? data : [\n        data\n    ]).filter(Boolean);\n    const displayItems = items.length < 3 ? items : items.slice(0, 2);\n    const overflow = items.length < 3 ? 0 : items.length - 2;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__.Text, {\n        children: [\n            displayItems.map((item, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                    children: [\n                        index ? ', ' : '',\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_link__WEBPACK_IMPORTED_MODULE_4__.TextLink, {\n                            href: `/${list.path}/${item.id}`,\n                            children: item.label || item.id\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                            lineNumber: 215,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, item.id, true, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                    lineNumber: 213,\n                    columnNumber: 9\n                }, undefined)),\n            overflow ? `, and ${overflow} more` : null\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n        lineNumber: 211,\n        columnNumber: 5\n    }, undefined);\n};\nfunction controller(config) {\n    const { listKey, fieldKey: fieldKey, label, description } = config;\n    const { displayMode, hideCreate, many, refFieldKey, refLabelField, refListKey, refSearchFields } = config.fieldMeta;\n    return {\n        refFieldKey,\n        many,\n        listKey,\n        fieldKey,\n        label,\n        description,\n        display: displayMode,\n        refLabelField,\n        refSearchFields,\n        refListKey,\n        graphqlSelection: displayMode === 'count' || displayMode === 'table' ? `${fieldKey}Count` : `${fieldKey}${many && config.fieldMeta.sort ? `(orderBy: { ${config.fieldMeta.sort.field}: ${config.fieldMeta.sort.direction.toLowerCase()} })` : ''} {\n              id\n              label: ${refLabelField}\n            }`,\n        hideCreate: hideCreate || displayMode === 'table',\n        columns: displayMode === 'table' ? config.fieldMeta.columns : null,\n        initialSort: displayMode === 'table' ? config.fieldMeta.initialSort : null,\n        selectFilter: displayMode === 'select' ? config.fieldMeta.filter : null,\n        sort: displayMode === 'select' ? config.fieldMeta.sort : null,\n        // note we're not making the state kind: 'count' when ui.displayMode is set to 'count'.\n        // that ui.displayMode: 'count' is really just a way to have reasonable performance\n        // because our other UIs don't handle relationships with a large number of items well\n        // but that's not a problem here since we're creating a new item so we might as well them a better UI\n        defaultValue: many ? {\n            kind: 'many',\n            id: null,\n            initialValue: [],\n            value: []\n        } : {\n            kind: 'one',\n            id: null,\n            value: null,\n            initialValue: null\n        },\n        validate (value, opts) {\n            if ('count' in value) return true;\n            return opts.isRequired ? value.kind === 'one' ? value.value !== null : value.value.length > 0 : true;\n        },\n        deserialize: (data)=>{\n            if (displayMode === 'count' || displayMode === 'table') {\n                return {\n                    id: data.id,\n                    kind: 'count',\n                    count: data[`${config.fieldKey}Count`] ?? 0\n                };\n            }\n            if (many) {\n                const value = (data[config.fieldKey] || []).map((x)=>({\n                        id: x.id,\n                        label: x.label || x.id\n                    }));\n                return {\n                    kind: 'many',\n                    id: data.id,\n                    initialValue: value,\n                    value\n                };\n            }\n            let value = data[config.fieldKey];\n            if (value) {\n                value = {\n                    id: value.id,\n                    label: value.label || value.id\n                };\n            }\n            return {\n                kind: 'one',\n                id: data.id,\n                value,\n                initialValue: value\n            };\n        },\n        serialize: (state)=>{\n            if (state.kind === 'many') {\n                const newAllIds = new Set(state.value.map((x)=>x.id));\n                const initialIds = new Set(state.initialValue.map((x)=>x.id));\n                const disconnect = state.initialValue.filter((x)=>!newAllIds.has(x.id)).map((x)=>({\n                        id: x.id\n                    }));\n                const connect = state.value.filter((x)=>!x.built && !initialIds.has(x.id)).map((x)=>({\n                        id: x.id\n                    }));\n                const create = state.value.filter((x)=>x.built).map((x)=>x.data);\n                const output = {\n                    ...disconnect.length ? {\n                        disconnect\n                    } : {},\n                    ...connect.length ? {\n                        connect\n                    } : {},\n                    ...create.length ? {\n                        create\n                    } : {}\n                };\n                if (Object.keys(output).length) {\n                    return {\n                        [config.fieldKey]: output\n                    };\n                }\n            } else if (state.kind === 'one') {\n                if (state.initialValue && !state.value) return {\n                    [config.fieldKey]: {\n                        disconnect: true\n                    }\n                };\n                if (state.value?.built) {\n                    return {\n                        [config.fieldKey]: {\n                            create: state.value.data\n                        }\n                    };\n                }\n                if (state.value && state.value.id !== state.initialValue?.id) {\n                    return {\n                        [config.fieldKey]: {\n                            connect: {\n                                id: state.value.id\n                            }\n                        }\n                    };\n                }\n            }\n            return {};\n        },\n        filter: {\n            Filter (props) {\n                const foreignList = (0,_admin_ui_context__WEBPACK_IMPORTED_MODULE_9__.useList)(refListKey);\n                if (props.type === 'empty' || props.type === 'not_empty') return null;\n                // TODO: show labels rather than ids\n                if (props.type === 'is' || props.type === 'not_is') {\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ComboboxSingle__WEBPACK_IMPORTED_MODULE_14__.ComboboxSingle, {\n                        autoFocus: true,\n                        \"aria-label\": label,\n                        isReadOnly: false,\n                        labelField: refLabelField,\n                        searchFields: refSearchFields,\n                        list: foreignList,\n                        state: {\n                            kind: 'one',\n                            value: typeof props.value === 'string' ? {\n                                id: props.value,\n                                label: props.value,\n                                built: false\n                            } : null,\n                            onChange (newItem) {\n                                props.onChange(newItem === null ? null : newItem.id.toString());\n                            }\n                        },\n                        filter: config.fieldMeta.displayMode === 'select' ? config.fieldMeta.filter : null,\n                        sort: config.fieldMeta.displayMode === 'select' ? config.fieldMeta.sort : null\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                        lineNumber: 384,\n                        columnNumber: 13\n                    }, this);\n                }\n                const ids = Array.isArray(props.value) ? props.value : [];\n                const value = ids.map((id)=>({\n                        id,\n                        label: id,\n                        built: false\n                    }));\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_3__.VStack, {\n                    gap: \"medium\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ComboboxMany__WEBPACK_IMPORTED_MODULE_13__.ComboboxMany, {\n                            autoFocus: true,\n                            \"aria-label\": label,\n                            isReadOnly: false,\n                            labelField: refLabelField,\n                            searchFields: refSearchFields,\n                            list: foreignList,\n                            state: {\n                                kind: 'many',\n                                value,\n                                onChange (newItem) {\n                                    props.onChange(newItem.map((x)=>x.id.toString()));\n                                }\n                            },\n                            filter: config.fieldMeta.displayMode === 'select' ? config.fieldMeta.filter : null,\n                            sort: config.fieldMeta.displayMode === 'select' ? config.fieldMeta.sort : null\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                            lineNumber: 410,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tag__WEBPACK_IMPORTED_MODULE_5__.TagGroup, {\n                            \"aria-label\": `related ${foreignList.plural}`,\n                            items: value.map((item)=>({\n                                    id: item.id.toString() ?? '',\n                                    label: item.label ?? '',\n                                    href: item.built ? '' : `/${foreignList.path}/${item.id}`\n                                })),\n                            maxRows: 2,\n                            onRemove: (keys)=>{\n                                props.onChange(ids.filter((id)=>!keys.has(id)));\n                            },\n                            renderEmptyState: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__.Text, {\n                                    color: \"neutralSecondary\",\n                                    size: \"small\",\n                                    children: [\n                                        \"Select related \",\n                                        foreignList.plural.toLowerCase(),\n                                        \"\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                                    lineNumber: 439,\n                                    columnNumber: 17\n                                }, void 0),\n                            children: renderItem\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                            lineNumber: 427,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/relationship/views/index.tsx\",\n                    lineNumber: 409,\n                    columnNumber: 11\n                }, this);\n            },\n            Label ({ label, type, value }) {\n                const listFormatter = (0,_react_aria_i18n__WEBPACK_IMPORTED_MODULE_17__.useListFormatter)({\n                    style: 'short',\n                    type: 'disjunction'\n                });\n                if ([\n                    'empty',\n                    'not_empty'\n                ].includes(type)) return label.toLowerCase();\n                if ([\n                    'is',\n                    'not_is'\n                ].includes(type)) return `${label.toLowerCase()} ${value}`;\n                return `${label.toLowerCase()} (${listFormatter.format(value || [\n                    ''\n                ])})`;\n            },\n            graphql: ({ type, value })=>{\n                if (type === 'empty' && !many) return {\n                    [config.fieldKey]: {\n                        equals: null\n                    }\n                };\n                if (type === 'empty' && many) return {\n                    [config.fieldKey]: {\n                        none: {}\n                    }\n                };\n                if (type === 'not_empty' && !many) return {\n                    [config.fieldKey]: {\n                        not: {\n                            equals: null\n                        }\n                    }\n                };\n                if (type === 'not_empty' && many) return {\n                    [config.fieldKey]: {\n                        some: {}\n                    }\n                };\n                if (type === 'is') return {\n                    [config.fieldKey]: {\n                        id: {\n                            equals: value\n                        }\n                    }\n                };\n                if (type === 'not_is') return {\n                    [config.fieldKey]: {\n                        not: {\n                            id: {\n                                equals: value\n                            }\n                        }\n                    }\n                };\n                if (type === 'some') return {\n                    [config.fieldKey]: {\n                        some: {\n                            id: {\n                                in: value\n                            }\n                        }\n                    }\n                };\n                if (type === 'not_some') return {\n                    [config.fieldKey]: {\n                        not: {\n                            some: {\n                                id: {\n                                    in: value\n                                }\n                            }\n                        }\n                    }\n                };\n                return {\n                    [config.fieldKey]: {\n                        [type]: value\n                    }\n                } // uh\n                ;\n            },\n            parseGraphQL: ()=>[],\n            types: {\n                empty: {\n                    label: 'Is empty',\n                    initialValue: null\n                },\n                not_empty: {\n                    label: 'Is not empty',\n                    initialValue: null\n                },\n                ...many ? {\n                    some: {\n                        label: 'Is one of',\n                        initialValue: []\n                    },\n                    not_some: {\n                        label: 'Is not one of',\n                        initialValue: []\n                    }\n                } : {\n                    is: {\n                        label: 'Is',\n                        initialValue: null\n                    },\n                    not_is: {\n                        label: 'Is not',\n                        initialValue: null\n                    }\n                }\n            }\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy9pbmRleC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBbUQ7QUFDVDtBQUVVO0FBQ0Q7QUFDUjtBQUNLO0FBQ0U7QUFDSTtBQUVXO0FBQ1g7QUFHTDtBQUNWO0FBQ21DO0FBQzdCO0FBQ0k7QUFJckI7QUFDMkI7QUFHaEI7QUFFaEMsU0FBU3NCLE1BQU1DLEtBQW9DO0lBQ3hELE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxLQUFLLEVBQUVDLGtCQUFrQixLQUFLLEVBQUVDLFFBQVEsRUFBRUMsS0FBSyxFQUFFQyxVQUFVLEVBQUUsR0FBR047SUFDbkYsTUFBTU8sY0FBY2pCLDBEQUFPQSxDQUFDWSxNQUFNTSxVQUFVO0lBQzVDLE1BQU0sQ0FBQ0MsY0FBY0MsY0FBYyxHQUFHL0IsK0NBQVFBLENBQUM7SUFDL0MsTUFBTWdDLGNBQWNULE1BQU1TLFdBQVcsSUFBSUM7SUFDekMsTUFBTUMsYUFBYVQsYUFBYVE7SUFDaEMsTUFBTSxDQUFDRSxTQUFTQyxXQUFXLEdBQUdwQywrQ0FBUUEsQ0FBQztJQUV2QyxJQUFJMEIsTUFBTVcsSUFBSSxLQUFLLFNBQVM7UUFDMUIsSUFBSWQsTUFBTWUsT0FBTyxLQUFLLFNBQVM7WUFDN0IscUJBQU8sOERBQUNuQixrRUFBaUJBO2dCQUFDSSxPQUFPQTtnQkFBT0csT0FBT0E7Ozs7OztRQUNqRDtRQUNBLE1BQU1hLDBCQUNKLDhEQUFDaEMsNkRBQVNBO1lBQ1JlLFdBQVdBO1lBQ1hrQixPQUFPakIsTUFBTWlCLEtBQUs7WUFDbEJSLGFBQWFBO1lBQ2JFLFVBQVU7WUFDVlIsT0FBT0EsTUFBTWUsS0FBSyxDQUFDQyxRQUFRO1lBQzNCQyxPQUFNOzs7Ozs7UUFHVixJQUFJLENBQUNwQixNQUFNcUIsV0FBVyxFQUFFLE9BQU9MO1FBQy9CLHFCQUNFLDhEQUFDckMsc0RBQU1BO1lBQUMyQyxL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UUFBUXZHOzRCQUFNO3dCQUFFO29CQUFFO2dCQUFFO2dCQUN0RixJQUFJK0YsU0FBUyxRQUFRLE9BQU87b0JBQUUsQ0FBQ3pCLE9BQU9YLFFBQVEsQ0FBQyxFQUFFO3dCQUFFK0MsTUFBTTs0QkFBRW5GLElBQUk7Z0NBQUVvRixJQUFJM0c7NEJBQU07d0JBQUU7b0JBQUU7Z0JBQUU7Z0JBQ2pGLElBQUkrRixTQUFTLFlBQ1gsT0FBTztvQkFBRSxDQUFDekIsT0FBT1gsUUFBUSxDQUFDLEVBQUU7d0JBQUU4QyxLQUFLOzRCQUFFQyxNQUFNO2dDQUFFbkYsSUFBSTtvQ0FBRW9GLElBQUkzRztnQ0FBTTs0QkFBRTt3QkFBRTtvQkFBRTtnQkFBRTtnQkFDdkUsT0FBTztvQkFBRSxDQUFDc0UsT0FBT1gsUUFBUSxDQUFDLEVBQUU7d0JBQUUsQ0FBQ29DLEtBQUssRUFBRS9GO29CQUFNO2dCQUFFLEVBQUUsS0FBSzs7WUFDdkQ7WUFDQTRHLGNBQWMsSUFBTSxFQUFFO1lBQ3RCQyxPQUFPO2dCQUNMQyxPQUFPO29CQUFFaEcsT0FBTztvQkFBWWtFLGNBQWM7Z0JBQUs7Z0JBQy9DK0IsV0FBVztvQkFBRWpHLE9BQU87b0JBQWdCa0UsY0FBYztnQkFBSztnQkFDdkQsR0FBSVAsT0FDQTtvQkFDRWlDLE1BQU07d0JBQUU1RixPQUFPO3dCQUFha0UsY0FBYyxFQUFFO29CQUFDO29CQUM3Q2dDLFVBQVU7d0JBQUVsRyxPQUFPO3dCQUFpQmtFLGNBQWMsRUFBRTtvQkFBQztnQkFDdkQsSUFDQTtvQkFDRWlDLElBQUk7d0JBQUVuRyxPQUFPO3dCQUFNa0UsY0FBYztvQkFBSztvQkFDdENrQyxRQUFRO3dCQUFFcEcsT0FBTzt3QkFBVWtFLGNBQWM7b0JBQUs7Z0JBQ2hELENBQUM7WUFDUDtRQUNGO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9maWVsZHMvdHlwZXMvcmVsYXRpb25zaGlwL3ZpZXdzL2luZGV4LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VMaXN0Rm9ybWF0dGVyIH0gZnJvbSAnQHJlYWN0LWFyaWEvaTE4bidcbmltcG9ydCB7IEZyYWdtZW50LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyBEaWFsb2dDb250YWluZXIgfSBmcm9tICdAa2V5c3Rhci91aS9kaWFsb2cnXG5pbXBvcnQgeyBIU3RhY2ssIFZTdGFjayB9IGZyb20gJ0BrZXlzdGFyL3VpL2xheW91dCdcbmltcG9ydCB7IFRleHRMaW5rIH0gZnJvbSAnQGtleXN0YXIvdWkvbGluaydcbmltcG9ydCB7IEl0ZW0sIFRhZ0dyb3VwIH0gZnJvbSAnQGtleXN0YXIvdWkvdGFnJ1xuaW1wb3J0IHsgVGV4dEZpZWxkIH0gZnJvbSAnQGtleXN0YXIvdWkvdGV4dC1maWVsZCdcbmltcG9ydCB7IE51bWVyYWwsIFRleHQgfSBmcm9tICdAa2V5c3Rhci91aS90eXBvZ3JhcGh5J1xuXG5pbXBvcnQgeyBCdWlsZEl0ZW1EaWFsb2cgfSBmcm9tICcuLi8uLi8uLi8uLi9hZG1pbi11aS9jb21wb25lbnRzJ1xuaW1wb3J0IHsgdXNlTGlzdCB9IGZyb20gJy4uLy4uLy4uLy4uL2FkbWluLXVpL2NvbnRleHQnXG5pbXBvcnQgdHlwZSB7IENlbGxDb21wb25lbnQsIEZpZWxkQ29udHJvbGxlckNvbmZpZywgRmllbGRQcm9wcyB9IGZyb20gJy4uLy4uLy4uLy4uL3R5cGVzJ1xuXG5pbXBvcnQgeyBBY3Rpb25CdXR0b24gfSBmcm9tICdAa2V5c3Rhci91aS9idXR0b24nXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbidcbmltcG9ydCB7IGFycm93VXBSaWdodEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2Fycm93VXBSaWdodEljb24nXG5pbXBvcnQgeyBDb21ib2JveE1hbnkgfSBmcm9tICcuL0NvbWJvYm94TWFueSdcbmltcG9ydCB7IENvbWJvYm94U2luZ2xlIH0gZnJvbSAnLi9Db21ib2JveFNpbmdsZSdcbmltcG9ydCB7XG4gIGJ1aWxkUXVlcnlGb3JSZWxhdGlvbnNoaXBGaWVsZFdpdGhGb3JlaWduRmllbGQsXG4gIENvbnRleHR1YWxBY3Rpb25zLFxufSBmcm9tICcuL0NvbnRleHR1YWxBY3Rpb25zJ1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwVGFibGUgfSBmcm9tICcuL1JlbGF0aW9uc2hpcFRhYmxlJ1xuaW1wb3J0IHR5cGUgeyBSZWxhdGlvbnNoaXBDb250cm9sbGVyLCBSZWxhdGlvbnNoaXBWYWx1ZSB9IGZyb20gJy4vdHlwZXMnXG5cbmV4cG9ydCB7IENvbWJvYm94TWFueSwgQ29tYm9ib3hTaW5nbGUgfVxuXG5leHBvcnQgZnVuY3Rpb24gRmllbGQocHJvcHM6IEZpZWxkUHJvcHM8dHlwZW9mIGNvbnRyb2xsZXI+KSB7XG4gIGNvbnN0IHsgYXV0b0ZvY3VzLCBmaWVsZCwgZm9yY2VWYWxpZGF0aW9uID0gZmFsc2UsIG9uQ2hhbmdlLCB2YWx1ZSwgaXNSZXF1aXJlZCB9ID0gcHJvcHNcbiAgY29uc3QgZm9yZWlnbkxpc3QgPSB1c2VMaXN0KGZpZWxkLnJlZkxpc3RLZXkpXG4gIGNvbnN0IFtkaWFsb2dJc09wZW4sIHNldERpYWxvZ09wZW5dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gZmllbGQuZGVzY3JpcHRpb24gfHwgdW5kZWZpbmVkXG4gIGNvbnN0IGlzUmVhZE9ubHkgPSBvbkNoYW5nZSA9PT0gdW5kZWZpbmVkXG4gIGNvbnN0IFtjb3VudGVyLCBzZXRDb3VudGVyXSA9IHVzZVN0YXRlKDEpXG5cbiAgaWYgKHZhbHVlLmtpbmQgPT09ICdjb3VudCcpIHtcbiAgICBpZiAoZmllbGQuZGlzcGxheSA9PT0gJ3RhYmxlJykge1xuICAgICAgcmV0dXJuIDxSZWxhdGlvbnNoaXBUYWJsZSBmaWVsZD17ZmllbGR9IHZhbHVlPXt2YWx1ZX0gLz5cbiAgICB9XG4gICAgY29uc3QgdGV4dEZpZWxkID0gKFxuICAgICAgPFRleHRGaWVsZFxuICAgICAgICBhdXRvRm9jdXM9e2F1dG9Gb2N1c31cbiAgICAgICAgbGFiZWw9e2ZpZWxkLmxhYmVsfVxuICAgICAgICBkZXNjcmlwdGlvbj17ZGVzY3JpcHRpb259XG4gICAgICAgIGlzUmVhZE9ubHlcbiAgICAgICAgdmFsdWU9e3ZhbHVlLmNvdW50LnRvU3RyaW5nKCl9XG4gICAgICAgIHdpZHRoPVwiYWxpYXMuc2luZ2xlTGluZVdpZHRoXCJcbiAgICAgIC8+XG4gICAgKVxuICAgIGlmICghZmllbGQucmVmRmllbGRLZXkpIHJldHVybiB0ZXh0RmllbGRcbiAgICByZXR1cm4gKFxuICAgICAgPEhTdGFjayBnYXA9XCJzbWFsbFwiIGFsaWduSXRlbXM9XCJlbmRcIj5cbiAgICAgICAge3RleHRGaWVsZH1cbiAgICAgICAgPEFjdGlvbkJ1dHRvblxuICAgICAgICAgIGhyZWY9e2AvJHtmb3JlaWduTGlzdC5wYXRofT8ke2J1aWxkUXVlcnlGb3JSZWxhdGlvbnNoaXBGaWVsZFdpdGhGb3JlaWduRmllbGQoZm9yZWlnbkxpc3QsIGZpZWxkLnJlZkZpZWxkS2V5LCB2YWx1ZS5pZCl9YH1cbiAgICAgICAgPlxuICAgICAgICAgIDxJY29uIHNyYz17YXJyb3dVcFJpZ2h0SWNvbn0gLz5cbiAgICAgICAgPC9BY3Rpb25CdXR0b24+XG4gICAgICA8L0hTdGFjaz5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxGcmFnbWVudD5cbiAgICAgIDxWU3RhY2sgZ2FwPVwibWVkaXVtXCI+XG4gICAgICAgIDxDb250ZXh0dWFsQWN0aW9ucyBvbkFkZD17KCkgPT4gc2V0RGlhbG9nT3Blbih0cnVlKX0gey4uLnByb3BzfT5cbiAgICAgICAgICB7dmFsdWUua2luZCA9PT0gJ21hbnknID8gKFxuICAgICAgICAgICAgPENvbWJvYm94TWFueVxuICAgICAgICAgICAgICBhdXRvRm9jdXM9e2F1dG9Gb2N1c31cbiAgICAgICAgICAgICAgbGFiZWw9e2ZpZWxkLmxhYmVsfVxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbj17ZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgIGZvcmNlVmFsaWRhdGlvbj17Zm9yY2VWYWxpZGF0aW9ufVxuICAgICAgICAgICAgICBpc1JlYWRPbmx5PXtpc1JlYWRPbmx5fVxuICAgICAgICAgICAgICBpc1JlcXVpcmVkPXtpc1JlcXVpcmVkfVxuICAgICAgICAgICAgICBsaXN0PXtmb3JlaWduTGlzdH1cbiAgICAgICAgICAgICAgbGFiZWxGaWVsZD17ZmllbGQucmVmTGFiZWxGaWVsZH1cbiAgICAgICAgICAgICAgc2VhcmNoRmllbGRzPXtmaWVsZC5yZWZTZWFyY2hGaWVsZHN9XG4gICAgICAgICAgICAgIGZpbHRlcj17ZmllbGQuc2VsZWN0RmlsdGVyfVxuICAgICAgICAgICAgICBzb3J0PXtmaWVsZC5zb3J0fVxuICAgICAgICAgICAgICBzdGF0ZT17e1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdtYW55JyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUudmFsdWUsXG4gICAgICAgICAgICAgICAgb25DaGFuZ2UobmV3SXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPy4oeyAuLi52YWx1ZSwgdmFsdWU6IG5ld0l0ZW1zIH0pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxDb21ib2JveFNpbmdsZVxuICAgICAgICAgICAgICBhdXRvRm9jdXM9e2F1dG9Gb2N1c31cbiAgICAgICAgICAgICAgbGFiZWw9e2ZpZWxkLmxhYmVsfVxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbj17ZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgIGZvcmNlVmFsaWRhdGlvbj17Zm9yY2VWYWxpZGF0aW9ufVxuICAgICAgICAgICAgICBpc1JlYWRPbmx5PXtpc1JlYWRPbmx5fVxuICAgICAgICAgICAgICBpc1JlcXVpcmVkPXtpc1JlcXVpcmVkfVxuICAgICAgICAgICAgICBsaXN0PXtmb3JlaWduTGlzdH1cbiAgICAgICAgICAgICAgbGFiZWxGaWVsZD17ZmllbGQucmVmTGFiZWxGaWVsZH1cbiAgICAgICAgICAgICAgc2VhcmNoRmllbGRzPXtmaWVsZC5yZWZTZWFyY2hGaWVsZHN9XG4gICAgICAgICAgICAgIGZpbHRlcj17ZmllbGQuc2VsZWN0RmlsdGVyfVxuICAgICAgICAgICAgICBzb3J0PXtmaWVsZC5zb3J0fVxuICAgICAgICAgICAgICBzdGF0ZT17e1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdvbmUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICBvbkNoYW5nZShuZXdJdGVtKSB7XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT8uKHsgLi4udmFsdWUsIHZhbHVlOiBuZXdJdGVtIH0pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9Db250ZXh0dWFsQWN0aW9ucz5cblxuICAgICAgICB7dmFsdWUua2luZCA9PT0gJ21hbnknICYmIChcbiAgICAgICAgICA8VGFnR3JvdXBcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2ByZWxhdGVkICR7Zm9yZWlnbkxpc3QucGx1cmFsfWB9XG4gICAgICAgICAgICBpc1JlcXVpcmVkPXtpc1JlcXVpcmVkfVxuICAgICAgICAgICAgaXRlbXM9e3ZhbHVlLnZhbHVlLm1hcChpdGVtID0+ICh7XG4gICAgICAgICAgICAgIGlkOiBpdGVtLmlkLnRvU3RyaW5nKCkgPz8gJycsXG4gICAgICAgICAgICAgIGxhYmVsOiBpdGVtLmxhYmVsID8/ICcnLFxuICAgICAgICAgICAgICBocmVmOiBpdGVtLmJ1aWx0ID8gJycgOiBgLyR7Zm9yZWlnbkxpc3QucGF0aH0vJHtpdGVtLmlkfWAsXG4gICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICBtYXhSb3dzPXsyfVxuICAgICAgICAgICAgb25SZW1vdmU9e1xuICAgICAgICAgICAgICBpc1JlYWRPbmx5XG4gICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA6IGtleXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT8uKHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUudmFsdWUuZmlsdGVyKGl0ZW0gPT4gIWtleXMuaGFzKGl0ZW0uaWQpKSxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbmRlckVtcHR5U3RhdGU9eygpID0+IChcbiAgICAgICAgICAgICAgPFRleHQgY29sb3I9XCJuZXV0cmFsU2Vjb25kYXJ5XCIgc2l6ZT1cInNtYWxsXCI+XG4gICAgICAgICAgICAgICAgTm8gcmVsYXRlZCB7Zm9yZWlnbkxpc3QucGx1cmFsLnRvTG93ZXJDYXNlKCl94oCmXG4gICAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3JlbmRlckl0ZW19XG4gICAgICAgICAgPC9UYWdHcm91cD5cbiAgICAgICAgKX1cbiAgICAgIDwvVlN0YWNrPlxuXG4gICAgICB7IWlzUmVhZE9ubHkgJiYgKFxuICAgICAgICA8RGlhbG9nQ29udGFpbmVyIG9uRGlzbWlzcz17KCkgPT4gc2V0RGlhbG9nT3BlbihmYWxzZSl9PlxuICAgICAgICAgIHtkaWFsb2dJc09wZW4gJiYgKFxuICAgICAgICAgICAgPEJ1aWxkSXRlbURpYWxvZ1xuICAgICAgICAgICAgICBsaXN0S2V5PXtmb3JlaWduTGlzdC5rZXl9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtidWlsdEl0ZW1EYXRhID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGBfX19fX3RlbXBvcmFyeV8ke2NvdW50ZXJ9YFxuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsID1cbiAgICAgICAgICAgICAgICAgIChidWlsdEl0ZW1EYXRhPy5bZm9yZWlnbkxpc3QubGFiZWxGaWVsZF0gYXMgc3RyaW5nIHwgbnVsbCkgPz9cbiAgICAgICAgICAgICAgICAgIGBbVW5uYW1lZCAke2ZvcmVpZ25MaXN0LnNpbmd1bGFyfSAke2NvdW50ZXJ9XWBcbiAgICAgICAgICAgICAgICBzZXREaWFsb2dPcGVuKGZhbHNlKVxuICAgICAgICAgICAgICAgIHNldENvdW50ZXIoY291bnRlciArIDEpXG5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUua2luZCA9PT0gJ21hbnknKSB7XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogW1xuICAgICAgICAgICAgICAgICAgICAgIC4uLnZhbHVlLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBidWlsdEl0ZW1EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnVpbHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS5raW5kID09PSAnb25lJykge1xuICAgICAgICAgICAgICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAuLi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBidWlsdEl0ZW1EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgIGJ1aWx0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvRGlhbG9nQ29udGFpbmVyPlxuICAgICAgKX1cbiAgICA8L0ZyYWdtZW50PlxuICApXG59XG5cbi8vIE5PVEU6IGZpeCBmb3IgYFRhZ0dyb3VwYCBwZXJmIGlzc3VlLCBzaG91bGQgdHlwaWNhbGx5IGJlIG9rYXkgdG8ganVzdFxuLy8gaW5saW5lIHRoZSByZW5kZXIgZnVuY3Rpb25cbmZ1bmN0aW9uIHJlbmRlckl0ZW0oaXRlbTogeyBpZDogc3RyaW5nOyBocmVmOiBzdHJpbmc7IGxhYmVsOiBzdHJpbmcgfSkge1xuICBpZiAoaXRlbS5ocmVmID09PSAnJykgcmV0dXJuIDxJdGVtPntpdGVtLmxhYmVsfTwvSXRlbT5cbiAgcmV0dXJuIDxJdGVtIGhyZWY9e2l0ZW0uaHJlZn0+e2l0ZW0ubGFiZWx9PC9JdGVtPlxufVxuXG5leHBvcnQgY29uc3QgQ2VsbDogQ2VsbENvbXBvbmVudDx0eXBlb2YgY29udHJvbGxlcj4gPSAoeyBmaWVsZCwgaXRlbSB9KSA9PiB7XG4gIGNvbnN0IGxpc3QgPSB1c2VMaXN0KGZpZWxkLnJlZkxpc3RLZXkpXG5cbiAgaWYgKGZpZWxkLmRpc3BsYXkgPT09ICdjb3VudCcgfHwgZmllbGQuZGlzcGxheSA9PT0gJ3RhYmxlJykge1xuICAgIGNvbnN0IGNvdW50ID0gaXRlbVtgJHtmaWVsZC5maWVsZEtleX1Db3VudGBdIGFzIG51bWJlclxuICAgIHJldHVybiBjb3VudCAhPSBudWxsID8gPE51bWVyYWwgdmFsdWU9e2NvdW50fSBhYmJyZXZpYXRlIC8+IDogbnVsbFxuICB9XG5cbiAgY29uc3QgZGF0YSA9IGl0ZW1bZmllbGQuZmllbGRLZXldXG4gIGNvbnN0IGl0ZW1zID0gKEFycmF5LmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogW2RhdGFdKS5maWx0ZXIoQm9vbGVhbilcbiAgY29uc3QgZGlzcGxheUl0ZW1zID0gaXRlbXMubGVuZ3RoIDwgMyA/IGl0ZW1zIDogaXRlbXMuc2xpY2UoMCwgMilcbiAgY29uc3Qgb3ZlcmZsb3cgPSBpdGVtcy5sZW5ndGggPCAzID8gMCA6IGl0ZW1zLmxlbmd0aCAtIDJcblxuICByZXR1cm4gKFxuICAgIDxUZXh0PlxuICAgICAge2Rpc3BsYXlJdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXG4gICAgICAgIDxGcmFnbWVudCBrZXk9e2l0ZW0uaWR9PlxuICAgICAgICAgIHtpbmRleCA/ICcsICcgOiAnJ31cbiAgICAgICAgICA8VGV4dExpbmsgaHJlZj17YC8ke2xpc3QucGF0aH0vJHtpdGVtLmlkfWB9PntpdGVtLmxhYmVsIHx8IGl0ZW0uaWR9PC9UZXh0TGluaz5cbiAgICAgICAgPC9GcmFnbWVudD5cbiAgICAgICkpfVxuICAgICAge292ZXJmbG93ID8gYCwgYW5kICR7b3ZlcmZsb3d9IG1vcmVgIDogbnVsbH1cbiAgICA8L1RleHQ+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRyb2xsZXIoXG4gIGNvbmZpZzogRmllbGRDb250cm9sbGVyQ29uZmlnPFxuICAgIHtcbiAgICAgIHJlZkZpZWxkS2V5Pzogc3RyaW5nXG4gICAgICByZWZMaXN0S2V5OiBzdHJpbmdcbiAgICAgIG1hbnk6IGJvb2xlYW5cbiAgICAgIGhpZGVDcmVhdGU6IGJvb2xlYW5cbiAgICAgIHJlZkxhYmVsRmllbGQ6IHN0cmluZ1xuICAgICAgcmVmU2VhcmNoRmllbGRzOiBzdHJpbmdbXVxuICAgIH0gJiAoXG4gICAgICB8IHtcbiAgICAgICAgICBkaXNwbGF5TW9kZTogJ3NlbGVjdCdcbiAgICAgICAgICBmaWx0ZXI6IFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsXG4gICAgICAgICAgc29ydDogeyBmaWVsZDogc3RyaW5nOyBkaXJlY3Rpb246ICdBU0MnIHwgJ0RFU0MnIH0gfCBudWxsXG4gICAgICAgIH1cbiAgICAgIHwgeyBkaXNwbGF5TW9kZTogJ2NvdW50JyB9XG4gICAgICB8IHtcbiAgICAgICAgICBkaXNwbGF5TW9kZTogJ3RhYmxlJ1xuICAgICAgICAgIHJlZkZpZWxkS2V5OiBzdHJpbmdcbiAgICAgICAgICBpbml0aWFsU29ydDogeyBmaWVsZDogc3RyaW5nOyBkaXJlY3Rpb246ICdBU0MnIHwgJ0RFU0MnIH0gfCBudWxsXG4gICAgICAgICAgY29sdW1uczogc3RyaW5nW10gfCBudWxsXG4gICAgICAgIH1cbiAgICApXG4gID5cbik6IFJlbGF0aW9uc2hpcENvbnRyb2xsZXIge1xuICBjb25zdCB7IGxpc3RLZXksIGZpZWxkS2V5OiBmaWVsZEtleSwgbGFiZWwsIGRlc2NyaXB0aW9uIH0gPSBjb25maWdcbiAgY29uc3QgeyBkaXNwbGF5TW9kZSwgaGlkZUNyZWF0ZSwgbWFueSwgcmVmRmllbGRLZXksIHJlZkxhYmVsRmllbGQsIHJlZkxpc3RLZXksIHJlZlNlYXJjaEZpZWxkcyB9ID1cbiAgICBjb25maWcuZmllbGRNZXRhXG5cbiAgcmV0dXJuIHtcbiAgICByZWZGaWVsZEtleSxcbiAgICBtYW55LFxuICAgIGxpc3RLZXksXG4gICAgZmllbGRLZXksXG4gICAgbGFiZWwsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZGlzcGxheTogZGlzcGxheU1vZGUsXG4gICAgcmVmTGFiZWxGaWVsZCxcbiAgICByZWZTZWFyY2hGaWVsZHMsXG4gICAgcmVmTGlzdEtleSxcbiAgICBncmFwaHFsU2VsZWN0aW9uOlxuICAgICAgZGlzcGxheU1vZGUgPT09ICdjb3VudCcgfHwgZGlzcGxheU1vZGUgPT09ICd0YWJsZSdcbiAgICAgICAgPyBgJHtmaWVsZEtleX1Db3VudGBcbiAgICAgICAgOiBgJHtmaWVsZEtleX0ke21hbnkgJiYgY29uZmlnLmZpZWxkTWV0YS5zb3J0ID8gYChvcmRlckJ5OiB7ICR7Y29uZmlnLmZpZWxkTWV0YS5zb3J0LmZpZWxkfTogJHtjb25maWcuZmllbGRNZXRhLnNvcnQuZGlyZWN0aW9uLnRvTG93ZXJDYXNlKCl9IH0pYCA6ICcnfSB7XG4gICAgICAgICAgICAgIGlkXG4gICAgICAgICAgICAgIGxhYmVsOiAke3JlZkxhYmVsRmllbGR9XG4gICAgICAgICAgICB9YCxcbiAgICBoaWRlQ3JlYXRlOiBoaWRlQ3JlYXRlIHx8IGRpc3BsYXlNb2RlID09PSAndGFibGUnLFxuICAgIGNvbHVtbnM6IGRpc3BsYXlNb2RlID09PSAndGFibGUnID8gY29uZmlnLmZpZWxkTWV0YS5jb2x1bW5zIDogbnVsbCxcbiAgICBpbml0aWFsU29ydDogZGlzcGxheU1vZGUgPT09ICd0YWJsZScgPyBjb25maWcuZmllbGRNZXRhLmluaXRpYWxTb3J0IDogbnVsbCxcbiAgICBzZWxlY3RGaWx0ZXI6IGRpc3BsYXlNb2RlID09PSAnc2VsZWN0JyA/IGNvbmZpZy5maWVsZE1ldGEuZmlsdGVyIDogbnVsbCxcbiAgICBzb3J0OiBkaXNwbGF5TW9kZSA9PT0gJ3NlbGVjdCcgPyBjb25maWcuZmllbGRNZXRhLnNvcnQgOiBudWxsLFxuICAgIC8vIG5vdGUgd2UncmUgbm90IG1ha2luZyB0aGUgc3RhdGUga2luZDogJ2NvdW50JyB3aGVuIHVpLmRpc3BsYXlNb2RlIGlzIHNldCB0byAnY291bnQnLlxuICAgIC8vIHRoYXQgdWkuZGlzcGxheU1vZGU6ICdjb3VudCcgaXMgcmVhbGx5IGp1c3QgYSB3YXkgdG8gaGF2ZSByZWFzb25hYmxlIHBlcmZvcm1hbmNlXG4gICAgLy8gYmVjYXVzZSBvdXIgb3RoZXIgVUlzIGRvbid0IGhhbmRsZSByZWxhdGlvbnNoaXBzIHdpdGggYSBsYXJnZSBudW1iZXIgb2YgaXRlbXMgd2VsbFxuICAgIC8vIGJ1dCB0aGF0J3Mgbm90IGEgcHJvYmxlbSBoZXJlIHNpbmNlIHdlJ3JlIGNyZWF0aW5nIGEgbmV3IGl0ZW0gc28gd2UgbWlnaHQgYXMgd2VsbCB0aGVtIGEgYmV0dGVyIFVJXG4gICAgZGVmYXVsdFZhbHVlOiBtYW55XG4gICAgICA/IHtcbiAgICAgICAgICBraW5kOiAnbWFueScsXG4gICAgICAgICAgaWQ6IG51bGwsXG4gICAgICAgICAgaW5pdGlhbFZhbHVlOiBbXSxcbiAgICAgICAgICB2YWx1ZTogW10sXG4gICAgICAgIH1cbiAgICAgIDoge1xuICAgICAgICAgIGtpbmQ6ICdvbmUnLFxuICAgICAgICAgIGlkOiBudWxsLFxuICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgIGluaXRpYWxWYWx1ZTogbnVsbCxcbiAgICAgICAgfSxcbiAgICB2YWxpZGF0ZSh2YWx1ZSwgb3B0cykge1xuICAgICAgaWYgKCdjb3VudCcgaW4gdmFsdWUpIHJldHVybiB0cnVlXG4gICAgICByZXR1cm4gb3B0cy5pc1JlcXVpcmVkXG4gICAgICAgID8gdmFsdWUua2luZCA9PT0gJ29uZSdcbiAgICAgICAgICA/IHZhbHVlLnZhbHVlICE9PSBudWxsXG4gICAgICAgICAgOiB2YWx1ZS52YWx1ZS5sZW5ndGggPiAwXG4gICAgICAgIDogdHJ1ZVxuICAgIH0sXG4gICAgZGVzZXJpYWxpemU6IGRhdGEgPT4ge1xuICAgICAgaWYgKGRpc3BsYXlNb2RlID09PSAnY291bnQnIHx8IGRpc3BsYXlNb2RlID09PSAndGFibGUnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgICAga2luZDogJ2NvdW50JyxcbiAgICAgICAgICBjb3VudDogZGF0YVtgJHtjb25maWcuZmllbGRLZXl9Q291bnRgXSA/PyAwLFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWFueSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IChkYXRhW2NvbmZpZy5maWVsZEtleV0gfHwgW10pLm1hcCgoeDogYW55KSA9PiAoe1xuICAgICAgICAgIGlkOiB4LmlkLFxuICAgICAgICAgIGxhYmVsOiB4LmxhYmVsIHx8IHguaWQsXG4gICAgICAgIH0pKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGtpbmQ6ICdtYW55JyxcbiAgICAgICAgICBpZDogZGF0YS5pZCxcbiAgICAgICAgICBpbml0aWFsVmFsdWU6IHZhbHVlLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgdmFsdWUgPSBkYXRhW2NvbmZpZy5maWVsZEtleV1cbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHtcbiAgICAgICAgICBpZDogdmFsdWUuaWQsXG4gICAgICAgICAgbGFiZWw6IHZhbHVlLmxhYmVsIHx8IHZhbHVlLmlkLFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiAnb25lJyxcbiAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBpbml0aWFsVmFsdWU6IHZhbHVlLFxuICAgICAgfVxuICAgIH0sXG4gICAgc2VyaWFsaXplOiBzdGF0ZSA9PiB7XG4gICAgICBpZiAoc3RhdGUua2luZCA9PT0gJ21hbnknKSB7XG4gICAgICAgIGNvbnN0IG5ld0FsbElkcyA9IG5ldyBTZXQoc3RhdGUudmFsdWUubWFwKHggPT4geC5pZCkpXG4gICAgICAgIGNvbnN0IGluaXRpYWxJZHMgPSBuZXcgU2V0KHN0YXRlLmluaXRpYWxWYWx1ZS5tYXAoeCA9PiB4LmlkKSlcbiAgICAgICAgY29uc3QgZGlzY29ubmVjdCA9IHN0YXRlLmluaXRpYWxWYWx1ZVxuICAgICAgICAgIC5maWx0ZXIoeCA9PiAhbmV3QWxsSWRzLmhhcyh4LmlkKSlcbiAgICAgICAgICAubWFwKHggPT4gKHsgaWQ6IHguaWQgfSkpXG4gICAgICAgIGNvbnN0IGNvbm5lY3QgPSBzdGF0ZS52YWx1ZVxuICAgICAgICAgIC5maWx0ZXIoeCA9PiAheC5idWlsdCAmJiAhaW5pdGlhbElkcy5oYXMoeC5pZCkpXG4gICAgICAgICAgLm1hcCh4ID0+ICh7IGlkOiB4LmlkIH0pKVxuICAgICAgICBjb25zdCBjcmVhdGUgPSBzdGF0ZS52YWx1ZS5maWx0ZXIoeCA9PiB4LmJ1aWx0KS5tYXAoeCA9PiB4LmRhdGEpXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IHtcbiAgICAgICAgICAuLi4oZGlzY29ubmVjdC5sZW5ndGggPyB7IGRpc2Nvbm5lY3QgfSA6IHt9KSxcbiAgICAgICAgICAuLi4oY29ubmVjdC5sZW5ndGggPyB7IGNvbm5lY3QgfSA6IHt9KSxcbiAgICAgICAgICAuLi4oY3JlYXRlLmxlbmd0aCA/IHsgY3JlYXRlIH0gOiB7fSksXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoT2JqZWN0LmtleXMob3V0cHV0KS5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW2NvbmZpZy5maWVsZEtleV06IG91dHB1dCxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUua2luZCA9PT0gJ29uZScpIHtcbiAgICAgICAgaWYgKHN0YXRlLmluaXRpYWxWYWx1ZSAmJiAhc3RhdGUudmFsdWUpIHJldHVybiB7IFtjb25maWcuZmllbGRLZXldOiB7IGRpc2Nvbm5lY3Q6IHRydWUgfSB9XG4gICAgICAgIGlmIChzdGF0ZS52YWx1ZT8uYnVpbHQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgW2NvbmZpZy5maWVsZEtleV06IHtcbiAgICAgICAgICAgICAgY3JlYXRlOiBzdGF0ZS52YWx1ZS5kYXRhLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnZhbHVlICYmIHN0YXRlLnZhbHVlLmlkICE9PSBzdGF0ZS5pbml0aWFsVmFsdWU/LmlkKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtjb25maWcuZmllbGRLZXldOiB7XG4gICAgICAgICAgICAgIGNvbm5lY3Q6IHtcbiAgICAgICAgICAgICAgICBpZDogc3RhdGUudmFsdWUuaWQsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHt9XG4gICAgfSxcbiAgICBmaWx0ZXI6IHtcbiAgICAgIEZpbHRlcihwcm9wcykge1xuICAgICAgICBjb25zdCBmb3JlaWduTGlzdCA9IHVzZUxpc3QocmVmTGlzdEtleSlcbiAgICAgICAgaWYgKHByb3BzLnR5cGUgPT09ICdlbXB0eScgfHwgcHJvcHMudHlwZSA9PT0gJ25vdF9lbXB0eScpIHJldHVybiBudWxsXG4gICAgICAgIC8vIFRPRE86IHNob3cgbGFiZWxzIHJhdGhlciB0aGFuIGlkc1xuICAgICAgICBpZiAocHJvcHMudHlwZSA9PT0gJ2lzJyB8fCBwcm9wcy50eXBlID09PSAnbm90X2lzJykge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Q29tYm9ib3hTaW5nbGVcbiAgICAgICAgICAgICAgYXV0b0ZvY3VzXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2xhYmVsfVxuICAgICAgICAgICAgICBpc1JlYWRPbmx5PXtmYWxzZX1cbiAgICAgICAgICAgICAgbGFiZWxGaWVsZD17cmVmTGFiZWxGaWVsZH1cbiAgICAgICAgICAgICAgc2VhcmNoRmllbGRzPXtyZWZTZWFyY2hGaWVsZHN9XG4gICAgICAgICAgICAgIGxpc3Q9e2ZvcmVpZ25MaXN0fVxuICAgICAgICAgICAgICBzdGF0ZT17e1xuICAgICAgICAgICAgICAgIGtpbmQ6ICdvbmUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOlxuICAgICAgICAgICAgICAgICAgdHlwZW9mIHByb3BzLnZhbHVlID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/IHsgaWQ6IHByb3BzLnZhbHVlLCBsYWJlbDogcHJvcHMudmFsdWUsIGJ1aWx0OiBmYWxzZSB9XG4gICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICBvbkNoYW5nZShuZXdJdGVtKSB7XG4gICAgICAgICAgICAgICAgICBwcm9wcy5vbkNoYW5nZShuZXdJdGVtID09PSBudWxsID8gbnVsbCA6IG5ld0l0ZW0uaWQudG9TdHJpbmcoKSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBmaWx0ZXI9e2NvbmZpZy5maWVsZE1ldGEuZGlzcGxheU1vZGUgPT09ICdzZWxlY3QnID8gY29uZmlnLmZpZWxkTWV0YS5maWx0ZXIgOiBudWxsfVxuICAgICAgICAgICAgICBzb3J0PXtjb25maWcuZmllbGRNZXRhLmRpc3BsYXlNb2RlID09PSAnc2VsZWN0JyA/IGNvbmZpZy5maWVsZE1ldGEuc29ydCA6IG51bGx9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpZHMgPSBBcnJheS5pc0FycmF5KHByb3BzLnZhbHVlKSA/IHByb3BzLnZhbHVlIDogW11cbiAgICAgICAgY29uc3QgdmFsdWUgPSBpZHMubWFwKChpZCk6IFJlbGF0aW9uc2hpcFZhbHVlID0+ICh7IGlkLCBsYWJlbDogaWQsIGJ1aWx0OiBmYWxzZSB9KSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8VlN0YWNrIGdhcD1cIm1lZGl1bVwiPlxuICAgICAgICAgICAgPENvbWJvYm94TWFueVxuICAgICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17bGFiZWx9XG4gICAgICAgICAgICAgIGlzUmVhZE9ubHk9e2ZhbHNlfVxuICAgICAgICAgICAgICBsYWJlbEZpZWxkPXtyZWZMYWJlbEZpZWxkfVxuICAgICAgICAgICAgICBzZWFyY2hGaWVsZHM9e3JlZlNlYXJjaEZpZWxkc31cbiAgICAgICAgICAgICAgbGlzdD17Zm9yZWlnbkxpc3R9XG4gICAgICAgICAgICAgIHN0YXRlPXt7XG4gICAgICAgICAgICAgICAga2luZDogJ21hbnknLFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKG5ld0l0ZW0pIHtcbiAgICAgICAgICAgICAgICAgIHByb3BzLm9uQ2hhbmdlKG5ld0l0ZW0ubWFwKHggPT4geC5pZC50b1N0cmluZygpKSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBmaWx0ZXI9e2NvbmZpZy5maWVsZE1ldGEuZGlzcGxheU1vZGUgPT09ICdzZWxlY3QnID8gY29uZmlnLmZpZWxkTWV0YS5maWx0ZXIgOiBudWxsfVxuICAgICAgICAgICAgICBzb3J0PXtjb25maWcuZmllbGRNZXRhLmRpc3BsYXlNb2RlID09PSAnc2VsZWN0JyA/IGNvbmZpZy5maWVsZE1ldGEuc29ydCA6IG51bGx9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPFRhZ0dyb3VwXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2ByZWxhdGVkICR7Zm9yZWlnbkxpc3QucGx1cmFsfWB9XG4gICAgICAgICAgICAgIGl0ZW1zPXt2YWx1ZS5tYXAoaXRlbSA9PiAoe1xuICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLnRvU3RyaW5nKCkgPz8gJycsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0ubGFiZWwgPz8gJycsXG4gICAgICAgICAgICAgICAgaHJlZjogaXRlbS5idWlsdCA/ICcnIDogYC8ke2ZvcmVpZ25MaXN0LnBhdGh9LyR7aXRlbS5pZH1gLFxuICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgIG1heFJvd3M9ezJ9XG4gICAgICAgICAgICAgIG9uUmVtb3ZlPXtrZXlzID0+IHtcbiAgICAgICAgICAgICAgICBwcm9wcy5vbkNoYW5nZShpZHMuZmlsdGVyKGlkID0+ICFrZXlzLmhhcyhpZCkpKVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICByZW5kZXJFbXB0eVN0YXRlPXsoKSA9PiAoXG4gICAgICAgICAgICAgICAgPFRleHQgY29sb3I9XCJuZXV0cmFsU2Vjb25kYXJ5XCIgc2l6ZT1cInNtYWxsXCI+XG4gICAgICAgICAgICAgICAgICBTZWxlY3QgcmVsYXRlZCB7Zm9yZWlnbkxpc3QucGx1cmFsLnRvTG93ZXJDYXNlKCl94oCmXG4gICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7cmVuZGVySXRlbX1cbiAgICAgICAgICAgIDwvVGFnR3JvdXA+XG4gICAgICAgICAgPC9WU3RhY2s+XG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgICBMYWJlbCh7IGxhYmVsLCB0eXBlLCB2YWx1ZSB9KSB7XG4gICAgICAgIGNvbnN0IGxpc3RGb3JtYXR0ZXIgPSB1c2VMaXN0Rm9ybWF0dGVyKHtcbiAgICAgICAgICBzdHlsZTogJ3Nob3J0JyxcbiAgICAgICAgICB0eXBlOiAnZGlzanVuY3Rpb24nLFxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChbJ2VtcHR5JywgJ25vdF9lbXB0eSddLmluY2x1ZGVzKHR5cGUpKSByZXR1cm4gbGFiZWwudG9Mb3dlckNhc2UoKVxuICAgICAgICBpZiAoWydpcycsICdub3RfaXMnXS5pbmNsdWRlcyh0eXBlKSkgcmV0dXJuIGAke2xhYmVsLnRvTG93ZXJDYXNlKCl9ICR7dmFsdWV9YFxuICAgICAgICByZXR1cm4gYCR7bGFiZWwudG9Mb3dlckNhc2UoKX0gKCR7bGlzdEZvcm1hdHRlci5mb3JtYXQodmFsdWUgfHwgWycnXSl9KWBcbiAgICAgIH0sXG4gICAgICBncmFwaHFsOiAoeyB0eXBlLCB2YWx1ZSB9KSA9PiB7XG4gICAgICAgIGlmICh0eXBlID09PSAnZW1wdHknICYmICFtYW55KSByZXR1cm4geyBbY29uZmlnLmZpZWxkS2V5XTogeyBlcXVhbHM6IG51bGwgfSB9XG4gICAgICAgIGlmICh0eXBlID09PSAnZW1wdHknICYmIG1hbnkpIHJldHVybiB7IFtjb25maWcuZmllbGRLZXldOiB7IG5vbmU6IHt9IH0gfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ25vdF9lbXB0eScgJiYgIW1hbnkpIHJldHVybiB7IFtjb25maWcuZmllbGRLZXldOiB7IG5vdDogeyBlcXVhbHM6IG51bGwgfSB9IH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdub3RfZW1wdHknICYmIG1hbnkpIHJldHVybiB7IFtjb25maWcuZmllbGRLZXldOiB7IHNvbWU6IHt9IH0gfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2lzJykgcmV0dXJuIHsgW2NvbmZpZy5maWVsZEtleV06IHsgaWQ6IHsgZXF1YWxzOiB2YWx1ZSB9IH0gfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ25vdF9pcycpIHJldHVybiB7IFtjb25maWcuZmllbGRLZXldOiB7IG5vdDogeyBpZDogeyBlcXVhbHM6IHZhbHVlIH0gfSB9IH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdzb21lJykgcmV0dXJuIHsgW2NvbmZpZy5maWVsZEtleV06IHsgc29tZTogeyBpZDogeyBpbjogdmFsdWUgfSB9IH0gfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ25vdF9zb21lJylcbiAgICAgICAgICByZXR1cm4geyBbY29uZmlnLmZpZWxkS2V5XTogeyBub3Q6IHsgc29tZTogeyBpZDogeyBpbjogdmFsdWUgfSB9IH0gfSB9XG4gICAgICAgIHJldHVybiB7IFtjb25maWcuZmllbGRLZXldOiB7IFt0eXBlXTogdmFsdWUgfSB9IC8vIHVoXG4gICAgICB9LFxuICAgICAgcGFyc2VHcmFwaFFMOiAoKSA9PiBbXSxcbiAgICAgIHR5cGVzOiB7XG4gICAgICAgIGVtcHR5OiB7IGxhYmVsOiAnSXMgZW1wdHknLCBpbml0aWFsVmFsdWU6IG51bGwgfSxcbiAgICAgICAgbm90X2VtcHR5OiB7IGxhYmVsOiAnSXMgbm90IGVtcHR5JywgaW5pdGlhbFZhbHVlOiBudWxsIH0sXG4gICAgICAgIC4uLihtYW55XG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIHNvbWU6IHsgbGFiZWw6ICdJcyBvbmUgb2YnLCBpbml0aWFsVmFsdWU6IFtdIH0sXG4gICAgICAgICAgICAgIG5vdF9zb21lOiB7IGxhYmVsOiAnSXMgbm90IG9uZSBvZicsIGluaXRpYWxWYWx1ZTogW10gfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgaXM6IHsgbGFiZWw6ICdJcycsIGluaXRpYWxWYWx1ZTogbnVsbCB9LFxuICAgICAgICAgICAgICBub3RfaXM6IHsgbGFiZWw6ICdJcyBub3QnLCBpbml0aWFsVmFsdWU6IG51bGwgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgfSxcbiAgICB9LFxuICB9XG59XG4iXSwibmFtZXMiOlsidXNlTGlzdEZvcm1hdHRlciIsIkZyYWdtZW50IiwidXNlU3RhdGUiLCJEaWFsb2dDb250YWluZXIiLCJIU3RhY2siLCJWU3RhY2siLCJUZXh0TGluayIsIkl0ZW0iLCJUYWdHcm91cCIsIlRleHRGaWVsZCIsIk51bWVyYWwiLCJUZXh0IiwiQnVpbGRJdGVtRGlhbG9nIiwidXNlTGlzdCIsIkFjdGlvbkJ1dHRvbiIsIkljb24iLCJhcnJvd1VwUmlnaHRJY29uIiwiQ29tYm9ib3hNYW55IiwiQ29tYm9ib3hTaW5nbGUiLCJidWlsZFF1ZXJ5Rm9yUmVsYXRpb25zaGlwRmllbGRXaXRoRm9yZWlnbkZpZWxkIiwiQ29udGV4dHVhbEFjdGlvbnMiLCJSZWxhdGlvbnNoaXBUYWJsZSIsIkZpZWxkIiwicHJvcHMiLCJhdXRvRm9jdXMiLCJmaWVsZCIsImZvcmNlVmFsaWRhdGlvbiIsIm9uQ2hhbmdlIiwidmFsdWUiLCJpc1JlcXVpcmVkIiwiZm9yZWlnbkxpc3QiLCJyZWZMaXN0S2V5IiwiZGlhbG9nSXNPcGVuIiwic2V0RGlhbG9nT3BlbiIsImRlc2NyaXB0aW9uIiwidW5kZWZpbmVkIiwiaXNSZWFkT25seSIsImNvdW50ZXIiLCJzZXRDb3VudGVyIiwia2luZCIsImRpc3BsYXkiLCJ0ZXh0RmllbGQiLCJsYWJlbCIsImNvdW50IiwidG9TdHJpbmciLCJ3aWR0aCIsInJlZkZpZWxkS2V5IiwiZ2FwIiwiYWxpZ25JdGVtcyIsImhyZWYiLCJwYXRoIiwiaWQiLCJzcmMiLCJvbkFkZCIsImxpc3QiLCJsYWJlbEZpZWxkIiwicmVmTGFiZWxGaWVsZCIsInNlYXJjaEZpZWxkcyIsInJlZlNlYXJjaEZpZWxkcyIsImZpbHRlciIsInNlbGVjdEZpbHRlciIsInNvcnQiLCJzdGF0ZSIsIm5ld0l0ZW1zIiwibmV3SXRlbSIsImFyaWEtbGFiZWwiLCJwbHVyYWwiLCJpdGVtcyIsIm1hcCIsIml0ZW0iLCJidWlsdCIsIm1heFJvd3MiLCJvblJlbW92ZSIsImtleXMiLCJoYXMiLCJyZW5kZXJFbXB0eVN0YXRlIiwiY29sb3IiLCJzaXplIiwidG9Mb3dlckNhc2UiLCJyZW5kZXJJdGVtIiwib25EaXNtaXNzIiwibGlzdEtleSIsImtleSIsImJ1aWx0SXRlbURhdGEiLCJzaW5ndWxhciIsImRhdGEiLCJDZWxsIiwiZmllbGRLZXkiLCJhYmJyZXZpYXRlIiwiQXJyYXkiLCJpc0FycmF5IiwiQm9vbGVhbiIsImRpc3BsYXlJdGVtcyIsImxlbmd0aCIsInNsaWNlIiwib3ZlcmZsb3ciLCJpbmRleCIsImNvbnRyb2xsZXIiLCJjb25maWciLCJkaXNwbGF5TW9kZSIsImhpZGVDcmVhdGUiLCJtYW55IiwiZmllbGRNZXRhIiwiZ3JhcGhxbFNlbGVjdGlvbiIsImRpcmVjdGlvbiIsImNvbHVtbnMiLCJpbml0aWFsU29ydCIsImRlZmF1bHRWYWx1ZSIsImluaXRpYWxWYWx1ZSIsInZhbGlkYXRlIiwib3B0cyIsImRlc2VyaWFsaXplIiwieCIsInNlcmlhbGl6ZSIsIm5ld0FsbElkcyIsIlNldCIsImluaXRpYWxJZHMiLCJkaXNjb25uZWN0IiwiY29ubmVjdCIsImNyZWF0ZSIsIm91dHB1dCIsIk9iamVjdCIsIkZpbHRlciIsInR5cGUiLCJpZHMiLCJMYWJlbCIsImxpc3RGb3JtYXR0ZXIiLCJzdHlsZSIsImluY2x1ZGVzIiwiZm9ybWF0IiwiZ3JhcGhxbCIsImVxdWFscyIsIm5vbmUiLCJub3QiLCJzb21lIiwiaW4iLCJwYXJzZUdyYXBoUUwiLCJ0eXBlcyIsImVtcHR5Iiwibm90X2VtcHR5Iiwibm90X3NvbWUiLCJpcyIsIm5vdF9pcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/relationship/views/index.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/relationship/views/useApolloQuery.ts":
/*!***************************************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/relationship/views/useApolloQuery.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useApolloQuery: () => (/* binding */ useApolloQuery)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _admin_ui_apollo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../admin-ui/apollo */ \"../../../../packages/core/src/admin-ui/apollo.tsx\");\n/* harmony import */ var _useFilter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useFilter */ \"../../../../packages/core/src/fields/types/relationship/views/useFilter.tsx\");\n\n\n\nfunction useDebouncedValue(value, limitMs) {\n    const [debouncedValue, setDebouncedValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"useDebouncedValue.useState\": ()=>value\n    }[\"useDebouncedValue.useState\"]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useDebouncedValue.useEffect\": ()=>{\n            const timeout = setTimeout({\n                \"useDebouncedValue.useEffect.timeout\": ()=>{\n                    setDebouncedValue({\n                        \"useDebouncedValue.useEffect.timeout\": ()=>value\n                    }[\"useDebouncedValue.useEffect.timeout\"]);\n                }\n            }[\"useDebouncedValue.useEffect.timeout\"], limitMs);\n            return ({\n                \"useDebouncedValue.useEffect\": ()=>clearTimeout(timeout)\n            })[\"useDebouncedValue.useEffect\"];\n        }\n    }[\"useDebouncedValue.useEffect\"], [\n        value,\n        limitMs\n    ]);\n    return debouncedValue;\n}\nfunction useApolloQuery(args) {\n    const { labelField, list, searchFields, state } = args;\n    const [search, setSearch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"useApolloQuery.useState\": ()=>{\n            if (state.kind === 'one' && state.value?.label) return state.value?.label;\n            return '';\n        }\n    }[\"useApolloQuery.useState\"]);\n    const QUERY = (0,_admin_ui_apollo__WEBPACK_IMPORTED_MODULE_1__.gql)`\n    query RelationshipSelect($where: ${list.graphql.names.whereInputName}!, $take: Int!, $skip: Int!, $orderBy: [${list.graphql.names.listOrderName}!]) {\n      items: ${list.graphql.names.listQueryName}(where: $where, take: $take, skip: $skip, orderBy: $orderBy) {\n        id: id\n        label: ${labelField}\n      }\n      count: ${list.graphql.names.listQueryCountName}(where: $where)\n    }\n  `;\n    const debouncedSearch = useDebouncedValue(search, 200);\n    const manipulatedSearch = state.kind === 'one' && state.value?.label === debouncedSearch ? '' : debouncedSearch;\n    const _where = (0,_useFilter__WEBPACK_IMPORTED_MODULE_2__.useSearchFilter)(manipulatedSearch, list, searchFields);\n    const where = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useApolloQuery.useMemo[where]\": ()=>{\n            return args.filter ? {\n                AND: [\n                    _where,\n                    args.filter\n                ]\n            } : _where;\n        }\n    }[\"useApolloQuery.useMemo[where]\"], [\n        args.filter,\n        _where\n    ]);\n    const orderBy = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useApolloQuery.useMemo[orderBy]\": ()=>{\n            return args.sort ? {\n                [args.sort.field]: args.sort.direction.toLowerCase()\n            } : undefined;\n        }\n    }[\"useApolloQuery.useMemo[orderBy]\"], [\n        args.sort\n    ]);\n    const link = (0,_admin_ui_apollo__WEBPACK_IMPORTED_MODULE_1__.useApolloClient)().link;\n    // we're using a local apollo client here because writing a global implementation of the typePolicies\n    // would require making assumptions about how pagination should work which won't always be right\n    const apolloClient = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useApolloQuery.useMemo[apolloClient]\": ()=>new _admin_ui_apollo__WEBPACK_IMPORTED_MODULE_1__.ApolloClient({\n                link,\n                cache: new _admin_ui_apollo__WEBPACK_IMPORTED_MODULE_1__.InMemoryCache({\n                    typePolicies: {\n                        Query: {\n                            fields: {\n                                [list.graphql.names.listQueryName]: {\n                                    keyArgs: [\n                                        'where'\n                                    ],\n                                    merge: {\n                                        \"useApolloQuery.useMemo[apolloClient]\": (existing, incoming, { args })=>{\n                                            const merged = existing ? existing.slice() : [];\n                                            const { skip } = args;\n                                            for(let i = 0; i < incoming.length; ++i){\n                                                merged[skip + i] = incoming[i];\n                                            }\n                                            return merged;\n                                        }\n                                    }[\"useApolloQuery.useMemo[apolloClient]\"]\n                                }\n                            }\n                        }\n                    }\n                })\n            })\n    }[\"useApolloQuery.useMemo[apolloClient]\"], [\n        link,\n        list.graphql.names.listQueryName\n    ]);\n    const initialItemsToLoad = Math.min(list.pageSize, 10);\n    const subsequentItemsToLoad = Math.min(list.pageSize, 50);\n    const { data, previousData, error, loading, fetchMore } = (0,_admin_ui_apollo__WEBPACK_IMPORTED_MODULE_1__.useQuery)(QUERY, {\n        fetchPolicy: 'network-only',\n        variables: {\n            where,\n            take: initialItemsToLoad,\n            skip: 0,\n            orderBy\n        },\n        client: apolloClient\n    });\n    // we want to avoid fetching more again and `loading` from Apollo\n    // doesn't seem to become true when fetching more\n    const [lastFetchMore, setLastFetchMore] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const count = data?.count || 0;\n    const onLoadMore = ()=>{\n        const skip = data?.items.length;\n        if (!loading && skip && data.items.length < count && (lastFetchMore?.where !== where || lastFetchMore?.list !== list || lastFetchMore?.skip !== skip)) {\n            const QUERY = (0,_admin_ui_apollo__WEBPACK_IMPORTED_MODULE_1__.gql)`\n        query RelationshipSelectMore($where: ${list.graphql.names.whereInputName}!, $take: Int!, $skip: Int!, $orderBy: [${list.graphql.names.listOrderName}!]) {\n          items: ${list.graphql.names.listQueryName}(where: $where, take: $take, skip: $skip, orderBy: $orderBy) {\n            label: ${labelField}\n            id: id\n          }\n        }\n      `;\n            setLastFetchMore({\n                list,\n                skip,\n                where\n            });\n            fetchMore({\n                query: QUERY,\n                variables: {\n                    where,\n                    take: subsequentItemsToLoad,\n                    skip,\n                    orderBy\n                }\n            }).then(()=>setLastFetchMore(null)).catch(()=>setLastFetchMore(null));\n        }\n    };\n    return {\n        data: loading ? previousData : data,\n        error,\n        loading,\n        loadingState: getLoadingState({\n            loading,\n            search\n        }),\n        search,\n        setSearch,\n        onLoadMore\n    };\n}\nfunction getLoadingState(options) {\n    if (options.loading) {\n        if (options.search.length) return 'filtering';\n        return 'loading';\n    }\n    return 'idle';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy91c2VBcG9sbG9RdWVyeS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFvRDtBQVVoQjtBQUNTO0FBRzdDLFNBQVNTLGtCQUFxQkMsS0FBUSxFQUFFQyxPQUFlO0lBQ3JELE1BQU0sQ0FBQ0MsZ0JBQWdCQyxrQkFBa0IsR0FBR1gsK0NBQVFBO3NDQUFDLElBQU1ROztJQUUzRFYsZ0RBQVNBO3VDQUFDO1lBQ1IsTUFBTWMsVUFBVUM7dURBQVc7b0JBQ3pCRjsrREFBa0IsSUFBTUg7O2dCQUMxQjtzREFBR0M7WUFDSDsrQ0FBTyxJQUFNSyxhQUFhRjs7UUFDNUI7c0NBQUc7UUFBQ0o7UUFBT0M7S0FBUTtJQUVuQixPQUFPQztBQUNUO0FBRU8sU0FBU0ssZUFBZUMsSUFTOUI7SUFDQyxNQUFNLEVBQUVDLFVBQVUsRUFBRUMsSUFBSSxFQUFFQyxZQUFZLEVBQUVDLEtBQUssRUFBRSxHQUFHSjtJQUNsRCxNQUFNLENBQUNLLFFBQVFDLFVBQVUsR0FBR3RCLCtDQUFRQTttQ0FBQztZQUNuQyxJQUFJb0IsTUFBTUcsSUFBSSxLQUFLLFNBQVNILE1BQU1aLEtBQUssRUFBRWdCLE9BQU8sT0FBT0osTUFBTVosS0FBSyxFQUFFZ0I7WUFDcEUsT0FBTztRQUNUOztJQUVBLE1BQU1DLFFBUUZ2QixxREFBRyxDQUFDO3FDQUMyQixFQUFFZ0IsS0FBS1EsT0FBTyxDQUFDQyxLQUFLLENBQUNDLGNBQWMsQ0FBQyx3Q0FBd0MsRUFBRVYsS0FBS1EsT0FBTyxDQUFDQyxLQUFLLENBQUNFLGFBQWEsQ0FBQzthQUN2SSxFQUFFWCxLQUFLUSxPQUFPLENBQUNDLEtBQUssQ0FBQ0csYUFBYSxDQUFDOztlQUVqQyxFQUFFYixXQUFXOzthQUVmLEVBQUVDLEtBQUtRLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDSSxrQkFBa0IsQ0FBQzs7RUFFbkQsQ0FBQztJQUVELE1BQU1DLGtCQUFrQnpC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QUFjLENBQUMsd0NBQXdDLEVBQUVWLEtBQUtRLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDRSxhQUFhLENBQUM7aUJBQzNJLEVBQUVYLEtBQUtRLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDRyxhQUFhLENBQUM7bUJBQ2pDLEVBQUViLFdBQVc7Ozs7TUFJMUIsQ0FBQztZQUNEeUQsaUJBQWlCO2dCQUFFeEQ7Z0JBQU1zQztnQkFBTXJCO1lBQU07WUFDckNpQyxVQUFVO2dCQUNSVSxPQUFPckQ7Z0JBQ1A2QyxXQUFXO29CQUNUbkM7b0JBQ0FvQyxNQUFNUjtvQkFDTlA7b0JBQ0FsQjtnQkFDRjtZQUNGLEdBQ0d5QyxJQUFJLENBQUMsSUFBTUwsaUJBQWlCLE9BQzVCTSxLQUFLLENBQUMsSUFBTU4saUJBQWlCO1FBQ2xDO0lBQ0Y7SUFFQSxPQUFPO1FBQ0xWLE1BQU1HLFVBQVVGLGVBQWVEO1FBQy9CRTtRQUNBQztRQUNBYyxjQUFjQyxnQkFBZ0I7WUFBRWY7WUFBUzlDO1FBQU87UUFDaERBO1FBQ0FDO1FBQ0FzRDtJQUNGO0FBQ0Y7QUFFQSxTQUFTTSxnQkFBZ0JDLE9BQTZDO0lBQ3BFLElBQUlBLFFBQVFoQixPQUFPLEVBQUU7UUFDbkIsSUFBSWdCLFFBQVE5RCxNQUFNLENBQUNxQyxNQUFNLEVBQUUsT0FBTztRQUNsQyxPQUFPO0lBQ1Q7SUFFQSxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy91c2VBcG9sbG9RdWVyeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB0eXBlIHsgTGlzdE1ldGEgfSBmcm9tICcuLi8uLi8uLi8uLi90eXBlcydcbmltcG9ydCB7XG4gIHR5cGUgVHlwZWREb2N1bWVudE5vZGUsXG4gIEFwb2xsb0NsaWVudCxcbiAgZ3FsLFxuICBJbk1lbW9yeUNhY2hlLFxuICB1c2VBcG9sbG9DbGllbnQsXG4gIHVzZVF1ZXJ5LFxufSBmcm9tICcuLi8uLi8uLi8uLi9hZG1pbi11aS9hcG9sbG8nXG5pbXBvcnQgeyB1c2VTZWFyY2hGaWx0ZXIgfSBmcm9tICcuL3VzZUZpbHRlcidcbmltcG9ydCB7IHR5cGUgUmVsYXRpb25zaGlwVmFsdWUgfSBmcm9tICcuL3R5cGVzJ1xuXG5mdW5jdGlvbiB1c2VEZWJvdW5jZWRWYWx1ZTxUPih2YWx1ZTogVCwgbGltaXRNczogbnVtYmVyKSB7XG4gIGNvbnN0IFtkZWJvdW5jZWRWYWx1ZSwgc2V0RGVib3VuY2VkVmFsdWVdID0gdXNlU3RhdGUoKCkgPT4gdmFsdWUpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXREZWJvdW5jZWRWYWx1ZSgoKSA9PiB2YWx1ZSlcbiAgICB9LCBsaW1pdE1zKVxuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dClcbiAgfSwgW3ZhbHVlLCBsaW1pdE1zXSlcblxuICByZXR1cm4gZGVib3VuY2VkVmFsdWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUFwb2xsb1F1ZXJ5KGFyZ3M6IHtcbiAgbGFiZWxGaWVsZDogc3RyaW5nXG4gIGxpc3Q6IExpc3RNZXRhXG4gIHNlYXJjaEZpZWxkczogc3RyaW5nW11cbiAgc29ydD86IHsgZmllbGQ6IHN0cmluZzsgZGlyZWN0aW9uOiAnQVNDJyB8ICdERVNDJyB9IHwgbnVsbFxuICBmaWx0ZXI/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbFxuICBzdGF0ZTpcbiAgICB8IHsga2luZDogJ21hbnknOyB2YWx1ZTogUmVsYXRpb25zaGlwVmFsdWVbXSB9XG4gICAgfCB7IGtpbmQ6ICdvbmUnOyB2YWx1ZTogUmVsYXRpb25zaGlwVmFsdWUgfCBudWxsIH1cbn0pIHtcbiAgY29uc3QgeyBsYWJlbEZpZWxkLCBsaXN0LCBzZWFyY2hGaWVsZHMsIHN0YXRlIH0gPSBhcmdzXG4gIGNvbnN0IFtzZWFyY2gsIHNldFNlYXJjaF0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgaWYgKHN0YXRlLmtpbmQgPT09ICdvbmUnICYmIHN0YXRlLnZhbHVlPy5sYWJlbCkgcmV0dXJuIHN0YXRlLnZhbHVlPy5sYWJlbFxuICAgIHJldHVybiAnJ1xuICB9KVxuXG4gIGNvbnN0IFFVRVJZOiBUeXBlZERvY3VtZW50Tm9kZTxcbiAgICB7IGl0ZW1zOiB7IGlkOiBzdHJpbmc7IGxhYmVsOiBzdHJpbmcgfCBudWxsIH1bXTsgY291bnQ6IG51bWJlciB9LFxuICAgIHtcbiAgICAgIHdoZXJlOiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICAgICB0YWtlOiBudW1iZXJcbiAgICAgIHNraXA6IG51bWJlclxuICAgICAgb3JkZXJCeTogUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZFxuICAgIH1cbiAgPiA9IGdxbGBcbiAgICBxdWVyeSBSZWxhdGlvbnNoaXBTZWxlY3QoJHdoZXJlOiAke2xpc3QuZ3JhcGhxbC5uYW1lcy53aGVyZUlucHV0TmFtZX0hLCAkdGFrZTogSW50ISwgJHNraXA6IEludCEsICRvcmRlckJ5OiBbJHtsaXN0LmdyYXBocWwubmFtZXMubGlzdE9yZGVyTmFtZX0hXSkge1xuICAgICAgaXRlbXM6ICR7bGlzdC5ncmFwaHFsLm5hbWVzLmxpc3RRdWVyeU5hbWV9KHdoZXJlOiAkd2hlcmUsIHRha2U6ICR0YWtlLCBza2lwOiAkc2tpcCwgb3JkZXJCeTogJG9yZGVyQnkpIHtcbiAgICAgICAgaWQ6IGlkXG4gICAgICAgIGxhYmVsOiAke2xhYmVsRmllbGR9XG4gICAgICB9XG4gICAgICBjb3VudDogJHtsaXN0LmdyYXBocWwubmFtZXMubGlzdFF1ZXJ5Q291bnROYW1lfSh3aGVyZTogJHdoZXJlKVxuICAgIH1cbiAgYFxuXG4gIGNvbnN0IGRlYm91bmNlZFNlYXJjaCA9IHVzZURlYm91bmNlZFZhbHVlKHNlYXJjaCwgMjAwKVxuICBjb25zdCBtYW5pcHVsYXRlZFNlYXJjaCA9XG4gICAgc3RhdGUua2luZCA9PT0gJ29uZScgJiYgc3RhdGUudmFsdWU/LmxhYmVsID09PSBkZWJvdW5jZWRTZWFyY2ggPyAnJyA6IGRlYm91bmNlZFNlYXJjaFxuICBjb25zdCBfd2hlcmUgPSB1c2VTZWFyY2hGaWx0ZXIobWFuaXB1bGF0ZWRTZWFyY2gsIGxpc3QsIHNlYXJjaEZpZWxkcylcblxuICBjb25zdCB3aGVyZSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBhcmdzLmZpbHRlciA/IHsgQU5EOiBbX3doZXJlLCBhcmdzLmZpbHRlcl0gfSA6IF93aGVyZVxuICB9LCBbYXJncy5maWx0ZXIsIF93aGVyZV0pXG5cbiAgY29uc3Qgb3JkZXJCeSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBhcmdzLnNvcnQgPyB7IFthcmdzLnNvcnQuZmllbGRdOiBhcmdzLnNvcnQuZGlyZWN0aW9uLnRvTG93ZXJDYXNlKCkgfSA6IHVuZGVmaW5lZFxuICB9LCBbYXJncy5zb3J0XSlcblxuICBjb25zdCBsaW5rID0gdXNlQXBvbGxvQ2xpZW50KCkubGlua1xuICAvLyB3ZSdyZSB1c2luZyBhIGxvY2FsIGFwb2xsbyBjbGllbnQgaGVyZSBiZWNhdXNlIHdyaXRpbmcgYSBnbG9iYWwgaW1wbGVtZW50YXRpb24gb2YgdGhlIHR5cGVQb2xpY2llc1xuICAvLyB3b3VsZCByZXF1aXJlIG1ha2luZyBhc3N1bXB0aW9ucyBhYm91dCBob3cgcGFnaW5hdGlvbiBzaG91bGQgd29yayB3aGljaCB3b24ndCBhbHdheXMgYmUgcmlnaHRcbiAgY29uc3QgYXBvbGxvQ2xpZW50ID0gdXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgbmV3IEFwb2xsb0NsaWVudCh7XG4gICAgICAgIGxpbmssXG4gICAgICAgIGNhY2hlOiBuZXcgSW5NZW1vcnlDYWNoZSh7XG4gICAgICAgICAgdHlwZVBvbGljaWVzOiB7XG4gICAgICAgICAgICBRdWVyeToge1xuICAgICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICBbbGlzdC5ncmFwaHFsLm5hbWVzLmxpc3RRdWVyeU5hbWVdOiB7XG4gICAgICAgICAgICAgICAgICBrZXlBcmdzOiBbJ3doZXJlJ10sXG4gICAgICAgICAgICAgICAgICBtZXJnZTogKGV4aXN0aW5nOiByZWFkb25seSB1bmtub3duW10sIGluY29taW5nOiByZWFkb25seSB1bmtub3duW10sIHsgYXJncyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IGV4aXN0aW5nID8gZXhpc3Rpbmcuc2xpY2UoKSA6IFtdXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc2tpcCB9ID0gYXJncyFcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmNvbWluZy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgIG1lcmdlZFtza2lwICsgaV0gPSBpbmNvbWluZ1tpXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXJnZWRcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICB9KSxcbiAgICBbbGluaywgbGlzdC5ncmFwaHFsLm5hbWVzLmxpc3RRdWVyeU5hbWVdXG4gIClcblxuICBjb25zdCBpbml0aWFsSXRlbXNUb0xvYWQgPSBNYXRoLm1pbihsaXN0LnBhZ2VTaXplLCAxMClcbiAgY29uc3Qgc3Vic2VxdWVudEl0ZW1zVG9Mb2FkID0gTWF0aC5taW4obGlzdC5wYWdlU2l6ZSwgNTApXG4gIGNvbnN0IHsgZGF0YSwgcHJldmlvdXNEYXRhLCBlcnJvciwgbG9hZGluZywgZmV0Y2hNb3JlIH0gPSB1c2VRdWVyeShRVUVSWSwge1xuICAgIGZldGNoUG9saWN5OiAnbmV0d29yay1vbmx5JyxcbiAgICB2YXJpYWJsZXM6IHsgd2hlcmUsIHRha2U6IGluaXRpYWxJdGVtc1RvTG9hZCwgc2tpcDogMCwgb3JkZXJCeSB9LFxuICAgIGNsaWVudDogYXBvbGxvQ2xpZW50LFxuICB9KVxuXG4gIC8vIHdlIHdhbnQgdG8gYXZvaWQgZmV0Y2hpbmcgbW9yZSBhZ2FpbiBhbmQgYGxvYWRpbmdgIGZyb20gQXBvbGxvXG4gIC8vIGRvZXNuJ3Qgc2VlbSB0byBiZWNvbWUgdHJ1ZSB3aGVuIGZldGNoaW5nIG1vcmVcbiAgY29uc3QgW2xhc3RGZXRjaE1vcmUsIHNldExhc3RGZXRjaE1vcmVdID0gdXNlU3RhdGU8e1xuICAgIHdoZXJlOiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICAgbGlzdDogTGlzdE1ldGFcbiAgICBza2lwOiBudW1iZXJcbiAgfSB8IG51bGw+KG51bGwpXG5cbiAgY29uc3QgY291bnQgPSBkYXRhPy5jb3VudCB8fCAwXG4gIGNvbnN0IG9uTG9hZE1vcmUgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2tpcCA9IGRhdGE/Lml0ZW1zLmxlbmd0aFxuICAgIGlmIChcbiAgICAgICFsb2FkaW5nICYmXG4gICAgICBza2lwICYmXG4gICAgICBkYXRhLml0ZW1zLmxlbmd0aCA8IGNvdW50ICYmXG4gICAgICAobGFzdEZldGNoTW9yZT8ud2hlcmUgIT09IHdoZXJlIHx8XG4gICAgICAgIGxhc3RGZXRjaE1vcmU/Lmxpc3QgIT09IGxpc3QgfHxcbiAgICAgICAgbGFzdEZldGNoTW9yZT8uc2tpcCAhPT0gc2tpcClcbiAgICApIHtcbiAgICAgIGNvbnN0IFFVRVJZOiBUeXBlZERvY3VtZW50Tm9kZTxcbiAgICAgICAgeyBpdGVtczogeyBpZDogc3RyaW5nOyBsYWJlbDogc3RyaW5nIHwgbnVsbCB9W10gfSxcbiAgICAgICAge1xuICAgICAgICAgIHdoZXJlOiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICAgICAgICAgdGFrZTogbnVtYmVyXG4gICAgICAgICAgc2tpcDogbnVtYmVyXG4gICAgICAgICAgb3JkZXJCeTogUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICA+ID0gZ3FsYFxuICAgICAgICBxdWVyeSBSZWxhdGlvbnNoaXBTZWxlY3RNb3JlKCR3aGVyZTogJHtsaXN0LmdyYXBocWwubmFtZXMud2hlcmVJbnB1dE5hbWV9ISwgJHRha2U6IEludCEsICRza2lwOiBJbnQhLCAkb3JkZXJCeTogWyR7bGlzdC5ncmFwaHFsLm5hbWVzLmxpc3RPcmRlck5hbWV9IV0pIHtcbiAgICAgICAgICBpdGVtczogJHtsaXN0LmdyYXBocWwubmFtZXMubGlzdFF1ZXJ5TmFtZX0od2hlcmU6ICR3aGVyZSwgdGFrZTogJHRha2UsIHNraXA6ICRza2lwLCBvcmRlckJ5OiAkb3JkZXJCeSkge1xuICAgICAgICAgICAgbGFiZWw6ICR7bGFiZWxGaWVsZH1cbiAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgYFxuICAgICAgc2V0TGFzdEZldGNoTW9yZSh7IGxpc3QsIHNraXAsIHdoZXJlIH0pXG4gICAgICBmZXRjaE1vcmUoe1xuICAgICAgICBxdWVyeTogUVVFUlksXG4gICAgICAgIHZhcmlhYmxlczoge1xuICAgICAgICAgIHdoZXJlLFxuICAgICAgICAgIHRha2U6IHN1YnNlcXVlbnRJdGVtc1RvTG9hZCxcbiAgICAgICAgICBza2lwLFxuICAgICAgICAgIG9yZGVyQnksXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiBzZXRMYXN0RmV0Y2hNb3JlKG51bGwpKVxuICAgICAgICAuY2F0Y2goKCkgPT4gc2V0TGFzdEZldGNoTW9yZShudWxsKSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRhdGE6IGxvYWRpbmcgPyBwcmV2aW91c0RhdGEgOiBkYXRhLFxuICAgIGVycm9yLFxuICAgIGxvYWRpbmcsXG4gICAgbG9hZGluZ1N0YXRlOiBnZXRMb2FkaW5nU3RhdGUoeyBsb2FkaW5nLCBzZWFyY2ggfSksXG4gICAgc2VhcmNoLFxuICAgIHNldFNlYXJjaCxcbiAgICBvbkxvYWRNb3JlLFxuICB9XG59XG5cbmZ1bmN0aW9uIGdldExvYWRpbmdTdGF0ZShvcHRpb25zOiB7IGxvYWRpbmc6IGJvb2xlYW47IHNlYXJjaDogc3RyaW5nIH0pOiBMb2FkaW5nU3RhdGUge1xuICBpZiAob3B0aW9ucy5sb2FkaW5nKSB7XG4gICAgaWYgKG9wdGlvbnMuc2VhcmNoLmxlbmd0aCkgcmV0dXJuICdmaWx0ZXJpbmcnXG4gICAgcmV0dXJuICdsb2FkaW5nJ1xuICB9XG5cbiAgcmV0dXJuICdpZGxlJ1xufVxuXG50eXBlIExvYWRpbmdTdGF0ZSA9ICdsb2FkaW5nJyB8ICdzb3J0aW5nJyB8ICdsb2FkaW5nTW9yZScgfCAnZXJyb3InIHwgJ2lkbGUnIHwgJ2ZpbHRlcmluZydcbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJBcG9sbG9DbGllbnQiLCJncWwiLCJJbk1lbW9yeUNhY2hlIiwidXNlQXBvbGxvQ2xpZW50IiwidXNlUXVlcnkiLCJ1c2VTZWFyY2hGaWx0ZXIiLCJ1c2VEZWJvdW5jZWRWYWx1ZSIsInZhbHVlIiwibGltaXRNcyIsImRlYm91bmNlZFZhbHVlIiwic2V0RGVib3VuY2VkVmFsdWUiLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsInVzZUFwb2xsb1F1ZXJ5IiwiYXJncyIsImxhYmVsRmllbGQiLCJsaXN0Iiwic2VhcmNoRmllbGRzIiwic3RhdGUiLCJzZWFyY2giLCJzZXRTZWFyY2giLCJraW5kIiwibGFiZWwiLCJRVUVSWSIsImdyYXBocWwiLCJuYW1lcyIsIndoZXJlSW5wdXROYW1lIiwibGlzdE9yZGVyTmFtZSIsImxpc3RRdWVyeU5hbWUiLCJsaXN0UXVlcnlDb3VudE5hbWUiLCJkZWJvdW5jZWRTZWFyY2giLCJtYW5pcHVsYXRlZFNlYXJjaCIsIl93aGVyZSIsIndoZXJlIiwiZmlsdGVyIiwiQU5EIiwib3JkZXJCeSIsInNvcnQiLCJmaWVsZCIsImRpcmVjdGlvbiIsInRvTG93ZXJDYXNlIiwidW5kZWZpbmVkIiwibGluayIsImFwb2xsb0NsaWVudCIsImNhY2hlIiwidHlwZVBvbGljaWVzIiwiUXVlcnkiLCJmaWVsZHMiLCJrZXlBcmdzIiwibWVyZ2UiLCJleGlzdGluZyIsImluY29taW5nIiwibWVyZ2VkIiwic2xpY2UiLCJza2lwIiwiaSIsImxlbmd0aCIsImluaXRpYWxJdGVtc1RvTG9hZCIsIk1hdGgiLCJtaW4iLCJwYWdlU2l6ZSIsInN1YnNlcXVlbnRJdGVtc1RvTG9hZCIsImRhdGEiLCJwcmV2aW91c0RhdGEiLCJlcnJvciIsImxvYWRpbmciLCJmZXRjaE1vcmUiLCJmZXRjaFBvbGljeSIsInZhcmlhYmxlcyIsInRha2UiLCJjbGllbnQiLCJsYXN0RmV0Y2hNb3JlIiwic2V0TGFzdEZldGNoTW9yZSIsImNvdW50Iiwib25Mb2FkTW9yZSIsIml0ZW1zIiwicXVlcnkiLCJ0aGVuIiwiY2F0Y2giLCJsb2FkaW5nU3RhdGUiLCJnZXRMb2FkaW5nU3RhdGUiLCJvcHRpb25zIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/relationship/views/useApolloQuery.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/relationship/views/useFilter.tsx":
/*!***********************************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/relationship/views/useFilter.tsx ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSearchFilter: () => (/* binding */ useSearchFilter)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _admin_ui_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../admin-ui/context */ \"../../../../packages/core/src/admin-ui/context.tsx\");\n\n\nfunction isInt(x) {\n    return Number.isInteger(Number(x));\n}\nfunction isBigInt(x) {\n    try {\n        BigInt(x);\n        return true;\n    } catch  {\n        return true;\n    }\n}\n// TODO: this is unfortunate, remove in breaking change?\nfunction isUuid(x) {\n    if (typeof x !== 'string') return;\n    if (x.length !== 36) return;\n    return /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(x);\n}\nfunction useSearchFilter(value, list, searchFields) {\n    const { lists } = (0,_admin_ui_context__WEBPACK_IMPORTED_MODULE_1__.useKeystone)();\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useSearchFilter.useMemo\": ()=>{\n            const trimmedSearch = value.trim();\n            if (!trimmedSearch.length) return {\n                OR: []\n            };\n            const conditions = [];\n            const idField = list.fields.id.fieldMeta;\n            if (idField.type === 'String') {\n                // TODO: remove in breaking change?\n                if (idField.kind === 'uuid') {\n                    if (isUuid(value)) {\n                        conditions.push({\n                            id: {\n                                equals: trimmedSearch\n                            }\n                        });\n                    }\n                } else {\n                    conditions.push({\n                        id: {\n                            equals: trimmedSearch\n                        }\n                    });\n                }\n            } else if (idField.type === 'Int' && isInt(trimmedSearch)) {\n                conditions.push({\n                    id: {\n                        equals: Number(trimmedSearch)\n                    }\n                });\n            } else if (idField.type === 'BigInt' && isBigInt(trimmedSearch)) {\n                conditions.push({\n                    id: {\n                        equals: trimmedSearch\n                    }\n                });\n            }\n            for (const fieldKey of searchFields){\n                const field = list.fields[fieldKey];\n                // @ts-expect-error TODO: fix fieldMeta type for relationship fields\n                if (field.fieldMeta?.refSearchFields) {\n                    const { // @ts-expect-error TODO: fix fieldMeta type for relationship fields\n                    refListKey, // @ts-expect-error TODO: fix fieldMeta type for relationship fields\n                    refSearchFields, // @ts-expect-error TODO: fix fieldMeta type for relationship fields\n                    many = false } = field.fieldMeta;\n                    const refList = lists[refListKey];\n                    for (const refFieldKey of refSearchFields){\n                        const refField = refList.fields[refFieldKey];\n                        if (!refField.search) continue; // WARNING: we dont support depth > 2\n                        // @ts-expect-error TODO: fix fieldMeta type for relationship fields\n                        if (refField.fieldMeta?.refSearchFields) continue; // WARNING: we dont support depth > 2\n                        if (many) {\n                            conditions.push({\n                                [fieldKey]: {\n                                    some: {\n                                        [refFieldKey]: {\n                                            contains: trimmedSearch,\n                                            mode: refField.search === 'insensitive' ? 'insensitive' : undefined\n                                        }\n                                    }\n                                }\n                            });\n                            continue;\n                        }\n                        conditions.push({\n                            [fieldKey]: {\n                                [refFieldKey]: {\n                                    contains: trimmedSearch,\n                                    mode: refField.search === 'insensitive' ? 'insensitive' : undefined\n                                }\n                            }\n                        });\n                    }\n                    continue;\n                }\n                conditions.push({\n                    [field.key]: {\n                        contains: trimmedSearch,\n                        mode: field.search === 'insensitive' ? 'insensitive' : undefined\n                    }\n                });\n            }\n            return {\n                OR: conditions\n            };\n        }\n    }[\"useSearchFilter.useMemo\"], [\n        value,\n        list,\n        searchFields\n    ]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy91c2VGaWx0ZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0I7QUFDMkI7QUFJMUQsU0FBU0UsTUFBTUMsQ0FBUztJQUN0QixPQUFPQyxPQUFPQyxTQUFTLENBQUNELE9BQU9EO0FBQ2pDO0FBRUEsU0FBU0csU0FBU0gsQ0FBUztJQUN6QixJQUFJO1FBQ0ZJLE9BQU9KO1FBQ1AsT0FBTztJQUNULEVBQUUsT0FBTTtRQUNOLE9BQU87SUFDVDtBQUNGO0FBRUEsd0RBQXdEO0FBQ3hELFNBQVNLLE9BQU9MLENBQVU7SUFDeEIsSUFBSSxPQUFPQSxNQUFNLFVBQVU7SUFDM0IsSUFBSUEsRUFBRU0sTUFBTSxLQUFLLElBQUk7SUFDckIsT0FBTyxrRUFBa0VDLElBQUksQ0FBQ1A7QUFDaEY7QUFFTyxTQUFTUSxnQkFBZ0JDLEtBQWEsRUFBRUMsSUFBYyxFQUFFQyxZQUFzQjtJQUNuRixNQUFNLEVBQUVDLEtBQUssRUFBRSxHQUFHZCw4REFBV0E7SUFDN0IsT0FBT0QsOENBQU9BO21DQUFDO1lBQ2IsTUFBTWdCLGdCQUFnQkosTUFBTUssSUFBSTtZQUNoQyxJQUFJLENBQUNELGNBQWNQLE1BQU0sRUFBRSxPQUFPO2dCQUFFUyxJQUFJLEVBQUU7WUFBQztZQUUzQyxNQUFNQyxhQUFvQyxFQUFFO1lBQzVDLE1BQU1DLFVBQVVQLEtBQUtRLE1BQU0sQ0FBQ0MsRUFBRSxDQUFDQyxTQUFTO1lBRXhDLElBQUlILFFBQVFJLElBQUksS0FBSyxVQUFVO2dCQUM3QixtQ0FBbUM7Z0JBQ25DLElBQUlKLFFBQVFLLElBQUksS0FBSyxRQUFRO29CQUMzQixJQUFJakIsT0FBT0ksUUFBUTt3QkFDakJPLFdBQVdPLElBQUksQ0FBQzs0QkFBRUosSUFBSTtnQ0FBRUssUUFBUVg7NEJBQWM7d0JBQUU7b0JBQ2xEO2dCQUNGLE9BQU87b0JBQ0xHLFdBQVdPLElBQUksQ0FBQzt3QkFBRUosSUFBSTs0QkFBRUssUUFBUVg7d0JBQWM7b0JBQUU7Z0JBQ2xEO1lBQ0YsT0FBTyxJQUFJSSxRQUFRSSxJQUFJLEtBQUssU0FBU3RCLE1BQU1jLGdCQUFnQjtnQkFDekRHLFdBQVdPLElBQUksQ0FBQztvQkFBRUosSUFBSTt3QkFBRUssUUFBUXZCLE9BQU9ZO29CQUFlO2dCQUFFO1lBQzFELE9BQU8sSUFBSUksUUFBUUksSUFBSSxLQUFLLFlBQVlsQixTQUFTVSxnQkFBZ0I7Z0JBQy9ERyxXQUFXTyxJQUFJLENBQUM7b0JBQUVKLElBQUk7d0JBQUVLLFFBQVFYO29CQUFjO2dCQUFFO1lBQ2xEO1lBRUEsS0FBSyxNQUFNWSxZQUFZZCxhQUFjO2dCQUNuQyxNQUFNZSxRQUFRaEIsS0FBS1EsTUFBTSxDQUFDTyxTQUFTO2dCQUVuQyxvRUFBb0U7Z0JBQ3BFLElBQUlDLE1BQU1OLFNBQVMsRUFBRU8saUJBQWlCO29CQUNwQyxNQUFNLEVBQ0osb0VBQW9FO29CQUNwRUMsVUFBVSxFQUNWLG9FQUFvRTtvQkFDcEVELGVBQWUsRUFDZixvRUFBb0U7b0JBQ3BFRSxPQUFPLEtBQUssRUFDYixHQUFHSCxNQUFNTixTQUFTO29CQUNuQixNQUFNVSxVQUFVbEIsS0FBSyxDQUFDZ0IsV0FBVztvQkFFakMsS0FBSyxNQUFNRyxlQUFlSixnQkFBaUI7d0JBQ3pDLE1BQU1LLFdBQVdGLFFBQVFaLE1BQU0sQ0FBQ2EsWUFBWTt3QkFDNUMsSUFBSSxDQUFDQyxTQUFTQyxNQUFNLEVBQUUsVUFBUyxxQ0FBcUM7d0JBQ3BFLG9FQUFvRTt3QkFDcEUsSUFBSUQsU0FBU1osU0FBUyxFQUFFTyxpQkFBaUIsVUFBUyxxQ0FBcUM7d0JBRXZGLElBQUlFLE1BQU07NEJBQ1JiLFdBQVdPLElBQUksQ0FBQztnQ0FDZCxDQUFDRSxTQUFTLEVBQUU7b0NBQ1ZTLE1BQU07d0NBQ0osQ0FBQ0gsWUFBWSxFQUFFOzRDQUNiSSxVQUFVdEI7NENBQ1Z1QixNQUFNSixTQUFTQyxNQUFNLEtBQUssZ0JBQWdCLGdCQUFnQkk7d0NBQzVEO29DQUNGO2dDQUNGOzRCQUNGOzRCQUVBO3dCQUNGO3dCQUVBckIsV0FBV08sSUFBSSxDQUFDOzRCQUNkLENBQUNFLFNBQVMsRUFBRTtnQ0FDVixDQUFDTSxZQUFZLEVBQUU7b0NBQ2JJLFVBQVV0QjtvQ0FDVnVCLE1BQU1KLFNBQVNDLE1BQU0sS0FBSyxnQkFBZ0IsZ0JBQWdCSTtnQ0FDNUQ7NEJBQ0Y7d0JBQ0Y7b0JBQ0Y7b0JBRUE7Z0JBQ0Y7Z0JBRUFyQixXQUFXTyxJQUFJLENBQUM7b0JBQ2QsQ0FBQ0csTUFBTVksR0FBRyxDQUFDLEVBQUU7d0JBQ1hILFVBQVV0Qjt3QkFDVnVCLE1BQU1WLE1BQU1PLE1BQU0sS0FBSyxnQkFBZ0IsZ0JBQWdCSTtvQkFDekQ7Z0JBQ0Y7WUFDRjtZQUVBLE9BQU87Z0JBQUV0QixJQUFJQztZQUFXO1FBQzFCO2tDQUFHO1FBQUNQO1FBQU9DO1FBQU1DO0tBQWE7QUFDaEMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3cy91c2VGaWx0ZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZUtleXN0b25lIH0gZnJvbSAnLi4vLi4vLi4vLi4vYWRtaW4tdWkvY29udGV4dCdcblxuaW1wb3J0IHR5cGUgeyBMaXN0TWV0YSB9IGZyb20gJy4uLy4uLy4uLy4uL3R5cGVzJ1xuXG5mdW5jdGlvbiBpc0ludCh4OiBzdHJpbmcpIHtcbiAgcmV0dXJuIE51bWJlci5pc0ludGVnZXIoTnVtYmVyKHgpKVxufVxuXG5mdW5jdGlvbiBpc0JpZ0ludCh4OiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBCaWdJbnQoeClcbiAgICByZXR1cm4gdHJ1ZVxuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59XG5cbi8vIFRPRE86IHRoaXMgaXMgdW5mb3J0dW5hdGUsIHJlbW92ZSBpbiBicmVha2luZyBjaGFuZ2U/XG5mdW5jdGlvbiBpc1V1aWQoeDogdW5rbm93bikge1xuICBpZiAodHlwZW9mIHggIT09ICdzdHJpbmcnKSByZXR1cm5cbiAgaWYgKHgubGVuZ3RoICE9PSAzNikgcmV0dXJuXG4gIHJldHVybiAvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVswLTlhLWZdezR9LVswLTlhLWZdezR9LVswLTlhLWZdezEyfSQvaS50ZXN0KHgpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTZWFyY2hGaWx0ZXIodmFsdWU6IHN0cmluZywgbGlzdDogTGlzdE1ldGEsIHNlYXJjaEZpZWxkczogc3RyaW5nW10pIHtcbiAgY29uc3QgeyBsaXN0cyB9ID0gdXNlS2V5c3RvbmUoKVxuICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgdHJpbW1lZFNlYXJjaCA9IHZhbHVlLnRyaW0oKVxuICAgIGlmICghdHJpbW1lZFNlYXJjaC5sZW5ndGgpIHJldHVybiB7IE9SOiBbXSB9XG5cbiAgICBjb25zdCBjb25kaXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+W10gPSBbXVxuICAgIGNvbnN0IGlkRmllbGQgPSBsaXN0LmZpZWxkcy5pZC5maWVsZE1ldGEgYXMgeyB0eXBlOiBzdHJpbmc7IGtpbmQ6IHN0cmluZyB9XG5cbiAgICBpZiAoaWRGaWVsZC50eXBlID09PSAnU3RyaW5nJykge1xuICAgICAgLy8gVE9ETzogcmVtb3ZlIGluIGJyZWFraW5nIGNoYW5nZT9cbiAgICAgIGlmIChpZEZpZWxkLmtpbmQgPT09ICd1dWlkJykge1xuICAgICAgICBpZiAoaXNVdWlkKHZhbHVlKSkge1xuICAgICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IGlkOiB7IGVxdWFsczogdHJpbW1lZFNlYXJjaCB9IH0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmRpdGlvbnMucHVzaCh7IGlkOiB7IGVxdWFsczogdHJpbW1lZFNlYXJjaCB9IH0pXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpZEZpZWxkLnR5cGUgPT09ICdJbnQnICYmIGlzSW50KHRyaW1tZWRTZWFyY2gpKSB7XG4gICAgICBjb25kaXRpb25zLnB1c2goeyBpZDogeyBlcXVhbHM6IE51bWJlcih0cmltbWVkU2VhcmNoKSB9IH0pXG4gICAgfSBlbHNlIGlmIChpZEZpZWxkLnR5cGUgPT09ICdCaWdJbnQnICYmIGlzQmlnSW50KHRyaW1tZWRTZWFyY2gpKSB7XG4gICAgICBjb25kaXRpb25zLnB1c2goeyBpZDogeyBlcXVhbHM6IHRyaW1tZWRTZWFyY2ggfSB9KVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgZmllbGRLZXkgb2Ygc2VhcmNoRmllbGRzKSB7XG4gICAgICBjb25zdCBmaWVsZCA9IGxpc3QuZmllbGRzW2ZpZWxkS2V5XVxuXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE86IGZpeCBmaWVsZE1ldGEgdHlwZSBmb3IgcmVsYXRpb25zaGlwIGZpZWxkc1xuICAgICAgaWYgKGZpZWxkLmZpZWxkTWV0YT8ucmVmU2VhcmNoRmllbGRzKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE86IGZpeCBmaWVsZE1ldGEgdHlwZSBmb3IgcmVsYXRpb25zaGlwIGZpZWxkc1xuICAgICAgICAgIHJlZkxpc3RLZXksXG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPOiBmaXggZmllbGRNZXRhIHR5cGUgZm9yIHJlbGF0aW9uc2hpcCBmaWVsZHNcbiAgICAgICAgICByZWZTZWFyY2hGaWVsZHMsXG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPOiBmaXggZmllbGRNZXRhIHR5cGUgZm9yIHJlbGF0aW9uc2hpcCBmaWVsZHNcbiAgICAgICAgICBtYW55ID0gZmFsc2UsXG4gICAgICAgIH0gPSBmaWVsZC5maWVsZE1ldGFcbiAgICAgICAgY29uc3QgcmVmTGlzdCA9IGxpc3RzW3JlZkxpc3RLZXldXG5cbiAgICAgICAgZm9yIChjb25zdCByZWZGaWVsZEtleSBvZiByZWZTZWFyY2hGaWVsZHMpIHtcbiAgICAgICAgICBjb25zdCByZWZGaWVsZCA9IHJlZkxpc3QuZmllbGRzW3JlZkZpZWxkS2V5XVxuICAgICAgICAgIGlmICghcmVmRmllbGQuc2VhcmNoKSBjb250aW51ZSAvLyBXQVJOSU5HOiB3ZSBkb250IHN1cHBvcnQgZGVwdGggPiAyXG4gICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPOiBmaXggZmllbGRNZXRhIHR5cGUgZm9yIHJlbGF0aW9uc2hpcCBmaWVsZHNcbiAgICAgICAgICBpZiAocmVmRmllbGQuZmllbGRNZXRhPy5yZWZTZWFyY2hGaWVsZHMpIGNvbnRpbnVlIC8vIFdBUk5JTkc6IHdlIGRvbnQgc3VwcG9ydCBkZXB0aCA+IDJcblxuICAgICAgICAgIGlmIChtYW55KSB7XG4gICAgICAgICAgICBjb25kaXRpb25zLnB1c2goe1xuICAgICAgICAgICAgICBbZmllbGRLZXldOiB7XG4gICAgICAgICAgICAgICAgc29tZToge1xuICAgICAgICAgICAgICAgICAgW3JlZkZpZWxkS2V5XToge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluczogdHJpbW1lZFNlYXJjaCxcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogcmVmRmllbGQuc2VhcmNoID09PSAnaW5zZW5zaXRpdmUnID8gJ2luc2Vuc2l0aXZlJyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uZGl0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgIFtmaWVsZEtleV06IHtcbiAgICAgICAgICAgICAgW3JlZkZpZWxkS2V5XToge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5zOiB0cmltbWVkU2VhcmNoLFxuICAgICAgICAgICAgICAgIG1vZGU6IHJlZkZpZWxkLnNlYXJjaCA9PT0gJ2luc2Vuc2l0aXZlJyA/ICdpbnNlbnNpdGl2ZScgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBjb25kaXRpb25zLnB1c2goe1xuICAgICAgICBbZmllbGQua2V5XToge1xuICAgICAgICAgIGNvbnRhaW5zOiB0cmltbWVkU2VhcmNoLFxuICAgICAgICAgIG1vZGU6IGZpZWxkLnNlYXJjaCA9PT0gJ2luc2Vuc2l0aXZlJyA/ICdpbnNlbnNpdGl2ZScgOiB1bmRlZmluZWQsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiB7IE9SOiBjb25kaXRpb25zIH1cbiAgfSwgW3ZhbHVlLCBsaXN0LCBzZWFyY2hGaWVsZHNdKVxufVxuIl0sIm5hbWVzIjpbInVzZU1lbW8iLCJ1c2VLZXlzdG9uZSIsImlzSW50IiwieCIsIk51bWJlciIsImlzSW50ZWdlciIsImlzQmlnSW50IiwiQmlnSW50IiwiaXNVdWlkIiwibGVuZ3RoIiwidGVzdCIsInVzZVNlYXJjaEZpbHRlciIsInZhbHVlIiwibGlzdCIsInNlYXJjaEZpZWxkcyIsImxpc3RzIiwidHJpbW1lZFNlYXJjaCIsInRyaW0iLCJPUiIsImNvbmRpdGlvbnMiLCJpZEZpZWxkIiwiZmllbGRzIiwiaWQiLCJmaWVsZE1ldGEiLCJ0eXBlIiwia2luZCIsInB1c2giLCJlcXVhbHMiLCJmaWVsZEtleSIsImZpZWxkIiwicmVmU2VhcmNoRmllbGRzIiwicmVmTGlzdEtleSIsIm1hbnkiLCJyZWZMaXN0IiwicmVmRmllbGRLZXkiLCJyZWZGaWVsZCIsInNlYXJjaCIsInNvbWUiLCJjb250YWlucyIsIm1vZGUiLCJ1bmRlZmluZWQiLCJrZXkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/relationship/views/useFilter.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/select/views/SegmentedControl.tsx":
/*!************************************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/select/views/SegmentedControl.tsx ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SegmentedControl: () => (/* binding */ SegmentedControl)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_aria_label__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @react-aria/label */ \"../../../../node_modules/.pnpm/@react-aria+label@3.7.16_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-aria/label/dist/import.mjs\");\n/* harmony import */ var _keystar_ui_action_group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/action-group */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-action-group.js\");\n/* harmony import */ var _keystar_ui_field__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-field.js\");\n/* harmony import */ var _keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/text-field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-text-field.js\");\n\n\n\n\n\nfunction SegmentedControl(props) {\n    const { children, isDisabled, isReadOnly, isRequired, label, description, errorMessage, value, items, onChange, textValue, ...otherProps } = props;\n    const { labelProps, fieldProps, descriptionProps, errorMessageProps } = (0,_react_aria_label__WEBPACK_IMPORTED_MODULE_4__.useField)(props);\n    const selectedKeys = value ? [\n        value\n    ] : [];\n    // The `ActionGroup` isnt really designed for use within forms, so we need to\n    // handle read-only mode. There's probably a better solution but this will at\n    // least be accessible.\n    if (isReadOnly) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_3__.TextField, {\n            description: description,\n            errorMessage: errorMessage,\n            isReadOnly: isReadOnly,\n            isRequired: isRequired,\n            label: label,\n            value: textValue\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/SegmentedControl.tsx\",\n            lineNumber: 40,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_field__WEBPACK_IMPORTED_MODULE_2__.FieldPrimitive, {\n        description: description,\n        descriptionProps: descriptionProps,\n        errorMessage: errorMessage,\n        errorMessageProps: errorMessageProps,\n        isRequired: isRequired,\n        label: label,\n        labelElementType: \"span\",\n        labelProps: labelProps,\n        ...otherProps,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_action_group__WEBPACK_IMPORTED_MODULE_1__.ActionGroup, {\n            ...fieldProps,\n            density: \"compact\",\n            disallowEmptySelection: true,\n            isDisabled: isDisabled,\n            overflowMode: \"collapse\",\n            selectionMode: \"single\",\n            items: items,\n            onSelectionChange: (selection)=>{\n                if (selection === 'all') return; // irrelevant for single-select\n                const next = selection.values().next().value;\n                if (!next) return;\n                onChange(next);\n            },\n            selectedKeys: selectedKeys,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/SegmentedControl.tsx\",\n            lineNumber: 63,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/SegmentedControl.tsx\",\n        lineNumber: 52,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3NlbGVjdC92aWV3cy9TZWdtZW50ZWRDb250cm9sLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUE0QztBQUVpQztBQUNWO0FBQ2pCO0FBWTNDLFNBQVNJLGlCQUFvQkMsS0FBK0I7SUFDakUsTUFBTSxFQUNKQyxRQUFRLEVBQ1JDLFVBQVUsRUFDVkMsVUFBVSxFQUNWQyxVQUFVLEVBQ1ZDLEtBQUssRUFDTEMsV0FBVyxFQUNYQyxZQUFZLEVBQ1pDLEtBQUssRUFDTEMsS0FBSyxFQUNMQyxRQUFRLEVBQ1JDLFNBQVMsRUFDVCxHQUFHQyxZQUNKLEdBQUdaO0lBQ0osTUFBTSxFQUFFYSxVQUFVLEVBQUVDLFVBQVUsRUFBRUMsZ0JBQWdCLEVBQUVDLGlCQUFpQixFQUFFLEdBQUdyQiwyREFBUUEsQ0FBQ0s7SUFDakYsTUFBTWlCLGVBQWVULFFBQVE7UUFBQ0E7S0FBTSxHQUFHLEVBQUU7SUFFekMsOEVBQThFO0lBQzlFLDZFQUE2RTtJQUM3RSx1QkFBdUI7SUFDdkIsSUFBSUwsWUFBWTtRQUNkLHFCQUNFLDhEQUFDTCw2REFBU0E7WUFDUlEsYUFBYUE7WUFDYkMsY0FBY0E7WUFDZEosWUFBWUE7WUFDWkMsWUFBWUE7WUFDWkMsT0FBT0E7WUFDUEcsT0FBT0c7Ozs7OztJQUdiO0lBRUEscUJBQ0UsOERBQUNkLDZEQUFjQTtRQUNiUyxhQUFhQTtRQUNiUyxrQkFBa0JBO1FBQ2xCUixjQUFjQTtRQUNkUyxtQkFBbUJBO1FBQ25CWixZQUFZQTtRQUNaQyxPQUFPQTtRQUNQYSxrQkFBaUI7UUFDakJMLFlBQVlBO1FBQ1gsR0FBR0QsVUFBVTtrQkFFZCw0RUFBQ2hCLGlFQUFXQTtZQUNULEdBQUdrQixVQUFVO1lBQ2RLLFNBQVE7WUFDUkMsc0JBQXNCO1lBQ3RCbEIsWUFBWUE7WUFDWm1CLGNBQWE7WUFDYkMsZUFBYztZQUNkYixPQUFPQTtZQUNQYyxtQkFBbUJDLENBQUFBO2dCQUNqQixJQUFJQSxjQUFjLE9BQU8sUUFBTywrQkFBK0I7Z0JBQy9ELE1BQU1DLE9BQU9ELFVBQVVFLE1BQU0sR0FBR0QsSUFBSSxHQUFHakIsS0FBSztnQkFDNUMsSUFBSSxDQUFDaUIsTUFBTTtnQkFDWGYsU0FBU2U7WUFDWDtZQUNBUixjQUFjQTtzQkFFYmhCOzs7Ozs7Ozs7OztBQUlUIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2NvcmUvc3JjL2ZpZWxkcy90eXBlcy9zZWxlY3Qvdmlld3MvU2VnbWVudGVkQ29udHJvbC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRmllbGQgfSBmcm9tICdAcmVhY3QtYXJpYS9sYWJlbCdcblxuaW1wb3J0IHsgdHlwZSBBY3Rpb25Hcm91cFByb3BzLCBBY3Rpb25Hcm91cCB9IGZyb20gJ0BrZXlzdGFyL3VpL2FjdGlvbi1ncm91cCdcbmltcG9ydCB7IHR5cGUgRmllbGRQcm9wcywgRmllbGRQcmltaXRpdmUgfSBmcm9tICdAa2V5c3Rhci91aS9maWVsZCdcbmltcG9ydCB7IFRleHRGaWVsZCB9IGZyb20gJ0BrZXlzdGFyL3VpL3RleHQtZmllbGQnXG5cbnR5cGUgS2V5ID0gbnVtYmVyIHwgc3RyaW5nIC8vIFJlYWN0LktleSBub3cgaW5jbHVkZXMgYmlnaW50LCB3aGljaCBpc24ndCBzdXBwb3J0ZWQgYnkgQHJlYWN0LWFyaWFcblxudHlwZSBTZWdtZW50ZWRDb250cm9sUHJvcHM8VD4gPSBGaWVsZFByb3BzICZcbiAgUGljazxBY3Rpb25Hcm91cFByb3BzPFQ+LCAnY2hpbGRyZW4nIHwgJ2l0ZW1zJz4gJiB7XG4gICAgdmFsdWU6IEtleSB8IG51bGxcbiAgICBvbkNoYW5nZTogKHZhbHVlOiBLZXkpID0+IHZvaWRcbiAgICAvKiogVGhlIGB0ZXh0VmFsdWVgIGlzIHVzZWQgdG8gZGlzcGxheSB0aGUgc2VsZWN0ZWQgaXRlbSBsYWJlbCBpbiByZWFkLW9ubHkgbW9kZS4gKi9cbiAgICB0ZXh0VmFsdWU/OiBzdHJpbmdcbiAgfVxuXG5leHBvcnQgZnVuY3Rpb24gU2VnbWVudGVkQ29udHJvbDxUPihwcm9wczogU2VnbWVudGVkQ29udHJvbFByb3BzPFQ+KSB7XG4gIGNvbnN0IHtcbiAgICBjaGlsZHJlbixcbiAgICBpc0Rpc2FibGVkLFxuICAgIGlzUmVhZE9ubHksXG4gICAgaXNSZXF1aXJlZCxcbiAgICBsYWJlbCxcbiAgICBkZXNjcmlwdGlvbixcbiAgICBlcnJvck1lc3NhZ2UsXG4gICAgdmFsdWUsXG4gICAgaXRlbXMsXG4gICAgb25DaGFuZ2UsXG4gICAgdGV4dFZhbHVlLFxuICAgIC4uLm90aGVyUHJvcHNcbiAgfSA9IHByb3BzXG4gIGNvbnN0IHsgbGFiZWxQcm9wcywgZmllbGRQcm9wcywgZGVzY3JpcHRpb25Qcm9wcywgZXJyb3JNZXNzYWdlUHJvcHMgfSA9IHVzZUZpZWxkKHByb3BzKVxuICBjb25zdCBzZWxlY3RlZEtleXMgPSB2YWx1ZSA/IFt2YWx1ZV0gOiBbXVxuXG4gIC8vIFRoZSBgQWN0aW9uR3JvdXBgIGlzbuKAmXQgcmVhbGx5IGRlc2lnbmVkIGZvciB1c2Ugd2l0aGluIGZvcm1zLCBzbyB3ZSBuZWVkIHRvXG4gIC8vIGhhbmRsZSByZWFkLW9ubHkgbW9kZS4gVGhlcmUncyBwcm9iYWJseSBhIGJldHRlciBzb2x1dGlvbiBidXQgdGhpcyB3aWxsIGF0XG4gIC8vIGxlYXN0IGJlIGFjY2Vzc2libGUuXG4gIGlmIChpc1JlYWRPbmx5KSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgZGVzY3JpcHRpb249e2Rlc2NyaXB0aW9ufVxuICAgICAgICBlcnJvck1lc3NhZ2U9e2Vycm9yTWVzc2FnZX1cbiAgICAgICAgaXNSZWFkT25seT17aXNSZWFkT25seX1cbiAgICAgICAgaXNSZXF1aXJlZD17aXNSZXF1aXJlZH1cbiAgICAgICAgbGFiZWw9e2xhYmVsfVxuICAgICAgICB2YWx1ZT17dGV4dFZhbHVlfVxuICAgICAgLz5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxGaWVsZFByaW1pdGl2ZVxuICAgICAgZGVzY3JpcHRpb249e2Rlc2NyaXB0aW9ufVxuICAgICAgZGVzY3JpcHRpb25Qcm9wcz17ZGVzY3JpcHRpb25Qcm9wc31cbiAgICAgIGVycm9yTWVzc2FnZT17ZXJyb3JNZXNzYWdlfVxuICAgICAgZXJyb3JNZXNzYWdlUHJvcHM9e2Vycm9yTWVzc2FnZVByb3BzfVxuICAgICAgaXNSZXF1aXJlZD17aXNSZXF1aXJlZH1cbiAgICAgIGxhYmVsPXtsYWJlbH1cbiAgICAgIGxhYmVsRWxlbWVudFR5cGU9XCJzcGFuXCJcbiAgICAgIGxhYmVsUHJvcHM9e2xhYmVsUHJvcHN9XG4gICAgICB7Li4ub3RoZXJQcm9wc31cbiAgICA+XG4gICAgICA8QWN0aW9uR3JvdXBcbiAgICAgICAgey4uLmZpZWxkUHJvcHN9XG4gICAgICAgIGRlbnNpdHk9XCJjb21wYWN0XCJcbiAgICAgICAgZGlzYWxsb3dFbXB0eVNlbGVjdGlvblxuICAgICAgICBpc0Rpc2FibGVkPXtpc0Rpc2FibGVkfVxuICAgICAgICBvdmVyZmxvd01vZGU9XCJjb2xsYXBzZVwiXG4gICAgICAgIHNlbGVjdGlvbk1vZGU9XCJzaW5nbGVcIlxuICAgICAgICBpdGVtcz17aXRlbXN9XG4gICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlPXtzZWxlY3Rpb24gPT4ge1xuICAgICAgICAgIGlmIChzZWxlY3Rpb24gPT09ICdhbGwnKSByZXR1cm4gLy8gaXJyZWxldmFudCBmb3Igc2luZ2xlLXNlbGVjdFxuICAgICAgICAgIGNvbnN0IG5leHQgPSBzZWxlY3Rpb24udmFsdWVzKCkubmV4dCgpLnZhbHVlXG4gICAgICAgICAgaWYgKCFuZXh0KSByZXR1cm5cbiAgICAgICAgICBvbkNoYW5nZShuZXh0KVxuICAgICAgICB9fVxuICAgICAgICBzZWxlY3RlZEtleXM9e3NlbGVjdGVkS2V5c31cbiAgICAgID5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9BY3Rpb25Hcm91cD5cbiAgICA8L0ZpZWxkUHJpbWl0aXZlPlxuICApXG59XG4iXSwibmFtZXMiOlsidXNlRmllbGQiLCJBY3Rpb25Hcm91cCIsIkZpZWxkUHJpbWl0aXZlIiwiVGV4dEZpZWxkIiwiU2VnbWVudGVkQ29udHJvbCIsInByb3BzIiwiY2hpbGRyZW4iLCJpc0Rpc2FibGVkIiwiaXNSZWFkT25seSIsImlzUmVxdWlyZWQiLCJsYWJlbCIsImRlc2NyaXB0aW9uIiwiZXJyb3JNZXNzYWdlIiwidmFsdWUiLCJpdGVtcyIsIm9uQ2hhbmdlIiwidGV4dFZhbHVlIiwib3RoZXJQcm9wcyIsImxhYmVsUHJvcHMiLCJmaWVsZFByb3BzIiwiZGVzY3JpcHRpb25Qcm9wcyIsImVycm9yTWVzc2FnZVByb3BzIiwic2VsZWN0ZWRLZXlzIiwibGFiZWxFbGVtZW50VHlwZSIsImRlbnNpdHkiLCJkaXNhbGxvd0VtcHR5U2VsZWN0aW9uIiwib3ZlcmZsb3dNb2RlIiwic2VsZWN0aW9uTW9kZSIsIm9uU2VsZWN0aW9uQ2hhbmdlIiwic2VsZWN0aW9uIiwibmV4dCIsInZhbHVlcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/select/views/SegmentedControl.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/select/views/index.tsx":
/*!*************************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/select/views/index.tsx ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cell: () => (/* binding */ Cell),\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   controller: () => (/* binding */ controller)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_aria_i18n__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @react-aria/i18n */ \"../../../../node_modules/.pnpm/@react-aria+i18n@3.12.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-aria/i18n/dist/import.mjs\");\n/* harmony import */ var _keystar_ui_list_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/list-view */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-list-view.js\");\n/* harmony import */ var _keystar_ui_field__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-field.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_picker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/picker */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-picker.js\");\n/* harmony import */ var _keystar_ui_radio__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/radio */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-radio.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _admin_ui_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../admin-ui/components */ \"../../../../packages/core/src/admin-ui/components/index.ts\");\n/* harmony import */ var _SegmentedControl__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SegmentedControl */ \"../../../../packages/core/src/fields/types/select/views/SegmentedControl.tsx\");\n/* harmony import */ var _lib_core_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../lib/core/utils */ \"../../../../packages/core/src/lib/core/utils.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Field(props) {\n    const { autoFocus, field, forceValidation, onChange, value, isRequired } = props;\n    const [isDirty, setDirty] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [preNullValue, setPreNullValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(value.value || (value.kind === 'update' ? value.initial : null));\n    const longestLabelLength = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"Field.useMemo[longestLabelLength]\": ()=>{\n            return field.options.reduce({\n                \"Field.useMemo[longestLabelLength]\": (a, item)=>Math.max(a, item.label.length)\n            }[\"Field.useMemo[longestLabelLength]\"], 0);\n        }\n    }[\"Field.useMemo[longestLabelLength]\"], [\n        field.options\n    ]);\n    const selectedKey = value.value?.value || preNullValue?.value || null;\n    const isNullable = !isRequired;\n    const isNull = isNullable && value.value?.value == null;\n    const isInvalid = !validate(value, isRequired);\n    const isReadOnly = onChange == null;\n    const errorMessage = isInvalid && (isDirty || forceValidation) ? `${field.label} is required.` : undefined;\n    const onSelectionChange = (key)=>{\n        if (!onChange) return;\n        // FIXME: the value should be primitive, not an object. i think this is an\n        // artefact from react-selects API\n        const newValue = field.options.find((opt)=>opt.value === key) ?? null;\n        // allow clearing the value if the field is not required\n        // if (!field.isRequired && key === selectedKey) {\n        //   newValue = null\n        // }\n        onChange({\n            ...value,\n            value: newValue\n        });\n        setDirty(true);\n    };\n    // TODO: this would benefit from a similar treatment to the text field's\n    // `{ kind: 'null', prev: string }` solution\n    const onNullChange = (isChecked)=>{\n        if (!onChange) return;\n        if (isChecked) {\n            onChange({\n                ...value,\n                value: null\n            });\n            setPreNullValue(value.value);\n        } else {\n            onChange({\n                ...value,\n                value: preNullValue || field.options[0]\n            });\n        }\n        setDirty(true);\n    };\n    const fieldElement = (()=>{\n        switch(field.displayMode){\n            case 'segmented-control':\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SegmentedControl__WEBPACK_IMPORTED_MODULE_10__.SegmentedControl, {\n                    label: field.label,\n                    description: field.description,\n                    errorMessage: errorMessage,\n                    isDisabled: isNull,\n                    isReadOnly: isReadOnly,\n                    isRequired: isRequired,\n                    items: field.options,\n                    onChange: onSelectionChange,\n                    value: selectedKey,\n                    textValue: field.options.find((item)=>item.value === selectedKey)?.label || '',\n                    children: (item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_picker__WEBPACK_IMPORTED_MODULE_5__.Item, {\n                            children: item.label\n                        }, item.value, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/index.tsx\",\n                            lineNumber: 87,\n                            columnNumber: 22\n                        }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/index.tsx\",\n                    lineNumber: 75,\n                    columnNumber: 11\n                }, this);\n            case 'radio':\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_radio__WEBPACK_IMPORTED_MODULE_6__.RadioGroup, {\n                    label: field.label,\n                    description: field.description,\n                    errorMessage: errorMessage,\n                    isDisabled: isNull,\n                    isReadOnly: isReadOnly,\n                    isRequired: isRequired,\n                    onChange: onSelectionChange,\n                    // maintain the previous value when set to null in aid of continuity\n                    // for the user. it will be cleared when the item is saved\n                    value: value.value?.value ?? preNullValue?.value,\n                    children: field.options.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_radio__WEBPACK_IMPORTED_MODULE_6__.Radio, {\n                            value: item.value,\n                            children: item.label\n                        }, item.value, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/index.tsx\",\n                            lineNumber: 105,\n                            columnNumber: 15\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/index.tsx\",\n                    lineNumber: 92,\n                    columnNumber: 11\n                }, this);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_picker__WEBPACK_IMPORTED_MODULE_5__.Picker, {\n                    autoFocus: autoFocus,\n                    label: field.label,\n                    description: field.description,\n                    errorMessage: errorMessage,\n                    isDisabled: isNull,\n                    isReadOnly: isReadOnly,\n                    isRequired: isRequired,\n                    items: field.options,\n                    onSelectionChange: onSelectionChange,\n                    selectedKey: selectedKey,\n                    flex: {\n                        mobile: true,\n                        desktop: 'initial'\n                    },\n                    UNSAFE_style: {\n                        fontSize: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.tokenSchema.typography.text.regular.size,\n                        width: `clamp(${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.tokenSchema.size.alias.singleLineWidth}, calc(${longestLabelLength}ex + ${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.tokenSchema.size.icon.regular}), 100%)`\n                    },\n                    children: (item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_picker__WEBPACK_IMPORTED_MODULE_5__.Item, {\n                            children: item.label\n                        }, item.value, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/index.tsx\",\n                            lineNumber: 130,\n                            columnNumber: 22\n                        }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/index.tsx\",\n                    lineNumber: 113,\n                    columnNumber: 11\n                }, this);\n        }\n    })();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_admin_ui_components__WEBPACK_IMPORTED_MODULE_9__.NullableFieldWrapper, {\n        isAllowed: !isRequired,\n        autoFocus: isNull && autoFocus,\n        label: field.label,\n        isReadOnly: isReadOnly,\n        isNull: isNull,\n        onChange: onNullChange,\n        children: fieldElement\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/index.tsx\",\n        lineNumber: 137,\n        columnNumber: 5\n    }, this);\n}\nconst Cell = ({ value, field })=>{\n    const label = field.options.find((x)=>x.value === value)?.label;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_8__.Text, {\n        children: label\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/index.tsx\",\n        lineNumber: 152,\n        columnNumber: 10\n    }, undefined);\n};\nfunction validate(value, isRequired) {\n    if (isRequired) {\n        // if you got null initially on the update screen, we want to allow saving\n        // since the user probably doesn't have read access control\n        if (value.kind === 'update' && value.initial === null) return true;\n        return value.value !== null;\n    }\n    return true;\n}\nconst FILTER_TYPES = {\n    matches: {\n        label: 'Matches',\n        initialValue: []\n    },\n    not_matches: {\n        label: 'Does not match',\n        initialValue: []\n    }\n};\nfunction controller(config) {\n    const optionsWithStringValues = config.fieldMeta.options.map((x)=>({\n            label: x.label,\n            value: x.value.toString()\n        }));\n    // Transform from string value to type appropriate value\n    const t = (v)=>v === null ? null : config.fieldMeta.type === 'integer' ? parseInt(v) : v;\n    const stringifiedDefault = config.fieldMeta.defaultValue?.toString();\n    return {\n        fieldKey: config.fieldKey,\n        label: config.label,\n        description: config.description,\n        graphqlSelection: config.fieldKey,\n        defaultValue: {\n            kind: 'create',\n            value: optionsWithStringValues.find((x)=>x.value === stringifiedDefault) ?? null\n        },\n        type: config.fieldMeta.type,\n        displayMode: config.fieldMeta.displayMode,\n        options: optionsWithStringValues,\n        deserialize: (data)=>{\n            for (const option of config.fieldMeta.options){\n                if (option.value === data[config.fieldKey]) {\n                    const stringifiedOption = {\n                        label: option.label,\n                        value: option.value.toString()\n                    };\n                    return {\n                        kind: 'update',\n                        initial: stringifiedOption,\n                        value: stringifiedOption\n                    };\n                }\n            }\n            return {\n                kind: 'update',\n                initial: null,\n                value: null\n            };\n        },\n        serialize: (value)=>({\n                [config.fieldKey]: t(value.value?.value ?? null)\n            }),\n        validate: (value, opts)=>validate(value, opts.isRequired),\n        filter: {\n            Filter (props) {\n                const { autoFocus, context, typeLabel, onChange, value, type, ...otherProps } = props;\n                const densityLevels = [\n                    'spacious',\n                    'regular',\n                    'compact'\n                ];\n                const density = densityLevels[Math.min(Math.floor((optionsWithStringValues.length - 1) / 3), 2)];\n                const listView = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_list_view__WEBPACK_IMPORTED_MODULE_2__.ListView, {\n                    \"aria-label\": typeLabel,\n                    density: density,\n                    items: optionsWithStringValues,\n                    flex: true,\n                    minHeight: 0,\n                    maxHeight: \"100%\",\n                    selectionMode: \"multiple\",\n                    onSelectionChange: (selection)=>{\n                        if (selection === 'all') return; // irrelevant for this case\n                        onChange([\n                            ...selection\n                        ].filter((x)=>typeof x === 'string'));\n                    },\n                    selectedKeys: value,\n                    ...otherProps,\n                    children: (item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_picker__WEBPACK_IMPORTED_MODULE_5__.Item, {\n                            children: item.label\n                        }, item.value, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/index.tsx\",\n                            lineNumber: 260,\n                            columnNumber: 22\n                        }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/index.tsx\",\n                    lineNumber: 244,\n                    columnNumber: 11\n                }, this);\n                if (context === 'edit') {\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_4__.VStack, {\n                        gap: \"medium\",\n                        flex: true,\n                        minHeight: 0,\n                        maxHeight: \"100%\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_field__WEBPACK_IMPORTED_MODULE_3__.FieldLabel, {\n                                elementType: \"span\",\n                                children: typeLabel\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/index.tsx\",\n                                lineNumber: 268,\n                                columnNumber: 15\n                            }, this),\n                            listView\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/select/views/index.tsx\",\n                        lineNumber: 266,\n                        columnNumber: 13\n                    }, this);\n                }\n                return listView;\n            },\n            graphql: ({ type, value: options })=>({\n                    [config.fieldKey]: {\n                        [type === 'not_matches' ? 'notIn' : 'in']: options.map((x)=>t(x))\n                    }\n                }),\n            parseGraphQL (value) {\n                return (0,_lib_core_utils__WEBPACK_IMPORTED_MODULE_11__.entriesTyped)(value).flatMap(([type, value])=>{\n                    if (type === 'equals' && value != null) {\n                        return {\n                            type: 'matches',\n                            value: [\n                                value\n                            ]\n                        };\n                    }\n                    if (type === 'notIn' || type === 'in') {\n                        if (!value) return [];\n                        return {\n                            type: type === 'notIn' ? 'not_matches' : 'matches',\n                            value: value.filter((x)=>x != null)\n                        };\n                    }\n                    return [];\n                });\n            },\n            Label ({ type, value }) {\n                const listFormatter = (0,_react_aria_i18n__WEBPACK_IMPORTED_MODULE_12__.useListFormatter)({\n                    style: 'short',\n                    type: 'disjunction'\n                });\n                if (value.length === 0) {\n                    return type === 'not_matches' ? `is set` : `is not set`;\n                }\n                const values = new Set(value);\n                const labels = optionsWithStringValues.filter((opt)=>values.has(opt.value)).map((i)=>i.label);\n                const prefix = type === 'not_matches' ? `is not` : `is`;\n                if (value.length === 1) return `${prefix} ${labels[0]}`;\n                if (value.length === 2) return `${prefix} ${listFormatter.format(labels)}`;\n                return `${prefix} ${listFormatter.format([\n                    labels[0],\n                    `${value.length - 1} more`\n                ])}`;\n            },\n            types: FILTER_TYPES\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3NlbGVjdC92aWV3cy9pbmRleC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFtRDtBQUNBO0FBRUg7QUFDRjtBQUNIO0FBQ007QUFDSTtBQUNOO0FBQ0Y7QUFFeUI7QUFDakI7QUFTSTtBQUVsRCxTQUFTZSxNQUFNQyxLQUFvQztJQUN4RCxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsS0FBSyxFQUFFQyxlQUFlLEVBQUVDLFFBQVEsRUFBRUMsS0FBSyxFQUFFQyxVQUFVLEVBQUUsR0FBR047SUFDM0UsTUFBTSxDQUFDTyxTQUFTQyxTQUFTLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUN3QixjQUFjQyxnQkFBZ0IsR0FBR3pCLCtDQUFRQSxDQUM5Q29CLE1BQU1BLEtBQUssSUFBS0EsQ0FBQUEsTUFBTU0sSUFBSSxLQUFLLFdBQVdOLE1BQU1PLE9BQU8sR0FBRyxJQUFHO0lBRS9ELE1BQU1DLHFCQUFxQjdCLDhDQUFPQTs2Q0FBQztZQUNqQyxPQUFPa0IsTUFBTVksT0FBTyxDQUFDQyxNQUFNO3FEQUFDLENBQUNDLEdBQUdDLE9BQVNDLEtBQUtDLEdBQUcsQ0FBQ0gsR0FBR0MsS0FBS0csS0FBSyxDQUFDQyxNQUFNO29EQUFHO1FBQzNFOzRDQUFHO1FBQUNuQixNQUFNWSxPQUFPO0tBQUM7SUFFbEIsTUFBTVEsY0FBY2pCLE1BQU1BLEtBQUssRUFBRUEsU0FBU0ksY0FBY0osU0FBUztJQUNqRSxNQUFNa0IsYUFBYSxDQUFDakI7SUFDcEIsTUFBTWtCLFNBQVNELGNBQWNsQixNQUFNQSxLQUFLLEVBQUVBLFNBQVM7SUFDbkQsTUFBTW9CLFlBQVksQ0FBQ0MsU0FBU3JCLE9BQU9DO0lBQ25DLE1BQU1xQixhQUFhdkIsWUFBWTtJQUMvQixNQUFNd0IsZUFDSkgsYUFBY2xCLENBQUFBLFdBQVdKLGVBQWMsSUFBSyxHQUFHRCxNQUFNa0IsS0FBSyxDQUFD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QkFDWmlCLE1BQU0sQ0FBQ2pELENBQUFBLE1BQU95RSxPQUFPRyxHQUFHLENBQUM1RSxJQUFJN0IsS0FBSyxHQUNsQ3NDLEdBQUcsQ0FBQ29FLENBQUFBLElBQUtBLEVBQUUzRixLQUFLO2dCQUNuQixNQUFNNEYsU0FBU3pDLFNBQVMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBRXZELElBQUlsRSxNQUFNZ0IsTUFBTSxLQUFLLEdBQUcsT0FBTyxHQUFHMkYsT0FBTyxDQUFDLEVBQUVILE1BQU0sQ0FBQyxFQUFFLEVBQUU7Z0JBQ3ZELElBQUl4RyxNQUFNZ0IsTUFBTSxLQUFLLEdBQUcsT0FBTyxHQUFHMkYsT0FBTyxDQUFDLEVBQUVQLGNBQWNRLE1BQU0sQ0FBQ0osU0FBUztnQkFDMUUsT0FBTyxHQUFHRyxPQUFPLENBQUMsRUFBRVAsY0FBY1EsTUFBTSxDQUFDO29CQUFDSixNQUFNLENBQUMsRUFBRTtvQkFBRSxHQUFHeEcsTUFBTWdCLE1BQU0sR0FBRyxFQUFFLEtBQUssQ0FBQztpQkFBQyxHQUFHO1lBQ3JGO1lBQ0E2RixPQUFPdEQ7UUFDVDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3NlbGVjdC92aWV3cy9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBLZXksIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VMaXN0Rm9ybWF0dGVyIH0gZnJvbSAnQHJlYWN0LWFyaWEvaTE4bidcblxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tICdAa2V5c3Rhci91aS9saXN0LXZpZXcnXG5pbXBvcnQgeyBGaWVsZExhYmVsIH0gZnJvbSAnQGtleXN0YXIvdWkvZmllbGQnXG5pbXBvcnQgeyBWU3RhY2sgfSBmcm9tICdAa2V5c3Rhci91aS9sYXlvdXQnXG5pbXBvcnQgeyBJdGVtLCBQaWNrZXIgfSBmcm9tICdAa2V5c3Rhci91aS9waWNrZXInXG5pbXBvcnQgeyBSYWRpbywgUmFkaW9Hcm91cCB9IGZyb20gJ0BrZXlzdGFyL3VpL3JhZGlvJ1xuaW1wb3J0IHsgdG9rZW5TY2hlbWEgfSBmcm9tICdAa2V5c3Rhci91aS9zdHlsZSdcbmltcG9ydCB7IFRleHQgfSBmcm9tICdAa2V5c3Rhci91aS90eXBvZ3JhcGh5J1xuXG5pbXBvcnQgeyBOdWxsYWJsZUZpZWxkV3JhcHBlciB9IGZyb20gJy4uLy4uLy4uLy4uL2FkbWluLXVpL2NvbXBvbmVudHMnXG5pbXBvcnQgeyBTZWdtZW50ZWRDb250cm9sIH0gZnJvbSAnLi9TZWdtZW50ZWRDb250cm9sJ1xuXG5pbXBvcnQgdHlwZSB7XG4gIENlbGxDb21wb25lbnQsXG4gIEZpZWxkQ29udHJvbGxlcixcbiAgRmllbGRDb250cm9sbGVyQ29uZmlnLFxuICBGaWVsZFByb3BzLFxuICBTaW1wbGVGaWVsZFR5cGVJbmZvLFxufSBmcm9tICcuLi8uLi8uLi8uLi90eXBlcydcbmltcG9ydCB7IGVudHJpZXNUeXBlZCB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9jb3JlL3V0aWxzJ1xuXG5leHBvcnQgZnVuY3Rpb24gRmllbGQocHJvcHM6IEZpZWxkUHJvcHM8dHlwZW9mIGNvbnRyb2xsZXI+KSB7XG4gIGNvbnN0IHsgYXV0b0ZvY3VzLCBmaWVsZCwgZm9yY2VWYWxpZGF0aW9uLCBvbkNoYW5nZSwgdmFsdWUsIGlzUmVxdWlyZWQgfSA9IHByb3BzXG4gIGNvbnN0IFtpc0RpcnR5LCBzZXREaXJ0eV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3ByZU51bGxWYWx1ZSwgc2V0UHJlTnVsbFZhbHVlXSA9IHVzZVN0YXRlKFxuICAgIHZhbHVlLnZhbHVlIHx8ICh2YWx1ZS5raW5kID09PSAndXBkYXRlJyA/IHZhbHVlLmluaXRpYWwgOiBudWxsKVxuICApXG4gIGNvbnN0IGxvbmdlc3RMYWJlbExlbmd0aCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBmaWVsZC5vcHRpb25zLnJlZHVjZSgoYSwgaXRlbSkgPT4gTWF0aC5tYXgoYSwgaXRlbS5sYWJlbC5sZW5ndGgpLCAwKVxuICB9LCBbZmllbGQub3B0aW9uc10pXG5cbiAgY29uc3Qgc2VsZWN0ZWRLZXkgPSB2YWx1ZS52YWx1ZT8udmFsdWUgfHwgcHJlTnVsbFZhbHVlPy52YWx1ZSB8fCBudWxsXG4gIGNvbnN0IGlzTnVsbGFibGUgPSAhaXNSZXF1aXJlZFxuICBjb25zdCBpc051bGwgPSBpc051bGxhYmxlICYmIHZhbHVlLnZhbHVlPy52YWx1ZSA9PSBudWxsXG4gIGNvbnN0IGlzSW52YWxpZCA9ICF2YWxpZGF0ZSh2YWx1ZSwgaXNSZXF1aXJlZClcbiAgY29uc3QgaXNSZWFkT25seSA9IG9uQ2hhbmdlID09IG51bGxcbiAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICBpc0ludmFsaWQgJiYgKGlzRGlydHkgfHwgZm9yY2VWYWxpZGF0aW9uKSA/IGAke2ZpZWxkLmxhYmVsfSBpcyByZXF1aXJlZC5gIDogdW5kZWZpbmVkXG5cbiAgY29uc3Qgb25TZWxlY3Rpb25DaGFuZ2UgPSAoa2V5OiBLZXkpID0+IHtcbiAgICBpZiAoIW9uQ2hhbmdlKSByZXR1cm5cblxuICAgIC8vIEZJWE1FOiB0aGUgdmFsdWUgc2hvdWxkIGJlIHByaW1pdGl2ZSwgbm90IGFuIG9iamVjdC4gaSB0aGluayB0aGlzIGlzIGFuXG4gICAgLy8gYXJ0ZWZhY3QgZnJvbSByZWFjdC1zZWxlY3TigJlzIEFQSVxuICAgIGNvbnN0IG5ld1ZhbHVlOiBWYWx1ZVsndmFsdWUnXSA9IGZpZWxkLm9wdGlvbnMuZmluZChvcHQgPT4gb3B0LnZhbHVlID09PSBrZXkpID8/IG51bGxcblxuICAgIC8vIGFsbG93IGNsZWFyaW5nIHRoZSB2YWx1ZSBpZiB0aGUgZmllbGQgaXMgbm90IHJlcXVpcmVkXG4gICAgLy8gaWYgKCFmaWVsZC5pc1JlcXVpcmVkICYmIGtleSA9PT0gc2VsZWN0ZWRLZXkpIHtcbiAgICAvLyAgIG5ld1ZhbHVlID0gbnVsbFxuICAgIC8vIH1cblxuICAgIG9uQ2hhbmdlKHsgLi4udmFsdWUsIHZhbHVlOiBuZXdWYWx1ZSB9KVxuICAgIHNldERpcnR5KHRydWUpXG4gIH1cbiAgLy8gVE9ETzogdGhpcyB3b3VsZCBiZW5lZml0IGZyb20gYSBzaW1pbGFyIHRyZWF0bWVudCB0byB0aGUgdGV4dCBmaWVsZCdzXG4gIC8vIGB7IGtpbmQ6ICdudWxsJywgcHJldjogc3RyaW5nIH1gIHNvbHV0aW9uXG4gIGNvbnN0IG9uTnVsbENoYW5nZSA9IChpc0NoZWNrZWQ6IGJvb2xlYW4pID0+IHtcbiAgICBpZiAoIW9uQ2hhbmdlKSByZXR1cm5cblxuICAgIGlmIChpc0NoZWNrZWQpIHtcbiAgICAgIG9uQ2hhbmdlKHsgLi4udmFsdWUsIHZhbHVlOiBudWxsIH0pXG4gICAgICBzZXRQcmVOdWxsVmFsdWUodmFsdWUudmFsdWUpXG4gICAgfSBlbHNlIHtcbiAgICAgIG9uQ2hhbmdlKHsgLi4udmFsdWUsIHZhbHVlOiBwcmVOdWxsVmFsdWUgfHwgZmllbGQub3B0aW9uc1swXSB9KVxuICAgIH1cbiAgICBzZXREaXJ0eSh0cnVlKVxuICB9XG5cbiAgY29uc3QgZmllbGRFbGVtZW50ID0gKCgpID0+IHtcbiAgICBzd2l0Y2ggKGZpZWxkLmRpc3BsYXlNb2RlKSB7XG4gICAgICBjYXNlICdzZWdtZW50ZWQtY29udHJvbCc6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFNlZ21lbnRlZENvbnRyb2xcbiAgICAgICAgICAgIGxhYmVsPXtmaWVsZC5sYWJlbH1cbiAgICAgICAgICAgIGRlc2NyaXB0aW9uPXtmaWVsZC5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgIGVycm9yTWVzc2FnZT17ZXJyb3JNZXNzYWdlfVxuICAgICAgICAgICAgaXNEaXNhYmxlZD17aXNOdWxsfVxuICAgICAgICAgICAgaXNSZWFkT25seT17aXNSZWFkT25seX1cbiAgICAgICAgICAgIGlzUmVxdWlyZWQ9e2lzUmVxdWlyZWR9XG4gICAgICAgICAgICBpdGVtcz17ZmllbGQub3B0aW9uc31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvblNlbGVjdGlvbkNoYW5nZX1cbiAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZEtleX1cbiAgICAgICAgICAgIHRleHRWYWx1ZT17ZmllbGQub3B0aW9ucy5maW5kKGl0ZW0gPT4gaXRlbS52YWx1ZSA9PT0gc2VsZWN0ZWRLZXkpPy5sYWJlbCB8fCAnJ31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aXRlbSA9PiA8SXRlbSBrZXk9e2l0ZW0udmFsdWV9PntpdGVtLmxhYmVsfTwvSXRlbT59XG4gICAgICAgICAgPC9TZWdtZW50ZWRDb250cm9sPlxuICAgICAgICApXG4gICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJhZGlvR3JvdXBcbiAgICAgICAgICAgIGxhYmVsPXtmaWVsZC5sYWJlbH1cbiAgICAgICAgICAgIGRlc2NyaXB0aW9uPXtmaWVsZC5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgIGVycm9yTWVzc2FnZT17ZXJyb3JNZXNzYWdlfVxuICAgICAgICAgICAgaXNEaXNhYmxlZD17aXNOdWxsfVxuICAgICAgICAgICAgaXNSZWFkT25seT17aXNSZWFkT25seX1cbiAgICAgICAgICAgIGlzUmVxdWlyZWQ9e2lzUmVxdWlyZWR9XG4gICAgICAgICAgICBvbkNoYW5nZT17b25TZWxlY3Rpb25DaGFuZ2V9XG4gICAgICAgICAgICAvLyBtYWludGFpbiB0aGUgcHJldmlvdXMgdmFsdWUgd2hlbiBzZXQgdG8gbnVsbCBpbiBhaWQgb2YgY29udGludWl0eVxuICAgICAgICAgICAgLy8gZm9yIHRoZSB1c2VyLiBpdCB3aWxsIGJlIGNsZWFyZWQgd2hlbiB0aGUgaXRlbSBpcyBzYXZlZFxuICAgICAgICAgICAgdmFsdWU9e3ZhbHVlLnZhbHVlPy52YWx1ZSA/PyBwcmVOdWxsVmFsdWU/LnZhbHVlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtmaWVsZC5vcHRpb25zLm1hcChpdGVtID0+IChcbiAgICAgICAgICAgICAgPFJhZGlvIGtleT17aXRlbS52YWx1ZX0gdmFsdWU9e2l0ZW0udmFsdWV9PlxuICAgICAgICAgICAgICAgIHtpdGVtLmxhYmVsfVxuICAgICAgICAgICAgICA8L1JhZGlvPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9SYWRpb0dyb3VwPlxuICAgICAgICApXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxQaWNrZXJcbiAgICAgICAgICAgIGF1dG9Gb2N1cz17YXV0b0ZvY3VzfVxuICAgICAgICAgICAgbGFiZWw9e2ZpZWxkLmxhYmVsfVxuICAgICAgICAgICAgZGVzY3JpcHRpb249e2ZpZWxkLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlPXtlcnJvck1lc3NhZ2V9XG4gICAgICAgICAgICBpc0Rpc2FibGVkPXtpc051bGx9XG4gICAgICAgICAgICBpc1JlYWRPbmx5PXtpc1JlYWRPbmx5fVxuICAgICAgICAgICAgaXNSZXF1aXJlZD17aXNSZXF1aXJlZH1cbiAgICAgICAgICAgIGl0ZW1zPXtmaWVsZC5vcHRpb25zfVxuICAgICAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U9e29uU2VsZWN0aW9uQ2hhbmdlfVxuICAgICAgICAgICAgc2VsZWN0ZWRLZXk9e3NlbGVjdGVkS2V5fVxuICAgICAgICAgICAgZmxleD17eyBtb2JpbGU6IHRydWUsIGRlc2t0b3A6ICdpbml0aWFsJyB9fVxuICAgICAgICAgICAgVU5TQUZFX3N0eWxlPXt7XG4gICAgICAgICAgICAgIGZvbnRTaXplOiB0b2tlblNjaGVtYS50eXBvZ3JhcGh5LnRleHQucmVndWxhci5zaXplLFxuICAgICAgICAgICAgICB3aWR0aDogYGNsYW1wKCR7dG9rZW5TY2hlbWEuc2l6ZS5hbGlhcy5zaW5nbGVMaW5lV2lkdGh9LCBjYWxjKCR7bG9uZ2VzdExhYmVsTGVuZ3RofWV4ICsgJHt0b2tlblNjaGVtYS5zaXplLmljb24ucmVndWxhcn0pLCAxMDAlKWAsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtpdGVtID0+IDxJdGVtIGtleT17aXRlbS52YWx1ZX0+e2l0ZW0ubGFiZWx9PC9JdGVtPn1cbiAgICAgICAgICA8L1BpY2tlcj5cbiAgICAgICAgKVxuICAgIH1cbiAgfSkoKVxuXG4gIHJldHVybiAoXG4gICAgPE51bGxhYmxlRmllbGRXcmFwcGVyXG4gICAgICBpc0FsbG93ZWQ9eyFpc1JlcXVpcmVkfVxuICAgICAgYXV0b0ZvY3VzPXtpc051bGwgJiYgYXV0b0ZvY3VzfVxuICAgICAgbGFiZWw9e2ZpZWxkLmxhYmVsfVxuICAgICAgaXNSZWFkT25seT17aXNSZWFkT25seX1cbiAgICAgIGlzTnVsbD17aXNOdWxsfVxuICAgICAgb25DaGFuZ2U9e29uTnVsbENoYW5nZX1cbiAgICA+XG4gICAgICB7ZmllbGRFbGVtZW50fVxuICAgIDwvTnVsbGFibGVGaWVsZFdyYXBwZXI+XG4gIClcbn1cblxuZXhwb3J0IGNvbnN0IENlbGw6IENlbGxDb21wb25lbnQ8dHlwZW9mIGNvbnRyb2xsZXI+ID0gKHsgdmFsdWUsIGZpZWxkIH0pID0+IHtcbiAgY29uc3QgbGFiZWwgPSBmaWVsZC5vcHRpb25zLmZpbmQoeCA9PiB4LnZhbHVlID09PSB2YWx1ZSk/LmxhYmVsXG4gIHJldHVybiA8VGV4dD57bGFiZWx9PC9UZXh0PlxufVxuXG5leHBvcnQgdHlwZSBBZG1pblNlbGVjdEZpZWxkTWV0YSA9IHtcbiAgb3B0aW9uczogcmVhZG9ubHkgeyBsYWJlbDogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIHwgbnVtYmVyIH1bXVxuICB0eXBlOiAnc3RyaW5nJyB8ICdpbnRlZ2VyJyB8ICdlbnVtJ1xuICBkaXNwbGF5TW9kZTogJ3NlbGVjdCcgfCAnc2VnbWVudGVkLWNvbnRyb2wnIHwgJ3JhZGlvJ1xuICBkZWZhdWx0VmFsdWU6IHN0cmluZyB8IG51bWJlciB8IG51bGxcbn1cblxudHlwZSBDb25maWcgPSBGaWVsZENvbnRyb2xsZXJDb25maWc8QWRtaW5TZWxlY3RGaWVsZE1ldGE+XG50eXBlIE9wdGlvbiA9IHsgbGFiZWw6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9XG50eXBlIFZhbHVlID1cbiAgfCB7IHZhbHVlOiBPcHRpb24gfCBudWxsOyBraW5kOiAnY3JlYXRlJyB9XG4gIHwgeyB2YWx1ZTogT3B0aW9uIHwgbnVsbDsgaW5pdGlhbDogT3B0aW9uIHwgbnVsbDsga2luZDogJ3VwZGF0ZScgfVxuXG5mdW5jdGlvbiB2YWxpZGF0ZSh2YWx1ZTogVmFsdWUsIGlzUmVxdWlyZWQ6IGJvb2xlYW4pIHtcbiAgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICAvLyBpZiB5b3UgZ290IG51bGwgaW5pdGlhbGx5IG9uIHRoZSB1cGRhdGUgc2NyZWVuLCB3ZSB3YW50IHRvIGFsbG93IHNhdmluZ1xuICAgIC8vIHNpbmNlIHRoZSB1c2VyIHByb2JhYmx5IGRvZXNuJ3QgaGF2ZSByZWFkIGFjY2VzcyBjb250cm9sXG4gICAgaWYgKHZhbHVlLmtpbmQgPT09ICd1cGRhdGUnICYmIHZhbHVlLmluaXRpYWwgPT09IG51bGwpIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIHZhbHVlLnZhbHVlICE9PSBudWxsXG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuY29uc3QgRklMVEVSX1RZUEVTID0ge1xuICBtYXRjaGVzOiB7XG4gICAgbGFiZWw6ICdNYXRjaGVzJyxcbiAgICBpbml0aWFsVmFsdWU6IFtdLFxuICB9LFxuICBub3RfbWF0Y2hlczoge1xuICAgIGxhYmVsOiAnRG9lcyBub3QgbWF0Y2gnLFxuICAgIGluaXRpYWxWYWx1ZTogW10sXG4gIH0sXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250cm9sbGVyKGNvbmZpZzogQ29uZmlnKTogRmllbGRDb250cm9sbGVyPFxuICBWYWx1ZSxcbiAgc3RyaW5nW10sXG4gIFNpbXBsZUZpZWxkVHlwZUluZm88J1N0cmluZyc+WydpbnB1dHMnXVsnd2hlcmUnXVxuPiAmIHtcbiAgb3B0aW9uczogT3B0aW9uW11cbiAgdHlwZTogJ3N0cmluZycgfCAnaW50ZWdlcicgfCAnZW51bSdcbiAgZGlzcGxheU1vZGU6ICdzZWxlY3QnIHwgJ3NlZ21lbnRlZC1jb250cm9sJyB8ICdyYWRpbydcbn0ge1xuICBjb25zdCBvcHRpb25zV2l0aFN0cmluZ1ZhbHVlcyA9IGNvbmZpZy5maWVsZE1ldGEub3B0aW9ucy5tYXAoeCA9PiAoe1xuICAgIGxhYmVsOiB4LmxhYmVsLFxuICAgIHZhbHVlOiB4LnZhbHVlLnRvU3RyaW5nKCksXG4gIH0pKVxuXG4gIC8vIFRyYW5zZm9ybSBmcm9tIHN0cmluZyB2YWx1ZSB0byB0eXBlIGFwcHJvcHJpYXRlIHZhbHVlXG4gIGNvbnN0IHQgPSAodjogc3RyaW5nIHwgbnVsbCkgPT5cbiAgICB2ID09PSBudWxsID8gbnVsbCA6IGNvbmZpZy5maWVsZE1ldGEudHlwZSA9PT0gJ2ludGVnZXInID8gcGFyc2VJbnQodikgOiB2XG5cbiAgY29uc3Qgc3RyaW5naWZpZWREZWZhdWx0ID0gY29uZmlnLmZpZWxkTWV0YS5kZWZhdWx0VmFsdWU/LnRvU3RyaW5nKClcblxuICByZXR1cm4ge1xuICAgIGZpZWxkS2V5OiBjb25maWcuZmllbGRLZXksXG4gICAgbGFiZWw6IGNvbmZpZy5sYWJlbCxcbiAgICBkZXNjcmlwdGlvbjogY29uZmlnLmRlc2NyaXB0aW9uLFxuICAgIGdyYXBocWxTZWxlY3Rpb246IGNvbmZpZy5maWVsZEtleSxcbiAgICBkZWZhdWx0VmFsdWU6IHtcbiAgICAgIGtpbmQ6ICdjcmVhdGUnLFxuICAgICAgdmFsdWU6IG9wdGlvbnNXaXRoU3RyaW5nVmFsdWVzLmZpbmQoeCA9PiB4LnZhbHVlID09PSBzdHJpbmdpZmllZERlZmF1bHQpID8/IG51bGwsXG4gICAgfSxcbiAgICB0eXBlOiBjb25maWcuZmllbGRNZXRhLnR5cGUsXG4gICAgZGlzcGxheU1vZGU6IGNvbmZpZy5maWVsZE1ldGEuZGlzcGxheU1vZGUsXG4gICAgb3B0aW9uczogb3B0aW9uc1dpdGhTdHJpbmdWYWx1ZXMsXG4gICAgZGVzZXJpYWxpemU6IGRhdGEgPT4ge1xuICAgICAgZm9yIChjb25zdCBvcHRpb24gb2YgY29uZmlnLmZpZWxkTWV0YS5vcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb24udmFsdWUgPT09IGRhdGFbY29uZmlnLmZpZWxkS2V5XSkge1xuICAgICAgICAgIGNvbnN0IHN0cmluZ2lmaWVkT3B0aW9uID0geyBsYWJlbDogb3B0aW9uLmxhYmVsLCB2YWx1ZTogb3B0aW9uLnZhbHVlLnRvU3RyaW5nKCkgfVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiAndXBkYXRlJyxcbiAgICAgICAgICAgIGluaXRpYWw6IHN0cmluZ2lmaWVkT3B0aW9uLFxuICAgICAgICAgICAgdmFsdWU6IHN0cmluZ2lmaWVkT3B0aW9uLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsga2luZDogJ3VwZGF0ZScsIGluaXRpYWw6IG51bGwsIHZhbHVlOiBudWxsIH1cbiAgICB9LFxuICAgIHNlcmlhbGl6ZTogdmFsdWUgPT4gKHsgW2NvbmZpZy5maWVsZEtleV06IHQodmFsdWUudmFsdWU/LnZhbHVlID8/IG51bGwpIH0pLFxuICAgIHZhbGlkYXRlOiAodmFsdWUsIG9wdHMpID0+IHZhbGlkYXRlKHZhbHVlLCBvcHRzLmlzUmVxdWlyZWQpLFxuICAgIGZpbHRlcjoge1xuICAgICAgRmlsdGVyKHByb3BzKSB7XG4gICAgICAgIGNvbnN0IHsgYXV0b0ZvY3VzLCBjb250ZXh0LCB0eXBlTGFiZWwsIG9uQ2hhbmdlLCB2YWx1ZSwgdHlwZSwgLi4ub3RoZXJQcm9wcyB9ID0gcHJvcHNcblxuICAgICAgICBjb25zdCBkZW5zaXR5TGV2ZWxzID0gWydzcGFjaW91cycsICdyZWd1bGFyJywgJ2NvbXBhY3QnXSBhcyBjb25zdFxuICAgICAgICBjb25zdCBkZW5zaXR5ID1cbiAgICAgICAgICBkZW5zaXR5TGV2ZWxzW01hdGgubWluKE1hdGguZmxvb3IoKG9wdGlvbnNXaXRoU3RyaW5nVmFsdWVzLmxlbmd0aCAtIDEpIC8gMyksIDIpXVxuICAgICAgICBjb25zdCBsaXN0VmlldyA9IChcbiAgICAgICAgICA8TGlzdFZpZXdcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e3R5cGVMYWJlbH1cbiAgICAgICAgICAgIGRlbnNpdHk9e2RlbnNpdHl9XG4gICAgICAgICAgICBpdGVtcz17b3B0aW9uc1dpdGhTdHJpbmdWYWx1ZXN9XG4gICAgICAgICAgICBmbGV4XG4gICAgICAgICAgICBtaW5IZWlnaHQ9ezB9XG4gICAgICAgICAgICBtYXhIZWlnaHQ9XCIxMDAlXCJcbiAgICAgICAgICAgIHNlbGVjdGlvbk1vZGU9XCJtdWx0aXBsZVwiXG4gICAgICAgICAgICBvblNlbGVjdGlvbkNoYW5nZT17c2VsZWN0aW9uID0+IHtcbiAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiA9PT0gJ2FsbCcpIHJldHVybiAvLyBpcnJlbGV2YW50IGZvciB0aGlzIGNhc2VcblxuICAgICAgICAgICAgICBvbkNoYW5nZShbLi4uc2VsZWN0aW9uXS5maWx0ZXIoeCA9PiB0eXBlb2YgeCA9PT0gJ3N0cmluZycpKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHNlbGVjdGVkS2V5cz17dmFsdWV9XG4gICAgICAgICAgICB7Li4ub3RoZXJQcm9wc31cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aXRlbSA9PiA8SXRlbSBrZXk9e2l0ZW0udmFsdWV9PntpdGVtLmxhYmVsfTwvSXRlbT59XG4gICAgICAgICAgPC9MaXN0Vmlldz5cbiAgICAgICAgKVxuXG4gICAgICAgIGlmIChjb250ZXh0ID09PSAnZWRpdCcpIHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFZTdGFjayBnYXA9XCJtZWRpdW1cIiBmbGV4IG1pbkhlaWdodD17MH0gbWF4SGVpZ2h0PVwiMTAwJVwiPlxuICAgICAgICAgICAgICB7LyogaW50ZW50aW9uYWxseSBub3QgbGlua2VkOiB0aGUgYExpc3RWaWV3YCBoYXMgYW4gZXhwbGljaXQgXCJhcmlhLWxhYmVsXCIgdG8gYXZvaWQgYXdrd2FyZG5lc3Mgd2l0aCBJRHMgYW5kIGZvcmtlZCByZW5kZXIgKi99XG4gICAgICAgICAgICAgIDxGaWVsZExhYmVsIGVsZW1lbnRUeXBlPVwic3BhblwiPnt0eXBlTGFiZWx9PC9GaWVsZExhYmVsPlxuICAgICAgICAgICAgICB7bGlzdFZpZXd9XG4gICAgICAgICAgICA8L1ZTdGFjaz5cbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGlzdFZpZXdcbiAgICAgIH0sXG4gICAgICBncmFwaHFsOiAoeyB0eXBlLCB2YWx1ZTogb3B0aW9ucyB9KSA9PiAoe1xuICAgICAgICBbY29uZmlnLmZpZWxkS2V5XToge1xuICAgICAgICAgIFt0eXBlID09PSAnbm90X21hdGNoZXMnID8gJ25vdEluJyA6ICdpbiddOiBvcHRpb25zLm1hcCh4ID0+IHQoeCkpLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgICBwYXJzZUdyYXBoUUwodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGVudHJpZXNUeXBlZCh2YWx1ZSkuZmxhdE1hcCgoW3R5cGUsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlID09PSAnZXF1YWxzJyAmJiB2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiAnbWF0Y2hlcycsIHZhbHVlOiBbdmFsdWVdIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGUgPT09ICdub3RJbicgfHwgdHlwZSA9PT0gJ2luJykge1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIFtdXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0eXBlOiB0eXBlID09PSAnbm90SW4nID8gJ25vdF9tYXRjaGVzJyA6ICdtYXRjaGVzJyxcbiAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLmZpbHRlcih4ID0+IHggIT0gbnVsbCksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBbXVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIExhYmVsKHsgdHlwZSwgdmFsdWUgfSkge1xuICAgICAgICBjb25zdCBsaXN0Rm9ybWF0dGVyID0gdXNlTGlzdEZvcm1hdHRlcih7XG4gICAgICAgICAgc3R5bGU6ICdzaG9ydCcsXG4gICAgICAgICAgdHlwZTogJ2Rpc2p1bmN0aW9uJyxcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIHR5cGUgPT09ICdub3RfbWF0Y2hlcycgPyBgaXMgc2V0YCA6IGBpcyBub3Qgc2V0YFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBTZXQodmFsdWUpXG4gICAgICAgIGNvbnN0IGxhYmVscyA9IG9wdGlvbnNXaXRoU3RyaW5nVmFsdWVzXG4gICAgICAgICAgLmZpbHRlcihvcHQgPT4gdmFsdWVzLmhhcyhvcHQudmFsdWUpKVxuICAgICAgICAgIC5tYXAoaSA9PiBpLmxhYmVsKVxuICAgICAgICBjb25zdCBwcmVmaXggPSB0eXBlID09PSAnbm90X21hdGNoZXMnID8gYGlzIG5vdGAgOiBgaXNgXG5cbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGAke3ByZWZpeH0gJHtsYWJlbHNbMF19YFxuICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSByZXR1cm4gYCR7cHJlZml4fSAke2xpc3RGb3JtYXR0ZXIuZm9ybWF0KGxhYmVscyl9YFxuICAgICAgICByZXR1cm4gYCR7cHJlZml4fSAke2xpc3RGb3JtYXR0ZXIuZm9ybWF0KFtsYWJlbHNbMF0sIGAke3ZhbHVlLmxlbmd0aCAtIDF9IG1vcmVgXSl9YFxuICAgICAgfSxcbiAgICAgIHR5cGVzOiBGSUxURVJfVFlQRVMsXG4gICAgfSxcbiAgfVxufVxuIl0sIm5hbWVzIjpbInVzZU1lbW8iLCJ1c2VTdGF0ZSIsInVzZUxpc3RGb3JtYXR0ZXIiLCJMaXN0VmlldyIsIkZpZWxkTGFiZWwiLCJWU3RhY2siLCJJdGVtIiwiUGlja2VyIiwiUmFkaW8iLCJSYWRpb0dyb3VwIiwidG9rZW5TY2hlbWEiLCJUZXh0IiwiTnVsbGFibGVGaWVsZFdyYXBwZXIiLCJTZWdtZW50ZWRDb250cm9sIiwiZW50cmllc1R5cGVkIiwiRmllbGQiLCJwcm9wcyIsImF1dG9Gb2N1cyIsImZpZWxkIiwiZm9yY2VWYWxpZGF0aW9uIiwib25DaGFuZ2UiLCJ2YWx1ZSIsImlzUmVxdWlyZWQiLCJpc0RpcnR5Iiwic2V0RGlydHkiLCJwcmVOdWxsVmFsdWUiLCJzZXRQcmVOdWxsVmFsdWUiLCJraW5kIiwiaW5pdGlhbCIsImxvbmdlc3RMYWJlbExlbmd0aCIsIm9wdGlvbnMiLCJyZWR1Y2UiLCJhIiwiaXRlbSIsIk1hdGgiLCJtYXgiLCJsYWJlbCIsImxlbmd0aCIsInNlbGVjdGVkS2V5IiwiaXNOdWxsYWJsZSIsImlzTnVsbCIsImlzSW52YWxpZCIsInZhbGlkYXRlIiwiaXNSZWFkT25seSIsImVycm9yTWVzc2FnZSIsInVuZGVmaW5lZCIsIm9uU2VsZWN0aW9uQ2hhbmdlIiwia2V5IiwibmV3VmFsdWUiLCJmaW5kIiwib3B0Iiwib25OdWxsQ2hhbmdlIiwiaXNDaGVja2VkIiwiZmllbGRFbGVtZW50IiwiZGlzcGxheU1vZGUiLCJkZXNjcmlwdGlvbiIsImlzRGlzYWJsZWQiLCJpdGVtcyIsInRleHRWYWx1ZSIsIm1hcCIsImZsZXgiLCJtb2JpbGUiLCJkZXNrdG9wIiwiVU5TQUZFX3N0eWxlIiwiZm9udFNpemUiLCJ0eXBvZ3JhcGh5IiwidGV4dCIsInJlZ3VsYXIiLCJzaXplIiwid2lkdGgiLCJhbGlhcyIsInNpbmdsZUxpbmVXaWR0aCIsImljb24iLCJpc0FsbG93ZWQiLCJDZWxsIiwieCIsIkZJTFRFUl9UWVBFUyIsIm1hdGNoZXMiLCJpbml0aWFsVmFsdWUiLCJub3RfbWF0Y2hlcyIsImNvbnRyb2xsZXIiLCJjb25maWciLCJvcHRpb25zV2l0aFN0cmluZ1ZhbHVlcyIsImZpZWxkTWV0YSIsInRvU3RyaW5nIiwidCIsInYiLCJ0eXBlIiwicGFyc2VJbnQiLCJzdHJpbmdpZmllZERlZmF1bHQiLCJkZWZhdWx0VmFsdWUiLCJmaWVsZEtleSIsImdyYXBocWxTZWxlY3Rpb24iLCJkZXNlcmlhbGl6ZSIsImRhdGEiLCJvcHRpb24iLCJzdHJpbmdpZmllZE9wdGlvbiIsInNlcmlhbGl6ZSIsIm9wdHMiLCJmaWx0ZXIiLCJGaWx0ZXIiLCJjb250ZXh0IiwidHlwZUxhYmVsIiwib3RoZXJQcm9wcyIsImRlbnNpdHlMZXZlbHMiLCJkZW5zaXR5IiwibWluIiwiZmxvb3IiLCJsaXN0VmlldyIsImFyaWEtbGFiZWwiLCJtaW5IZWlnaHQiLCJtYXhIZWlnaHQiLCJzZWxlY3Rpb25Nb2RlIiwic2VsZWN0aW9uIiwic2VsZWN0ZWRLZXlzIiwiZ2FwIiwiZWxlbWVudFR5cGUiLCJncmFwaHFsIiwicGFyc2VHcmFwaFFMIiwiZmxhdE1hcCIsIkxhYmVsIiwibGlzdEZvcm1hdHRlciIsInN0eWxlIiwidmFsdWVzIiwiU2V0IiwibGFiZWxzIiwiaGFzIiwiaSIsInByZWZpeCIsImZvcm1hdCIsInR5cGVzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/select/views/index.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/text/views/index.tsx":
/*!***********************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/text/views/index.tsx ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   controller: () => (/* binding */ controller)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/text-field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-text-field.js\");\n/* harmony import */ var _admin_ui_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../admin-ui/components */ \"../../../../packages/core/src/admin-ui/components/index.ts\");\n/* harmony import */ var _lib_core_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../lib/core/utils */ \"../../../../packages/core/src/lib/core/utils.ts\");\n\n\n\n\n\nfunction Field(props) {\n    const { autoFocus, field, forceValidation, onChange, value, isRequired } = props;\n    const [shouldShowErrors, setShouldShowErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const validationMessages = validate(value, field.validation, props.isRequired, field.label);\n    const isReadOnly = onChange == null;\n    const isNull = value.inner.kind === 'null';\n    const isTextArea = field.displayMode === 'textarea';\n    const FieldComponent = isTextArea ? _keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_2__.TextArea : _keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_2__.TextField;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_admin_ui_components__WEBPACK_IMPORTED_MODULE_3__.NullableFieldWrapper, {\n        isAllowed: field.isNullable,\n        autoFocus: isNull && autoFocus,\n        label: field.label,\n        isReadOnly: isReadOnly,\n        isNull: isNull,\n        onChange: ()=>{\n            if (!onChange) return;\n            const inner = value.inner.kind === 'value' ? {\n                kind: 'null',\n                prev: value.inner.value\n            } : {\n                kind: 'value',\n                value: value.inner.prev\n            };\n            onChange({\n                ...value,\n                inner\n            });\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FieldComponent, {\n            autoFocus: autoFocus,\n            description: field.description,\n            label: field.label,\n            errorMessage: !!validationMessages.length && (shouldShowErrors || forceValidation) ? validationMessages.join('. ') : undefined,\n            isDisabled: isNull,\n            isReadOnly: isReadOnly,\n            isRequired: isRequired,\n            onBlur: ()=>{\n                setShouldShowErrors(true);\n            },\n            onChange: (textValue)=>{\n                if (!onChange) return;\n                onChange({\n                    ...value,\n                    inner: {\n                        kind: 'value',\n                        value: textValue\n                    }\n                });\n            },\n            // maintain the previous value when set to null in aid of continuity for\n            // the user. it will be cleared when the item is saved\n            value: value.inner.kind === 'value' ? value.inner.value : value.inner.prev\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/text/views/index.tsx\",\n            lineNumber: 43,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/text/views/index.tsx\",\n        lineNumber: 26,\n        columnNumber: 5\n    }, this);\n}\nfunction validate(value, validation, isRequired, fieldLabel) {\n    // if the value is the same as the initial for an update, we don't want to block saving\n    // since we're not gonna send it anyway if it's the same\n    // and going \"fix this thing that is unrelated to the thing you're doing\" is bad\n    // and also bc it could be null bc of read access control\n    if (value.kind === 'update' && (value.initial.kind === 'null' && value.inner.kind === 'null' || value.initial.kind === 'value' && value.inner.kind === 'value' && value.inner.value === value.initial.value)) {\n        return [];\n    }\n    if (value.inner.kind === 'null') {\n        if (isRequired) return [\n            `${fieldLabel} is required`\n        ];\n        return [];\n    }\n    const val = value.inner.value;\n    const min = Math.max(validation.length.min ?? 0, isRequired ? 1 : 0);\n    const messages = [];\n    if (val.length < min) {\n        if (min === 1) {\n            messages.push(`${fieldLabel} must not be empty`);\n        } else {\n            messages.push(`${fieldLabel} must be at least ${min} characters long`);\n        }\n    }\n    if (validation.length.max !== null && val.length > validation.length.max) {\n        messages.push(`${fieldLabel} must be no longer than ${validation.length.max} characters`);\n    }\n    if (validation.match && !validation.match.regex.test(val)) {\n        messages.push(validation.match.explanation || `${fieldLabel} must match ${validation.match.regex}`);\n    }\n    return messages;\n}\nfunction deserializeTextValue(value) {\n    if (value === null) return {\n        kind: 'null',\n        prev: ''\n    };\n    return {\n        kind: 'value',\n        value\n    };\n}\nfunction controller(config) {\n    const validation = {\n        length: config.fieldMeta.validation.length,\n        match: config.fieldMeta.validation.match ? {\n            regex: new RegExp(config.fieldMeta.validation.match.regex.source, config.fieldMeta.validation.match.regex.flags),\n            explanation: config.fieldMeta.validation.match.explanation\n        } : null\n    };\n    return {\n        fieldKey: config.fieldKey,\n        label: config.label,\n        description: config.description,\n        defaultValue: {\n            kind: 'create',\n            inner: deserializeTextValue(config.fieldMeta.defaultValue)\n        },\n        displayMode: config.fieldMeta.displayMode,\n        isNullable: config.fieldMeta.isNullable,\n        deserialize: (data)=>{\n            const inner = deserializeTextValue(data[config.fieldKey]);\n            return {\n                kind: 'update',\n                inner,\n                initial: inner\n            };\n        },\n        serialize: (value)=>({\n                [config.fieldKey]: value.inner.kind === 'null' ? null : value.inner.value\n            }),\n        validation,\n        validate: (val, opts)=>validate(val, validation, opts.isRequired, config.label).length === 0,\n        graphqlSelection: config.fieldKey,\n        filter: {\n            Filter (props) {\n                const { autoFocus, context, typeLabel, onChange, type, value, ...otherProps } = props;\n                const labelProps = context === 'add' ? {\n                    label: config.label,\n                    description: typeLabel\n                } : {\n                    label: typeLabel\n                };\n                // NOTE: \"type\" is a valid attribute for an input element, however the\n                // prop represents a filter type in this context e.g. \"contains_i\", so\n                // we're filtering it out of the spread.\n                // TODO: more consideration is needed for the filter API, once\n                // requirements are better understood.\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_2__.TextField, {\n                    ...otherProps,\n                    ...labelProps,\n                    autoFocus: autoFocus,\n                    onChange: onChange,\n                    value: value\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/text/views/index.tsx\",\n                    lineNumber: 190,\n                    columnNumber: 11\n                }, this);\n            },\n            Label ({ label, value }) {\n                const trimmedLabel = label.toLowerCase().replace(' exactly', '');\n                return `${trimmedLabel} \"${value}\"`;\n            },\n            graphql: ({ type, value })=>{\n                const isNot = type.startsWith('not_');\n                const key = type === 'is_i' || type === 'not_i' ? 'equals' : type.replace(/_i$/, '').replace('not_', '').replace(/_([a-z])/g, (_, char)=>char.toUpperCase());\n                const filter = {\n                    [key]: value\n                };\n                return {\n                    [config.fieldKey]: {\n                        ...isNot ? {\n                            not: filter\n                        } : filter,\n                        mode: config.fieldMeta.shouldUseModeInsensitive ? 'insensitive' : undefined\n                    }\n                };\n            },\n            parseGraphQL: (value)=>{\n                return (0,_lib_core_utils__WEBPACK_IMPORTED_MODULE_4__.entriesTyped)(value).flatMap(([type, value])=>{\n                    if (!value) return [];\n                    if (type === 'equals') return {\n                        type: 'is_i',\n                        value\n                    };\n                    if (type === 'contains') return {\n                        type: 'contains_i',\n                        value\n                    };\n                    if (type === 'startsWith') return {\n                        type: 'starts_with_i',\n                        value\n                    };\n                    if (type === 'endsWith') return {\n                        type: 'ends_with_i',\n                        value\n                    };\n                    if (type === 'not') {\n                        if (value?.equals) return {\n                            type: 'not_i',\n                            value: value.equals\n                        };\n                        if (value?.contains) return {\n                            type: 'not_contains_i',\n                            value: value.contains\n                        };\n                        if (value?.startsWith) return {\n                            type: 'not_starts_with_i',\n                            value: value.startsWith\n                        };\n                        if (value?.endsWith) return {\n                            type: 'not_ends_with_i',\n                            value: value.endsWith\n                        };\n                    }\n                    return [];\n                });\n            },\n            types: {\n                contains_i: {\n                    label: 'Contains',\n                    initialValue: ''\n                },\n                not_contains_i: {\n                    label: 'Does not contain',\n                    initialValue: ''\n                },\n                is_i: {\n                    label: 'Is exactly',\n                    initialValue: ''\n                },\n                not_i: {\n                    label: 'Is not exactly',\n                    initialValue: ''\n                },\n                starts_with_i: {\n                    label: 'Starts with',\n                    initialValue: ''\n                },\n                not_starts_with_i: {\n                    label: 'Does not start with',\n                    initialValue: ''\n                },\n                ends_with_i: {\n                    label: 'Ends with',\n                    initialValue: ''\n                },\n                not_ends_with_i: {\n                    label: 'Does not end with',\n                    initialValue: ''\n                }\n            }\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3RleHQvdmlld3MvaW5kZXgudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBZ0M7QUFDNEI7QUFHVTtBQUNiO0FBUWxELFNBQVNLLE1BQU1DLEtBQW9DO0lBQ3hELE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxLQUFLLEVBQUVDLGVBQWUsRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLFVBQVUsRUFBRSxHQUFHTjtJQUUzRSxNQUFNLENBQUNPLGtCQUFrQkMsb0JBQW9CLEdBQUdkLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU1lLHFCQUFxQkMsU0FBU0wsT0FBT0gsTUFBTVMsVUFBVSxFQUFFWCxNQUFNTSxVQUFVLEVBQUVKLE1BQU1VLEtBQUs7SUFFMUYsTUFBTUMsYUFBYVQsWUFBWTtJQUMvQixNQUFNVSxTQUFTVCxNQUFNVSxLQUFLLENBQUNDLElBQUksS0FBSztJQUNwQyxNQUFNQyxhQUFhZixNQUFNZ0IsV0FBVyxLQUFLO0lBQ3pDLE1BQU1DLGlCQUFpQkYsYUFBYXRCLDREQUFRQSxHQUFHQyw2REFBU0E7SUFFeEQscUJBQ0UsOERBQUNDLHNFQUFvQkE7UUFDbkJ1QixXQUFXbEIsTUFBTW1CLFVBQVU7UUFDM0JwQixXQUFXYSxVQUFVYjtRQUNyQlcsT0FBT1YsTUFBTVUsS0FBSztRQUNsQkMsWUFBWUE7UUFDWkMsUUFBUUE7UUFDUlYsVUFBVTtZQUNSLElBQUksQ0FBQ0EsVUFBVTtZQUVmLE1BQU1XLFFBQ0pWLE1BQU1VLEtBQUssQ0FBQ0MsSUFBSSxLQUFLLFVBQ2hCO2dCQUFFQSxNQUFNO2dCQUFRTSxNQUFNakIsTUFBTVUsS0FBSyxDQUFDVixLQUFLO1lBQUMsSUFDeEM7Z0JBQUVXLE1BQU07Z0JBQVNYLE9BQU9BLE1BQU1VLEtBQUssQ0FBQ08sSUFBSTtZQUFDO1lBRWhEbEIsU0FBUztnQkFBRSxHQUFHQyxLQUFLO2dCQUFFVTtZQUFNO1FBQzdCO2tCQUVBLDRFQUFDSTtZ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RUFBRTtnQkFDWDtZQUNGO1lBQ0FDLE9BQU87Z0JBQ0xDLFlBQVk7b0JBQ1Z4RSxPQUFPO29CQUNQeUUsY0FBYztnQkFDaEI7Z0JBQ0FDLGdCQUFnQjtvQkFDZDFFLE9BQU87b0JBQ1B5RSxjQUFjO2dCQUNoQjtnQkFDQUUsTUFBTTtvQkFDSjNFLE9BQU87b0JBQ1B5RSxjQUFjO2dCQUNoQjtnQkFDQUcsT0FBTztvQkFDTDVFLE9BQU87b0JBQ1B5RSxjQUFjO2dCQUNoQjtnQkFDQUksZUFBZTtvQkFDYjdFLE9BQU87b0JBQ1B5RSxjQUFjO2dCQUNoQjtnQkFDQUssbUJBQW1CO29CQUNqQjlFLE9BQU87b0JBQ1B5RSxjQUFjO2dCQUNoQjtnQkFDQU0sYUFBYTtvQkFDWC9FLE9BQU87b0JBQ1B5RSxjQUFjO2dCQUNoQjtnQkFDQU8saUJBQWlCO29CQUNmaEYsT0FBTztvQkFDUHlFLGNBQWM7Z0JBQ2hCO1lBQ0Y7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3RleHQvdmlld3MvaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBUZXh0QXJlYSwgVGV4dEZpZWxkIH0gZnJvbSAnQGtleXN0YXIvdWkvdGV4dC1maWVsZCdcblxuaW1wb3J0IHR5cGUgeyBUZXh0RmllbGRNZXRhIH0gZnJvbSAnLi4nXG5pbXBvcnQgeyBOdWxsYWJsZUZpZWxkV3JhcHBlciB9IGZyb20gJy4uLy4uLy4uLy4uL2FkbWluLXVpL2NvbXBvbmVudHMnXG5pbXBvcnQgeyBlbnRyaWVzVHlwZWQgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvY29yZS91dGlscydcbmltcG9ydCB0eXBlIHtcbiAgRmllbGRDb250cm9sbGVyLFxuICBGaWVsZENvbnRyb2xsZXJDb25maWcsXG4gIEZpZWxkUHJvcHMsXG4gIFNpbXBsZUZpZWxkVHlwZUluZm8sXG59IGZyb20gJy4uLy4uLy4uLy4uL3R5cGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gRmllbGQocHJvcHM6IEZpZWxkUHJvcHM8dHlwZW9mIGNvbnRyb2xsZXI+KSB7XG4gIGNvbnN0IHsgYXV0b0ZvY3VzLCBmaWVsZCwgZm9yY2VWYWxpZGF0aW9uLCBvbkNoYW5nZSwgdmFsdWUsIGlzUmVxdWlyZWQgfSA9IHByb3BzXG5cbiAgY29uc3QgW3Nob3VsZFNob3dFcnJvcnMsIHNldFNob3VsZFNob3dFcnJvcnNdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IHZhbGlkYXRpb25NZXNzYWdlcyA9IHZhbGlkYXRlKHZhbHVlLCBmaWVsZC52YWxpZGF0aW9uLCBwcm9wcy5pc1JlcXVpcmVkLCBmaWVsZC5sYWJlbClcblxuICBjb25zdCBpc1JlYWRPbmx5ID0gb25DaGFuZ2UgPT0gbnVsbFxuICBjb25zdCBpc051bGwgPSB2YWx1ZS5pbm5lci5raW5kID09PSAnbnVsbCdcbiAgY29uc3QgaXNUZXh0QXJlYSA9IGZpZWxkLmRpc3BsYXlNb2RlID09PSAndGV4dGFyZWEnXG4gIGNvbnN0IEZpZWxkQ29tcG9uZW50ID0gaXNUZXh0QXJlYSA/IFRleHRBcmVhIDogVGV4dEZpZWxkXG5cbiAgcmV0dXJuIChcbiAgICA8TnVsbGFibGVGaWVsZFdyYXBwZXJcbiAgICAgIGlzQWxsb3dlZD17ZmllbGQuaXNOdWxsYWJsZX1cbiAgICAgIGF1dG9Gb2N1cz17aXNOdWxsICYmIGF1dG9Gb2N1c31cbiAgICAgIGxhYmVsPXtmaWVsZC5sYWJlbH1cbiAgICAgIGlzUmVhZE9ubHk9e2lzUmVhZE9ubHl9XG4gICAgICBpc051bGw9e2lzTnVsbH1cbiAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7XG4gICAgICAgIGlmICghb25DaGFuZ2UpIHJldHVyblxuXG4gICAgICAgIGNvbnN0IGlubmVyID1cbiAgICAgICAgICB2YWx1ZS5pbm5lci5raW5kID09PSAndmFsdWUnXG4gICAgICAgICAgICA/ICh7IGtpbmQ6ICdudWxsJywgcHJldjogdmFsdWUuaW5uZXIudmFsdWUgfSBhcyBjb25zdClcbiAgICAgICAgICAgIDogKHsga2luZDogJ3ZhbHVlJywgdmFsdWU6IHZhbHVlLmlubmVyLnByZXYgfSBhcyBjb25zdClcblxuICAgICAgICBvbkNoYW5nZSh7IC4uLnZhbHVlLCBpbm5lciB9KVxuICAgICAgfX1cbiAgICA+XG4gICAgICA8RmllbGRDb21wb25lbnRcbiAgICAgICAgYXV0b0ZvY3VzPXthdXRvRm9jdXN9XG4gICAgICAgIGRlc2NyaXB0aW9uPXtmaWVsZC5kZXNjcmlwdGlvbn1cbiAgICAgICAgbGFiZWw9e2ZpZWxkLmxhYmVsfVxuICAgICAgICBlcnJvck1lc3NhZ2U9e1xuICAgICAgICAgICEhdmFsaWRhdGlvbk1lc3NhZ2VzLmxlbmd0aCAmJiAoc2hvdWxkU2hvd0Vycm9ycyB8fCBmb3JjZVZhbGlkYXRpb24pXG4gICAgICAgICAgICA/IHZhbGlkYXRpb25NZXNzYWdlcy5qb2luKCcuICcpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICAgIGlzRGlzYWJsZWQ9e2lzTnVsbH1cbiAgICAgICAgaXNSZWFkT25seT17aXNSZWFkT25seX1cbiAgICAgICAgaXNSZXF1aXJlZD17aXNSZXF1aXJlZH1cbiAgICAgICAgb25CbHVyPXsoKSA9PiB7XG4gICAgICAgICAgc2V0U2hvdWxkU2hvd0Vycm9ycyh0cnVlKVxuICAgICAgICB9fVxuICAgICAgICBvbkNoYW5nZT17dGV4dFZhbHVlID0+IHtcbiAgICAgICAgICBpZiAoIW9uQ2hhbmdlKSByZXR1cm5cbiAgICAgICAgICBvbkNoYW5nZSh7XG4gICAgICAgICAgICAuLi52YWx1ZSxcbiAgICAgICAgICAgIGlubmVyOiB7XG4gICAgICAgICAgICAgIGtpbmQ6ICd2YWx1ZScsXG4gICAgICAgICAgICAgIHZhbHVlOiB0ZXh0VmFsdWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgIH19XG4gICAgICAgIC8vIG1haW50YWluIHRoZSBwcmV2aW91cyB2YWx1ZSB3aGVuIHNldCB0byBudWxsIGluIGFpZCBvZiBjb250aW51aXR5IGZvclxuICAgICAgICAvLyB0aGUgdXNlci4gaXQgd2lsbCBiZSBjbGVhcmVkIHdoZW4gdGhlIGl0ZW0gaXMgc2F2ZWRcbiAgICAgICAgdmFsdWU9e3ZhbHVlLmlubmVyLmtpbmQgPT09ICd2YWx1ZScgPyB2YWx1ZS5pbm5lci52YWx1ZSA6IHZhbHVlLmlubmVyLnByZXZ9XG4gICAgICAvPlxuICAgIDwvTnVsbGFibGVGaWVsZFdyYXBwZXI+XG4gIClcbn1cblxudHlwZSBDb25maWcgPSBGaWVsZENvbnRyb2xsZXJDb25maWc8VGV4dEZpZWxkTWV0YT5cblxudHlwZSBWYWxpZGF0aW9uID0ge1xuICBtYXRjaDogeyByZWdleDogUmVnRXhwOyBleHBsYW5hdGlvbjogc3RyaW5nIHwgbnVsbCB9IHwgbnVsbFxuICBsZW5ndGg6IHsgbWluOiBudW1iZXIgfCBudWxsOyBtYXg6IG51bWJlciB8IG51bGwgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZShcbiAgdmFsdWU6IFRleHRWYWx1ZSxcbiAgdmFsaWRhdGlvbjogVmFsaWRhdGlvbixcbiAgaXNSZXF1aXJlZDogYm9vbGVhbixcbiAgZmllbGRMYWJlbDogc3RyaW5nXG4pOiBzdHJpbmdbXSB7XG4gIC8vIGlmIHRoZSB2YWx1ZSBpcyB0aGUgc2FtZSBhcyB0aGUgaW5pdGlhbCBmb3IgYW4gdXBkYXRlLCB3ZSBkb24ndCB3YW50IHRvIGJsb2NrIHNhdmluZ1xuICAvLyBzaW5jZSB3ZSdyZSBub3QgZ29ubmEgc2VuZCBpdCBhbnl3YXkgaWYgaXQncyB0aGUgc2FtZVxuICAvLyBhbmQgZ29pbmcgXCJmaXggdGhpcyB0aGluZyB0aGF0IGlzIHVucmVsYXRlZCB0byB0aGUgdGhpbmcgeW91J3JlIGRvaW5nXCIgaXMgYmFkXG4gIC8vIGFuZCBhbHNvIGJjIGl0IGNvdWxkIGJlIG51bGwgYmMgb2YgcmVhZCBhY2Nlc3MgY29udHJvbFxuICBpZiAoXG4gICAgdmFsdWUua2luZCA9PT0gJ3VwZGF0ZScgJiZcbiAgICAoKHZhbHVlLmluaXRpYWwua2luZCA9PT0gJ251bGwnICYmIHZhbHVlLmlubmVyLmtpbmQgPT09ICdudWxsJykgfHxcbiAgICAgICh2YWx1ZS5pbml0aWFsLmtpbmQgPT09ICd2YWx1ZScgJiZcbiAgICAgICAgdmFsdWUuaW5uZXIua2luZCA9PT0gJ3ZhbHVlJyAmJlxuICAgICAgICB2YWx1ZS5pbm5lci52YWx1ZSA9PT0gdmFsdWUuaW5pdGlhbC52YWx1ZSkpXG4gICkge1xuICAgIHJldHVybiBbXVxuICB9XG5cbiAgaWYgKHZhbHVlLmlubmVyLmtpbmQgPT09ICdudWxsJykge1xuICAgIGlmIChpc1JlcXVpcmVkKSByZXR1cm4gW2Ake2ZpZWxkTGFiZWx9IGlzIHJlcXVpcmVkYF1cbiAgICByZXR1cm4gW11cbiAgfVxuXG4gIGNvbnN0IHZhbCA9IHZhbHVlLmlubmVyLnZhbHVlXG4gIGNvbnN0IG1pbiA9IE1hdGgubWF4KHZhbGlkYXRpb24ubGVuZ3RoLm1pbiA/PyAwLCBpc1JlcXVpcmVkID8gMSA6IDApXG4gIGNvbnN0IG1lc3NhZ2VzOiBzdHJpbmdbXSA9IFtdXG4gIGlmICh2YWwubGVuZ3RoIDwgbWluKSB7XG4gICAgaWYgKG1pbiA9PT0gMSkge1xuICAgICAgbWVzc2FnZXMucHVzaChgJHtmaWVsZExhYmVsfSBtdXN0IG5vdCBiZSBlbXB0eWApXG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2VzLnB1c2goYCR7ZmllbGRMYWJlbH0gbXVzdCBiZSBhdCBsZWFzdCAke21pbn0gY2hhcmFjdGVycyBsb25nYClcbiAgICB9XG4gIH1cbiAgaWYgKHZhbGlkYXRpb24ubGVuZ3RoLm1heCAhPT0gbnVsbCAmJiB2YWwubGVuZ3RoID4gdmFsaWRhdGlvbi5sZW5ndGgubWF4KSB7XG4gICAgbWVzc2FnZXMucHVzaChgJHtmaWVsZExhYmVsfSBtdXN0IGJlIG5vIGxvbmdlciB0aGFuICR7dmFsaWRhdGlvbi5sZW5ndGgubWF4fSBjaGFyYWN0ZXJzYClcbiAgfVxuICBpZiAodmFsaWRhdGlvbi5tYXRjaCAmJiAhdmFsaWRhdGlvbi5tYXRjaC5yZWdleC50ZXN0KHZhbCkpIHtcbiAgICBtZXNzYWdlcy5wdXNoKFxuICAgICAgdmFsaWRhdGlvbi5tYXRjaC5leHBsYW5hdGlvbiB8fCBgJHtmaWVsZExhYmVsfSBtdXN0IG1hdGNoICR7dmFsaWRhdGlvbi5tYXRjaC5yZWdleH1gXG4gICAgKVxuICB9XG4gIHJldHVybiBtZXNzYWdlc1xufVxuXG50eXBlIElubmVyVGV4dFZhbHVlID0geyBraW5kOiAnbnVsbCc7IHByZXY6IHN0cmluZyB9IHwgeyBraW5kOiAndmFsdWUnOyB2YWx1ZTogc3RyaW5nIH1cbnR5cGUgVGV4dFZhbHVlID1cbiAgfCB7IGtpbmQ6ICdjcmVhdGUnOyBpbm5lcjogSW5uZXJUZXh0VmFsdWUgfVxuICB8IHsga2luZDogJ3VwZGF0ZSc7IGlubmVyOiBJbm5lclRleHRWYWx1ZTsgaW5pdGlhbDogSW5uZXJUZXh0VmFsdWUgfVxuXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZVRleHRWYWx1ZSh2YWx1ZTogc3RyaW5nIHwgbnVsbCk6IElubmVyVGV4dFZhbHVlIHtcbiAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4geyBraW5kOiAnbnVsbCcsIHByZXY6ICcnIH1cbiAgcmV0dXJuIHsga2luZDogJ3ZhbHVlJywgdmFsdWUgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udHJvbGxlcihjb25maWc6IENvbmZpZyk6IEZpZWxkQ29udHJvbGxlcjxcbiAgVGV4dFZhbHVlLFxuICBzdHJpbmcsXG4gIFNpbXBsZUZpZWxkVHlwZUluZm88J1N0cmluZyc+WydpbnB1dHMnXVsnd2hlcmUnXVxuPiAmIHtcbiAgZGlzcGxheU1vZGU6ICdpbnB1dCcgfCAndGV4dGFyZWEnXG4gIHZhbGlkYXRpb246IFZhbGlkYXRpb25cbiAgaXNOdWxsYWJsZTogYm9vbGVhblxufSB7XG4gIGNvbnN0IHZhbGlkYXRpb246IFZhbGlkYXRpb24gPSB7XG4gICAgbGVuZ3RoOiBjb25maWcuZmllbGRNZXRhLnZhbGlkYXRpb24ubGVuZ3RoLFxuICAgIG1hdGNoOiBjb25maWcuZmllbGRNZXRhLnZhbGlkYXRpb24ubWF0Y2hcbiAgICAgID8ge1xuICAgICAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgY29uZmlnLmZpZWxkTWV0YS52YWxpZGF0aW9uLm1hdGNoLnJlZ2V4LnNvdXJjZSxcbiAgICAgICAgICAgIGNvbmZpZy5maWVsZE1ldGEudmFsaWRhdGlvbi5tYXRjaC5yZWdleC5mbGFnc1xuICAgICAgICAgICksXG4gICAgICAgICAgZXhwbGFuYXRpb246IGNvbmZpZy5maWVsZE1ldGEudmFsaWRhdGlvbi5tYXRjaC5leHBsYW5hdGlvbixcbiAgICAgICAgfVxuICAgICAgOiBudWxsLFxuICB9XG4gIHJldHVybiB7XG4gICAgZmllbGRLZXk6IGNvbmZpZy5maWVsZEtleSxcbiAgICBsYWJlbDogY29uZmlnLmxhYmVsLFxuICAgIGRlc2NyaXB0aW9uOiBjb25maWcuZGVzY3JpcHRpb24sXG4gICAgZGVmYXVsdFZhbHVlOiB7IGtpbmQ6ICdjcmVhdGUnLCBpbm5lcjogZGVzZXJpYWxpemVUZXh0VmFsdWUoY29uZmlnLmZpZWxkTWV0YS5kZWZhdWx0VmFsdWUpIH0sXG4gICAgZGlzcGxheU1vZGU6IGNvbmZpZy5maWVsZE1ldGEuZGlzcGxheU1vZGUsXG4gICAgaXNOdWxsYWJsZTogY29uZmlnLmZpZWxkTWV0YS5pc051bGxhYmxlLFxuICAgIGRlc2VyaWFsaXplOiBkYXRhID0+IHtcbiAgICAgIGNvbnN0IGlubmVyID0gZGVzZXJpYWxpemVUZXh0VmFsdWUoZGF0YVtjb25maWcuZmllbGRLZXldKVxuICAgICAgcmV0dXJuIHsga2luZDogJ3VwZGF0ZScsIGlubmVyLCBpbml0aWFsOiBpbm5lciB9XG4gICAgfSxcbiAgICBzZXJpYWxpemU6IHZhbHVlID0+ICh7XG4gICAgICBbY29uZmlnLmZpZWxkS2V5XTogdmFsdWUuaW5uZXIua2luZCA9PT0gJ251bGwnID8gbnVsbCA6IHZhbHVlLmlubmVyLnZhbHVlLFxuICAgIH0pLFxuICAgIHZhbGlkYXRpb24sXG4gICAgdmFsaWRhdGU6ICh2YWwsIG9wdHMpID0+IHZhbGlkYXRlKHZhbCwgdmFsaWRhdGlvbiwgb3B0cy5pc1JlcXVpcmVkLCBjb25maWcubGFiZWwpLmxlbmd0aCA9PT0gMCxcbiAgICBncmFwaHFsU2VsZWN0aW9uOiBjb25maWcuZmllbGRLZXksXG4gICAgZmlsdGVyOiB7XG4gICAgICBGaWx0ZXIocHJvcHMpIHtcbiAgICAgICAgY29uc3QgeyBhdXRvRm9jdXMsIGNvbnRleHQsIHR5cGVMYWJlbCwgb25DaGFuZ2UsIHR5cGUsIHZhbHVlLCAuLi5vdGhlclByb3BzIH0gPSBwcm9wc1xuXG4gICAgICAgIGNvbnN0IGxhYmVsUHJvcHMgPVxuICAgICAgICAgIGNvbnRleHQgPT09ICdhZGQnID8geyBsYWJlbDogY29uZmlnLmxhYmVsLCBkZXNjcmlwdGlvbjogdHlwZUxhYmVsIH0gOiB7IGxhYmVsOiB0eXBlTGFiZWwgfVxuXG4gICAgICAgIC8vIE5PVEU6IFwidHlwZVwiIGlzIGEgdmFsaWQgYXR0cmlidXRlIGZvciBhbiBpbnB1dCBlbGVtZW50LCBob3dldmVyIHRoZVxuICAgICAgICAvLyBwcm9wIHJlcHJlc2VudHMgYSBmaWx0ZXIgdHlwZSBpbiB0aGlzIGNvbnRleHQgZS5nLiBcImNvbnRhaW5zX2lcIiwgc29cbiAgICAgICAgLy8gd2UncmUgZmlsdGVyaW5nIGl0IG91dCBvZiB0aGUgc3ByZWFkLlxuICAgICAgICAvLyBUT0RPOiBtb3JlIGNvbnNpZGVyYXRpb24gaXMgbmVlZGVkIGZvciB0aGUgZmlsdGVyIEFQSSwgb25jZVxuICAgICAgICAvLyByZXF1aXJlbWVudHMgYXJlIGJldHRlciB1bmRlcnN0b29kLlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgIHsuLi5vdGhlclByb3BzfVxuICAgICAgICAgICAgey4uLmxhYmVsUHJvcHN9XG4gICAgICAgICAgICBhdXRvRm9jdXM9e2F1dG9Gb2N1c31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9LFxuICAgICAgTGFiZWwoeyBsYWJlbCwgdmFsdWUgfSkge1xuICAgICAgICBjb25zdCB0cmltbWVkTGFiZWwgPSBsYWJlbC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJyBleGFjdGx5JywgJycpXG4gICAgICAgIHJldHVybiBgJHt0cmltbWVkTGFiZWx9IFwiJHt2YWx1ZX1cImBcbiAgICAgIH0sXG5cbiAgICAgIGdyYXBocWw6ICh7IHR5cGUsIHZhbHVlIH0pID0+IHtcbiAgICAgICAgY29uc3QgaXNOb3QgPSB0eXBlLnN0YXJ0c1dpdGgoJ25vdF8nKVxuICAgICAgICBjb25zdCBrZXkgPVxuICAgICAgICAgIHR5cGUgPT09ICdpc19pJyB8fCB0eXBlID09PSAnbm90X2knXG4gICAgICAgICAgICA/ICdlcXVhbHMnXG4gICAgICAgICAgICA6IHR5cGVcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvX2kkLywgJycpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoJ25vdF8nLCAnJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXyhbYS16XSkvZywgKF8sIGNoYXI6IHN0cmluZykgPT4gY2hhci50b1VwcGVyQ2FzZSgpKVxuICAgICAgICBjb25zdCBmaWx0ZXIgPSB7IFtrZXldOiB2YWx1ZSB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgW2NvbmZpZy5maWVsZEtleV06IHtcbiAgICAgICAgICAgIC4uLihpc05vdCA/IHsgbm90OiBmaWx0ZXIgfSA6IGZpbHRlciksXG4gICAgICAgICAgICBtb2RlOiBjb25maWcuZmllbGRNZXRhLnNob3VsZFVzZU1vZGVJbnNlbnNpdGl2ZSA/ICdpbnNlbnNpdGl2ZScgOiB1bmRlZmluZWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHBhcnNlR3JhcGhRTDogdmFsdWUgPT4ge1xuICAgICAgICByZXR1cm4gZW50cmllc1R5cGVkKHZhbHVlKS5mbGF0TWFwKChbdHlwZSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIFtdXG4gICAgICAgICAgaWYgKHR5cGUgPT09ICdlcXVhbHMnKSByZXR1cm4geyB0eXBlOiAnaXNfaScsIHZhbHVlIH1cbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbnRhaW5zJykgcmV0dXJuIHsgdHlwZTogJ2NvbnRhaW5zX2knLCB2YWx1ZSB9XG4gICAgICAgICAgaWYgKHR5cGUgPT09ICdzdGFydHNXaXRoJykgcmV0dXJuIHsgdHlwZTogJ3N0YXJ0c193aXRoX2knLCB2YWx1ZSB9XG4gICAgICAgICAgaWYgKHR5cGUgPT09ICdlbmRzV2l0aCcpIHJldHVybiB7IHR5cGU6ICdlbmRzX3dpdGhfaScsIHZhbHVlIH1cbiAgICAgICAgICBpZiAodHlwZSA9PT0gJ25vdCcpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZT8uZXF1YWxzKSByZXR1cm4geyB0eXBlOiAnbm90X2knLCB2YWx1ZTogdmFsdWUuZXF1YWxzIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZT8uY29udGFpbnMpIHJldHVybiB7IHR5cGU6ICdub3RfY29udGFpbnNfaScsIHZhbHVlOiB2YWx1ZS5jb250YWlucyB9XG4gICAgICAgICAgICBpZiAodmFsdWU/LnN0YXJ0c1dpdGgpIHJldHVybiB7IHR5cGU6ICdub3Rfc3RhcnRzX3dpdGhfaScsIHZhbHVlOiB2YWx1ZS5zdGFydHNXaXRoIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZT8uZW5kc1dpdGgpIHJldHVybiB7IHR5cGU6ICdub3RfZW5kc193aXRoX2knLCB2YWx1ZTogdmFsdWUuZW5kc1dpdGggfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gW11cbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgICB0eXBlczoge1xuICAgICAgICBjb250YWluc19pOiB7XG4gICAgICAgICAgbGFiZWw6ICdDb250YWlucycsXG4gICAgICAgICAgaW5pdGlhbFZhbHVlOiAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgbm90X2NvbnRhaW5zX2k6IHtcbiAgICAgICAgICBsYWJlbDogJ0RvZXMgbm90IGNvbnRhaW4nLFxuICAgICAgICAgIGluaXRpYWxWYWx1ZTogJycsXG4gICAgICAgIH0sXG4gICAgICAgIGlzX2k6IHtcbiAgICAgICAgICBsYWJlbDogJ0lzIGV4YWN0bHknLFxuICAgICAgICAgIGluaXRpYWxWYWx1ZTogJycsXG4gICAgICAgIH0sXG4gICAgICAgIG5vdF9pOiB7XG4gICAgICAgICAgbGFiZWw6ICdJcyBub3QgZXhhY3RseScsXG4gICAgICAgICAgaW5pdGlhbFZhbHVlOiAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgc3RhcnRzX3dpdGhfaToge1xuICAgICAgICAgIGxhYmVsOiAnU3RhcnRzIHdpdGgnLFxuICAgICAgICAgIGluaXRpYWxWYWx1ZTogJycsXG4gICAgICAgIH0sXG4gICAgICAgIG5vdF9zdGFydHNfd2l0aF9pOiB7XG4gICAgICAgICAgbGFiZWw6ICdEb2VzIG5vdCBzdGFydCB3aXRoJyxcbiAgICAgICAgICBpbml0aWFsVmFsdWU6ICcnLFxuICAgICAgICB9LFxuICAgICAgICBlbmRzX3dpdGhfaToge1xuICAgICAgICAgIGxhYmVsOiAnRW5kcyB3aXRoJyxcbiAgICAgICAgICBpbml0aWFsVmFsdWU6ICcnLFxuICAgICAgICB9LFxuICAgICAgICBub3RfZW5kc193aXRoX2k6IHtcbiAgICAgICAgICBsYWJlbDogJ0RvZXMgbm90IGVuZCB3aXRoJyxcbiAgICAgICAgICBpbml0aWFsVmFsdWU6ICcnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICB9XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJUZXh0QXJlYSIsIlRleHRGaWVsZCIsIk51bGxhYmxlRmllbGRXcmFwcGVyIiwiZW50cmllc1R5cGVkIiwiRmllbGQiLCJwcm9wcyIsImF1dG9Gb2N1cyIsImZpZWxkIiwiZm9yY2VWYWxpZGF0aW9uIiwib25DaGFuZ2UiLCJ2YWx1ZSIsImlzUmVxdWlyZWQiLCJzaG91bGRTaG93RXJyb3JzIiwic2V0U2hvdWxkU2hvd0Vycm9ycyIsInZhbGlkYXRpb25NZXNzYWdlcyIsInZhbGlkYXRlIiwidmFsaWRhdGlvbiIsImxhYmVsIiwiaXNSZWFkT25seSIsImlzTnVsbCIsImlubmVyIiwia2luZCIsImlzVGV4dEFyZWEiLCJkaXNwbGF5TW9kZSIsIkZpZWxkQ29tcG9uZW50IiwiaXNBbGxvd2VkIiwiaXNOdWxsYWJsZSIsInByZXYiLCJkZXNjcmlwdGlvbiIsImVycm9yTWVzc2FnZSIsImxlbmd0aCIsImpvaW4iLCJ1bmRlZmluZWQiLCJpc0Rpc2FibGVkIiwib25CbHVyIiwidGV4dFZhbHVlIiwiZmllbGRMYWJlbCIsImluaXRpYWwiLCJ2YWwiLCJtaW4iLCJNYXRoIiwibWF4IiwibWVzc2FnZXMiLCJwdXNoIiwibWF0Y2giLCJyZWdleCIsInRlc3QiLCJleHBsYW5hdGlvbiIsImRlc2VyaWFsaXplVGV4dFZhbHVlIiwiY29udHJvbGxlciIsImNvbmZpZyIsImZpZWxkTWV0YSIsIlJlZ0V4cCIsInNvdXJjZSIsImZsYWdzIiwiZmllbGRLZXkiLCJkZWZhdWx0VmFsdWUiLCJkZXNlcmlhbGl6ZSIsImRhdGEiLCJzZXJpYWxpemUiLCJvcHRzIiwiZ3JhcGhxbFNlbGVjdGlvbiIsImZpbHRlciIsIkZpbHRlciIsImNvbnRleHQiLCJ0eXBlTGFiZWwiLCJ0eXBlIiwib3RoZXJQcm9wcyIsImxhYmVsUHJvcHMiLCJMYWJlbCIsInRyaW1tZWRMYWJlbCIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImdyYXBocWwiLCJpc05vdCIsInN0YXJ0c1dpdGgiLCJrZXkiLCJfIiwiY2hhciIsInRvVXBwZXJDYXNlIiwibm90IiwibW9kZSIsInNob3VsZFVzZU1vZGVJbnNlbnNpdGl2ZSIsInBhcnNlR3JhcGhRTCIsImZsYXRNYXAiLCJlcXVhbHMiLCJjb250YWlucyIsImVuZHNXaXRoIiwidHlwZXMiLCJjb250YWluc19pIiwiaW5pdGlhbFZhbHVlIiwibm90X2NvbnRhaW5zX2kiLCJpc19pIiwibm90X2kiLCJzdGFydHNfd2l0aF9pIiwibm90X3N0YXJ0c193aXRoX2kiLCJlbmRzX3dpdGhfaSIsIm5vdF9lbmRzX3dpdGhfaSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/text/views/index.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/fields/types/timestamp/views/index.tsx":
/*!****************************************************************************!*\
  !*** ../../../../packages/core/src/fields/types/timestamp/views/index.tsx ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cell: () => (/* binding */ Cell),\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   controller: () => (/* binding */ controller)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _internationalized_date__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @internationalized/date */ \"../../../../node_modules/.pnpm/@internationalized+date@3.7.0/node_modules/@internationalized/date/dist/import.mjs\");\n/* harmony import */ var _react_aria_i18n__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @react-aria/i18n */ \"../../../../node_modules/.pnpm/@react-aria+i18n@3.12.7_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-aria/i18n/dist/import.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_date_time__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/date-time */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-date-time.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_calendarClockIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/icon/icons/calendarClockIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-calendarClockIcon.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/text-field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-text-field.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _lib_core_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../lib/core/utils */ \"../../../../packages/core/src/lib/core/utils.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Field(props) {\n    const { field, value, forceValidation, onChange, isRequired } = props;\n    const parsedValue = value.value ? (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_11__.parseAbsoluteToLocal)(value.value) : null;\n    const [isDirty, setDirty] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isReadonlyUTC, toggleReadonlyUTC] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useReducer)({\n        \"Field.useReducer\": (prev)=>!prev\n    }[\"Field.useReducer\"], false);\n    const dateFormatter = (0,_react_aria_i18n__WEBPACK_IMPORTED_MODULE_12__.useDateFormatter)({\n        dateStyle: 'long',\n        timeStyle: 'long'\n    });\n    // the read-only date field is deceptively interactive, better to render a\n    // text field to avoid confusion. when there's no value the field is disabled,\n    // placeholder text is shown, and the toggle button is hidden\n    if (!onChange) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_6__.Grid, {\n            columns: parsedValue ? 'minmax(0, 1fr) auto' : undefined,\n            gap: \"regular\",\n            alignItems: \"end\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_text_field__WEBPACK_IMPORTED_MODULE_7__.TextField, {\n                    label: field.label,\n                    description: field.description,\n                    isDisabled: !parsedValue,\n                    isReadOnly: true,\n                    value: parsedValue ? isReadonlyUTC ? parsedValue.toAbsoluteString() : dateFormatter.format(parsedValue.toDate()) : 'yyyy-mm-dd --:--:--'\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/timestamp/views/index.tsx\",\n                    lineNumber: 42,\n                    columnNumber: 9\n                }, this),\n                !!parsedValue && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_8__.TooltipTrigger, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_2__.ToggleButton, {\n                            \"aria-label\": \"utc time\",\n                            isSelected: isReadonlyUTC,\n                            onPress: toggleReadonlyUTC,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                                src: _keystar_ui_icon_icons_calendarClockIcon__WEBPACK_IMPORTED_MODULE_5__.calendarClockIcon\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/timestamp/views/index.tsx\",\n                                lineNumber: 62,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/timestamp/views/index.tsx\",\n                            lineNumber: 57,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_8__.Tooltip, {\n                            children: \"Local / UTC\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/timestamp/views/index.tsx\",\n                            lineNumber: 64,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/timestamp/views/index.tsx\",\n                    lineNumber: 56,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/timestamp/views/index.tsx\",\n            lineNumber: 37,\n            columnNumber: 7\n        }, this);\n    }\n    const showValidation = isDirty || forceValidation;\n    const validationMessage = showValidation ? validate(value, field.fieldMeta, isRequired, field.label) : undefined;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_date_time__WEBPACK_IMPORTED_MODULE_3__.DatePicker, {\n        label: field.label,\n        description: field.description,\n        errorMessage: showValidation ? validationMessage : undefined,\n        granularity: \"second\",\n        // isReadOnly={undefined} // read-only state handled above\n        isRequired: isRequired,\n        // NOTE: in addition to providing a cue for users about the expected input\n        // format, the `placeholderValue` determines the type of value for the\n        // field. the implementation below ensures `ZonedDateTime` so we can avoid\n        // unnecessary guards or transformations.\n        placeholderValue: (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_11__.now)((0,_internationalized_date__WEBPACK_IMPORTED_MODULE_11__.getLocalTimeZone)()),\n        onBlur: ()=>setDirty(true),\n        onChange: (datetime)=>{\n            onChange({\n                ...value,\n                value: datetime?.toAbsoluteString() ?? null\n            });\n        },\n        value: parsedValue\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/timestamp/views/index.tsx\",\n        lineNumber: 77,\n        columnNumber: 5\n    }, this);\n}\nfunction validate(value, fieldMeta, isRequired, label) {\n    const isEmpty = !value.value;\n    // if we recieve null initially on the item view and the current value is null,\n    // we should always allow saving it because:\n    // - the value might be null in the database and we don't want to prevent saving the whole item because of that\n    // - we might have null because of an access control error\n    if (value.kind === 'update' && value.initial === null && isEmpty) return;\n    if (value.kind === 'create' && isEmpty && (typeof fieldMeta.defaultValue === 'object' && fieldMeta.defaultValue?.kind === 'now' || fieldMeta.updatedAt)) return;\n    if (isRequired && isEmpty) return `${label} is required`;\n    // TODO: update field in \"@keystar/ui\" to use new validation APIs, for more\n    // granular validation messages\n    return;\n}\nconst Cell = ({ value })=>{\n    const dateFormatter = (0,_react_aria_i18n__WEBPACK_IMPORTED_MODULE_12__.useDateFormatter)({\n        dateStyle: 'medium',\n        timeStyle: 'short'\n    });\n    return value ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_9__.Text, {\n        children: dateFormatter.format(new Date(value))\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/timestamp/views/index.tsx\",\n        lineNumber: 129,\n        columnNumber: 18\n    }, undefined) : null;\n};\nfunction controller(config) {\n    return {\n        fieldKey: config.fieldKey,\n        label: config.label,\n        description: config.description,\n        graphqlSelection: config.fieldKey,\n        fieldMeta: config.fieldMeta,\n        defaultValue: {\n            kind: 'create',\n            value: typeof config.fieldMeta.defaultValue === 'string' ? config.fieldMeta.defaultValue : null\n        },\n        deserialize: (data)=>{\n            const value = data[config.fieldKey];\n            return {\n                kind: 'update',\n                initial: data[config.fieldKey],\n                value: value ?? null\n            };\n        },\n        serialize: ({ value })=>{\n            if (value) return {\n                [config.fieldKey]: value\n            };\n            return {\n                [config.fieldKey]: null\n            };\n        },\n        validate: (value, opts)=>validate(value, config.fieldMeta, opts.isRequired, config.label) === undefined,\n        filter: {\n            Filter (props) {\n                const { autoFocus, context, forceValidation, typeLabel, onChange, value, type, ...otherProps } = props;\n                const [isDirty, setDirty] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n                if (type === 'empty' || type === 'not_empty') return null;\n                const parsedValue = value ? (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_11__.parseAbsoluteToLocal)(value) : null;\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_date_time__WEBPACK_IMPORTED_MODULE_3__.DatePicker, {\n                    label: typeLabel,\n                    granularity: \"second\",\n                    placeholderValue: (0,_internationalized_date__WEBPACK_IMPORTED_MODULE_11__.now)((0,_internationalized_date__WEBPACK_IMPORTED_MODULE_11__.getLocalTimeZone)()),\n                    errorMessage: (forceValidation || isDirty) && !value ? 'Required' : null,\n                    isRequired: true,\n                    hideTimeZone: true,\n                    onBlur: ()=>setDirty(true),\n                    onChange: (datetime)=>{\n                        onChange(datetime?.toAbsoluteString() ?? null);\n                    },\n                    value: parsedValue,\n                    ...otherProps\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/core/src/fields/types/timestamp/views/index.tsx\",\n                    lineNumber: 187,\n                    columnNumber: 11\n                }, this);\n            },\n            graphql: ({ type, value })=>{\n                if (type === 'empty') return {\n                    [config.fieldKey]: {\n                        equals: null\n                    }\n                };\n                if (type === 'not_empty') return {\n                    [config.fieldKey]: {\n                        not: {\n                            equals: null\n                        }\n                    }\n                };\n                if (type === 'not') return {\n                    [config.fieldKey]: {\n                        not: {\n                            equals: value\n                        }\n                    }\n                };\n                return {\n                    [config.fieldKey]: {\n                        [type]: value\n                    }\n                };\n            },\n            parseGraphQL: (value)=>{\n                return (0,_lib_core_utils__WEBPACK_IMPORTED_MODULE_10__.entriesTyped)(value).flatMap(([type, value])=>{\n                    if (type === 'equals' && value === null) {\n                        return {\n                            type: 'empty',\n                            value: null\n                        };\n                    }\n                    if (!value) return [];\n                    if (type === 'equals') return {\n                        type: 'equals',\n                        value: value\n                    };\n                    if (type === 'not') {\n                        if (value?.equals === null) return {\n                            type: 'not_empty',\n                            value: null\n                        };\n                        return {\n                            type: 'not',\n                            value: value.equals\n                        };\n                    }\n                    if (type === 'gt' || type === 'lt') {\n                        return {\n                            type,\n                            value: value\n                        };\n                    }\n                    return [];\n                });\n            },\n            Label ({ label, type, value }) {\n                const dateFormatter = (0,_react_aria_i18n__WEBPACK_IMPORTED_MODULE_12__.useDateFormatter)({\n                    dateStyle: 'short',\n                    timeStyle: 'short'\n                });\n                if (type === 'empty' || type === 'not_empty' || value == null) {\n                    return label.toLocaleLowerCase();\n                }\n                return `${label.toLocaleLowerCase()} ${dateFormatter.format(new Date(value))}`;\n            },\n            types: {\n                equals: {\n                    label: 'Is exactly',\n                    initialValue: null\n                },\n                not: {\n                    label: 'Is not exactly',\n                    initialValue: null\n                },\n                lt: {\n                    label: 'Is before',\n                    initialValue: null\n                },\n                gt: {\n                    label: 'Is after',\n                    initialValue: null\n                },\n                empty: {\n                    label: 'Is empty',\n                    initialValue: null\n                },\n                not_empty: {\n                    label: 'Is not empty',\n                    initialValue: null\n                }\n            }\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3RpbWVzdGFtcC92aWV3cy9pbmRleC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFxRjtBQUNsQztBQUNQO0FBRUs7QUFDQztBQUNYO0FBQ3FDO0FBQ25DO0FBQ1M7QUFDVztBQUNoQjtBQVNZO0FBR2xELFNBQVNnQixNQUFNQyxLQUFvQztJQUN4RCxNQUFNLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFFQyxlQUFlLEVBQUVDLFFBQVEsRUFBRUMsVUFBVSxFQUFFLEdBQUdMO0lBQ2hFLE1BQU1NLGNBQWNKLE1BQU1BLEtBQUssR0FBR2pCLDhFQUFvQkEsQ0FBQ2lCLE1BQU1BLEtBQUssSUFBSTtJQUV0RSxNQUFNLENBQUNLLFNBQVNDLFNBQVMsR0FBR3BCLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ3FCLGVBQWVDLGtCQUFrQixHQUFHdkIsaURBQVVBOzRCQUFDd0IsQ0FBQUEsT0FBUSxDQUFDQTsyQkFBTTtJQUNyRSxNQUFNQyxnQkFBZ0IxQixtRUFBZ0JBLENBQUM7UUFBRTJCLFdBQVc7UUFBUUMsV0FBVztJQUFPO0lBRTlFLDBFQUEwRTtJQUMxRSw4RUFBOEU7SUFDOUUsNkRBQTZEO0lBQzdELElBQUksQ0FBQ1YsVUFBVTtRQUNiLHFCQUNFLDhEQUFDWCxvREFBSUE7WUFDSHNCLFNBQVNULGNBQWMsd0JBQXdCVTtZQUMvQ0MsS0FBSTtZQUNKQyxZQUFXOzs4QkFFWCw4REFBQ3hCLDZEQUFTQTtvQkFDUnlCLE9BQU9sQixNQUFNa0IsS0FBSztvQkFDbEJDLGFBQWFuQixNQUFNbUIsV0FBVztvQkFDOUJDLFlBQVksQ0FBQ2Y7b0JBQ2JnQixVQUFVO29CQUNWcEIsT0FDRUksY0FDSUcsZ0JBQ0VILFlBQVlpQixnQkFBZ0IsS0FDNUJYLGNBQWNZLE1BQU0sQ0FBQ2xCLFlBQVltQixNQUFNLE1BQ3pDOzs7Ozs7Z0JBR1AsQ0FBQyxDQUFDbkIsNkJBQ0Qs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LFdBQVc7Z0JBQVE7Z0JBQ2hGLElBQUk2QyxTQUFTLFdBQVdBLFNBQVMsZUFBZXpELFNBQVMsTUFBTTtvQkFDN0QsT0FBT2lCLE1BQU1pRCxpQkFBaUI7Z0JBQ2hDO2dCQUVBLE9BQU8sR0FBR2pELE1BQU1pRCxpQkFBaUIsR0FBRyxDQUFDLEVBQUV4RCxjQUFjWSxNQUFNLENBQUMsSUFBSXFCLEtBQUszQyxTQUFTO1lBQ2hGO1lBQ0FtRSxPQUFPO2dCQUNMTixRQUFRO29CQUNONUMsT0FBTztvQkFDUG1ELGNBQWM7Z0JBQ2hCO2dCQUNBTixLQUFLO29CQUNIN0MsT0FBTztvQkFDUG1ELGNBQWM7Z0JBQ2hCO2dCQUNBQyxJQUFJO29CQUNGcEQsT0FBTztvQkFDUG1ELGNBQWM7Z0JBQ2hCO2dCQUNBRSxJQUFJO29CQUNGckQsT0FBTztvQkFDUG1ELGNBQWM7Z0JBQ2hCO2dCQUNBRyxPQUFPO29CQUNMdEQsT0FBTztvQkFDUG1ELGNBQWM7Z0JBQ2hCO2dCQUNBSSxXQUFXO29CQUNUdkQsT0FBTztvQkFDUG1ELGNBQWM7Z0JBQ2hCO1lBQ0Y7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvZmllbGRzL3R5cGVzL3RpbWVzdGFtcC92aWV3cy9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0TG9jYWxUaW1lWm9uZSwgbm93LCBwYXJzZUFic29sdXRlVG9Mb2NhbCB9IGZyb20gJ0BpbnRlcm5hdGlvbmFsaXplZC9kYXRlJ1xuaW1wb3J0IHsgdXNlRGF0ZUZvcm1hdHRlciB9IGZyb20gJ0ByZWFjdC1hcmlhL2kxOG4nXG5pbXBvcnQgeyB1c2VSZWR1Y2VyLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyBUb2dnbGVCdXR0b24gfSBmcm9tICdAa2V5c3Rhci91aS9idXR0b24nXG5pbXBvcnQgeyBEYXRlUGlja2VyIH0gZnJvbSAnQGtleXN0YXIvdWkvZGF0ZS10aW1lJ1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24nXG5pbXBvcnQgeyBjYWxlbmRhckNsb2NrSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvY2FsZW5kYXJDbG9ja0ljb24nXG5pbXBvcnQgeyBHcmlkIH0gZnJvbSAnQGtleXN0YXIvdWkvbGF5b3V0J1xuaW1wb3J0IHsgVGV4dEZpZWxkIH0gZnJvbSAnQGtleXN0YXIvdWkvdGV4dC1maWVsZCdcbmltcG9ydCB7IFRvb2x0aXBUcmlnZ2VyLCBUb29sdGlwIH0gZnJvbSAnQGtleXN0YXIvdWkvdG9vbHRpcCdcbmltcG9ydCB7IFRleHQgfSBmcm9tICdAa2V5c3Rhci91aS90eXBvZ3JhcGh5J1xuXG5pbXBvcnQgdHlwZSB7XG4gIENlbGxDb21wb25lbnQsXG4gIEZpZWxkQ29udHJvbGxlcixcbiAgRmllbGRDb250cm9sbGVyQ29uZmlnLFxuICBGaWVsZFByb3BzLFxuICBTaW1wbGVGaWVsZFR5cGVJbmZvLFxufSBmcm9tICcuLi8uLi8uLi8uLi90eXBlcydcbmltcG9ydCB7IGVudHJpZXNUeXBlZCB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9jb3JlL3V0aWxzJ1xuaW1wb3J0IHR5cGUgeyBWYWx1ZSB9IGZyb20gJy4vdXRpbHMnXG5cbmV4cG9ydCBmdW5jdGlvbiBGaWVsZChwcm9wczogRmllbGRQcm9wczx0eXBlb2YgY29udHJvbGxlcj4pIHtcbiAgY29uc3QgeyBmaWVsZCwgdmFsdWUsIGZvcmNlVmFsaWRhdGlvbiwgb25DaGFuZ2UsIGlzUmVxdWlyZWQgfSA9IHByb3BzXG4gIGNvbnN0IHBhcnNlZFZhbHVlID0gdmFsdWUudmFsdWUgPyBwYXJzZUFic29sdXRlVG9Mb2NhbCh2YWx1ZS52YWx1ZSkgOiBudWxsXG5cbiAgY29uc3QgW2lzRGlydHksIHNldERpcnR5XSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbaXNSZWFkb25seVVUQywgdG9nZ2xlUmVhZG9ubHlVVENdID0gdXNlUmVkdWNlcihwcmV2ID0+ICFwcmV2LCBmYWxzZSlcbiAgY29uc3QgZGF0ZUZvcm1hdHRlciA9IHVzZURhdGVGb3JtYXR0ZXIoeyBkYXRlU3R5bGU6ICdsb25nJywgdGltZVN0eWxlOiAnbG9uZycgfSlcblxuICAvLyB0aGUgcmVhZC1vbmx5IGRhdGUgZmllbGQgaXMgZGVjZXB0aXZlbHkgaW50ZXJhY3RpdmUsIGJldHRlciB0byByZW5kZXIgYVxuICAvLyB0ZXh0IGZpZWxkIHRvIGF2b2lkIGNvbmZ1c2lvbi4gd2hlbiB0aGVyZSdzIG5vIHZhbHVlIHRoZSBmaWVsZCBpcyBkaXNhYmxlZCxcbiAgLy8gcGxhY2Vob2xkZXIgdGV4dCBpcyBzaG93biwgYW5kIHRoZSB0b2dnbGUgYnV0dG9uIGlzIGhpZGRlblxuICBpZiAoIW9uQ2hhbmdlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxHcmlkXG4gICAgICAgIGNvbHVtbnM9e3BhcnNlZFZhbHVlID8gJ21pbm1heCgwLCAxZnIpIGF1dG8nIDogdW5kZWZpbmVkfVxuICAgICAgICBnYXA9XCJyZWd1bGFyXCJcbiAgICAgICAgYWxpZ25JdGVtcz1cImVuZFwiXG4gICAgICA+XG4gICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICBsYWJlbD17ZmllbGQubGFiZWx9XG4gICAgICAgICAgZGVzY3JpcHRpb249e2ZpZWxkLmRlc2NyaXB0aW9ufVxuICAgICAgICAgIGlzRGlzYWJsZWQ9eyFwYXJzZWRWYWx1ZX1cbiAgICAgICAgICBpc1JlYWRPbmx5XG4gICAgICAgICAgdmFsdWU9e1xuICAgICAgICAgICAgcGFyc2VkVmFsdWVcbiAgICAgICAgICAgICAgPyBpc1JlYWRvbmx5VVRDXG4gICAgICAgICAgICAgICAgPyBwYXJzZWRWYWx1ZS50b0Fic29sdXRlU3RyaW5nKClcbiAgICAgICAgICAgICAgICA6IGRhdGVGb3JtYXR0ZXIuZm9ybWF0KHBhcnNlZFZhbHVlLnRvRGF0ZSgpKVxuICAgICAgICAgICAgICA6ICd5eXl5LW1tLWRkIC0tOi0tOi0tJ1xuICAgICAgICAgIH1cbiAgICAgICAgLz5cbiAgICAgICAgeyEhcGFyc2VkVmFsdWUgJiYgKFxuICAgICAgICAgIDxUb29sdGlwVHJpZ2dlcj5cbiAgICAgICAgICAgIDxUb2dnbGVCdXR0b25cbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cInV0YyB0aW1lXCJcbiAgICAgICAgICAgICAgaXNTZWxlY3RlZD17aXNSZWFkb25seVVUQ31cbiAgICAgICAgICAgICAgb25QcmVzcz17dG9nZ2xlUmVhZG9ubHlVVEN9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxJY29uIHNyYz17Y2FsZW5kYXJDbG9ja0ljb259IC8+XG4gICAgICAgICAgICA8L1RvZ2dsZUJ1dHRvbj5cbiAgICAgICAgICAgIDxUb29sdGlwPkxvY2FsIC8gVVRDPC9Ub29sdGlwPlxuICAgICAgICAgIDwvVG9vbHRpcFRyaWdnZXI+XG4gICAgICAgICl9XG4gICAgICA8L0dyaWQ+XG4gICAgKVxuICB9XG5cbiAgY29uc3Qgc2hvd1ZhbGlkYXRpb24gPSBpc0RpcnR5IHx8IGZvcmNlVmFsaWRhdGlvblxuICBjb25zdCB2YWxpZGF0aW9uTWVzc2FnZSA9IHNob3dWYWxpZGF0aW9uXG4gICAgPyB2YWxpZGF0ZSh2YWx1ZSwgZmllbGQuZmllbGRNZXRhLCBpc1JlcXVpcmVkLCBmaWVsZC5sYWJlbClcbiAgICA6IHVuZGVmaW5lZFxuXG4gIHJldHVybiAoXG4gICAgPERhdGVQaWNrZXJcbiAgICAgIGxhYmVsPXtmaWVsZC5sYWJlbH1cbiAgICAgIGRlc2NyaXB0aW9uPXtmaWVsZC5kZXNjcmlwdGlvbn1cbiAgICAgIGVycm9yTWVzc2FnZT17c2hvd1ZhbGlkYXRpb24gPyB2YWxpZGF0aW9uTWVzc2FnZSA6IHVuZGVmaW5lZH1cbiAgICAgIGdyYW51bGFyaXR5PVwic2Vjb25kXCJcbiAgICAgIC8vIGlzUmVhZE9ubHk9e3VuZGVmaW5lZH0gLy8gcmVhZC1vbmx5IHN0YXRlIGhhbmRsZWQgYWJvdmVcbiAgICAgIGlzUmVxdWlyZWQ9e2lzUmVxdWlyZWR9XG4gICAgICAvLyBOT1RFOiBpbiBhZGRpdGlvbiB0byBwcm92aWRpbmcgYSBjdWUgZm9yIHVzZXJzIGFib3V0IHRoZSBleHBlY3RlZCBpbnB1dFxuICAgICAgLy8gZm9ybWF0LCB0aGUgYHBsYWNlaG9sZGVyVmFsdWVgIGRldGVybWluZXMgdGhlIHR5cGUgb2YgdmFsdWUgZm9yIHRoZVxuICAgICAgLy8gZmllbGQuIHRoZSBpbXBsZW1lbnRhdGlvbiBiZWxvdyBlbnN1cmVzIGBab25lZERhdGVUaW1lYCBzbyB3ZSBjYW4gYXZvaWRcbiAgICAgIC8vIHVubmVjZXNzYXJ5IGd1YXJkcyBvciB0cmFuc2Zvcm1hdGlvbnMuXG4gICAgICBwbGFjZWhvbGRlclZhbHVlPXtub3coZ2V0TG9jYWxUaW1lWm9uZSgpKX1cbiAgICAgIG9uQmx1cj17KCkgPT4gc2V0RGlydHkodHJ1ZSl9XG4gICAgICBvbkNoYW5nZT17ZGF0ZXRpbWUgPT4ge1xuICAgICAgICBvbkNoYW5nZSh7IC4uLnZhbHVlLCB2YWx1ZTogZGF0ZXRpbWU/LnRvQWJzb2x1dGVTdHJpbmcoKSA/PyBudWxsIH0pXG4gICAgICB9fVxuICAgICAgdmFsdWU9e3BhcnNlZFZhbHVlfVxuICAgIC8+XG4gIClcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGUoXG4gIHZhbHVlOiBWYWx1ZSxcbiAgZmllbGRNZXRhOiBUaW1lc3RhbXBGaWVsZE1ldGEsXG4gIGlzUmVxdWlyZWQ6IGJvb2xlYW4sXG4gIGxhYmVsOiBzdHJpbmdcbik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IGlzRW1wdHkgPSAhdmFsdWUudmFsdWVcblxuICAvLyBpZiB3ZSByZWNpZXZlIG51bGwgaW5pdGlhbGx5IG9uIHRoZSBpdGVtIHZpZXcgYW5kIHRoZSBjdXJyZW50IHZhbHVlIGlzIG51bGwsXG4gIC8vIHdlIHNob3VsZCBhbHdheXMgYWxsb3cgc2F2aW5nIGl0IGJlY2F1c2U6XG4gIC8vIC0gdGhlIHZhbHVlIG1pZ2h0IGJlIG51bGwgaW4gdGhlIGRhdGFiYXNlIGFuZCB3ZSBkb24ndCB3YW50IHRvIHByZXZlbnQgc2F2aW5nIHRoZSB3aG9sZSBpdGVtIGJlY2F1c2Ugb2YgdGhhdFxuICAvLyAtIHdlIG1pZ2h0IGhhdmUgbnVsbCBiZWNhdXNlIG9mIGFuIGFjY2VzcyBjb250cm9sIGVycm9yXG4gIGlmICh2YWx1ZS5raW5kID09PSAndXBkYXRlJyAmJiB2YWx1ZS5pbml0aWFsID09PSBudWxsICYmIGlzRW1wdHkpIHJldHVyblxuXG4gIGlmIChcbiAgICB2YWx1ZS5raW5kID09PSAnY3JlYXRlJyAmJlxuICAgIGlzRW1wdHkgJiZcbiAgICAoKHR5cGVvZiBmaWVsZE1ldGEuZGVmYXVsdFZhbHVlID09PSAnb2JqZWN0JyAmJiBmaWVsZE1ldGEuZGVmYXVsdFZhbHVlPy5raW5kID09PSAnbm93JykgfHxcbiAgICAgIGZpZWxkTWV0YS51cGRhdGVkQXQpXG4gIClcbiAgICByZXR1cm5cblxuICBpZiAoaXNSZXF1aXJlZCAmJiBpc0VtcHR5KSByZXR1cm4gYCR7bGFiZWx9IGlzIHJlcXVpcmVkYFxuXG4gIC8vIFRPRE86IHVwZGF0ZSBmaWVsZCBpbiBcIkBrZXlzdGFyL3VpXCIgdG8gdXNlIG5ldyB2YWxpZGF0aW9uIEFQSXMsIGZvciBtb3JlXG4gIC8vIGdyYW51bGFyIHZhbGlkYXRpb24gbWVzc2FnZXNcbiAgcmV0dXJuXG59XG5cbmV4cG9ydCBjb25zdCBDZWxsOiBDZWxsQ29tcG9uZW50PHR5cGVvZiBjb250cm9sbGVyPiA9ICh7IHZhbHVlIH0pID0+IHtcbiAgY29uc3QgZGF0ZUZvcm1hdHRlciA9IHVzZURhdGVGb3JtYXR0ZXIoeyBkYXRlU3R5bGU6ICdtZWRpdW0nLCB0aW1lU3R5bGU6ICdzaG9ydCcgfSlcbiAgcmV0dXJuIHZhbHVlID8gPFRleHQ+e2RhdGVGb3JtYXR0ZXIuZm9ybWF0KG5ldyBEYXRlKHZhbHVlKSl9PC9UZXh0PiA6IG51bGxcbn1cblxuZXhwb3J0IHR5cGUgVGltZXN0YW1wRmllbGRNZXRhID0ge1xuICBkZWZhdWx0VmFsdWU6IHN0cmluZyB8IHsga2luZDogJ25vdycgfSB8IG51bGxcbiAgdXBkYXRlZEF0OiBib29sZWFuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250cm9sbGVyKGNvbmZpZzogRmllbGRDb250cm9sbGVyQ29uZmlnPFRpbWVzdGFtcEZpZWxkTWV0YT4pOiBGaWVsZENvbnRyb2xsZXI8XG4gIFZhbHVlLFxuICBzdHJpbmcgfCBudWxsLFxuICBTaW1wbGVGaWVsZFR5cGVJbmZvPCdEYXRlVGltZSc+WydpbnB1dHMnXVsnd2hlcmUnXVxuPiAmIHtcbiAgZmllbGRNZXRhOiBUaW1lc3RhbXBGaWVsZE1ldGFcbn0ge1xuICByZXR1cm4ge1xuICAgIGZpZWxkS2V5OiBjb25maWcuZmllbGRLZXksXG4gICAgbGFiZWw6IGNvbmZpZy5sYWJlbCxcbiAgICBkZXNjcmlwdGlvbjogY29uZmlnLmRlc2NyaXB0aW9uLFxuICAgIGdyYXBocWxTZWxlY3Rpb246IGNvbmZpZy5maWVsZEtleSxcbiAgICBmaWVsZE1ldGE6IGNvbmZpZy5maWVsZE1ldGEsXG4gICAgZGVmYXVsdFZhbHVlOiB7XG4gICAgICBraW5kOiAnY3JlYXRlJyxcbiAgICAgIHZhbHVlOlxuICAgICAgICB0eXBlb2YgY29uZmlnLmZpZWxkTWV0YS5kZWZhdWx0VmFsdWUgPT09ICdzdHJpbmcnID8gY29uZmlnLmZpZWxkTWV0YS5kZWZhdWx0VmFsdWUgOiBudWxsLFxuICAgIH0sXG4gICAgZGVzZXJpYWxpemU6IGRhdGEgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBkYXRhW2NvbmZpZy5maWVsZEtleV1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6ICd1cGRhdGUnLFxuICAgICAgICBpbml0aWFsOiBkYXRhW2NvbmZpZy5maWVsZEtleV0sXG4gICAgICAgIHZhbHVlOiB2YWx1ZSA/PyBudWxsLFxuICAgICAgfVxuICAgIH0sXG4gICAgc2VyaWFsaXplOiAoeyB2YWx1ZSB9KSA9PiB7XG4gICAgICBpZiAodmFsdWUpIHJldHVybiB7IFtjb25maWcuZmllbGRLZXldOiB2YWx1ZSB9XG4gICAgICByZXR1cm4geyBbY29uZmlnLmZpZWxkS2V5XTogbnVsbCB9XG4gICAgfSxcbiAgICB2YWxpZGF0ZTogKHZhbHVlLCBvcHRzKSA9PlxuICAgICAgdmFsaWRhdGUodmFsdWUsIGNvbmZpZy5maWVsZE1ldGEsIG9wdHMuaXNSZXF1aXJlZCwgY29uZmlnLmxhYmVsKSA9PT0gdW5kZWZpbmVkLFxuICAgIGZpbHRlcjoge1xuICAgICAgRmlsdGVyKHByb3BzKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBhdXRvRm9jdXMsXG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICBmb3JjZVZhbGlkYXRpb24sXG4gICAgICAgICAgdHlwZUxhYmVsLFxuICAgICAgICAgIG9uQ2hhbmdlLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgLi4ub3RoZXJQcm9wc1xuICAgICAgICB9ID0gcHJvcHNcbiAgICAgICAgY29uc3QgW2lzRGlydHksIHNldERpcnR5XSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gICAgICAgIGlmICh0eXBlID09PSAnZW1wdHknIHx8IHR5cGUgPT09ICdub3RfZW1wdHknKSByZXR1cm4gbnVsbFxuICAgICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IHZhbHVlID8gcGFyc2VBYnNvbHV0ZVRvTG9jYWwodmFsdWUpIDogbnVsbFxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPERhdGVQaWNrZXJcbiAgICAgICAgICAgIGxhYmVsPXt0eXBlTGFiZWx9XG4gICAgICAgICAgICBncmFudWxhcml0eT1cInNlY29uZFwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlclZhbHVlPXtub3coZ2V0TG9jYWxUaW1lWm9uZSgpKX1cbiAgICAgICAgICAgIGVycm9yTWVzc2FnZT17KGZvcmNlVmFsaWRhdGlvbiB8fCBpc0RpcnR5KSAmJiAhdmFsdWUgPyAnUmVxdWlyZWQnIDogbnVsbH1cbiAgICAgICAgICAgIGlzUmVxdWlyZWRcbiAgICAgICAgICAgIGhpZGVUaW1lWm9uZVxuICAgICAgICAgICAgb25CbHVyPXsoKSA9PiBzZXREaXJ0eSh0cnVlKX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtkYXRldGltZSA9PiB7XG4gICAgICAgICAgICAgIG9uQ2hhbmdlKGRhdGV0aW1lPy50b0Fic29sdXRlU3RyaW5nKCkgPz8gbnVsbClcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB2YWx1ZT17cGFyc2VkVmFsdWV9XG4gICAgICAgICAgICB7Li4ub3RoZXJQcm9wc31cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9LFxuICAgICAgZ3JhcGhxbDogKHsgdHlwZSwgdmFsdWUgfSkgPT4ge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2VtcHR5JykgcmV0dXJuIHsgW2NvbmZpZy5maWVsZEtleV06IHsgZXF1YWxzOiBudWxsIH0gfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ25vdF9lbXB0eScpIHJldHVybiB7IFtjb25maWcuZmllbGRLZXldOiB7IG5vdDogeyBlcXVhbHM6IG51bGwgfSB9IH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdub3QnKSByZXR1cm4geyBbY29uZmlnLmZpZWxkS2V5XTogeyBub3Q6IHsgZXF1YWxzOiB2YWx1ZSB9IH0gfVxuICAgICAgICByZXR1cm4geyBbY29uZmlnLmZpZWxkS2V5XTogeyBbdHlwZV06IHZhbHVlIH0gfVxuICAgICAgfSxcbiAgICAgIHBhcnNlR3JhcGhRTDogdmFsdWUgPT4ge1xuICAgICAgICByZXR1cm4gZW50cmllc1R5cGVkKHZhbHVlKS5mbGF0TWFwKChbdHlwZSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGUgPT09ICdlcXVhbHMnICYmIHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiAnZW1wdHknLCB2YWx1ZTogbnVsbCB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghdmFsdWUpIHJldHVybiBbXVxuICAgICAgICAgIGlmICh0eXBlID09PSAnZXF1YWxzJykgcmV0dXJuIHsgdHlwZTogJ2VxdWFscycsIHZhbHVlOiB2YWx1ZSBhcyB1bmtub3duIGFzIHN0cmluZyB9XG4gICAgICAgICAgaWYgKHR5cGUgPT09ICdub3QnKSB7XG4gICAgICAgICAgICBpZiAodmFsdWU/LmVxdWFscyA9PT0gbnVsbCkgcmV0dXJuIHsgdHlwZTogJ25vdF9lbXB0eScsIHZhbHVlOiBudWxsIH1cbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdub3QnLCB2YWx1ZTogdmFsdWUuZXF1YWxzIGFzIHVua25vd24gYXMgc3RyaW5nIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGUgPT09ICdndCcgfHwgdHlwZSA9PT0gJ2x0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZSwgdmFsdWU6IHZhbHVlIGFzIHVua25vd24gYXMgc3RyaW5nIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgICAgTGFiZWwoeyBsYWJlbCwgdHlwZSwgdmFsdWUgfSkge1xuICAgICAgICBjb25zdCBkYXRlRm9ybWF0dGVyID0gdXNlRGF0ZUZvcm1hdHRlcih7IGRhdGVTdHlsZTogJ3Nob3J0JywgdGltZVN0eWxlOiAnc2hvcnQnIH0pXG4gICAgICAgIGlmICh0eXBlID09PSAnZW1wdHknIHx8IHR5cGUgPT09ICdub3RfZW1wdHknIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbGFiZWwudG9Mb2NhbGVMb3dlckNhc2UoKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGAke2xhYmVsLnRvTG9jYWxlTG93ZXJDYXNlKCl9ICR7ZGF0ZUZvcm1hdHRlci5mb3JtYXQobmV3IERhdGUodmFsdWUpKX1gXG4gICAgICB9LFxuICAgICAgdHlwZXM6IHtcbiAgICAgICAgZXF1YWxzOiB7XG4gICAgICAgICAgbGFiZWw6ICdJcyBleGFjdGx5JyxcbiAgICAgICAgICBpbml0aWFsVmFsdWU6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICAgIG5vdDoge1xuICAgICAgICAgIGxhYmVsOiAnSXMgbm90IGV4YWN0bHknLFxuICAgICAgICAgIGluaXRpYWxWYWx1ZTogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgICAgbHQ6IHtcbiAgICAgICAgICBsYWJlbDogJ0lzIGJlZm9yZScsXG4gICAgICAgICAgaW5pdGlhbFZhbHVlOiBudWxsLFxuICAgICAgICB9LFxuICAgICAgICBndDoge1xuICAgICAgICAgIGxhYmVsOiAnSXMgYWZ0ZXInLFxuICAgICAgICAgIGluaXRpYWxWYWx1ZTogbnVsbCxcbiAgICAgICAgfSxcbiAgICAgICAgZW1wdHk6IHtcbiAgICAgICAgICBsYWJlbDogJ0lzIGVtcHR5JyxcbiAgICAgICAgICBpbml0aWFsVmFsdWU6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICAgIG5vdF9lbXB0eToge1xuICAgICAgICAgIGxhYmVsOiAnSXMgbm90IGVtcHR5JyxcbiAgICAgICAgICBpbml0aWFsVmFsdWU6IG51bGwsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJnZXRMb2NhbFRpbWVab25lIiwibm93IiwicGFyc2VBYnNvbHV0ZVRvTG9jYWwiLCJ1c2VEYXRlRm9ybWF0dGVyIiwidXNlUmVkdWNlciIsInVzZVN0YXRlIiwiVG9nZ2xlQnV0dG9uIiwiRGF0ZVBpY2tlciIsIkljb24iLCJjYWxlbmRhckNsb2NrSWNvbiIsIkdyaWQiLCJUZXh0RmllbGQiLCJUb29sdGlwVHJpZ2dlciIsIlRvb2x0aXAiLCJUZXh0IiwiZW50cmllc1R5cGVkIiwiRmllbGQiLCJwcm9wcyIsImZpZWxkIiwidmFsdWUiLCJmb3JjZVZhbGlkYXRpb24iLCJvbkNoYW5nZSIsImlzUmVxdWlyZWQiLCJwYXJzZWRWYWx1ZSIsImlzRGlydHkiLCJzZXREaXJ0eSIsImlzUmVhZG9ubHlVVEMiLCJ0b2dnbGVSZWFkb25seVVUQyIsInByZXYiLCJkYXRlRm9ybWF0dGVyIiwiZGF0ZVN0eWxlIiwidGltZVN0eWxlIiwiY29sdW1ucyIsInVuZGVmaW5lZCIsImdhcCIsImFsaWduSXRlbXMiLCJsYWJlbCIsImRlc2NyaXB0aW9uIiwiaXNEaXNhYmxlZCIsImlzUmVhZE9ubHkiLCJ0b0Fic29sdXRlU3RyaW5nIiwiZm9ybWF0IiwidG9EYXRlIiwiYXJpYS1sYWJlbCIsImlzU2VsZWN0ZWQiLCJvblByZXNzIiwic3JjIiwic2hvd1ZhbGlkYXRpb24iLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInZhbGlkYXRlIiwiZmllbGRNZXRhIiwiZXJyb3JNZXNzYWdlIiwiZ3JhbnVsYXJpdHkiLCJwbGFjZWhvbGRlclZhbHVlIiwib25CbHVyIiwiZGF0ZXRpbWUiLCJpc0VtcHR5Iiwia2luZCIsImluaXRpYWwiLCJkZWZhdWx0VmFsdWUiLCJ1cGRhdGVkQXQiLCJDZWxsIiwiRGF0ZSIsImNvbnRyb2xsZXIiLCJjb25maWciLCJmaWVsZEtleSIsImdyYXBocWxTZWxlY3Rpb24iLCJkZXNlcmlhbGl6ZSIsImRhdGEiLCJzZXJpYWxpemUiLCJvcHRzIiwiZmlsdGVyIiwiRmlsdGVyIiwiYXV0b0ZvY3VzIiwiY29udGV4dCIsInR5cGVMYWJlbCIsInR5cGUiLCJvdGhlclByb3BzIiwiaGlkZVRpbWVab25lIiwiZ3JhcGhxbCIsImVxdWFscyIsIm5vdCIsInBhcnNlR3JhcGhRTCIsImZsYXRNYXAiLCJMYWJlbCIsInRvTG9jYWxlTG93ZXJDYXNlIiwidHlwZXMiLCJpbml0aWFsVmFsdWUiLCJsdCIsImd0IiwiZW1wdHkiLCJub3RfZW1wdHkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/fields/types/timestamp/views/index.tsx\n");

/***/ }),

/***/ "../../../../packages/core/src/index.ts":
/*!**********************************************!*\
  !*** ../../../../packages/core/src/index.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_0__.config),\n/* harmony export */   group: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_0__.group),\n/* harmony export */   list: () => (/* reexport safe */ _schema__WEBPACK_IMPORTED_MODULE_0__.list)\n/* harmony export */ });\n/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./schema */ \"../../../../packages/core/src/schema.ts\");\n/* harmony import */ var _types_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types/schema */ \"../../../../packages/core/src/types/schema/index.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _types_schema__WEBPACK_IMPORTED_MODULE_1__) if([\"default\",\"list\",\"config\",\"group\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _types_schema__WEBPACK_IMPORTED_MODULE_1__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n// this re-exports `g` and `graphql`\n// note the usage of export * over explicitly listing the exports\n// is intentional here so that users can use \"Rename Symbol\" to\n// change their usage of `graphql` to `g` in their project\n// if this was an explicit list, it would change the re-export here\n// rather than the usage in their project\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBOEM7QUFFOUMsb0NBQW9DO0FBQ3BDLGlFQUFpRTtBQUNqRSwrREFBK0Q7QUFDL0QsMERBQTBEO0FBQzFELG1FQUFtRTtBQUNuRSx5Q0FBeUM7QUFDWCIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBsaXN0LCBjb25maWcsIGdyb3VwIH0gZnJvbSAnLi9zY2hlbWEnXG5leHBvcnQgdHlwZSB7IExpc3RDb25maWcsIEJhc2VGaWVsZHMgfSBmcm9tICcuL3R5cGVzJ1xuLy8gdGhpcyByZS1leHBvcnRzIGBnYCBhbmQgYGdyYXBocWxgXG4vLyBub3RlIHRoZSB1c2FnZSBvZiBleHBvcnQgKiBvdmVyIGV4cGxpY2l0bHkgbGlzdGluZyB0aGUgZXhwb3J0c1xuLy8gaXMgaW50ZW50aW9uYWwgaGVyZSBzbyB0aGF0IHVzZXJzIGNhbiB1c2UgXCJSZW5hbWUgU3ltYm9sXCIgdG9cbi8vIGNoYW5nZSB0aGVpciB1c2FnZSBvZiBgZ3JhcGhxbGAgdG8gYGdgIGluIHRoZWlyIHByb2plY3Rcbi8vIGlmIHRoaXMgd2FzIGFuIGV4cGxpY2l0IGxpc3QsIGl0IHdvdWxkIGNoYW5nZSB0aGUgcmUtZXhwb3J0IGhlcmVcbi8vIHJhdGhlciB0aGFuIHRoZSB1c2FnZSBpbiB0aGVpciBwcm9qZWN0XG5leHBvcnQgKiBmcm9tICcuL3R5cGVzL3NjaGVtYSdcbiJdLCJuYW1lcyI6WyJsaXN0IiwiY29uZmlnIiwiZ3JvdXAiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/index.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/lib/core/graphql-errors.ts":
/*!****************************************************************!*\
  !*** ../../../../packages/core/src/lib/core/graphql-errors.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   accessDeniedError: () => (/* binding */ accessDeniedError),\n/* harmony export */   accessReturnError: () => (/* binding */ accessReturnError),\n/* harmony export */   extensionError: () => (/* binding */ extensionError),\n/* harmony export */   filterAccessError: () => (/* binding */ filterAccessError),\n/* harmony export */   formatKeys: () => (/* binding */ formatKeys),\n/* harmony export */   limitsExceededError: () => (/* binding */ limitsExceededError),\n/* harmony export */   relationshipError: () => (/* binding */ relationshipError),\n/* harmony export */   resolverError: () => (/* binding */ resolverError),\n/* harmony export */   userInputError: () => (/* binding */ userInputError),\n/* harmony export */   validationFailureError: () => (/* binding */ validationFailureError)\n/* harmony export */ });\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql */ \"../../../../node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/index.js\");\n\nconst userInputError = (msg)=>new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(`Input error: ${msg}`, {\n        extensions: {\n            code: 'KS_USER_INPUT_ERROR'\n        }\n    });\nconst accessDeniedError = (msg, code = 'KS_ACCESS_DENIED')=>new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(`Access denied: ${msg}`, {\n        extensions: {\n            code\n        }\n    });\nconst validationFailureError = (messages)=>{\n    const s = messages.map((m)=>`  - ${m}`).join('\\n');\n    return new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(`You provided invalid data for this operation.\\n${s}`, {\n        extensions: {\n            code: 'KS_VALIDATION_FAILURE'\n        }\n    });\n};\nconst extensionError = (extension, things)=>{\n    const s = things.map((t)=>`  - ${t.tag}: ${t.error.message}`).join('\\n');\n    return new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(`An error occurred while running \"${extension}\".\\n${s}`, {\n        extensions: {\n            code: 'KS_EXTENSION_ERROR',\n            debug: things.map((t)=>({\n                    stacktrace: t.error.stack,\n                    message: t.error.message\n                }))\n        }\n    });\n};\nconst resolverError = (things)=>{\n    const s = things.map((t)=>`  - ${t.tag}: ${t.error.message}`).join('\\n');\n    return new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(`An error occurred while resolving input fields.\\n${s}`, {\n        extensions: {\n            code: 'KS_RESOLVER_ERROR',\n            debug: things.map((t)=>({\n                    stacktrace: t.error.stack,\n                    message: t.error.message\n                }))\n        }\n    });\n};\nconst relationshipError = (things)=>{\n    const s = things.map((t)=>`  - ${t.tag}: ${t.error.message}`).sort().join('\\n');\n    return new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(`An error occurred while resolving relationship fields.\\n${s}`, {\n        extensions: {\n            code: 'KS_RELATIONSHIP_ERROR',\n            debug: things.map((t)=>({\n                    stacktrace: t.error.stack,\n                    message: t.error.message\n                }))\n        }\n    });\n};\nconst accessReturnError = (things)=>{\n    const s = things.map((t)=>`  - ${t.tag}: Returned: ${t.returned}. Expected: boolean.`).join('\\n');\n    return new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError(`Invalid values returned from access control function.\\n${s}`, {\n        extensions: {\n            code: 'KS_ACCESS_RETURN_ERROR'\n        }\n    });\n};\nconst limitsExceededError = (_)=>new graphql__WEBPACK_IMPORTED_MODULE_0__.GraphQLError('Your request exceeded server limits', {\n        extensions: {\n            code: 'KS_LIMITS_EXCEEDED'\n        }\n    });\nfunction formatKeys(keys) {\n    if (keys.length < 4) return keys.join(', ');\n    return keys.slice(0, 3).join(', ') + ` and ${keys.length - 3} others...`;\n}\nconst filterAccessError = ({ operation, fieldKeys })=>accessDeniedError(`You cannot ${operation} by ${formatKeys(fieldKeys)}`, `KS_FILTER_DENIED`);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvbGliL2NvcmUvZ3JhcGhxbC1lcnJvcnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0M7QUFFL0IsTUFBTUMsaUJBQWlCLENBQUNDLE1BQzdCLElBQUlGLGlEQUFZQSxDQUFDLENBQUMsYUFBYSxFQUFFRSxLQUFLLEVBQUU7UUFBRUMsWUFBWTtZQUFFQyxNQUFNO1FBQXNCO0lBQUUsR0FBRTtBQUVuRixNQUFNQyxvQkFBb0IsQ0FBQ0gsS0FBYUUsT0FBTyxrQkFBa0IsR0FDdEUsSUFBSUosaURBQVlBLENBQUMsQ0FBQyxlQUFlLEVBQUVFLEtBQUssRUFBRTtRQUFFQyxZQUFZO1lBQUVDO1FBQUs7SUFBRSxHQUFFO0FBRTlELE1BQU1FLHlCQUF5QixDQUFDQztJQUNyQyxNQUFNQyxJQUFJRCxTQUFTRSxHQUFHLENBQUNDLENBQUFBLElBQUssQ0FBQyxJQUFJLEVBQUVBLEdBQUcsRUFBRUMsSUFBSSxDQUFDO0lBQzdDLE9BQU8sSUFBSVgsaURBQVlBLENBQUMsQ0FBQywrQ0FBK0MsRUFBRVEsR0FBRyxFQUFFO1FBQzdFTCxZQUFZO1lBQUVDLE1BQU07UUFBd0I7SUFDOUM7QUFDRixFQUFDO0FBRU0sTUFBTVEsaUJBQWlCLENBQUNDLFdBQW1CQztJQUNoRCxNQUFNTixJQUFJTSxPQUFPTCxHQUFHLENBQUNNLENBQUFBLElBQUssQ0FBQyxJQUFJLEVBQUVBLEVBQUVDLEdBQUcsQ0FBQyxFQUFFLEVBQUVELEVBQUVFLEtBQUssQ0FBQ0MsT0FBTyxFQUFFLEVBQUVQLElBQUksQ0FBQztJQUNuRSxPQUFPLElBQUlYLGlEQUFZQSxDQUFDLENBQUMsaUNBQWlDLEVBQUVhLFVBQVUsSUFBSSxFQUFFTCxHQUFHLEVBQUU7UUFDL0VMLFlBQVk7WUFDVkMsTUFBTTtZQUNOZSxPQUFPTCxPQUFPTCxHQUFHLENBQUNNLENBQUFBLElBQU07b0JBQUVLLFlBQVlMLEVBQUVFLEtBQUssQ0FBQ0ksS0FBSztvQkFBRUgsU0FBU0gsRUFBRUUsS0FBSyxDQUFDQyxPQUFPO2dCQUFDO1FBQ2hGO0lBQ0Y7QUFDRixFQUFDO0FBRU0sTUFBTUksZ0JBQWdCLENBQUNSO0lBQzVCLE1BQU1OLElBQUlNLE9BQU9MLEdBQUcsQ0FBQ00sQ0FBQUEsSUFBSyxDQUFDLElBQUksRUFBRUEsRUFBRUMsR0FBRyxDQUFDLEVBQUUsRUFBRUQsRUFBRUUsS0FBSyxDQUFDQyxPQUFPLEVBQUUsRUFBRVAsSUFBSSxDQUFDO0lBQ25FLE9BQU8sSUFBSVgsaURBQVlBLENBQUMsQ0FBQyxpREFBaUQsRUFBRVEsR0FBRyxFQUFFO1FBQy9FTCxZQUFZO1lBQ1ZDLE1BQU07WUFDTmUsT0FBT0wsT0FBT0wsR0FBRyxDQUFDTSxDQUFBQSxJQUFNO29CQUFFSyxZQUFZTCxFQUFFRSxLQUFLLENBQUNJLEtBQUs7b0JBQUVILFNBQVNILEVBQUVFLEtBQUssQ0FBQ0MsT0FBTztnQkFBQztRQUNoRjtJQUNGO0FBQ0YsRUFBQztBQUVNLE1BQU1LLG9CQUFvQixDQUFDVDtJQUNoQyxNQUFNTixJQUFJTSxPQUNQTCxHQUFHLENBQUNNLENBQUFBLElBQUssQ0FBQyxJQUFJLEVBQUVBLEVBQUVDLEdBQUcsQ0FBQyxFQUFFLEVBQUVELEVBQUVFLEtBQUssQ0FBQ0MsT0FBTyxFQUFFLEVBQzNDTSxJQUFJLEdBQ0piLElBQUksQ0FBQztJQUNSLE9BQU8sSUFBSVgsaURBQVlBLENBQUMsQ0FBQyx3REFBd0QsRUFBRVEsR0FBRyxFQUFFO1FBQ3RGTCxZQUFZO1lBQ1ZDLE1BQU07WUFDTmUsT0FBT0wsT0FBT0wsR0FBRyxDQUFDTSxDQUFBQSxJQUFNO29CQUFFSyxZQUFZTCxFQUFFRSxLQUFLLENBQUNJLEtBQUs7b0JBQUVILFNBQVNILEVBQUVFLEtBQUssQ0FBQ0MsT0FBTztnQkFBQztRQUNoRjtJQUNGO0FBQ0YsRUFBQztBQUVNLE1BQU1PLG9CQUFvQixDQUFDWDtJQUNoQyxNQUFNTixJQUFJTSxPQUFPTCxHQUFHLENBQUNNLENBQUFBLElBQUssQ0FBQyxJQUFJLEVBQUVBLEVBQUVDLEdBQUcsQ0FBQyxZQUFZLEVBQUVELEVBQUVXLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFZixJQUFJLENBQUM7SUFDNUYsT0FBTyxJQUFJWCxpREFBWUEsQ0FBQyxDQUFDLHVEQUF1RCxFQUFFUSxHQUFHLEVBQUU7UUFDckZMLFlBQVk7WUFDVkMsTUFBTTtRQUNSO0lBQ0Y7QUFDRixFQUFDO0FBRU0sTUFBTXVCLHNCQUFzQixDQUFDQyxJQUNsQyxJQUFJNUIsaURBQVlBLENBQUMsdUNBQXVDO1FBQ3RERyxZQUFZO1lBQ1ZDLE1BQU07UUFDUjtJQUNGLEdBQUU7QUFFRyxTQUFTeUIsV0FBV0MsSUFBYztJQUN2QyxJQUFJQSxLQUFLQyxNQUFNLEdBQUcsR0FBRyxPQUFPRCxLQUFLbkIsSUFBSSxDQUFDO0lBQ3RDLE9BQU9tQixLQUFLRSxLQUFLLENBQUMsR0FBRyxHQUFHckIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUVtQixLQUFLQyxNQUFNLEdBQUcsRUFBRSxVQUFVLENBQUM7QUFDMUU7QUFFTyxNQUFNRSxvQkFBb0IsQ0FBQyxFQUNoQ0MsU0FBUyxFQUNUQyxTQUFTLEVBSVYsR0FBSzlCLGtCQUFrQixDQUFDLFdBQVcsRUFBRTZCLFVBQVUsSUFBSSxFQUFFTCxXQUFXTSxZQUFZLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2NvcmUvc3JjL2xpYi9jb3JlL2dyYXBocWwtZXJyb3JzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdyYXBoUUxFcnJvciB9IGZyb20gJ2dyYXBocWwnXG5cbmV4cG9ydCBjb25zdCB1c2VySW5wdXRFcnJvciA9IChtc2c6IHN0cmluZykgPT5cbiAgbmV3IEdyYXBoUUxFcnJvcihgSW5wdXQgZXJyb3I6ICR7bXNnfWAsIHsgZXh0ZW5zaW9uczogeyBjb2RlOiAnS1NfVVNFUl9JTlBVVF9FUlJPUicgfSB9KVxuXG5leHBvcnQgY29uc3QgYWNjZXNzRGVuaWVkRXJyb3IgPSAobXNnOiBzdHJpbmcsIGNvZGUgPSAnS1NfQUNDRVNTX0RFTklFRCcpID0+XG4gIG5ldyBHcmFwaFFMRXJyb3IoYEFjY2VzcyBkZW5pZWQ6ICR7bXNnfWAsIHsgZXh0ZW5zaW9uczogeyBjb2RlIH0gfSlcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25GYWlsdXJlRXJyb3IgPSAobWVzc2FnZXM6IHN0cmluZ1tdKSA9PiB7XG4gIGNvbnN0IHMgPSBtZXNzYWdlcy5tYXAobSA9PiBgICAtICR7bX1gKS5qb2luKCdcXG4nKVxuICByZXR1cm4gbmV3IEdyYXBoUUxFcnJvcihgWW91IHByb3ZpZGVkIGludmFsaWQgZGF0YSBmb3IgdGhpcyBvcGVyYXRpb24uXFxuJHtzfWAsIHtcbiAgICBleHRlbnNpb25zOiB7IGNvZGU6ICdLU19WQUxJREFUSU9OX0ZBSUxVUkUnIH0sXG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCBleHRlbnNpb25FcnJvciA9IChleHRlbnNpb246IHN0cmluZywgdGhpbmdzOiB7IGVycm9yOiBFcnJvcjsgdGFnOiBzdHJpbmcgfVtdKSA9PiB7XG4gIGNvbnN0IHMgPSB0aGluZ3MubWFwKHQgPT4gYCAgLSAke3QudGFnfTogJHt0LmVycm9yLm1lc3NhZ2V9YCkuam9pbignXFxuJylcbiAgcmV0dXJuIG5ldyBHcmFwaFFMRXJyb3IoYEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHJ1bm5pbmcgXCIke2V4dGVuc2lvbn1cIi5cXG4ke3N9YCwge1xuICAgIGV4dGVuc2lvbnM6IHtcbiAgICAgIGNvZGU6ICdLU19FWFRFTlNJT05fRVJST1InLFxuICAgICAgZGVidWc6IHRoaW5ncy5tYXAodCA9PiAoeyBzdGFja3RyYWNlOiB0LmVycm9yLnN0YWNrLCBtZXNzYWdlOiB0LmVycm9yLm1lc3NhZ2UgfSkpLFxuICAgIH0sXG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCByZXNvbHZlckVycm9yID0gKHRoaW5nczogeyBlcnJvcjogRXJyb3I7IHRhZzogc3RyaW5nIH1bXSkgPT4ge1xuICBjb25zdCBzID0gdGhpbmdzLm1hcCh0ID0+IGAgIC0gJHt0LnRhZ306ICR7dC5lcnJvci5tZXNzYWdlfWApLmpvaW4oJ1xcbicpXG4gIHJldHVybiBuZXcgR3JhcGhRTEVycm9yKGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSByZXNvbHZpbmcgaW5wdXQgZmllbGRzLlxcbiR7c31gLCB7XG4gICAgZXh0ZW5zaW9uczoge1xuICAgICAgY29kZTogJ0tTX1JFU09MVkVSX0VSUk9SJyxcbiAgICAgIGRlYnVnOiB0aGluZ3MubWFwKHQgPT4gKHsgc3RhY2t0cmFjZTogdC5lcnJvci5zdGFjaywgbWVzc2FnZTogdC5lcnJvci5tZXNzYWdlIH0pKSxcbiAgICB9LFxuICB9KVxufVxuXG5leHBvcnQgY29uc3QgcmVsYXRpb25zaGlwRXJyb3IgPSAodGhpbmdzOiB7IGVycm9yOiBFcnJvcjsgdGFnOiBzdHJpbmcgfVtdKSA9PiB7XG4gIGNvbnN0IHMgPSB0aGluZ3NcbiAgICAubWFwKHQgPT4gYCAgLSAke3QudGFnfTogJHt0LmVycm9yLm1lc3NhZ2V9YClcbiAgICAuc29ydCgpXG4gICAgLmpvaW4oJ1xcbicpXG4gIHJldHVybiBuZXcgR3JhcGhRTEVycm9yKGBBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSByZXNvbHZpbmcgcmVsYXRpb25zaGlwIGZpZWxkcy5cXG4ke3N9YCwge1xuICAgIGV4dGVuc2lvbnM6IHtcbiAgICAgIGNvZGU6ICdLU19SRUxBVElPTlNISVBfRVJST1InLFxuICAgICAgZGVidWc6IHRoaW5ncy5tYXAodCA9PiAoeyBzdGFja3RyYWNlOiB0LmVycm9yLnN0YWNrLCBtZXNzYWdlOiB0LmVycm9yLm1lc3NhZ2UgfSkpLFxuICAgIH0sXG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCBhY2Nlc3NSZXR1cm5FcnJvciA9ICh0aGluZ3M6IHsgdGFnOiBzdHJpbmc7IHJldHVybmVkOiBzdHJpbmcgfVtdKSA9PiB7XG4gIGNvbnN0IHMgPSB0aGluZ3MubWFwKHQgPT4gYCAgLSAke3QudGFnfTogUmV0dXJuZWQ6ICR7dC5yZXR1cm5lZH0uIEV4cGVjdGVkOiBib29sZWFuLmApLmpvaW4oJ1xcbicpXG4gIHJldHVybiBuZXcgR3JhcGhRTEVycm9yKGBJbnZhbGlkIHZhbHVlcyByZXR1cm5lZCBmcm9tIGFjY2VzcyBjb250cm9sIGZ1bmN0aW9uLlxcbiR7c31gLCB7XG4gICAgZXh0ZW5zaW9uczoge1xuICAgICAgY29kZTogJ0tTX0FDQ0VTU19SRVRVUk5fRVJST1InLFxuICAgIH0sXG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCBsaW1pdHNFeGNlZWRlZEVycm9yID0gKF86IHsgdHlwZTogc3RyaW5nOyBsaW1pdDogbnVtYmVyOyBsaXN0OiBzdHJpbmcgfSkgPT5cbiAgbmV3IEdyYXBoUUxFcnJvcignWW91ciByZXF1ZXN0IGV4Y2VlZGVkIHNlcnZlciBsaW1pdHMnLCB7XG4gICAgZXh0ZW5zaW9uczoge1xuICAgICAgY29kZTogJ0tTX0xJTUlUU19FWENFRURFRCcsXG4gICAgfSxcbiAgfSlcblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEtleXMoa2V5czogc3RyaW5nW10pIHtcbiAgaWYgKGtleXMubGVuZ3RoIDwgNCkgcmV0dXJuIGtleXMuam9pbignLCAnKVxuICByZXR1cm4ga2V5cy5zbGljZSgwLCAzKS5qb2luKCcsICcpICsgYCBhbmQgJHtrZXlzLmxlbmd0aCAtIDN9IG90aGVycy4uLmBcbn1cblxuZXhwb3J0IGNvbnN0IGZpbHRlckFjY2Vzc0Vycm9yID0gKHtcbiAgb3BlcmF0aW9uLFxuICBmaWVsZEtleXMsXG59OiB7XG4gIG9wZXJhdGlvbjogJ2ZpbHRlcicgfCAnb3JkZXJCeSdcbiAgZmllbGRLZXlzOiBzdHJpbmdbXVxufSkgPT4gYWNjZXNzRGVuaWVkRXJyb3IoYFlvdSBjYW5ub3QgJHtvcGVyYXRpb259IGJ5ICR7Zm9ybWF0S2V5cyhmaWVsZEtleXMpfWAsIGBLU19GSUxURVJfREVOSUVEYClcbiJdLCJuYW1lcyI6WyJHcmFwaFFMRXJyb3IiLCJ1c2VySW5wdXRFcnJvciIsIm1zZyIsImV4dGVuc2lvbnMiLCJjb2RlIiwiYWNjZXNzRGVuaWVkRXJyb3IiLCJ2YWxpZGF0aW9uRmFpbHVyZUVycm9yIiwibWVzc2FnZXMiLCJzIiwibWFwIiwibSIsImpvaW4iLCJleHRlbnNpb25FcnJvciIsImV4dGVuc2lvbiIsInRoaW5ncyIsInQiLCJ0YWciLCJlcnJvciIsIm1lc3NhZ2UiLCJkZWJ1ZyIsInN0YWNrdHJhY2UiLCJzdGFjayIsInJlc29sdmVyRXJyb3IiLCJyZWxhdGlvbnNoaXBFcnJvciIsInNvcnQiLCJhY2Nlc3NSZXR1cm5FcnJvciIsInJldHVybmVkIiwibGltaXRzRXhjZWVkZWRFcnJvciIsIl8iLCJmb3JtYXRLZXlzIiwia2V5cyIsImxlbmd0aCIsInNsaWNlIiwiZmlsdGVyQWNjZXNzRXJyb3IiLCJvcGVyYXRpb24iLCJmaWVsZEtleXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/lib/core/graphql-errors.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/lib/core/utils.ts":
/*!*******************************************************!*\
  !*** ../../../../packages/core/src/lib/core/utils.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   areArraysEqual: () => (/* binding */ areArraysEqual),\n/* harmony export */   entriesTyped: () => (/* binding */ entriesTyped),\n/* harmony export */   getDBFieldKeyForFieldOnMultiField: () => (/* binding */ getDBFieldKeyForFieldOnMultiField),\n/* harmony export */   isFulfilled: () => (/* binding */ isFulfilled),\n/* harmony export */   isRejected: () => (/* binding */ isRejected),\n/* harmony export */   promiseAllRejectWithAllErrors: () => (/* binding */ promiseAllRejectWithAllErrors),\n/* harmony export */   weakMemoize: () => (/* binding */ weakMemoize)\n/* harmony export */ });\n// this is wrong\n// all the things should be generic over the id type\n// i don't want to deal with that right now though\n// these aren't here out of thinking this is better syntax(i do not think it is),\n// it's just because TS won't infer the arg is X bit\nconst isFulfilled = (arg)=>arg.status === 'fulfilled';\nconst isRejected = (arg)=>arg.status === 'rejected';\nasync function promiseAllRejectWithAllErrors(promises) {\n    const results = await Promise.allSettled(promises);\n    if (!results.every(isFulfilled)) {\n        const errors = results.filter(isRejected).map((x)=>x.reason);\n        // AggregateError would be ideal here but it's not in Node 12 or 14\n        // (also all of our error stuff is just meh. this whole thing is just to align with previous behaviour)\n        const error = new Error(errors[0].message || errors[0].toString());\n        error.errors = errors;\n        throw error;\n    }\n    return results.map((x)=>x.value);\n}\nfunction getDBFieldKeyForFieldOnMultiField(fieldKey, subField) {\n    return `${fieldKey}_${subField}`;\n}\nfunction areArraysEqual(a, b) {\n    return a.length === b.length && a.every((x, i)=>x === b[i]);\n}\nfunction weakMemoize(cb) {\n    const cache = new WeakMap();\n    return (arg)=>{\n        if (!cache.has(arg)) {\n            const result = cb(arg);\n            cache.set(arg, result);\n        }\n        return cache.get(arg);\n    };\n}\nfunction entriesTyped(obj) {\n    return Object.entries(obj);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvbGliL2NvcmUvdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLGdCQUFnQjtBQUNoQixvREFBb0Q7QUFDcEQsa0RBQWtEO0FBS2xELGlGQUFpRjtBQUNqRixvREFBb0Q7QUFDN0MsTUFBTUEsY0FBYyxDQUFJQyxNQUM3QkEsSUFBSUMsTUFBTSxLQUFLLFlBQVc7QUFDckIsTUFBTUMsYUFBYSxDQUFDRixNQUN6QkEsSUFBSUMsTUFBTSxLQUFLLFdBQVU7QUFFcEIsZUFBZUUsOEJBQ3BCQyxRQUF5QjtJQUV6QixNQUFNQyxVQUFVLE1BQU1DLFFBQVFDLFVBQVUsQ0FBQ0g7SUFDekMsSUFBSSxDQUFDQyxRQUFRRyxLQUFLLENBQUNULGNBQWM7UUFDL0IsTUFBTVUsU0FBU0osUUFBUUssTUFBTSxDQUFDUixZQUFZUyxHQUFHLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLE1BQU07UUFDM0QsbUVBQW1FO1FBQ25FLHVHQUF1RztRQUN2RyxNQUFNQyxRQUFRLElBQUlDLE1BQU1OLE1BQU0sQ0FBQyxFQUFFLENBQUNPLE9BQU8sSUFBSVAsTUFBTSxDQUFDLEVBQUUsQ0FBQ1EsUUFBUTtRQUM3REgsTUFBY0wsTUFBTSxHQUFHQTtRQUN6QixNQUFNSztJQUNSO0lBRUEsT0FBT1QsUUFBUU0sR0FBRyxDQUFDLENBQUNDLElBQVdBLEVBQUVNLEtBQUs7QUFDeEM7QUFFTyxTQUFTQyxrQ0FBa0NDLFFBQWdCLEVBQUVDLFFBQWdCO0lBQ2xGLE9BQU8sR0FBR0QsU0FBUyxDQUFDLEVBQUVDLFVBQVU7QUFDbEM7QUFFTyxTQUFTQyxlQUFlQyxDQUFxQixFQUFFQyxDQUFxQjtJQUN6RSxPQUFPRCxFQUFFRSxNQUFNLEtBQUtELEVBQUVDLE1BQU0sSUFBSUYsRUFBRWYsS0FBSyxDQUFDLENBQUNJLEdBQUdjLElBQU1kLE1BQU1ZLENBQUMsQ0FBQ0UsRUFBRTtBQUM5RDtBQUVPLFNBQVNDLFlBQXdDQyxFQUF3QjtJQUM5RSxNQUFNQyxRQUFRLElBQUlDO0lBQ2xCLE9BQU8sQ0FBQzlCO1FBQ04sSUFBSSxDQUFDNkIsTUFBTUUsR0FBRyxDQUFDL0IsTUFBTTtZQUNuQixNQUFNZ0MsU0FBU0osR0FBRzVCO1lBQ2xCNkIsTUFBTUksR0FBRyxDQUFDakMsS0FBS2dDO1FBQ2pCO1FBQ0EsT0FBT0gsTUFBTUssR0FBRyxDQUFDbEM7SUFDbkI7QUFDRjtBQUVPLFNBQVNtQyxhQUNkQyxHQUFNO0lBSU4sT0FBT0MsT0FBT0MsT0FBTyxDQUFDRjtBQUN4QiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy9saWIvY29yZS91dGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0aGlzIGlzIHdyb25nXG4vLyBhbGwgdGhlIHRoaW5ncyBzaG91bGQgYmUgZ2VuZXJpYyBvdmVyIHRoZSBpZCB0eXBlXG4vLyBpIGRvbid0IHdhbnQgdG8gZGVhbCB3aXRoIHRoYXQgcmlnaHQgbm93IHRob3VnaFxuZGVjbGFyZSBjb25zdCBpZFR5cGVTeW1ib2w6IHVuaXF1ZSBzeW1ib2xcblxuZXhwb3J0IHR5cGUgSWRUeXBlID0geyBfX19rZXlzdG9uZUlkVHlwZTogdHlwZW9mIGlkVHlwZVN5bWJvbDsgdG9TdHJpbmcoKTogc3RyaW5nIH1cblxuLy8gdGhlc2UgYXJlbid0IGhlcmUgb3V0IG9mIHRoaW5raW5nIHRoaXMgaXMgYmV0dGVyIHN5bnRheChpIGRvIG5vdCB0aGluayBpdCBpcyksXG4vLyBpdCdzIGp1c3QgYmVjYXVzZSBUUyB3b24ndCBpbmZlciB0aGUgYXJnIGlzIFggYml0XG5leHBvcnQgY29uc3QgaXNGdWxmaWxsZWQgPSA8VD4oYXJnOiBQcm9taXNlU2V0dGxlZFJlc3VsdDxUPik6IGFyZyBpcyBQcm9taXNlRnVsZmlsbGVkUmVzdWx0PFQ+ID0+XG4gIGFyZy5zdGF0dXMgPT09ICdmdWxmaWxsZWQnXG5leHBvcnQgY29uc3QgaXNSZWplY3RlZCA9IChhcmc6IFByb21pc2VTZXR0bGVkUmVzdWx0PGFueT4pOiBhcmcgaXMgUHJvbWlzZVJlamVjdGVkUmVzdWx0ID0+XG4gIGFyZy5zdGF0dXMgPT09ICdyZWplY3RlZCdcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb21pc2VBbGxSZWplY3RXaXRoQWxsRXJyb3JzPFQgZXh0ZW5kcyB1bmtub3duW10+KFxuICBwcm9taXNlczogcmVhZG9ubHkgWy4uLlRdXG4pOiBQcm9taXNlPHsgW1AgaW4ga2V5b2YgVF06IEF3YWl0ZWQ8VFtQXT4gfT4ge1xuICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHByb21pc2VzKVxuICBpZiAoIXJlc3VsdHMuZXZlcnkoaXNGdWxmaWxsZWQpKSB7XG4gICAgY29uc3QgZXJyb3JzID0gcmVzdWx0cy5maWx0ZXIoaXNSZWplY3RlZCkubWFwKHggPT4geC5yZWFzb24pXG4gICAgLy8gQWdncmVnYXRlRXJyb3Igd291bGQgYmUgaWRlYWwgaGVyZSBidXQgaXQncyBub3QgaW4gTm9kZSAxMiBvciAxNFxuICAgIC8vIChhbHNvIGFsbCBvZiBvdXIgZXJyb3Igc3R1ZmYgaXMganVzdCBtZWguIHRoaXMgd2hvbGUgdGhpbmcgaXMganVzdCB0byBhbGlnbiB3aXRoIHByZXZpb3VzIGJlaGF2aW91cilcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihlcnJvcnNbMF0ubWVzc2FnZSB8fCBlcnJvcnNbMF0udG9TdHJpbmcoKSlcbiAgICA7KGVycm9yIGFzIGFueSkuZXJyb3JzID0gZXJyb3JzXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxuXG4gIHJldHVybiByZXN1bHRzLm1hcCgoeDogYW55KSA9PiB4LnZhbHVlKSBhcyBhbnlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERCRmllbGRLZXlGb3JGaWVsZE9uTXVsdGlGaWVsZChmaWVsZEtleTogc3RyaW5nLCBzdWJGaWVsZDogc3RyaW5nKSB7XG4gIHJldHVybiBgJHtmaWVsZEtleX1fJHtzdWJGaWVsZH1gXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhOiByZWFkb25seSB1bmtub3duW10sIGI6IHJlYWRvbmx5IHVua25vd25bXSkge1xuICByZXR1cm4gYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoKHgsIGkpID0+IHggPT09IGJbaV0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3ZWFrTWVtb2l6ZTxBcmcgZXh0ZW5kcyBvYmplY3QsIFJldHVybj4oY2I6IChhcmc6IEFyZykgPT4gUmV0dXJuKSB7XG4gIGNvbnN0IGNhY2hlID0gbmV3IFdlYWtNYXA8QXJnLCBSZXR1cm4+KClcbiAgcmV0dXJuIChhcmc6IEFyZykgPT4ge1xuICAgIGlmICghY2FjaGUuaGFzKGFyZykpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNiKGFyZylcbiAgICAgIGNhY2hlLnNldChhcmcsIHJlc3VsdClcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlLmdldChhcmcpIVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnRyaWVzVHlwZWQ8VCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+PihcbiAgb2JqOiBUXG4pOiB7XG4gIFtLIGluIGtleW9mIFRdOiBbSywgVFtLXV1cbn1ba2V5b2YgVF1bXSB7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhvYmopIGFzIGFueVxufVxuIl0sIm5hbWVzIjpbImlzRnVsZmlsbGVkIiwiYXJnIiwic3RhdHVzIiwiaXNSZWplY3RlZCIsInByb21pc2VBbGxSZWplY3RXaXRoQWxsRXJyb3JzIiwicHJvbWlzZXMiLCJyZXN1bHRzIiwiUHJvbWlzZSIsImFsbFNldHRsZWQiLCJldmVyeSIsImVycm9ycyIsImZpbHRlciIsIm1hcCIsIngiLCJyZWFzb24iLCJlcnJvciIsIkVycm9yIiwibWVzc2FnZSIsInRvU3RyaW5nIiwidmFsdWUiLCJnZXREQkZpZWxkS2V5Rm9yRmllbGRPbk11bHRpRmllbGQiLCJmaWVsZEtleSIsInN1YkZpZWxkIiwiYXJlQXJyYXlzRXF1YWwiLCJhIiwiYiIsImxlbmd0aCIsImkiLCJ3ZWFrTWVtb2l6ZSIsImNiIiwiY2FjaGUiLCJXZWFrTWFwIiwiaGFzIiwicmVzdWx0Iiwic2V0IiwiZ2V0IiwiZW50cmllc1R5cGVkIiwib2JqIiwiT2JqZWN0IiwiZW50cmllcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/lib/core/utils.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/lib/id-field.ts":
/*!*****************************************************!*\
  !*** ../../../../packages/core/src/lib/id-field.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   idFieldType: () => (/* binding */ idFieldType)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ \"../../../../packages/core/src/types/index.ts\");\n/* harmony import */ var _types_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types/schema */ \"../../../../packages/core/src/types/schema/index.ts\");\n/* harmony import */ var _core_graphql_errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/graphql-errors */ \"../../../../packages/core/src/lib/core/graphql-errors.ts\");\n\n\n\nfunction isInt(x) {\n    if (x === null) return;\n    if (x === '') return;\n    const nom = typeof x === 'string' ? Number(x) : x;\n    if (Number.isInteger(nom)) return nom;\n}\nfunction isBigInt(x) {\n    if (x === null) return;\n    if (x === '') return;\n    try {\n        return BigInt(x);\n    } catch  {}\n}\nfunction isString(x) {\n    if (typeof x !== 'string') return;\n    if (x === '') return;\n    return x;\n}\n// TODO: this should be on the user, remove in breaking change?\nfunction isUuid(x) {\n    if (typeof x !== 'string') return;\n    if (x === '') return;\n    return x.toLowerCase();\n}\nconst nonCircularFields = {\n    equals: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.arg({\n        type: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.ID\n    }),\n    in: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.arg({\n        type: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.list(_types_schema__WEBPACK_IMPORTED_MODULE_1__.g.nonNull(_types_schema__WEBPACK_IMPORTED_MODULE_1__.g.ID))\n    }),\n    notIn: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.arg({\n        type: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.list(_types_schema__WEBPACK_IMPORTED_MODULE_1__.g.nonNull(_types_schema__WEBPACK_IMPORTED_MODULE_1__.g.ID))\n    }),\n    lt: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.arg({\n        type: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.ID\n    }),\n    lte: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.arg({\n        type: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.ID\n    }),\n    gt: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.arg({\n        type: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.ID\n    }),\n    gte: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.arg({\n        type: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.ID\n    })\n};\nconst IDFilter = _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.inputObject({\n    name: 'IDFilter',\n    fields: ()=>({\n            ...nonCircularFields,\n            not: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.arg({\n                type: IDFilter\n            })\n        })\n});\nconst filterArg = _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.arg({\n    type: IDFilter\n});\nfunction resolveInput(input, parseId) {\n    const where = {};\n    if (input === null) return where;\n    for (const key of [\n        'equals',\n        'gt',\n        'gte',\n        'lt',\n        'lte'\n    ]){\n        const value = input[key];\n        if (value === undefined) continue;\n        where[key] = parseId(value);\n    }\n    for (const key of [\n        'in',\n        'notIn'\n    ]){\n        const value = input[key];\n        if (!Array.isArray(value)) continue;\n        where[key] = value.map((x)=>parseId(x));\n    }\n    if (input.not !== undefined) {\n        where.not = resolveInput(input.not, parseId);\n    }\n    return where;\n}\nconst NATIVE_TYPES = {\n    postgresql: {\n        uuid: 'Uuid'\n    }\n};\nfunction unpack(i) {\n    if (i.kind === 'random') {\n        const { kind, bytes, encoding } = i;\n        if (typeof bytes === 'number') {\n            if (bytes !== bytes >>> 0) {\n                throw new TypeError(`Expected positive integer for random bytes, not ${bytes}`);\n            }\n        }\n        return {\n            scalar: 'String',\n            // our defaults are 32 bytes, as base64url\n            //   256 / Math.log2(64) ~ 43 characters\n            //\n            // for case-insensitive databases that is\n            //   225 bits ~ Math.log2((26 + 10 + 2) ** 43)\n            default: {\n                kind,\n                bytes: bytes ?? 32,\n                encoding: encoding ?? 'base64url'\n            }\n        };\n    }\n    const { kind, type } = i;\n    if (kind === 'cuid') return {\n        scalar: 'String',\n        default: {\n            kind,\n            version: i.version\n        }\n    };\n    if (kind === 'uuid') return {\n        scalar: 'String',\n        default: {\n            kind,\n            version: i.version\n        }\n    };\n    if (kind === 'nanoid') return {\n        scalar: 'String',\n        default: {\n            kind,\n            length: i.length\n        }\n    };\n    if (kind === 'ulid') return {\n        scalar: 'String',\n        default: {\n            kind\n        }\n    };\n    if (kind === 'string') return {\n        scalar: 'String',\n        default: undefined\n    };\n    if (kind === 'number') return {\n        scalar: type ?? 'Int',\n        default: undefined\n    };\n    if (kind === 'autoincrement') return {\n        scalar: type ?? 'Int',\n        default: {\n            kind\n        }\n    };\n    throw new Error(`Unknown id type ${kind}`);\n}\nfunction idFieldType(config) {\n    const kind = config.kind;\n    const dbFieldOptions = unpack(config);\n    const parseTypeFn = {\n        Int: isInt,\n        BigInt: isBigInt,\n        String: isString,\n        UUID: isUuid\n    }[kind === 'uuid' ? 'UUID' : dbFieldOptions.scalar];\n    function parse(value) {\n        const result = parseTypeFn(value);\n        if (result === undefined) {\n            throw (0,_core_graphql_errors__WEBPACK_IMPORTED_MODULE_2__.userInputError)(`Only a ${dbFieldOptions.scalar.toLowerCase()} can be passed to id filters`);\n        }\n        return result;\n    }\n    return (meta)=>{\n        if (meta.provider === 'sqlite' && kind === 'autoincrement' && dbFieldOptions.scalar === 'BigInt') {\n            throw new Error(`{ kind: ${kind}, type: ${dbFieldOptions.scalar} } is not supported by SQLite`);\n        }\n        return (0,_types__WEBPACK_IMPORTED_MODULE_0__.fieldType)({\n            ...dbFieldOptions,\n            kind: 'scalar',\n            mode: 'required',\n            nativeType: NATIVE_TYPES[meta.provider]?.[kind]\n        })({\n            ...config,\n            // the ID field is always filterable and orderable\n            isFilterable: true,\n            isOrderable: true,\n            input: {\n                where: {\n                    arg: filterArg,\n                    resolve (val) {\n                        return resolveInput(val, parse);\n                    }\n                },\n                uniqueWhere: {\n                    arg: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.arg({\n                        type: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.ID\n                    }),\n                    resolve: parse\n                },\n                orderBy: {\n                    arg: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.arg({\n                        type: _types__WEBPACK_IMPORTED_MODULE_0__.orderDirectionEnum\n                    })\n                }\n            },\n            output: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.field({\n                type: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.nonNull(_types_schema__WEBPACK_IMPORTED_MODULE_1__.g.ID),\n                resolve ({ value }) {\n                    return value.toString();\n                }\n            }),\n            views: '@keystone-6/core/___internal-do-not-use-will-break-in-patch/admin-ui/id-field-view',\n            getAdminMeta: ()=>({\n                    kind,\n                    type: dbFieldOptions.scalar\n                }),\n            ui: {\n                createView: {\n                    fieldMode: 'hidden'\n                },\n                itemView: {\n                    fieldPosition: 'sidebar'\n                }\n            }\n        });\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvbGliL2lkLWZpZWxkLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFTaUI7QUFDa0I7QUFDbUI7QUFJdEQsU0FBU0ksTUFBTUMsQ0FBUztJQUN0QixJQUFJQSxNQUFNLE1BQU07SUFDaEIsSUFBSUEsTUFBTSxJQUFJO0lBQ2QsTUFBTUMsTUFBTSxPQUFPRCxNQUFNLFdBQVdFLE9BQU9GLEtBQUtBO0lBQ2hELElBQUlFLE9BQU9DLFNBQVMsQ0FBQ0YsTUFBTSxPQUFPQTtBQUNwQztBQUVBLFNBQVNHLFNBQVNKLENBQVM7SUFDekIsSUFBSUEsTUFBTSxNQUFNO0lBQ2hCLElBQUlBLE1BQU0sSUFBSTtJQUNkLElBQUk7UUFDRixPQUFPSyxPQUFPTDtJQUNoQixFQUFFLE9BQU0sQ0FBQztBQUNYO0FBRUEsU0FBU00sU0FBU04sQ0FBUztJQUN6QixJQUFJLE9BQU9BLE1BQU0sVUFBVTtJQUMzQixJQUFJQSxNQUFNLElBQUk7SUFDZCxPQUFPQTtBQUNUO0FBRUEsK0RBQStEO0FBQy9ELFNBQVNPLE9BQU9QLENBQVM7SUFDdkIsSUFBSSxPQUFPQSxNQUFNLFVBQVU7SUFDM0IsSUFBSUEsTUFBTSxJQUFJO0lBQ2QsT0FBT0EsRUFBRVEsV0FBVztBQUN0QjtBQUVBLE1BQU1DLG9CQUFvQjtJQUN4QkMsUUFBUWIsNENBQUNBLENBQUNjLEdBQUcsQ0FBQztRQUFFQyxNQUFNZiw0Q0FBQ0EsQ0FBQ2dCLEVBQUU7SUFBQztJQUMzQkMsSUFBSWpCLDRDQUFDQSxDQUFDYyxHQUFHLENBQUM7UUFBRUMsTUFBTWYsNENBQUNBLENBQUNrQixJQUFJLENBQUNsQiw0Q0FBQ0EsQ0FBQ21CLE9BQU8sQ0FBQ25CLDRDQUFDQSxDQUFDZ0IsRUFBRTtJQUFHO0lBQzFDSSxPQUFPcEIsNENBQUNBLENBQUNjLEdBQUcsQ0FBQztRQUFFQyxNQUFNZiw0Q0FBQ0EsQ0FBQ2tCLElBQUksQ0FBQ2xCLDRDQUFDQSxDQUFDbUIsT0FBTyxDQUFDbkIsNENBQUNBLENBQUNnQixFQUFFO0lBQUc7SUFDN0NLLElBQUlyQiw0Q0FBQ0EsQ0FBQ2MsR0FBRyxDQUFDO1FBQUVDLE1BQU1mLDRDQUFDQSxDQUFDZ0IsRUFBRTtJQUFDO0lBQ3ZCTSxLQUFLdEIsNENBQUNBLENBQUNjLEdBQUcsQ0FBQztRQUFFQyxNQUFNZiw0Q0FBQ0EsQ0FBQ2dCLEVBQUU7SUFBQztJQUN4Qk8sSUFBSXZCLDRDQUFDQSxDQUFDYyxHQUFHLENBQUM7UUFBRUMsTUFBTWYsNENBQUNBLENBQUNnQixFQUFFO0lBQUM7SUFDdkJRLEtBQUt4Qiw0Q0FBQ0EsQ0FBQ2MsR0FBRyxDQUFDO1FBQUVDLE1BQU1mLDRDQUFDQSxDQUFDZ0IsRUFBRTtJQUFDO0FBQzFCO0FBUUEsTUFBTVMsV0FBeUJ6Qiw0Q0FBQ0EsQ0FBQzBCLFdBQVcsQ0FBQztJQUMzQ0MsTUFBTTtJQUNOQyxRQUFRLElBQU87WUFDYixHQUFHaEIsaUJBQWlCO1lBQ3BCaUIsS0FBSzdCLDRDQUFDQSxDQUFDYyxHQUFHLENBQUM7Z0JBQUVDLE1BQU1VO1lBQVM7UUFDOUI7QUFDRjtBQUVBLE1BQU1LLFlBQVk5Qiw0Q0FBQ0EsQ0FBQ2MsR0FBRyxDQUFDO0lBQUVDLE1BQU1VO0FBQVM7QUFFekMsU0FBU00sYUFDUEMsS0FBOEQsRUFDOURDLE9BQStCO0lBRS9CLE1BQU1DLFFBQWEsQ0FBQztJQUNwQixJQUFJRixVQUFVLE1BQU0sT0FBT0U7SUFFM0IsS0FBSyxNQUFNQyxPQUFPO1FBQUM7UUFBVTtRQUFNO1FBQU87UUFBTTtLQUFNLENBQVc7UUFDL0QsTUFBTUMsUUFBUUosS0FBSyxDQUFDRyxJQUFJO1FBQ3hCLElBQUlDLFVBQVVDLFdBQVc7UUFDekJILEtBQUssQ0FBQ0MsSUFBSSxHQUFHRixRQUFRRztJQUN2QjtJQUVBLEtBQUssTUFBTUQsT0FBTztRQUFDO1FBQU07S0FBUSxDQUFXO1FBQzFDLE1BQU1DLFFBQVFKLEtBQUssQ0FBQ0csSUFBSTtRQUN4QixJQUFJLENBQUNHLE1BQU1DLE9BQU8sQ0FBQ0gsUUFBUTtRQUUzQkYsS0FBSyxDQUFDQyxJQUFJLEdBQUdDLE1BQU1JLEdBQUcsQ0FBQ3JDLENBQUFBLElBQUs4QixRQUFROUI7SUFDdEM7SUFFQSxJQUFJNkIsTUFBTUgsR0FBRyxLQUFLUSxXQUFXO1FBQzNCSCxNQUFNTCxHQUFHLEdBQUdFLGFBQWFDLE1BQU1ILEdBQUcsRUFBRUk7SUFDdEM7SUFFQSxPQUFPQztBQUNUO0FBRUEsTUFBTU8sZUFJRjtJQUNGQyxZQUFZO1FBQ1ZDLE1BQU07SUFDUjtBQUNGO0FBRUEsU0FBU0MsT0FDUEMsQ0FBZ0I7SUFFaEIsSUFBSUEsRUFBRUMsSUFBSSxLQUFLLFVBQVU7UUFDdkIsTUFBTSxFQUFFQSxJQUFJLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFLEdBQUdIO1FBQ2xDLElBQUksT0FBT0UsVUFBVSxVQUFVO1lBQzdCLElBQUlBLFVBQVVBLFVBQVUsR0FBRztnQkFDekIsTUFBTSxJQUFJRSxVQUFVLENBQUMsZ0RBQWdELEVBQUVGLE9BQU87WUFDaEY7UUFDRjtRQUVBLE9BQU87WUFDTEcsUUFBUTtZQUNSLDBDQUEwQztZQUMxQyx3Q0FBd0M7WUFDeEMsRUFBRTtZQUNGLHlDQUF5QztZQUN6Qyw4Q0FBOEM7WUFDOUNDLFNBQVM7Z0JBQ1BMO2dCQUNBQyxPQUFPQSxTQUFTO2dCQUNoQkMsVUFBVUEsWUFBWTtZQUN4QjtRQUNGO0lBQ0Y7SUFDQSxNQUFNLEVBQUVGLElBQUksRUFBRS9CLElBQUksRUFBRSxHQUFHOEI7SUFDdkIsSUFBSUMsU0FBUyxRQUFRLE9BQU87UUFBRUksUUFBUTtRQUFVQyxTQUFTO1lBQUVMO1lBQU1NLFNBQVNQLEVBQUVPLE9BQU87UUFBQztJQUFFO0lBQ3RGLElBQUlOLFNBQVMsUUFBUSxPQUFPO1FBQUVJLFFBQVE7UUFBVUMsU0FBUztZQUFFTDtZQUFNTSxTQUFTUCxFQUFFTyxPQUFPO1FBQUM7SUFBRTtJQUN0RixJQUFJTixTQUFTLFVBQVUsT0FBTztRQUFFSSxRQUFRO1FBQVVDLFNBQVM7WUFBRUw7WUFBTU8sUUFBUVIsRUFBRVEsTUFBTTtRQUFDO0lBQUU7SUFDdEYsSUFBSVAsU0FBUyxRQUFRLE9BQU87UUFBRUksUUFBUTtRQUFVQyxTQUFTO1lBQUVMO1FBQUs7SUFBRTtJQUNsRSxJQUFJQSxTQUFTLFVBQVUsT0FBTztRQUFFSSxRQUFRO1FBQVVDLFNBQVNkO0lBQVU7SUFDckUsSUFBSVMsU0FBUyxVQUFVLE9BQU87UUFBRUksUUFBUW5DLFFBQVE7UUFBT29DLFNBQVNkO0lBQVU7SUFDMUUsSUFBSVMsU0FBUyxpQkFBaUIsT0FBTztRQUFFSSxRQUFRbkMsUUFBUTtRQUFPb0MsU0FBUztZQUFFTDtRQUFLO0lBQUU7SUFDaEYsTUFBTSxJQUFJUSxNQUFNLENBQUMsZ0JBQWdCLEVBQUVSLE1BQU07QUFDM0M7QUFFTyxTQUFTUyxZQUFZQyxNQUFxQjtJQUMvQyxNQUFNVixPQUFPVSxPQUFPVixJQUFJO0lBQ3hCLE1BQU1XLGlCQUFpQmIsT0FBT1k7SUFDOUIsTUFBTUUsY0FBYztRQUNsQkMsS0FBS3pEO1FBQ0xNLFFBQVFEO1FBQ1JxRCxRQUFRbkQ7UUFDUm9ELE1BQU1uRDtJQUNSLENBQUMsQ0FBQ29DLFNBQVMsU0FBUyxTQUFTVyxlQUFlUCxNQUFNLENBQUM7SUFFbkQsU0FBU1ksTUFBTTFCLEtBQWE7UUFDMUIsTUFBTTJCLFNBQVNMLFlBQVl0QjtRQUMzQixJQUFJMkIsV0FBVzFCLFdBQVc7WUFDeEIsTUFBTXBDLG9FQUFjQSxDQUNsQixDQUFDLE9BQU8sRUFBRXdELGVBQWVQLE1BQU0sQ0FBQ3ZDLFdBQVcsR0FBRyw0QkFBNEIsQ0FBQztRQUUvRTtRQUNBLE9BQU9vRDtJQUNUO0lBRUEsT0FBT0MsQ0FBQUE7UUFDTCxJQUNFQSxLQUFLQyxRQUFRLEtBQUssWUFDbEJuQixTQUFTLG1CQUNUVyxlQUFlUCxNQUFNLEtBQUssVUFDMUI7WUFDQSxNQUFNLElBQUlJLE1BQ1IsQ0FBQyxRQUFRLEVBQUVSLEtBQUssUUFBUSxFQUFFVyxlQUFlUCxNQUFNLENBQUMsNkJBQTZCLENBQUM7UUFFbEY7UUFFQSxPQUFPcEQsaURBQVNBLENBQUM7WUFDZixHQUFHMkQsY0FBYztZQUNqQlgsTUFBTTtZQUNOb0IsTUFBTTtZQUNOQyxZQUFZMUIsWUFBWSxDQUFDdUIsS0FBS0MsUUFBUSxDQUFDLEVBQUUsQ0FBQ25CLEtBQUs7UUFDakQsR0FBRztZQUNELEdBQUdVLE1BQU07WUFFVCxrREFBa0Q7WUFDbERZLGNBQWM7WUFDZEMsYUFBYTtZQUVickMsT0FBTztnQkFDTEUsT0FBTztvQkFDTHBCLEtBQUtnQjtvQkFDTHdDLFNBQVFDLEdBQUc7d0JBQ1QsT0FBT3hDLGFBQWF3QyxLQUFLVDtvQkFDM0I7Z0JBQ0Y7Z0JBQ0FVLGFBQWE7b0JBQUUxRCxLQUFLZCw0Q0FBQ0EsQ0FBQ2MsR0FBRyxDQUFDO3dCQUFFQyxNQUFNZiw0Q0FBQ0EsQ0FBQ2dCLEVBQUU7b0JBQUM7b0JBQUlzRCxTQUFTUjtnQkFBTTtnQkFDMURXLFNBQVM7b0JBQUUzRCxLQUFLZCw0Q0FBQ0EsQ0FBQ2MsR0FBRyxDQUFDO3dCQUFFQyxNQUFNaEIsc0RBQWtCQTtvQkFBQztnQkFBRztZQUN0RDtZQUNBMkUsUUFBUTFFLDRDQUFDQSxDQUFDMkUsS0FBSyxDQUFDO2dCQUNkNUQsTUFBTWYsNENBQUNBLENBQUNtQixPQUFPLENBQUNuQiw0Q0FBQ0EsQ0FBQ2dCLEVBQUU7Z0JBQ3BCc0QsU0FBUSxFQUFFbEMsS0FBSyxFQUFFO29CQUNmLE9BQU9BLE1BQU13QyxRQUFRO2dCQUN2QjtZQUNGO1lBQ0FDLE9BQU87WUFDUEMsY0FBYyxJQUFPO29CQUFFaEM7b0JBQU0vQixNQUFNMEMsZUFBZVAsTUFBTTtnQkFBQztZQUN6RDZCLElBQUk7Z0JBQ0ZDLFlBQVk7b0JBQ1ZDLFdBQVc7Z0JBQ2I7Z0JBQ0FDLFVBQVU7b0JBQ1JDLGVBQWU7Z0JBQ2pCO1lBQ0Y7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvbGliL2lkLWZpZWxkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgR0FyZywgR0lucHV0T2JqZWN0VHlwZSwgSW5mZXJWYWx1ZUZyb21BcmcgfSBmcm9tICcuLi9ncmFwaHFsLXRzJ1xuaW1wb3J0IHR5cGUgeyBTY2FsYXJEQkZpZWxkIH0gZnJvbSAnLi4vdHlwZXMnXG5pbXBvcnQge1xuICB0eXBlIEJhc2VMaXN0VHlwZUluZm8sXG4gIHR5cGUgRGF0YWJhc2VQcm92aWRlcixcbiAgdHlwZSBGaWVsZFR5cGVGdW5jLFxuICB0eXBlIElkRmllbGRDb25maWcsXG4gIGZpZWxkVHlwZSxcbiAgb3JkZXJEaXJlY3Rpb25FbnVtLFxufSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IGcgfSBmcm9tICcuLi90eXBlcy9zY2hlbWEnXG5pbXBvcnQgeyB1c2VySW5wdXRFcnJvciB9IGZyb20gJy4vY29yZS9ncmFwaHFsLWVycm9ycydcblxudHlwZSBJRFR5cGUgPSBzdHJpbmcgfCBudW1iZXIgfCBudWxsXG5cbmZ1bmN0aW9uIGlzSW50KHg6IElEVHlwZSkge1xuICBpZiAoeCA9PT0gbnVsbCkgcmV0dXJuXG4gIGlmICh4ID09PSAnJykgcmV0dXJuXG4gIGNvbnN0IG5vbSA9IHR5cGVvZiB4ID09PSAnc3RyaW5nJyA/IE51bWJlcih4KSA6IHhcbiAgaWYgKE51bWJlci5pc0ludGVnZXIobm9tKSkgcmV0dXJuIG5vbVxufVxuXG5mdW5jdGlvbiBpc0JpZ0ludCh4OiBJRFR5cGUpIHtcbiAgaWYgKHggPT09IG51bGwpIHJldHVyblxuICBpZiAoeCA9PT0gJycpIHJldHVyblxuICB0cnkge1xuICAgIHJldHVybiBCaWdJbnQoeClcbiAgfSBjYXRjaCB7fVxufVxuXG5mdW5jdGlvbiBpc1N0cmluZyh4OiBJRFR5cGUpIHtcbiAgaWYgKHR5cGVvZiB4ICE9PSAnc3RyaW5nJykgcmV0dXJuXG4gIGlmICh4ID09PSAnJykgcmV0dXJuXG4gIHJldHVybiB4XG59XG5cbi8vIFRPRE86IHRoaXMgc2hvdWxkIGJlIG9uIHRoZSB1c2VyLCByZW1vdmUgaW4gYnJlYWtpbmcgY2hhbmdlP1xuZnVuY3Rpb24gaXNVdWlkKHg6IElEVHlwZSkge1xuICBpZiAodHlwZW9mIHggIT09ICdzdHJpbmcnKSByZXR1cm5cbiAgaWYgKHggPT09ICcnKSByZXR1cm5cbiAgcmV0dXJuIHgudG9Mb3dlckNhc2UoKVxufVxuXG5jb25zdCBub25DaXJjdWxhckZpZWxkcyA9IHtcbiAgZXF1YWxzOiBnLmFyZyh7IHR5cGU6IGcuSUQgfSksXG4gIGluOiBnLmFyZyh7IHR5cGU6IGcubGlzdChnLm5vbk51bGwoZy5JRCkpIH0pLFxuICBub3RJbjogZy5hcmcoeyB0eXBlOiBnLmxpc3QoZy5ub25OdWxsKGcuSUQpKSB9KSxcbiAgbHQ6IGcuYXJnKHsgdHlwZTogZy5JRCB9KSxcbiAgbHRlOiBnLmFyZyh7IHR5cGU6IGcuSUQgfSksXG4gIGd0OiBnLmFyZyh7IHR5cGU6IGcuSUQgfSksXG4gIGd0ZTogZy5hcmcoeyB0eXBlOiBnLklEIH0pLFxufVxuXG50eXBlIElERmlsdGVyVHlwZSA9IEdJbnB1dE9iamVjdFR5cGU8XG4gIHR5cGVvZiBub25DaXJjdWxhckZpZWxkcyAmIHtcbiAgICBub3Q6IEdBcmc8dHlwZW9mIElERmlsdGVyPlxuICB9XG4+XG5cbmNvbnN0IElERmlsdGVyOiBJREZpbHRlclR5cGUgPSBnLmlucHV0T2JqZWN0KHtcbiAgbmFtZTogJ0lERmlsdGVyJyxcbiAgZmllbGRzOiAoKSA9PiAoe1xuICAgIC4uLm5vbkNpcmN1bGFyRmllbGRzLFxuICAgIG5vdDogZy5hcmcoeyB0eXBlOiBJREZpbHRlciB9KSxcbiAgfSksXG59KVxuXG5jb25zdCBmaWx0ZXJBcmcgPSBnLmFyZyh7IHR5cGU6IElERmlsdGVyIH0pXG5cbmZ1bmN0aW9uIHJlc29sdmVJbnB1dChcbiAgaW5wdXQ6IEV4Y2x1ZGU8SW5mZXJWYWx1ZUZyb21Bcmc8dHlwZW9mIGZpbHRlckFyZz4sIHVuZGVmaW5lZD4sXG4gIHBhcnNlSWQ6ICh4OiBJRFR5cGUpID0+IHVua25vd25cbikge1xuICBjb25zdCB3aGVyZTogYW55ID0ge31cbiAgaWYgKGlucHV0ID09PSBudWxsKSByZXR1cm4gd2hlcmVcblxuICBmb3IgKGNvbnN0IGtleSBvZiBbJ2VxdWFscycsICdndCcsICdndGUnLCAnbHQnLCAnbHRlJ10gYXMgY29uc3QpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGlucHV0W2tleV1cbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgY29udGludWVcbiAgICB3aGVyZVtrZXldID0gcGFyc2VJZCh2YWx1ZSlcbiAgfVxuXG4gIGZvciAoY29uc3Qga2V5IG9mIFsnaW4nLCAnbm90SW4nXSBhcyBjb25zdCkge1xuICAgIGNvbnN0IHZhbHVlID0gaW5wdXRba2V5XVxuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIGNvbnRpbnVlXG5cbiAgICB3aGVyZVtrZXldID0gdmFsdWUubWFwKHggPT4gcGFyc2VJZCh4KSlcbiAgfVxuXG4gIGlmIChpbnB1dC5ub3QgIT09IHVuZGVmaW5lZCkge1xuICAgIHdoZXJlLm5vdCA9IHJlc29sdmVJbnB1dChpbnB1dC5ub3QsIHBhcnNlSWQpXG4gIH1cblxuICByZXR1cm4gd2hlcmVcbn1cblxuY29uc3QgTkFUSVZFX1RZUEVTOiB7XG4gIFtrIGluIERhdGFiYXNlUHJvdmlkZXJdPzoge1xuICAgIFtrdSBpbiBJZEZpZWxkQ29uZmlnWydraW5kJ11dPzogc3RyaW5nXG4gIH1cbn0gPSB7XG4gIHBvc3RncmVzcWw6IHtcbiAgICB1dWlkOiAnVXVpZCcgYXMgY29uc3QsXG4gIH0sXG59XG5cbmZ1bmN0aW9uIHVucGFjayhcbiAgaTogSWRGaWVsZENvbmZpZ1xuKTogUGljazxTY2FsYXJEQkZpZWxkPCdTdHJpbmcnIHwgJ0ludCcgfCAnQmlnSW50JywgJ3JlcXVpcmVkJz4sICdzY2FsYXInIHwgJ2RlZmF1bHQnPiB7XG4gIGlmIChpLmtpbmQgPT09ICdyYW5kb20nKSB7XG4gICAgY29uc3QgeyBraW5kLCBieXRlcywgZW5jb2RpbmcgfSA9IGlcbiAgICBpZiAodHlwZW9mIGJ5dGVzID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKGJ5dGVzICE9PSBieXRlcyA+Pj4gMCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBwb3NpdGl2ZSBpbnRlZ2VyIGZvciByYW5kb20gYnl0ZXMsIG5vdCAke2J5dGVzfWApXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNjYWxhcjogJ1N0cmluZycsXG4gICAgICAvLyBvdXIgZGVmYXVsdHMgYXJlIDMyIGJ5dGVzLCBhcyBiYXNlNjR1cmxcbiAgICAgIC8vICAgMjU2IC8gTWF0aC5sb2cyKDY0KSB+IDQzIGNoYXJhY3RlcnNcbiAgICAgIC8vXG4gICAgICAvLyBmb3IgY2FzZS1pbnNlbnNpdGl2ZSBkYXRhYmFzZXMgdGhhdCBpc1xuICAgICAgLy8gICAyMjUgYml0cyB+IE1hdGgubG9nMigoMjYgKyAxMCArIDIpICoqIDQzKVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBraW5kLFxuICAgICAgICBieXRlczogYnl0ZXMgPz8gMzIsXG4gICAgICAgIGVuY29kaW5nOiBlbmNvZGluZyA/PyAnYmFzZTY0dXJsJyxcbiAgICAgIH0sXG4gICAgfVxuICB9XG4gIGNvbnN0IHsga2luZCwgdHlwZSB9ID0gaVxuICBpZiAoa2luZCA9PT0gJ2N1aWQnKSByZXR1cm4geyBzY2FsYXI6ICdTdHJpbmcnLCBkZWZhdWx0OiB7IGtpbmQsIHZlcnNpb246IGkudmVyc2lvbiB9IH1cbiAgaWYgKGtpbmQgPT09ICd1dWlkJykgcmV0dXJuIHsgc2NhbGFyOiAnU3RyaW5nJywgZGVmYXVsdDogeyBraW5kLCB2ZXJzaW9uOiBpLnZlcnNpb24gfSB9XG4gIGlmIChraW5kID09PSAnbmFub2lkJykgcmV0dXJuIHsgc2NhbGFyOiAnU3RyaW5nJywgZGVmYXVsdDogeyBraW5kLCBsZW5ndGg6IGkubGVuZ3RoIH0gfVxuICBpZiAoa2luZCA9PT0gJ3VsaWQnKSByZXR1cm4geyBzY2FsYXI6ICdTdHJpbmcnLCBkZWZhdWx0OiB7IGtpbmQgfSB9XG4gIGlmIChraW5kID09PSAnc3RyaW5nJykgcmV0dXJuIHsgc2NhbGFyOiAnU3RyaW5nJywgZGVmYXVsdDogdW5kZWZpbmVkIH1cbiAgaWYgKGtpbmQgPT09ICdudW1iZXInKSByZXR1cm4geyBzY2FsYXI6IHR5cGUgPz8gJ0ludCcsIGRlZmF1bHQ6IHVuZGVmaW5lZCB9XG4gIGlmIChraW5kID09PSAnYXV0b2luY3JlbWVudCcpIHJldHVybiB7IHNjYWxhcjogdHlwZSA/PyAnSW50JywgZGVmYXVsdDogeyBraW5kIH0gfVxuICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gaWQgdHlwZSAke2tpbmR9YClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlkRmllbGRUeXBlKGNvbmZpZzogSWRGaWVsZENvbmZpZyk6IEZpZWxkVHlwZUZ1bmM8QmFzZUxpc3RUeXBlSW5mbz4ge1xuICBjb25zdCBraW5kID0gY29uZmlnLmtpbmRcbiAgY29uc3QgZGJGaWVsZE9wdGlvbnMgPSB1bnBhY2soY29uZmlnKVxuICBjb25zdCBwYXJzZVR5cGVGbiA9IHtcbiAgICBJbnQ6IGlzSW50LFxuICAgIEJpZ0ludDogaXNCaWdJbnQsXG4gICAgU3RyaW5nOiBpc1N0cmluZyxcbiAgICBVVUlEOiBpc1V1aWQsIC8vIFRPRE86IHJlbW92ZSBpbiBicmVha2luZyBjaGFuZ2VcbiAgfVtraW5kID09PSAndXVpZCcgPyAnVVVJRCcgOiBkYkZpZWxkT3B0aW9ucy5zY2FsYXJdXG5cbiAgZnVuY3Rpb24gcGFyc2UodmFsdWU6IElEVHlwZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlVHlwZUZuKHZhbHVlKVxuICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgdXNlcklucHV0RXJyb3IoXG4gICAgICAgIGBPbmx5IGEgJHtkYkZpZWxkT3B0aW9ucy5zY2FsYXIudG9Mb3dlckNhc2UoKX0gY2FuIGJlIHBhc3NlZCB0byBpZCBmaWx0ZXJzYFxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICByZXR1cm4gbWV0YSA9PiB7XG4gICAgaWYgKFxuICAgICAgbWV0YS5wcm92aWRlciA9PT0gJ3NxbGl0ZScgJiZcbiAgICAgIGtpbmQgPT09ICdhdXRvaW5jcmVtZW50JyAmJlxuICAgICAgZGJGaWVsZE9wdGlvbnMuc2NhbGFyID09PSAnQmlnSW50J1xuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgeyBraW5kOiAke2tpbmR9LCB0eXBlOiAke2RiRmllbGRPcHRpb25zLnNjYWxhcn0gfSBpcyBub3Qgc3VwcG9ydGVkIGJ5IFNRTGl0ZWBcbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gZmllbGRUeXBlKHtcbiAgICAgIC4uLmRiRmllbGRPcHRpb25zLFxuICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICBtb2RlOiAncmVxdWlyZWQnLFxuICAgICAgbmF0aXZlVHlwZTogTkFUSVZFX1RZUEVTW21ldGEucHJvdmlkZXJdPy5ba2luZF0sXG4gICAgfSkoe1xuICAgICAgLi4uY29uZmlnLFxuXG4gICAgICAvLyB0aGUgSUQgZmllbGQgaXMgYWx3YXlzIGZpbHRlcmFibGUgYW5kIG9yZGVyYWJsZVxuICAgICAgaXNGaWx0ZXJhYmxlOiB0cnVlLCAvLyBUT0RPOiBzaG91bGQgaXQgYmU/XG4gICAgICBpc09yZGVyYWJsZTogdHJ1ZSwgLy8gVE9ETzogc2hvdWxkIGl0IGJlP1xuXG4gICAgICBpbnB1dDoge1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGFyZzogZmlsdGVyQXJnLFxuICAgICAgICAgIHJlc29sdmUodmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZUlucHV0KHZhbCwgcGFyc2UpXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgdW5pcXVlV2hlcmU6IHsgYXJnOiBnLmFyZyh7IHR5cGU6IGcuSUQgfSksIHJlc29sdmU6IHBhcnNlIH0sXG4gICAgICAgIG9yZGVyQnk6IHsgYXJnOiBnLmFyZyh7IHR5cGU6IG9yZGVyRGlyZWN0aW9uRW51bSB9KSB9LFxuICAgICAgfSxcbiAgICAgIG91dHB1dDogZy5maWVsZCh7XG4gICAgICAgIHR5cGU6IGcubm9uTnVsbChnLklEKSxcbiAgICAgICAgcmVzb2x2ZSh7IHZhbHVlIH0pIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKVxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgICB2aWV3czogJ0BrZXlzdG9uZS02L2NvcmUvX19faW50ZXJuYWwtZG8tbm90LXVzZS13aWxsLWJyZWFrLWluLXBhdGNoL2FkbWluLXVpL2lkLWZpZWxkLXZpZXcnLFxuICAgICAgZ2V0QWRtaW5NZXRhOiAoKSA9PiAoeyBraW5kLCB0eXBlOiBkYkZpZWxkT3B0aW9ucy5zY2FsYXIgfSksXG4gICAgICB1aToge1xuICAgICAgICBjcmVhdGVWaWV3OiB7XG4gICAgICAgICAgZmllbGRNb2RlOiAnaGlkZGVuJyxcbiAgICAgICAgfSxcbiAgICAgICAgaXRlbVZpZXc6IHtcbiAgICAgICAgICBmaWVsZFBvc2l0aW9uOiAnc2lkZWJhcicsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJmaWVsZFR5cGUiLCJvcmRlckRpcmVjdGlvbkVudW0iLCJnIiwidXNlcklucHV0RXJyb3IiLCJpc0ludCIsIngiLCJub20iLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJpc0JpZ0ludCIsIkJpZ0ludCIsImlzU3RyaW5nIiwiaXNVdWlkIiwidG9Mb3dlckNhc2UiLCJub25DaXJjdWxhckZpZWxkcyIsImVxdWFscyIsImFyZyIsInR5cGUiLCJJRCIsImluIiwibGlzdCIsIm5vbk51bGwiLCJub3RJbiIsImx0IiwibHRlIiwiZ3QiLCJndGUiLCJJREZpbHRlciIsImlucHV0T2JqZWN0IiwibmFtZSIsImZpZWxkcyIsIm5vdCIsImZpbHRlckFyZyIsInJlc29sdmVJbnB1dCIsImlucHV0IiwicGFyc2VJZCIsIndoZXJlIiwia2V5IiwidmFsdWUiLCJ1bmRlZmluZWQiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJOQVRJVkVfVFlQRVMiLCJwb3N0Z3Jlc3FsIiwidXVpZCIsInVucGFjayIsImkiLCJraW5kIiwiYnl0ZXMiLCJlbmNvZGluZyIsIlR5cGVFcnJvciIsInNjYWxhciIsImRlZmF1bHQiLCJ2ZXJzaW9uIiwibGVuZ3RoIiwiRXJyb3IiLCJpZEZpZWxkVHlwZSIsImNvbmZpZyIsImRiRmllbGRPcHRpb25zIiwicGFyc2VUeXBlRm4iLCJJbnQiLCJTdHJpbmciLCJVVUlEIiwicGFyc2UiLCJyZXN1bHQiLCJtZXRhIiwicHJvdmlkZXIiLCJtb2RlIiwibmF0aXZlVHlwZSIsImlzRmlsdGVyYWJsZSIsImlzT3JkZXJhYmxlIiwicmVzb2x2ZSIsInZhbCIsInVuaXF1ZVdoZXJlIiwib3JkZXJCeSIsIm91dHB1dCIsImZpZWxkIiwidG9TdHJpbmciLCJ2aWV3cyIsImdldEFkbWluTWV0YSIsInVpIiwiY3JlYXRlVmlldyIsImZpZWxkTW9kZSIsIml0ZW1WaWV3IiwiZmllbGRQb3NpdGlvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/lib/id-field.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/lib/utils.ts":
/*!**************************************************!*\
  !*** ../../../../packages/core/src/lib/utils.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   humanize: () => (/* binding */ humanize)\n/* harmony export */ });\n/**\n * Turns a passed in string into\n * a human readable label\n * @param {String} str The string to convert.\n * @returns The new string\n */ function humanize(str) {\n    return str.replace(/([a-z])([A-Z]+)/g, '$1 $2').split(/\\s|_|-/).filter((i)=>i).map((x)=>x.charAt(0).toUpperCase() + x.slice(1)).join(' ');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvbGliL3V0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Ozs7Q0FLQyxHQUNNLFNBQVNBLFNBQVNDLEdBQVc7SUFDbEMsT0FBT0EsSUFDSkMsT0FBTyxDQUFDLG9CQUFvQixTQUM1QkMsS0FBSyxDQUFDLFVBQ05DLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsR0FDWkMsR0FBRyxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxNQUFNLENBQUMsR0FBR0MsV0FBVyxLQUFLRixFQUFFRyxLQUFLLENBQUMsSUFDN0NDLElBQUksQ0FBQztBQUNWIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2NvcmUvc3JjL2xpYi91dGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFR1cm5zIGEgcGFzc2VkIGluIHN0cmluZyBpbnRvXG4gKiBhIGh1bWFuIHJlYWRhYmxlIGxhYmVsXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIFRoZSBuZXcgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBodW1hbml6ZShzdHI6IHN0cmluZykge1xuICByZXR1cm4gc3RyXG4gICAgLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0rKS9nLCAnJDEgJDInKVxuICAgIC5zcGxpdCgvXFxzfF98LS8pXG4gICAgLmZpbHRlcihpID0+IGkpXG4gICAgLm1hcCh4ID0+IHguY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB4LnNsaWNlKDEpKVxuICAgIC5qb2luKCcgJylcbn1cbiJdLCJuYW1lcyI6WyJodW1hbml6ZSIsInN0ciIsInJlcGxhY2UiLCJzcGxpdCIsImZpbHRlciIsImkiLCJtYXAiLCJ4IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImpvaW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/lib/utils.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/schema.ts":
/*!***********************************************!*\
  !*** ../../../../packages/core/src/schema.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   group: () => (/* binding */ group),\n/* harmony export */   list: () => (/* binding */ list)\n/* harmony export */ });\n/* harmony import */ var _lib_id_field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/id-field */ \"../../../../packages/core/src/lib/id-field.ts\");\n\nfunction injectDefaults(config, defaultIdField) {\n    // some error checking\n    for (const [listKey, list] of Object.entries(config.lists)){\n        if (list.fields.id) {\n            throw new Error(`\"fields.id\" is reserved by Keystone, use \"db.idField\" for the \"${listKey}\" list`);\n        }\n        if (list.isSingleton && list.db?.idField) {\n            throw new Error(`\"db.idField\" on the \"${listKey}\" list conflicts with singleton defaults`);\n        }\n    }\n    const updated = {};\n    for (const [listKey, list] of Object.entries(config.lists)){\n        if (list.isSingleton) {\n            updated[listKey] = {\n                listKey,\n                ...list,\n                fields: {\n                    id: (0,_lib_id_field__WEBPACK_IMPORTED_MODULE_0__.idFieldType)({\n                        kind: 'number',\n                        type: 'Int'\n                    }),\n                    ...list.fields\n                }\n            };\n            continue;\n        }\n        updated[listKey] = {\n            listKey,\n            ...list,\n            fields: {\n                id: (0,_lib_id_field__WEBPACK_IMPORTED_MODULE_0__.idFieldType)(list.db?.idField ?? defaultIdField),\n                ...list.fields\n            }\n        };\n    }\n    return updated;\n}\nfunction defaultIsAccessAllowed({ session, sessionStrategy }) {\n    if (!sessionStrategy) return true;\n    return session !== undefined;\n}\nasync function noop() {}\nfunction identity(x) {\n    return x;\n}\nfunction config(config) {\n    if (![\n        'postgresql',\n        'sqlite',\n        'mysql'\n    ].includes(config.db.provider)) {\n        throw new TypeError(`\"db.provider\" only supports \"sqlite\", \"postgresql\" or \"mysql\"`);\n    }\n    // WARNING: Typescript should prevent this, but any string is useful for Prisma errors\n    config.db.url ??= 'postgres://';\n    const defaultIdField = config.db.idField ?? {\n        kind: 'cuid'\n    };\n    const cors = config.server?.cors === true ? {\n        origin: true,\n        credentials: true\n    } : config.server?.cors === false ? null : config.server?.cors ?? null;\n    const httpOptions = {\n        port: 3000\n    };\n    if (config?.server && 'port' in config.server) {\n        httpOptions.port = config.server.port;\n    }\n    if (config?.server && 'options' in config.server && config.server.options) {\n        Object.assign(httpOptions, config.server.options);\n    }\n    return {\n        types: {\n            ...config.types,\n            path: config.types?.path ?? 'node_modules/.keystone/types.ts'\n        },\n        db: {\n            ...config.db,\n            shadowDatabaseUrl: config.db?.shadowDatabaseUrl ?? '',\n            extendPrismaSchema: config.db?.extendPrismaSchema ?? identity,\n            extendPrismaClient: config.db?.extendPrismaClient ?? identity,\n            onConnect: config.db.onConnect ?? noop,\n            prismaClientPath: config.db?.prismaClientPath ?? '@prisma/client',\n            prismaSchemaPath: config.db?.prismaSchemaPath ?? 'schema.prisma',\n            idField: config.db?.idField ?? defaultIdField,\n            enableLogging: config.db.enableLogging === true ? [\n                'query'\n            ] : config.db.enableLogging === false ? [] : config.db.enableLogging ?? []\n        },\n        graphql: {\n            ...config.graphql,\n            path: config.graphql?.path ?? '/api/graphql',\n            playground: config.graphql?.playground ?? \"development\" !== 'production',\n            schemaPath: config.graphql?.schemaPath ?? 'schema.graphql',\n            extendGraphqlSchema: config.graphql?.extendGraphqlSchema ?? ((s)=>s)\n        },\n        lists: injectDefaults(config, defaultIdField),\n        server: {\n            ...config.server,\n            maxFileSize: config.server?.maxFileSize ?? 200 * 1024 * 1024,\n            extendExpressApp: config.server?.extendExpressApp ?? noop,\n            extendHttpServer: config.server?.extendHttpServer ?? noop,\n            cors,\n            options: httpOptions\n        },\n        session: config.session,\n        telemetry: config.telemetry ?? true,\n        ui: {\n            ...config.ui,\n            basePath: config.ui?.basePath ?? '',\n            isAccessAllowed: config.ui?.isAccessAllowed ?? defaultIsAccessAllowed,\n            isDisabled: config.ui?.isDisabled ?? false,\n            getAdditionalFiles: config.ui?.getAdditionalFiles ?? [],\n            pageMiddleware: config.ui?.pageMiddleware ?? noop,\n            publicPages: config.ui?.publicPages ?? []\n        }\n    };\n}\nlet i = 0;\nfunction group(config) {\n    const keys = Object.keys(config.fields);\n    if (keys.some((key)=>key.startsWith('__group'))) {\n        throw new Error('groups cannot be nested');\n    }\n    return {\n        [`__group${i++}`]: {\n            fields: keys,\n            label: config.label,\n            description: config.description ?? '',\n            ui: config.ui\n        },\n        ...config.fields\n    };\n// TODO: FIXME, see initialise-lists.ts:getListsWithInitialisedFields\n}\nfunction list(config) {\n    return {\n        ...config\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c3JjL3NjaGVtYS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7XG4gIEJhc2VGaWVsZHMsXG4gIEJhc2VLZXlzdG9uZVR5cGVJbmZvLFxuICBCYXNlTGlzdFR5cGVJbmZvLFxuICBJZEZpZWxkQ29uZmlnLFxuICBLZXlzdG9uZUNvbmZpZ1ByZSxcbiAgS2V5c3RvbmVDb250ZXh0LFxuICBMaXN0Q29uZmlnLFxuICBLZXlzdG9uZUNvbmZpZyxcbiAgTWF5YmVJdGVtRnVuY3Rpb25XaXRoRmlsdGVyLFxuICBNYXliZVNlc3Npb25GdW5jdGlvbixcbiAgTWF5YmVTZXNzaW9uRnVuY3Rpb25XaXRoRmlsdGVyLFxufSBmcm9tICcuL3R5cGVzJ1xuXG5pbXBvcnQgdHlwZSB7IExpc3Rlbk9wdGlvbnMgfSBmcm9tICdub2RlOm5ldCdcbmltcG9ydCB7IGlkRmllbGRUeXBlIH0gZnJvbSAnLi9saWIvaWQtZmllbGQnXG5cbmZ1bmN0aW9uIGluamVjdERlZmF1bHRzKGNvbmZpZzogS2V5c3RvbmVDb25maWdQcmUsIGRlZmF1bHRJZEZpZWxkOiBJZEZpZWxkQ29uZmlnKSB7XG4gIC8vIHNvbWUgZXJyb3IgY2hlY2tpbmdcbiAgZm9yIChjb25zdCBbbGlzdEtleSwgbGlzdF0gb2YgT2JqZWN0LmVudHJpZXMoY29uZmlnLmxpc3RzKSkge1xuICAgIGlmIChsaXN0LmZpZWxkcy5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgXCJmaWVsZHMuaWRcIiBpcyByZXNlcnZlZCBieSBLZXlzdG9uZSwgdXNlIFwiZGIuaWRGaWVsZFwiIGZvciB0aGUgXCIke2xpc3RLZXl9XCIgbGlzdGBcbiAgICAgIClcbiAgICB9XG5cbiAgICBpZiAobGlzdC5pc1NpbmdsZXRvbiAmJiBsaXN0LmRiPy5pZEZpZWxkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFwiZGIuaWRGaWVsZFwiIG9uIHRoZSBcIiR7bGlzdEtleX1cIiBsaXN0IGNvbmZsaWN0cyB3aXRoIHNpbmdsZXRvbiBkZWZhdWx0c2ApXG4gICAgfVxuICB9XG5cbiAgY29uc3QgdXBkYXRlZDogS2V5c3RvbmVDb25maWdbJ2xpc3RzJ10gPSB7fVxuXG4gIGZvciAoY29uc3QgW2xpc3RLZXksIGxpc3RdIG9mIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5saXN0cykpIHtcbiAgICBpZiAobGlzdC5pc1NpbmdsZXRvbikge1xuICAgICAgdXBkYXRlZFtsaXN0S2V5XSA9IHtcbiAgICAgICAgbGlzdEtleSxcbiAgICAgICAgLi4ubGlzdCxcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgaWQ6IGlkRmllbGRUeXBlKHsga2luZDogJ251bWJlcicsIHR5cGU6ICdJbnQnIH0pLFxuICAgICAgICAgIC4uLmxpc3QuZmllbGRzLFxuICAgICAgICB9LFxuICAgICAgfVxuXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIHVwZGF0ZWRbbGlzdEtleV0gPSB7XG4gICAgICBsaXN0S2V5LFxuICAgICAgLi4ubGlzdCxcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBpZDogaWRGaWVsZFR5cGUobGlzdC5kYj8uaWRGaWVsZCA/PyBkZWZhdWx0SWRGaWVsZCksXG4gICAgICAgIC4uLmxpc3QuZmllbGRzLFxuICAgICAgfSxcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdXBkYXRlZFxufVxuXG5mdW5jdGlvbiBkZWZhdWx0SXNBY2Nlc3NBbGxvd2VkKHsgc2Vzc2lvbiwgc2Vzc2lvblN0cmF0ZWd5IH06IEtleXN0b25lQ29udGV4dCkge1xuICBpZiAoIXNlc3Npb25TdHJhdGVneSkgcmV0dXJuIHRydWVcbiAgcmV0dXJuIHNlc3Npb24gIT09IHVuZGVmaW5lZFxufVxuXG5hc3luYyBmdW5jdGlvbiBub29wKCkge31cbmZ1bmN0aW9uIGlkZW50aXR5PFQ+KHg6IFQpIHtcbiAgcmV0dXJuIHhcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZzxUeXBlSW5mbyBleHRlbmRzIEJhc2VLZXlzdG9uZVR5cGVJbmZvPihcbiAgY29uZmlnOiBLZXlzdG9uZUNvbmZpZ1ByZTxUeXBlSW5mbz5cbik6IEtleXN0b25lQ29uZmlnPFR5cGVJbmZvPiB7XG4gIGlmICghWydwb3N0Z3Jlc3FsJywgJ3NxbGl0ZScsICdteXNxbCddLmluY2x1ZGVzKGNvbmZpZy5kYi5wcm92aWRlcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBcImRiLnByb3ZpZGVyXCIgb25seSBzdXBwb3J0cyBcInNxbGl0ZVwiLCBcInBvc3RncmVzcWxcIiBvciBcIm15c3FsXCJgKVxuICB9XG5cbiAgLy8gV0FSTklORzogVHlwZXNjcmlwdCBzaG91bGQgcHJldmVudCB0aGlzLCBidXQgYW55IHN0cmluZyBpcyB1c2VmdWwgZm9yIFByaXNtYSBlcnJvcnNcbiAgY29uZmlnLmRiLnVybCA/Pz0gJ3Bvc3RncmVzOi8vJ1xuXG4gIGNvbnN0IGRlZmF1bHRJZEZpZWxkID0gY29uZmlnLmRiLmlkRmllbGQgPz8geyBraW5kOiAnY3VpZCcgfVxuICBjb25zdCBjb3JzID1cbiAgICBjb25maWcuc2VydmVyPy5jb3JzID09PSB0cnVlXG4gICAgICA/IHsgb3JpZ2luOiB0cnVlLCBjcmVkZW50aWFsczogdHJ1ZSB9XG4gICAgICA6IGNvbmZpZy5zZXJ2ZXI/LmNvcnMgPT09IGZhbHNlXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IChjb25maWcuc2VydmVyPy5jb3JzID8/IG51bGwpXG5cbiAgY29uc3QgaHR0cE9wdGlvbnM6IExpc3Rlbk9wdGlvbnMgPSB7IHBvcnQ6IDMwMDAgfVxuICBpZiAoY29uZmlnPy5zZXJ2ZXIgJiYgJ3BvcnQnIGluIGNvbmZpZy5zZXJ2ZXIpIHtcbiAgICBodHRwT3B0aW9ucy5wb3J0ID0gY29uZmlnLnNlcnZlci5wb3J0XG4gIH1cblxuICBpZiAoY29uZmlnPy5zZXJ2ZXIgJiYgJ29wdGlvbnMnIGluIGNvbmZpZy5zZXJ2ZXIgJiYgY29uZmlnLnNlcnZlci5vcHRpb25zKSB7XG4gICAgT2JqZWN0LmFzc2lnbihodHRwT3B0aW9ucywgY29uZmlnLnNlcnZlci5vcHRpb25zKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlczoge1xuICAgICAgLi4uY29uZmlnLnR5cGVzLFxuICAgICAgcGF0aDogY29uZmlnLnR5cGVzPy5wYXRoID8/ICdub2RlX21vZHVsZXMvLmtleXN0b25lL3R5cGVzLnRzJyxcbiAgICB9LFxuICAgIGRiOiB7XG4gICAgICAuLi5jb25maWcuZGIsXG4gICAgICBzaGFkb3dEYXRhYmFzZVVybDogY29uZmlnLmRiPy5zaGFkb3dEYXRhYmFzZVVybCA/PyAnJyxcbiAgICAgIGV4dGVuZFByaXNtYVNjaGVtYTogY29uZmlnLmRiPy5leHRlbmRQcmlzbWFTY2hlbWEgPz8gaWRlbnRpdHksXG4gICAgICBleHRlbmRQcmlzbWFDbGllbnQ6IGNvbmZpZy5kYj8uZXh0ZW5kUHJpc21hQ2xpZW50ID8/IGlkZW50aXR5LFxuICAgICAgb25Db25uZWN0OiBjb25maWcuZGIub25Db25uZWN0ID8/IG5vb3AsXG4gICAgICBwcmlzbWFDbGllbnRQYXRoOiBjb25maWcuZGI/LnByaXNtYUNsaWVudFBhdGggPz8gJ0BwcmlzbWEvY2xpZW50JyxcbiAgICAgIHByaXNtYVNjaGVtYVBhdGg6IGNvbmZpZy5kYj8ucHJpc21hU2NoZW1hUGF0aCA/PyAnc2NoZW1hLnByaXNtYScsXG4gICAgICBpZEZpZWxkOiBjb25maWcuZGI/LmlkRmllbGQgPz8gZGVmYXVsdElkRmllbGQsXG4gICAgICBlbmFibGVMb2dnaW5nOlxuICAgICAgICBjb25maWcuZGIuZW5hYmxlTG9nZ2luZyA9PT0gdHJ1ZVxuICAgICAgICAgID8gWydxdWVyeSddXG4gICAgICAgICAgOiBjb25maWcuZGIuZW5hYmxlTG9nZ2luZyA9PT0gZmFsc2VcbiAgICAgICAgICAgID8gW11cbiAgICAgICAgICAgIDogKGNvbmZpZy5kYi5lbmFibGVMb2dnaW5nID8/IFtdKSxcbiAgICB9LFxuICAgIGdyYXBocWw6IHtcbiAgICAgIC4uLmNvbmZpZy5ncmFwaHFsLFxuICAgICAgcGF0aDogY29uZmlnLmdyYXBocWw/LnBhdGggPz8gJy9hcGkvZ3JhcGhxbCcsXG4gICAgICBwbGF5Z3JvdW5kOiBjb25maWcuZ3JhcGhxbD8ucGxheWdyb3VuZCA/PyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLFxuICAgICAgc2NoZW1hUGF0aDogY29uZmlnLmdyYXBocWw/LnNjaGVtYVBhdGggPz8gJ3NjaGVtYS5ncmFwaHFsJyxcbiAgICAgIGV4dGVuZEdyYXBocWxTY2hlbWE6IGNvbmZpZy5ncmFwaHFsPy5leHRlbmRHcmFwaHFsU2NoZW1hID8/IChzID0+IHMpLFxuICAgIH0sXG4gICAgbGlzdHM6IGluamVjdERlZmF1bHRzKGNvbmZpZywgZGVmYXVsdElkRmllbGQpLFxuICAgIHNlcnZlcjoge1xuICAgICAgLi4uY29uZmlnLnNlcnZlcixcbiAgICAgIG1heEZpbGVTaXplOiBjb25maWcuc2VydmVyPy5tYXhGaWxlU2l6ZSA/PyAyMDAgKiAxMDI0ICogMTAyNCwgLy8gMjAwIE1pQlxuICAgICAgZXh0ZW5kRXhwcmVzc0FwcDogY29uZmlnLnNlcnZlcj8uZXh0ZW5kRXhwcmVzc0FwcCA/PyBub29wLFxuICAgICAgZXh0ZW5kSHR0cFNlcnZlcjogY29uZmlnLnNlcnZlcj8uZXh0ZW5kSHR0cFNlcnZlciA/PyBub29wLFxuICAgICAgY29ycyxcbiAgICAgIG9wdGlvbnM6IGh0dHBPcHRpb25zLFxuICAgIH0sXG4gICAgc2Vzc2lvbjogY29uZmlnLnNlc3Npb24sXG4gICAgdGVsZW1ldHJ5OiBjb25maWcudGVsZW1ldHJ5ID8/IHRydWUsXG4gICAgdWk6IHtcbiAgICAgIC4uLmNvbmZpZy51aSxcbiAgICAgIGJhc2VQYXRoOiBjb25maWcudWk/LmJhc2VQYXRoID8/ICcnLFxuICAgICAgaXNBY2Nlc3NBbGxvd2VkOiBjb25maWcudWk/LmlzQWNjZXNzQWxsb3dlZCA/PyBkZWZhdWx0SXNBY2Nlc3NBbGxvd2VkLFxuICAgICAgaXNEaXNhYmxlZDogY29uZmlnLnVpPy5pc0Rpc2FibGVkID8/IGZhbHNlLFxuICAgICAgZ2V0QWRkaXRpb25hbEZpbGVzOiBjb25maWcudWk/LmdldEFkZGl0aW9uYWxGaWxlcyA/PyBbXSxcbiAgICAgIHBhZ2VNaWRkbGV3YXJlOiBjb25maWcudWk/LnBhZ2VNaWRkbGV3YXJlID8/IG5vb3AsXG4gICAgICBwdWJsaWNQYWdlczogY29uZmlnLnVpPy5wdWJsaWNQYWdlcyA/PyBbXSxcbiAgICB9LFxuICB9XG59XG5cbmxldCBpID0gMFxuXG5leHBvcnQgdHlwZSBHcm91cEluZm88TGlzdFR5cGVJbmZvIGV4dGVuZHMgQmFzZUxpc3RUeXBlSW5mbz4gPSB7XG4gIGZpZWxkczogc3RyaW5nW11cbiAgbGFiZWw6IHN0cmluZ1xuICBkZXNjcmlwdGlvbjogc3RyaW5nXG4gIHVpOiBHcm91cFVJQ29uZmlnPExpc3RUeXBlSW5mbz4gfCB1bmRlZmluZWRcbn1cblxudHlwZSBHcm91cFVJQ29uZmlnPExpc3RUeXBlSW5mbyBleHRlbmRzIEJhc2VMaXN0VHlwZUluZm8+ID0ge1xuICBjcmVhdGVWaWV3Pzoge1xuICAgIGRlZmF1bHRGaWVsZE1vZGU/OiBNYXliZVNlc3Npb25GdW5jdGlvbldpdGhGaWx0ZXI8J2VkaXQnIHwgJ2hpZGRlbicsIExpc3RUeXBlSW5mbz5cbiAgfVxuICBpdGVtVmlldz86IHtcbiAgICBkZWZhdWx0RmllbGRNb2RlPzogTWF5YmVJdGVtRnVuY3Rpb25XaXRoRmlsdGVyPCdlZGl0JyB8ICdyZWFkJyB8ICdoaWRkZW4nLCBMaXN0VHlwZUluZm8+XG4gIH1cbiAgbGlzdFZpZXc/OiB7XG4gICAgZGVmYXVsdEZpZWxkTW9kZT86IE1heWJlU2Vzc2lvbkZ1bmN0aW9uPCdyZWFkJyB8ICdoaWRkZW4nLCBMaXN0VHlwZUluZm8+XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwPExpc3RUeXBlSW5mbyBleHRlbmRzIEJhc2VMaXN0VHlwZUluZm8+KGNvbmZpZzoge1xuICBsYWJlbDogc3RyaW5nXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nXG4gIHVpPzogR3JvdXBVSUNvbmZpZzxMaXN0VHlwZUluZm8+XG4gIGZpZWxkczogQmFzZUZpZWxkczxMaXN0VHlwZUluZm8+XG59KSB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcuZmllbGRzKVxuICBpZiAoa2V5cy5zb21lKGtleSA9PiBrZXkuc3RhcnRzV2l0aCgnX19ncm91cCcpKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignZ3JvdXBzIGNhbm5vdCBiZSBuZXN0ZWQnKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBbYF9fZ3JvdXAke2krK31gXToge1xuICAgICAgZmllbGRzOiBrZXlzLFxuICAgICAgbGFiZWw6IGNvbmZpZy5sYWJlbCxcbiAgICAgIGRlc2NyaXB0aW9uOiBjb25maWcuZGVzY3JpcHRpb24gPz8gJycsXG4gICAgICB1aTogY29uZmlnLnVpLFxuICAgIH0gc2F0aXNmaWVzIEdyb3VwSW5mbzxMaXN0VHlwZUluZm8+LFxuICAgIC4uLmNvbmZpZy5maWVsZHMsXG4gIH0gYXMgQmFzZUZpZWxkczxMaXN0VHlwZUluZm8+IC8vIFRPRE86IEZJWE1FLCBzZWUgaW5pdGlhbGlzZS1saXN0cy50czpnZXRMaXN0c1dpdGhJbml0aWFsaXNlZEZpZWxkc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdDxMaXN0VHlwZUluZm8gZXh0ZW5kcyBCYXNlTGlzdFR5cGVJbmZvPihjb25maWc6IExpc3RDb25maWc8TGlzdFR5cGVJbmZvPikge1xuICByZXR1cm4geyAuLi5jb25maWcgfVxufVxuIl0sIm5hbWVzIjpbImlkRmllbGRUeXBlIiwiaW5qZWN0RGVmYXVsdHMiLCJjb25maWciLCJkZWZhdWx0SWRGaWVsZCIsImxpc3RLZXkiLCJsaXN0IiwiT2JqZWN0IiwiZW50cmllcyIsImxpc3RzIiwiZmllbGRzIiwiaWQiLCJFcnJvciIsImlzU2luZ2xldG9uIiwiZGIiLCJpZEZpZWxkIiwidXBkYXRlZCIsImtpbmQiLCJ0eXBlIiwiZGVmYXVsdElzQWNjZXNzQWxsb3dlZCIsInNlc3Npb24iLCJzZXNzaW9uU3RyYXRlZ3kiLCJ1bmRlZmluZWQiLCJub29wIiwiaWRlbnRpdHkiLCJ4IiwiaW5jbHVkZXMiLCJwcm92aWRlciIsIlR5cGVFcnJvciIsInVybCIsImNvcnMiLCJzZXJ2ZXIiLCJvcmlnaW4iLCJjcmVkZW50aWFscyIsImh0dHBPcHRpb25zIiwicG9ydCIsIm9wdGlvbnMiLCJhc3NpZ24iLCJ0eXBlcyIsInBhdGgiLCJzaGFkb3dEYXRhYmFzZVVybCIsImV4dGVuZFByaXNtYVNjaGVtYSIsImV4dGVuZFByaXNtYUNsaWVudCIsIm9uQ29ubmVjdCIsInByaXNtYUNsaWVudFBhdGgiLCJwcmlzbWFTY2hlbWFQYXRoIiwiZW5hYmxlTG9nZ2luZyIsImdyYXBocWwiLCJwbGF5Z3JvdW5kIiwicHJvY2VzcyIsInNjaGVtYVBhdGgiLCJleHRlbmRHcmFwaHFsU2NoZW1hIiwicyIsIm1heEZpbGVTaXplIiwiZXh0ZW5kRXhwcmVzc0FwcCIsImV4dGVuZEh0dHBTZXJ2ZXIiLCJ0ZWxlbWV0cnkiLCJ1aSIsImJhc2VQYXRoIiwiaXNBY2Nlc3NBbGxvd2VkIiwiaXNEaXNhYmxlZCIsImdldEFkZGl0aW9uYWxGaWxlcyIsInBhZ2VNaWRkbGV3YXJlIiwicHVibGljUGFnZXMiLCJpIiwiZ3JvdXAiLCJrZXlzIiwic29tZSIsImtleSIsInN0YXJ0c1dpdGgiLCJsYWJlbCIsImRlc2NyaXB0aW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/schema.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/types/admin-meta.ts":
/*!*********************************************************!*\
  !*** ../../../../packages/core/src/types/admin-meta.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvYWRtaW4tbWV0YS50cyIsIm1hcHBpbmdzIjoiO0FBOEtDIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2NvcmUvc3JjL3R5cGVzL2FkbWluLW1ldGEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBSZWFjdEVsZW1lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB0eXBlIHsgR3JhcGhRTE5hbWVzLCBKU09OVmFsdWUgfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHR5cGUgeyBDb25kaXRpb25hbEZpZWxkRmlsdGVyLCBDb25kaXRpb25hbEZpZWxkRmlsdGVyQ2FzZSB9IGZyb20gJy4vY29uZmlnJ1xuaW1wb3J0IHR5cGUgeyBCYXNlTGlzdFR5cGVJbmZvIH0gZnJvbSAnLi90eXBlLWluZm8nXG5cbmV4cG9ydCB0eXBlIE5hdmlnYXRpb25Qcm9wcyA9IHtcbiAgbGlzdHM6IExpc3RNZXRhW11cbn1cblxuZXhwb3J0IHR5cGUgQWRtaW5Db25maWcgPSB7XG4gIGNvbXBvbmVudHM/OiB7XG4gICAgTG9nbz86IChwcm9wczogb2JqZWN0KSA9PiBSZWFjdEVsZW1lbnRcbiAgICBOYXZpZ2F0aW9uPzogKHByb3BzOiBOYXZpZ2F0aW9uUHJvcHMpID0+IFJlYWN0RWxlbWVudFxuICB9XG59XG5cbmV4cG9ydCB0eXBlIEZpZWxkQ29udHJvbGxlckNvbmZpZzxGaWVsZE1ldGEgZXh0ZW5kcyBKU09OVmFsdWUgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ+ID0ge1xuICBsaXN0S2V5OiBzdHJpbmdcbiAgZmllbGRLZXk6IHN0cmluZ1xuXG4gIGxhYmVsOiBzdHJpbmdcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xuICBjdXN0b21WaWV3czogUmVjb3JkPHN0cmluZywgYW55PlxuICBmaWVsZE1ldGE6IEZpZWxkTWV0YVxufVxuXG50eXBlIEZpbHRlclR5cGVEZWNsYXJhdGlvbjxWYWx1ZSBleHRlbmRzIEpTT05WYWx1ZT4gPSB7XG4gIHJlYWRvbmx5IGxhYmVsOiBzdHJpbmdcbiAgcmVhZG9ubHkgaW5pdGlhbFZhbHVlOiBWYWx1ZVxufVxuXG5leHBvcnQgdHlwZSBGaWx0ZXJUeXBlVG9Gb3JtYXQ8VmFsdWUgZXh0ZW5kcyBKU09OVmFsdWU+ID0ge1xuICByZWFkb25seSB0eXBlOiBzdHJpbmdcbiAgcmVhZG9ubHkgbGFiZWw6IHN0cmluZ1xuICByZWFkb25seSB2YWx1ZTogVmFsdWVcbn1cblxuZXhwb3J0IHR5cGUgRmllbGRDb250cm9sbGVyPFxuICBGb3JtU3RhdGUsXG4gIEZpbHRlclZhbHVlIGV4dGVuZHMgSlNPTlZhbHVlID0gbmV2ZXIsXG4gIEdyYXBoUUxGaWx0ZXJWYWx1ZSA9IG5ldmVyLFxuPiA9IHtcbiAgZmllbGRLZXk6IHN0cmluZ1xuXG4gIGxhYmVsOiBzdHJpbmdcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xuXG4gIGRlZmF1bHRWYWx1ZTogRm9ybVN0YXRlXG4gIGRlc2VyaWFsaXplOiAoaXRlbTogYW55KSA9PiBGb3JtU3RhdGUgLy8gVE9ETzogdW5rbm93blxuICBzZXJpYWxpemU6IChmb3JtU3RhdGU6IEZvcm1TdGF0ZSkgPT4gYW55IC8vIFRPRE86IHVua25vd25cbiAgdmFsaWRhdGU/OiAoZm9ybVN0YXRlOiBGb3JtU3RhdGUsIG9wdHM6IHsgaXNSZXF1aXJlZDogYm9vbGVhbiB9KSA9PiBib29sZWFuXG5cbiAgZ3JhcGhxbFNlbGVjdGlvbjogc3RyaW5nXG4gIGZpbHRlcj86IHtcbiAgICB0eXBlczogUmVjb3JkPHN0cmluZywgRmlsdGVyVHlwZURlY2xhcmF0aW9uPEZpbHRlclZhbHVlPj5cbiAgICBwYXJzZUdyYXBoUUwodmFsdWU6IEdyYXBoUUxGaWx0ZXJWYWx1ZSAmIHt9KTogeyB0eXBlOiBzdHJpbmc7IHZhbHVlOiBGaWx0ZXJWYWx1ZSB9W11cbiAgICBncmFwaHFsKHR5cGU6IHsgdHlwZTogc3RyaW5nOyB2YWx1ZTogRmlsdGVyVmFsdWUgfSk6IFJlY29yZDxzdHJpbmcsIGFueT5cbiAgICBMYWJlbCh0eXBlOiBGaWx0ZXJUeXBlVG9Gb3JtYXQ8RmlsdGVyVmFsdWU+KTogc3RyaW5nIHwgUmVhY3RFbGVtZW50IHwgbnVsbFxuICAgIEZpbHRlcihwcm9wczoge1xuICAgICAgYXV0b0ZvY3VzPzogYm9vbGVhblxuICAgICAgZm9yY2VWYWxpZGF0aW9uPzogYm9vbGVhblxuICAgICAgY29udGV4dDogJ2FkZCcgfCAnZWRpdCdcbiAgICAgIG9uQ2hhbmdlKHZhbHVlOiBGaWx0ZXJWYWx1ZSk6IHZvaWRcbiAgICAgIHR5cGU6IHN0cmluZ1xuICAgICAgLy8gVE9ETzogY291bGQgYmUgZGVyaXZlZCBgZmlsdGVyLnR5cGVzW3R5cGVdLmxhYmVsYD9cbiAgICAgIHR5cGVMYWJlbD86IHN0cmluZ1xuICAgICAgdmFsdWU6IEZpbHRlclZhbHVlXG4gICAgfSk6IFJlYWN0RWxlbWVudCB8IG51bGxcbiAgfVxufVxuXG4vLyBUT0RPOiBkdXBsaWNhdGUsIHJlZmVyZW5jZSBjb3JlL3NyYy9saWIvY3JlYXRlLWFkbWluLW1ldGEudHNcbmV4cG9ydCB0eXBlIEZpZWxkTWV0YSA9IHtcbiAga2V5OiBzdHJpbmdcblxuICBsYWJlbDogc3RyaW5nXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgZmllbGRNZXRhOiBKU09OVmFsdWUgfCBudWxsXG4gIHZpZXdzSW5kZXg6IG51bWJlclxuICBjdXN0b21WaWV3c0luZGV4OiBudW1iZXIgfCBudWxsXG4gIHZpZXdzOiBGaWVsZFZpZXdzW251bWJlcl1cbiAgY29udHJvbGxlcjogRmllbGRDb250cm9sbGVyPHVua25vd24sIEpTT05WYWx1ZT5cbiAgaXNGaWx0ZXJhYmxlOiBib29sZWFuXG4gIGlzT3JkZXJhYmxlOiBib29sZWFuXG5cbiAgc2VhcmNoOiAnZGVmYXVsdCcgfCAnaW5zZW5zaXRpdmUnIHwgbnVsbFxuICBncmFwaHFsOiB7XG4gICAgaXNOb25OdWxsOiAoJ3JlYWQnIHwgJ2NyZWF0ZScgfCAndXBkYXRlJylbXVxuICB9XG4gIGNyZWF0ZVZpZXc6IHtcbiAgICBmaWVsZE1vZGU6IENvbmRpdGlvbmFsRmllbGRGaWx0ZXI8J2VkaXQnIHwgJ2hpZGRlbicsIEJhc2VMaXN0VHlwZUluZm8+XG4gICAgaXNSZXF1aXJlZDogQ29uZGl0aW9uYWxGaWVsZEZpbHRlckNhc2U8QmFzZUxpc3RUeXBlSW5mbz5cbiAgfVxuICBpdGVtVmlldzoge1xuICAgIGZpZWxkTW9kZTogQ29uZGl0aW9uYWxGaWVsZEZpbHRlcjwnZWRpdCcgfCAncmVhZCcgfCAnaGlkZGVuJywgQmFzZUxpc3RUeXBlSW5mbz5cbiAgICBpc1JlcXVpcmVkOiBDb25kaXRpb25hbEZpZWxkRmlsdGVyQ2FzZTxCYXNlTGlzdFR5cGVJbmZvPlxuICAgIGZpZWxkUG9zaXRpb246ICdmb3JtJyB8ICdzaWRlYmFyJ1xuICB9XG4gIGxpc3RWaWV3OiB7XG4gICAgZmllbGRNb2RlOiAncmVhZCcgfCAnaGlkZGVuJ1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEZpZWxkR3JvdXBNZXRhID0ge1xuICBsYWJlbDogc3RyaW5nXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmdcbiAgZmllbGRzOiBGaWVsZE1ldGFbXVxufVxuXG5leHBvcnQgdHlwZSBMaXN0TWV0YSA9IHtcbiAga2V5OiBzdHJpbmdcbiAgbGFiZWw6IHN0cmluZ1xuICBzaW5ndWxhcjogc3RyaW5nXG4gIHBsdXJhbDogc3RyaW5nXG4gIHBhdGg6IHN0cmluZ1xuXG4gIGxhYmVsRmllbGQ6IHN0cmluZ1xuICBmaWVsZHM6IHsgW2tleTogc3RyaW5nXTogRmllbGRNZXRhIH1cbiAgZ3JvdXBzOiBGaWVsZEdyb3VwTWV0YVtdXG4gIGdyYXBocWw6IHtcbiAgICBuYW1lczogR3JhcGhRTE5hbWVzXG4gIH1cblxuICBwYWdlU2l6ZTogbnVtYmVyXG4gIGluaXRpYWxDb2x1bW5zOiBzdHJpbmdbXVxuICBpbml0aWFsU2VhcmNoRmllbGRzOiBzdHJpbmdbXVxuICBpbml0aWFsU29ydDogbnVsbCB8IHsgZGlyZWN0aW9uOiAnQVNDJyB8ICdERVNDJzsgZmllbGQ6IHN0cmluZyB9XG4gIGluaXRpYWxGaWx0ZXI6IEpTT05WYWx1ZVxuICBpc1NpbmdsZXRvbjogYm9vbGVhblxuXG4gIGhpZGVOYXZpZ2F0aW9uOiBib29sZWFuXG4gIGhpZGVDcmVhdGU6IGJvb2xlYW5cbiAgaGlkZURlbGV0ZTogYm9vbGVhblxufVxuXG5leHBvcnQgdHlwZSBJdGVtID0ge1xuICBba2V5OiBzdHJpbmddOiB1bmtub3duXG59XG5cbmV4cG9ydCB0eXBlIEZpZWxkUHJvcHM8RmllbGRDb250cm9sbGVyRm4gZXh0ZW5kcyAoLi4uYXJnczogYW55KSA9PiBGaWVsZENvbnRyb2xsZXI8YW55LCBhbnk+PiA9IHtcbiAgYXV0b0ZvY3VzPzogYm9vbGVhblxuICBmaWVsZDogUmV0dXJuVHlwZTxGaWVsZENvbnRyb2xsZXJGbj5cbiAgaXNSZXF1aXJlZDogYm9vbGVhblxuICAvKipcbiAgICogV2lsbCBiZSB0cnVlIHdoZW4gdGhlIHVzZXIgaGFzIGNsaWNrZWQgc3VibWl0IGFuZFxuICAgKiB0aGUgdmFsaWRhdGUgZnVuY3Rpb24gb24gdGhlIGZpZWxkIGNvbnRyb2xsZXIgaGFzIHJldHVybmVkIGZhbHNlXG4gICAqL1xuICBmb3JjZVZhbGlkYXRpb24/OiBib29sZWFuXG4gIG9uQ2hhbmdlPyh2YWx1ZTogUmV0dXJuVHlwZTxSZXR1cm5UeXBlPEZpZWxkQ29udHJvbGxlckZuPlsnZGVzZXJpYWxpemUnXT4pOiB2b2lkXG4gIHZhbHVlOiBSZXR1cm5UeXBlPFJldHVyblR5cGU8RmllbGRDb250cm9sbGVyRm4+WydkZXNlcmlhbGl6ZSddPlxuICBpdGVtVmFsdWU6IEl0ZW1cbn1cblxuZXhwb3J0IHR5cGUgRmllbGRWaWV3cyA9IFJlY29yZDxcbiAgc3RyaW5nLFxuICB7XG4gICAgRmllbGQ6IChwcm9wczogRmllbGRQcm9wczxhbnk+KSA9PiBSZWFjdEVsZW1lbnQgfCBudWxsXG4gICAgQ2VsbDogQ2VsbENvbXBvbmVudFxuICAgIGNvbnRyb2xsZXI6IChhcmdzOiBGaWVsZENvbnRyb2xsZXJDb25maWc8YW55PikgPT4gRmllbGRDb250cm9sbGVyPHVua25vd24sIEpTT05WYWx1ZT5cbiAgICBhbGxvd2VkRXhwb3J0c09uQ3VzdG9tVmlld3M/OiBzdHJpbmdbXVxuICB9XG4+XG5cbmV4cG9ydCB0eXBlIENlbGxDb21wb25lbnQ8XG4gIEZpZWxkQ29udHJvbGxlckZuIGV4dGVuZHMgKC4uLmFyZ3M6IGFueSkgPT4gRmllbGRDb250cm9sbGVyPGFueSwgYW55PiA9ICgpID0+IEZpZWxkQ29udHJvbGxlcjxcbiAgICBhbnksXG4gICAgYW55XG4gID4sXG4+ID0ge1xuICAocHJvcHM6IHtcbiAgICB2YWx1ZTogYW55IC8vIFRPRE86IFRcbiAgICBmaWVsZDogUmV0dXJuVHlwZTxGaWVsZENvbnRyb2xsZXJGbj5cbiAgICBpdGVtOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuICB9KTogUmVhY3RFbGVtZW50IHwgbnVsbFxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/types/admin-meta.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/types/config/index.ts":
/*!***********************************************************!*\
  !*** ../../../../packages/core/src/types/config/index.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvY29uZmlnL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7QUEyTTRFIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2NvcmUvc3JjL3R5cGVzL2NvbmZpZy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFNlcnZlciB9IGZyb20gJ25vZGU6aHR0cCdcbmltcG9ydCB0eXBlIHsgTGlzdGVuT3B0aW9ucyB9IGZyb20gJ25vZGU6bmV0J1xuaW1wb3J0IHR5cGUgeyBBcG9sbG9TZXJ2ZXJPcHRpb25zIH0gZnJvbSAnQGFwb2xsby9zZXJ2ZXInXG5pbXBvcnQgdHlwZSB7IENvcnNPcHRpb25zIH0gZnJvbSAnY29ycydcbmltcG9ydCB0eXBlIGV4cHJlc3MgZnJvbSAnZXhwcmVzcydcbmltcG9ydCB0eXBlIHsgR3JhcGhRTFNjaGVtYSB9IGZyb20gJ2dyYXBocWwnXG5pbXBvcnQgdHlwZSB7IE9wdGlvbnMgYXMgQm9keVBhcnNlck9wdGlvbnMgfSBmcm9tICdib2R5LXBhcnNlcidcblxuaW1wb3J0IHR5cGUgeyBCYXNlS2V5c3RvbmVUeXBlSW5mbywgS2V5c3RvbmVDb250ZXh0LCBEYXRhYmFzZVByb3ZpZGVyIH0gZnJvbSAnLi4nXG5pbXBvcnQgdHlwZSB7IFNlc3Npb25TdHJhdGVneSB9IGZyb20gJy4uL3Nlc3Npb24nXG5pbXBvcnQgdHlwZSB7IE1heWJlUHJvbWlzZSB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHR5cGUge1xuICBJZEZpZWxkQ29uZmlnLFxuICBMaXN0Q29uZmlnLFxuICBNYXliZUl0ZW1GdW5jdGlvbldpdGhGaWx0ZXIsXG4gIE1heWJlU2Vzc2lvbkZ1bmN0aW9uLFxufSBmcm9tICcuL2xpc3RzJ1xuaW1wb3J0IHR5cGUgeyBCYXNlRmllbGRzIH0gZnJvbSAnLi9maWVsZHMnXG5pbXBvcnQgdHlwZSB7IExpc3RBY2Nlc3NDb250cm9sLCBGaWVsZEFjY2Vzc0NvbnRyb2wgfSBmcm9tICcuL2FjY2Vzcy1jb250cm9sJ1xuaW1wb3J0IHR5cGUgeyBMaXN0SG9va3MsIEZpZWxkSG9va3MgfSBmcm9tICcuL2hvb2tzJ1xuXG5leHBvcnQgdHlwZSAqIGZyb20gJy4vYWNjZXNzLWNvbnRyb2wnXG5leHBvcnQgdHlwZSAqIGZyb20gJy4vZmllbGRzJ1xuZXhwb3J0IHR5cGUgKiBmcm9tICcuL2xpc3RzJ1xuXG4vLyBjb3B5IG9mIHRoZSBQcmlzbWEncyBMb2dMZXZlbCB0eXBlcyBmcm9tIGBzcmMvcnVudGltZS9nZXRMb2dMZXZlbC50c2AsIGFzIHdlIGRvbnQgaGF2ZSB0aGVtXG50eXBlIFByaXNtYUxvZ0xldmVsID0gJ2luZm8nIHwgJ3F1ZXJ5JyB8ICd3YXJuJyB8ICdlcnJvcidcbnR5cGUgUHJpc21hTG9nRGVmaW5pdGlvbiA9IHtcbiAgbGV2ZWw6IFByaXNtYUxvZ0xldmVsXG4gIGVtaXQ6ICdzdGRvdXQnIHwgJ2V2ZW50J1xufVxuXG5leHBvcnQgdHlwZSBLZXlzdG9uZUNvbmZpZ1ByZTxUeXBlSW5mbyBleHRlbmRzIEJhc2VLZXlzdG9uZVR5cGVJbmZvID0gQmFzZUtleXN0b25lVHlwZUluZm8+ID0ge1xuICB0eXBlcz86IHtcbiAgICBwYXRoOiBzdHJpbmdcbiAgfVxuXG4gIGRiOiB7XG4gICAgcHJvdmlkZXI6IERhdGFiYXNlUHJvdmlkZXJcbiAgICB1cmw6IHN0cmluZ1xuXG4gICAgc2hhZG93RGF0YWJhc2VVcmw/OiBzdHJpbmdcbiAgICBvbkNvbm5lY3Q/OiAoYXJnczogS2V5c3RvbmVDb250ZXh0PFR5cGVJbmZvPikgPT4gUHJvbWlzZTx2b2lkPlxuICAgIGVuYWJsZUxvZ2dpbmc/OiBib29sZWFuIHwgQXJyYXk8UHJpc21hTG9nTGV2ZWwgfCBQcmlzbWFMb2dEZWZpbml0aW9uPlxuICAgIGlkRmllbGQ/OiBJZEZpZWxkQ29uZmlnXG4gICAgcHJpc21hQ2xpZW50UGF0aD86IHN0cmluZ1xuICAgIHByaXNtYVNjaGVtYVBhdGg/OiBzdHJpbmdcblxuICAgIGV4dGVuZFByaXNtYVNjaGVtYT86IChzY2hlbWE6IHN0cmluZykgPT4gc3RyaW5nXG4gICAgZXh0ZW5kUHJpc21hQ2xpZW50PzogKGNsaWVudDogYW55KSA9PiBhbnlcbiAgfVxuXG4gIGdyYXBocWw/OiB7XG4gICAgLy8gVGhlIHBhdGggb2YgdGhlIEdyYXBoUUwgQVBJIGVuZHBvaW50LiBEZWZhdWx0OiAnL2FwaS9ncmFwaHFsJy5cbiAgICBwYXRoPzogc3RyaW5nXG4gICAgLy8gVGhlIENPUlMgY29uZmlndXJhdGlvbiB0byB1c2Ugb24gdGhlIEdyYXBoUUwgQVBJIGVuZHBvaW50LlxuICAgIC8vIERlZmF1bHQ6IHsgb3JpZ2luOiAnaHR0cHM6Ly9zdHVkaW8uYXBvbGxvZ3JhcGhxbC5jb20nLCBjcmVkZW50aWFsczogdHJ1ZSB9XG4gICAgY29ycz86IENvcnNPcHRpb25zXG4gICAgYm9keVBhcnNlcj86IEJvZHlQYXJzZXJPcHRpb25zXG4gICAgLyoqXG4gICAgICogLSBgdHJ1ZWAgLSBBZGQgYEFwb2xsb1NlcnZlclBsdWdpbkxhbmRpbmdQYWdlR3JhcGhRTFBsYXlncm91bmRgIHRvIHRoZSBBcG9sbG8gU2VydmVyIHBsdWdpbnNcbiAgICAgKiAtIGBmYWxzZWAgLSBBZGQgYEFwb2xsb1NlcnZlclBsdWdpbkxhbmRpbmdQYWdlRGlzYWJsZWRgIHRvIHRoZSBBcG9sbG8gU2VydmVyIHBsdWdpbnNcbiAgICAgKiAtIGAnYXBvbGxvJ2AgLSBEbyBub3QgYWRkIGFueSBwbHVnaW5zIHRvIHRoZSBBcG9sbG8gY29uZmlnLCB0aGlzIHdpbGwgdXNlIFtBcG9sbG8gU2FuZGJveF0oaHR0cHM6Ly93d3cuYXBvbGxvZ3JhcGhxbC5jb20vZG9jcy9hcG9sbG8tc2VydmVyL3Rlc3RpbmcvYnVpbGQtcnVuLXF1ZXJpZXMvI2Fwb2xsby1zYW5kYm94KVxuICAgICAqIEBkZWZhdWx0IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcbiAgICAgKi9cbiAgICBwbGF5Z3JvdW5kPzogYm9vbGVhbiB8ICdhcG9sbG8nXG4gICAgLyoqXG4gICAgICogIEFkZGl0aW9uYWwgb3B0aW9ucyB0byBwYXNzIGludG8gdGhlIEFwb2xsb1NlcnZlciBjb25zdHJ1Y3Rvci5cbiAgICAgKiAgQHNlZSBodHRwczovL3d3dy5hcG9sbG9ncmFwaHFsLmNvbS9kb2NzL2Fwb2xsby1zZXJ2ZXIvYXBpL2Fwb2xsby1zZXJ2ZXIvI2NvbnN0cnVjdG9yXG4gICAgICovXG4gICAgYXBvbGxvQ29uZmlnPzogUGFydGlhbDxBcG9sbG9TZXJ2ZXJPcHRpb25zPEtleXN0b25lQ29udGV4dDxUeXBlSW5mbz4+PlxuICAgIC8qKlxuICAgICAqIFdoZW4gYW4gZXJyb3IgaXMgcmV0dXJuZWQgZnJvbSB0aGUgR3JhcGhRTCBBUEksIEFwb2xsbyBjYW4gaW5jbHVkZSBhIHN0YWNrdHJhY2VcbiAgICAgKiBpbmRpY2F0aW5nIHdoZXJlIHRoZSBlcnJvciBvY2N1cnJlZC4gV2hlbiBLZXlzdG9uZSBpcyBwcm9jZXNzaW5nIG11dGF0aW9ucywgaXRcbiAgICAgKiB3aWxsIHNvbWV0aW1lcyBjYXB0dXJlcyBtb3JlIHRoYW4gb25lIGVycm9yIGF0IGEgdGltZSwgYW5kIHRoZW4gZ3JvdXAgdGhlc2UgaW50b1xuICAgICAqIGEgc2luZ2xlIGVycm9yIHJldHVybmVkIGZyb20gdGhlIEdyYXBoUUwgQVBJLiBFYWNoIG9mIHRoZXNlIGVycm9ycyB3aWxsIGluY2x1ZGVcbiAgICAgKiBhIHN0YWNrdHJhY2UuXG4gICAgICpcbiAgICAgKiBJbiBnZW5lcmFsIGJvdGggY2F0ZWdvcmllcyBvZiBzdGFja3RyYWNlIGFyZSB1c2VmdWwgZm9yIGRlYnVnZ2luZyB3aGlsZSBkZXZlbG9waW5nLFxuICAgICAqIGJ1dCBzaG91bGQgbm90IGJlIGV4cG9zZWQgaW4gcHJvZHVjdGlvbiwgYW5kIHRoaXMgaXMgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIEtleXN0b25lLlxuICAgICAqXG4gICAgICogWW91IGNhbiB1c2UgdGhlIGBkZWJ1Z2Agb3B0aW9uIHRvIGNoYW5nZSB0aGlzIGJlaGF2aW91ci4gQSB1c2UgY2FzZSBmb3IgdGhpc1xuICAgICAqIHdvdWxkIGJlIGlmIHlvdSBuZWVkIHRvIHNlbmQgdGhlIHN0YWNrdHJhY2VzIHRvIGEgbG9nLCBidXQgZG8gbm90IHdhbnQgdG8gcmV0dXJuIHRoZW1cbiAgICAgKiBmcm9tIHRoZSBBUEkuIEluIHRoaXMgY2FzZSB5b3UgY291bGQgc2V0IGBkZWJ1ZzogdHJ1ZWAgYW5kIHVzZVxuICAgICAqIGBhcG9sbG9Db25maWcuZm9ybWF0RXJyb3JgIHRvIGxvZyB0aGUgc3RhY2t0cmFjZXMgYW5kIHRoZW4gc3RyaXAgdGhlbSBvdXQgYmVmb3JlXG4gICAgICogcmV0dXJuaW5nIHRoZSBlcnJvci5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogZ3JhcGhxbDoge1xuICAgICAqICAgZGVidWc6IHRydWUsXG4gICAgICogICBhcG9sbG9Db25maWc6IHtcbiAgICAgKiAgICAgZm9ybWF0RXJyb3I6IGVyciA9PiB7XG4gICAgICogICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgICogICAgICAgZGVsZXRlIGVyci5leHRlbnNpb25zPy5lcnJvcnNcbiAgICAgKiAgICAgICBkZWxldGUgZXJyLmV4dGVuc2lvbnM/LmV4Y2VwdGlvbj8uZXJyb3JzXG4gICAgICogICAgICAgZGVsZXRlIGVyci5leHRlbnNpb25zPy5leGNlcHRpb24/LnN0YWNrdHJhY2VcbiAgICAgKiAgICAgICByZXR1cm4gZXJyXG4gICAgICogICAgIH0sXG4gICAgICogICB9LFxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcbiAgICAgKi9cbiAgICBkZWJ1Zz86IGJvb2xlYW5cblxuICAgIC8qKlxuICAgICAqIFRoZSBwYXRoIHRvIEdyYXBoUUwgc2NoZW1hXG4gICAgICogQGRlZmF1bHQgJ3NjaGVtYS5ncmFwaHFsJ1xuICAgICAqL1xuICAgIHNjaGVtYVBhdGg/OiBzdHJpbmdcblxuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyB0aGUgS2V5c3RvbmUgR3JhcGhRTCBzY2hlbWEgZm9yIHRoZSBkZXZlbG9wZXIgdG8gZXh0ZW5kXG4gICAgICogQGRlZmF1bHQgJ3NjaGVtYS5ncmFwaHFsJ1xuICAgICAqL1xuICAgIGV4dGVuZEdyYXBocWxTY2hlbWE/OiAoc2NoZW1hOiBHcmFwaFFMU2NoZW1hKSA9PiBHcmFwaFFMU2NoZW1hXG4gIH1cblxuICBsaXN0czogUmVjb3JkPHN0cmluZywgTGlzdENvbmZpZzxhbnk+PlxuICBzZXJ2ZXI/OiB7XG4gICAgLyoqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGNvcnMgbWlkZGxld2FyZS4gU2V0IHRvIGB0cnVlYCB0byB1c2UgS2V5c3RvbmUncyBkZWZhdWx0cyAqL1xuICAgIGNvcnM/OiBib29sZWFuIHwgQ29yc09wdGlvbnNcblxuICAgIC8qKiBNYXhpbXVtIHVwbG9hZCBmaWxlIHNpemUgYWxsb3dlZCAoaW4gYnl0ZXMpICovXG4gICAgbWF4RmlsZVNpemU/OiBudW1iZXJcblxuICAgIC8qKiBleHRlbmQgdGhlIEV4cHJlc3MgYXBwbGljYXRpb24gdXNlZCBieSBLZXlzdG9uZSAqL1xuICAgIGV4dGVuZEV4cHJlc3NBcHA/OiAoXG4gICAgICBhcHA6IGV4cHJlc3MuRXhwcmVzcyxcbiAgICAgIGNvbnRleHQ6IEtleXN0b25lQ29udGV4dDxUeXBlSW5mbz5cbiAgICApID0+IE1heWJlUHJvbWlzZTx2b2lkPlxuXG4gICAgLyoqIGV4dGVuZCB0aGUgbm9kZTpodHRwIHNlcnZlciB1c2VkIGJ5IEtleXN0b25lICovXG4gICAgZXh0ZW5kSHR0cFNlcnZlcj86IChzZXJ2ZXI6IFNlcnZlciwgY29udGV4dDogS2V5c3RvbmVDb250ZXh0PFR5cGVJbmZvPikgPT4gTWF5YmVQcm9taXNlPHZvaWQ+XG4gIH0gJiAoXG4gICAgfCB7XG4gICAgICAgIC8qKiBQb3J0IG51bWJlciB0byBzdGFydCB0aGUgc2VydmVyIG9uLiBEZWZhdWx0cyB0byBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDAgKi9cbiAgICAgICAgcG9ydD86IG51bWJlclxuICAgICAgfVxuICAgIHwge1xuICAgICAgICAvKiogbm9kZSBodHRwLlNlcnZlciBvcHRpb25zICovXG4gICAgICAgIG9wdGlvbnM/OiBMaXN0ZW5PcHRpb25zXG4gICAgICB9XG4gIClcblxuICBzZXNzaW9uPzogU2Vzc2lvblN0cmF0ZWd5PFR5cGVJbmZvWydzZXNzaW9uJ10sIFR5cGVJbmZvPlxuXG4gIC8qKiBUZWxlbWV0cnkgYm9vbGVhbiB0byBkaXNhYmxlIHRlbGVtZXRyeSBmb3IgdGhpcyBwcm9qZWN0ICovXG4gIHRlbGVtZXRyeT86IGJvb2xlYW5cblxuICB1aT86IHtcbiAgICAvKiogQ29tcGxldGVseSBkaXNhYmxlcyB0aGUgQWRtaW4gVUkgKi9cbiAgICBpc0Rpc2FibGVkPzogYm9vbGVhblxuXG4gICAgLyoqIEEgZnVuY3Rpb24gdGhhdCBjYW4gYmUgcnVuIHRvIHZhbGlkYXRlIHRoYXQgdGhlIGN1cnJlbnQgc2Vzc2lvbiBzaG91bGQgaGF2ZSBhY2Nlc3MgdG8gdGhlIEFkbWluIFVJICovXG4gICAgaXNBY2Nlc3NBbGxvd2VkPzogKGNvbnRleHQ6IEtleXN0b25lQ29udGV4dDxUeXBlSW5mbz4pID0+IE1heWJlUHJvbWlzZTxib29sZWFuPlxuXG4gICAgLyoqIEFuIGFycmF5IG9mIHBhZ2Ugcm91dGVzIHRoYXQgYnlwYXNzIHRoZSBpc0FjY2Vzc0FsbG93ZWQgZnVuY3Rpb24gKi9cbiAgICBwdWJsaWNQYWdlcz86IHJlYWRvbmx5IHN0cmluZ1tdXG5cbiAgICAvKiogVGhlIEJhc2UgUGF0aCBmb3IgS2V5c3RvbmVzIEFkbWluIFVJICovXG4gICAgYmFzZVBhdGg/OiBzdHJpbmdcblxuICAgIGdldEFkZGl0aW9uYWxGaWxlcz86IHJlYWRvbmx5ICgoKSA9PiBNYXliZVByb21pc2U8cmVhZG9ubHkgQWRtaW5GaWxlVG9Xcml0ZVtdPilbXVxuXG4gICAgLyoqIEFuIGFzeW5jIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCBjYW4gb3B0aW9uYWxseSByZXR1cm4gYSByZWRpcmVjdCAqL1xuICAgIHBhZ2VNaWRkbGV3YXJlPzogKGFyZ3M6IHtcbiAgICAgIGNvbnRleHQ6IEtleXN0b25lQ29udGV4dDxUeXBlSW5mbz5cbiAgICAgIHdhc0FjY2Vzc0FsbG93ZWQ6IGJvb2xlYW5cbiAgICAgIGJhc2VQYXRoOiBzdHJpbmdcbiAgICB9KSA9PiBNYXliZVByb21pc2U8eyBraW5kOiAncmVkaXJlY3QnOyB0bzogc3RyaW5nIH0gfCB2b2lkPlxuICB9XG59XG5cbmV4cG9ydCB0eXBlIEtleXN0b25lQ29uZmlnPFR5cGVJbmZvIGV4dGVuZHMgQmFzZUtleXN0b25lVHlwZUluZm8gPSBCYXNlS2V5c3RvbmVUeXBlSW5mbz4gPSB7XG4gIHR5cGVzOiBLZXlzdG9uZUNvbmZpZ1ByZTxUeXBlSW5mbz5bJ3R5cGVzJ11cbiAgZGI6IE9taXQ8UmVxdWlyZWQ8S2V5c3RvbmVDb25maWdQcmU8VHlwZUluZm8+WydkYiddPiwgJ2VuYWJsZUxvZ2dpbmcnPiAmIHtcbiAgICBlbmFibGVMb2dnaW5nOiBQcmlzbWFMb2dMZXZlbCB8IEFycmF5PFByaXNtYUxvZ0xldmVsIHwgUHJpc21hTG9nRGVmaW5pdGlvbj5cbiAgfVxuICBncmFwaHFsOiBOb25OdWxsYWJsZTxLZXlzdG9uZUNvbmZpZ1ByZTxUeXBlSW5mbz5bJ2dyYXBocWwnXT4gJiB7XG4gICAgcGF0aDogc3RyaW5nXG4gIH1cbiAgbGlzdHM6IHtcbiAgICBbbGlzdEtleTogc3RyaW5nXToge1xuICAgICAgbGlzdEtleTogc3RyaW5nXG4gICAgfSAmIEtleXN0b25lQ29uZmlnUHJlPFR5cGVJbmZvPlsnbGlzdHMnXVtzdHJpbmddXG4gIH1cbiAgc2VydmVyOiBPbWl0PFJlcXVpcmVkPE5vbk51bGxhYmxlPEtleXN0b25lQ29uZmlnUHJlPFR5cGVJbmZvPlsnc2VydmVyJ10+PiwgJ2NvcnMnIHwgJ3BvcnQnPiAmIHtcbiAgICBjb3JzOiBDb3JzT3B0aW9ucyB8IG51bGxcbiAgICBvcHRpb25zOiBMaXN0ZW5PcHRpb25zXG4gIH1cbiAgc2Vzc2lvbjogS2V5c3RvbmVDb25maWdQcmU8VHlwZUluZm8+WydzZXNzaW9uJ11cbiAgdGVsZW1ldHJ5OiBib29sZWFuXG4gIHVpOiBOb25OdWxsYWJsZTxSZXF1aXJlZDxLZXlzdG9uZUNvbmZpZ1ByZTxUeXBlSW5mbz5bJ3VpJ10+PlxufVxuXG5leHBvcnQgdHlwZSB7IExpc3RDb25maWcsIEJhc2VGaWVsZHMsIE1heWJlU2Vzc2lvbkZ1bmN0aW9uLCBNYXliZUl0ZW1GdW5jdGlvbldpdGhGaWx0ZXIgfVxuXG5leHBvcnQgdHlwZSBBZG1pbkZpbGVUb1dyaXRlID1cbiAgfCB7IG1vZGU6ICd3cml0ZSc7IHNyYzogc3RyaW5nOyBvdXRwdXRQYXRoOiBzdHJpbmcgfVxuICB8IHsgbW9kZTogJ2NvcHknOyBpbnB1dFBhdGg6IHN0cmluZzsgb3V0cHV0UGF0aDogc3RyaW5nIH1cblxuZXhwb3J0IHR5cGUgeyBMaXN0SG9va3MsIExpc3RBY2Nlc3NDb250cm9sLCBGaWVsZEhvb2tzLCBGaWVsZEFjY2Vzc0NvbnRyb2wgfVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/types/config/index.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/types/context.ts":
/*!******************************************************!*\
  !*** ../../../../packages/core/src/types/context.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// GraphQL API\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvY29udGV4dC50cyIsIm1hcHBpbmdzIjoiO0FBZ0pBLGNBQWM7QUFVYiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy90eXBlcy9jb250ZXh0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgSW5jb21pbmdNZXNzYWdlLCBTZXJ2ZXJSZXNwb25zZSB9IGZyb20gJ2h0dHAnXG5pbXBvcnQgdHlwZSB7IERvY3VtZW50Tm9kZSwgRXhlY3V0aW9uUmVzdWx0LCBHcmFwaFFMU2NoZW1hIH0gZnJvbSAnZ3JhcGhxbCdcbmltcG9ydCB0eXBlIHsgVHlwZWREb2N1bWVudE5vZGUgfSBmcm9tICdAZ3JhcGhxbC10eXBlZC1kb2N1bWVudC1ub2RlL2NvcmUnXG5pbXBvcnQgdHlwZSB7IEluaXRpYWxpc2VkTGlzdCB9IGZyb20gJy4uL2xpYi9jb3JlL2luaXRpYWxpc2UtbGlzdHMnXG5pbXBvcnQgdHlwZSB7IFNlc3Npb25TdHJhdGVneSB9IGZyb20gJy4vc2Vzc2lvbidcbmltcG9ydCB0eXBlIHsgQmFzZUtleXN0b25lVHlwZUluZm8sIEJhc2VMaXN0VHlwZUluZm8gfSBmcm9tICcuL3R5cGUtaW5mbydcbmltcG9ydCB0eXBlIHsgTWF5YmVQcm9taXNlIH0gZnJvbSAnLi91dGlscydcblxuZXhwb3J0IHR5cGUgS2V5c3RvbmVDb250ZXh0PFR5cGVJbmZvIGV4dGVuZHMgQmFzZUtleXN0b25lVHlwZUluZm8gPSBCYXNlS2V5c3RvbmVUeXBlSW5mbz4gPSB7XG4gIHJlcT86IEluY29taW5nTWVzc2FnZVxuICByZXM/OiBTZXJ2ZXJSZXNwb25zZVxuICBkYjogS2V5c3RvbmVEYkFQSTxUeXBlSW5mb1snbGlzdHMnXT5cbiAgcXVlcnk6IEtleXN0b25lTGlzdHNBUEk8VHlwZUluZm9bJ2xpc3RzJ10+XG4gIGdyYXBocWw6IEtleXN0b25lR3JhcGhRTEFQSVxuICBzdWRvOiAoKSA9PiBLZXlzdG9uZUNvbnRleHQ8VHlwZUluZm8+XG4gIHdpdGhTZXNzaW9uOiAoc2Vzc2lvbj86IFR5cGVJbmZvWydzZXNzaW9uJ10pID0+IEtleXN0b25lQ29udGV4dDxUeXBlSW5mbz5cbiAgd2l0aFJlcXVlc3Q6IChyZXE6IEluY29taW5nTWVzc2FnZSwgcmVzPzogU2VydmVyUmVzcG9uc2UpID0+IFByb21pc2U8S2V5c3RvbmVDb250ZXh0PFR5cGVJbmZvPj5cbiAgcHJpc21hOiBUeXBlSW5mb1sncHJpc21hJ11cbiAgdHJhbnNhY3Rpb246IDxUPihcbiAgICBmOiAoY29udGV4dDogS2V5c3RvbmVDb250ZXh0PFR5cGVJbmZvPikgPT4gTWF5YmVQcm9taXNlPFQ+LFxuICAgIG9wdGlvbnM/OiB7XG4gICAgICBtYXhXYWl0PzogbnVtYmVyXG4gICAgICB0aW1lb3V0PzogbnVtYmVyXG4gICAgICBpc29sYXRpb25MZXZlbD86IHtcbiAgICAgICAgU2VyaWFsaXphYmxlOiAnU2VyaWFsaXphYmxlJ1xuICAgICAgfVxuICAgIH1cbiAgKSA9PiBQcm9taXNlPFQ+XG5cbiAgc2Vzc2lvblN0cmF0ZWd5PzogU2Vzc2lvblN0cmF0ZWd5PFR5cGVJbmZvWydzZXNzaW9uJ10sIFR5cGVJbmZvPlxuICBzZXNzaW9uPzogVHlwZUluZm9bJ3Nlc3Npb24nXVxuXG4gIC8qKlxuICAgKiBXQVJOSU5HOiBtYXkgY2hhbmdlIGluIHBhdGNoXG4gICAqL1xuICBfX2ludGVybmFsOiB7XG4gICAgbGlzdHM6IFJlY29yZDxzdHJpbmcsIEluaXRpYWxpc2VkTGlzdD5cbiAgICBwcmlzbWE6IHtcbiAgICAgIERiTnVsbDogdW5rbm93blxuICAgICAgSnNvbk51bGw6IHVua25vd25cbiAgICB9XG4gIH1cbn1cblxuLy8gTGlzdCBpdGVtIEFQSVxuXG50eXBlIFVuaXF1ZVdoZXJlSW5wdXQ8TGlzdFR5cGVJbmZvIGV4dGVuZHMgQmFzZUxpc3RUeXBlSW5mbz4gPVxuICBmYWxzZSBleHRlbmRzIExpc3RUeXBlSW5mb1snaXNTaW5nbGV0b24nXVxuICAgID8geyByZWFkb25seSB3aGVyZTogTGlzdFR5cGVJbmZvWydpbnB1dHMnXVsndW5pcXVlV2hlcmUnXSB9XG4gICAgOiB7IHJlYWRvbmx5IHdoZXJlPzogTGlzdFR5cGVJbmZvWydpbnB1dHMnXVsndW5pcXVlV2hlcmUnXSB9XG5cbnR5cGUgTGlzdEFQSTxMaXN0VHlwZUluZm8gZXh0ZW5kcyBCYXNlTGlzdFR5cGVJbmZvPiA9IHtcbiAgZmluZE1hbnkoXG4gICAgYXJncz86IHtcbiAgICAgIHJlYWRvbmx5IHdoZXJlPzogTGlzdFR5cGVJbmZvWydpbnB1dHMnXVsnd2hlcmUnXVxuICAgICAgcmVhZG9ubHkgdGFrZT86IG51bWJlclxuICAgICAgcmVhZG9ubHkgc2tpcD86IG51bWJlclxuICAgICAgcmVhZG9ubHkgb3JkZXJCeT86XG4gICAgICAgIHwgTGlzdFR5cGVJbmZvWydpbnB1dHMnXVsnb3JkZXJCeSddXG4gICAgICAgIHwgcmVhZG9ubHkgTGlzdFR5cGVJbmZvWydpbnB1dHMnXVsnb3JkZXJCeSddW11cbiAgICAgIHJlYWRvbmx5IGN1cnNvcj86IExpc3RUeXBlSW5mb1snaW5wdXRzJ11bJ3VuaXF1ZVdoZXJlJ11cbiAgICB9ICYgUmVzb2x2ZUZpZWxkc1xuICApOiBQcm9taXNlPHJlYWRvbmx5IFJlY29yZDxzdHJpbmcsIGFueT5bXT5cbiAgZmluZE9uZShhcmdzOiBVbmlxdWVXaGVyZUlucHV0PExpc3RUeXBlSW5mbz4gJiBSZXNvbHZlRmllbGRzKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PlxuICBjb3VudChhcmdzPzogeyByZWFkb25seSB3aGVyZT86IExpc3RUeXBlSW5mb1snaW5wdXRzJ11bJ3doZXJlJ10gfSk6IFByb21pc2U8bnVtYmVyPlxuICB1cGRhdGVPbmUoXG4gICAgYXJnczogVW5pcXVlV2hlcmVJbnB1dDxMaXN0VHlwZUluZm8+ICYge1xuICAgICAgcmVhZG9ubHkgZGF0YTogTGlzdFR5cGVJbmZvWydpbnB1dHMnXVsndXBkYXRlJ11cbiAgICB9ICYgUmVzb2x2ZUZpZWxkc1xuICApOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIGFueT4+XG4gIHVwZGF0ZU1hbnkoXG4gICAgYXJnczoge1xuICAgICAgcmVhZG9ubHkgZGF0YTogcmVhZG9ubHkgKFVuaXF1ZVdoZXJlSW5wdXQ8TGlzdFR5cGVJbmZvPiAmIHtcbiAgICAgICAgcmVhZG9ubHkgZGF0YTogTGlzdFR5cGVJbmZvWydpbnB1dHMnXVsndXBkYXRlJ11cbiAgICAgIH0pW11cbiAgICB9ICYgUmVzb2x2ZUZpZWxkc1xuICApOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIGFueT5bXT5cbiAgY3JlYXRlT25lKFxuICAgIGFyZ3M6IHsgcmVhZG9ubHkgZGF0YTogTGlzdFR5cGVJbmZvWydpbnB1dHMnXVsnY3JlYXRlJ10gfSAmIFJlc29sdmVGaWVsZHNcbiAgKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PlxuICBjcmVhdGVNYW55KFxuICAgIGFyZ3M6IHtcbiAgICAgIHJlYWRvbmx5IGRhdGE6IHJlYWRvbmx5IExpc3RUeXBlSW5mb1snaW5wdXRzJ11bJ2NyZWF0ZSddW11cbiAgICB9ICYgUmVzb2x2ZUZpZWxkc1xuICApOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIGFueT5bXT5cbiAgZGVsZXRlT25lKFxuICAgIGFyZ3M6IFVuaXF1ZVdoZXJlSW5wdXQ8TGlzdFR5cGVJbmZvPiAmIFJlc29sdmVGaWVsZHNcbiAgKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbD5cbiAgZGVsZXRlTWFueShcbiAgICBhcmdzOiB7XG4gICAgICByZWFkb25seSB3aGVyZTogcmVhZG9ubHkgTGlzdFR5cGVJbmZvWydpbnB1dHMnXVsndW5pcXVlV2hlcmUnXVtdXG4gICAgfSAmIFJlc29sdmVGaWVsZHNcbiAgKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBhbnk+W10+XG59XG5cbmV4cG9ydCB0eXBlIEtleXN0b25lTGlzdHNBUEk8TGlzdHNUeXBlSW5mbyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIEJhc2VMaXN0VHlwZUluZm8+PiA9IHtcbiAgW0tleSBpbiBrZXlvZiBMaXN0c1R5cGVJbmZvXTogTGlzdEFQSTxMaXN0c1R5cGVJbmZvW0tleV0+XG59XG5cbnR5cGUgUmVzb2x2ZUZpZWxkcyA9IHtcbiAgLyoqXG4gICAqIEBkZWZhdWx0ICdpZCdcbiAgICovXG4gIHJlYWRvbmx5IHF1ZXJ5Pzogc3RyaW5nXG59XG5cbnR5cGUgRGJBUEk8TGlzdFR5cGVJbmZvIGV4dGVuZHMgQmFzZUxpc3RUeXBlSW5mbz4gPSB7XG4gIGZpbmRNYW55KGFyZ3M/OiB7XG4gICAgcmVhZG9ubHkgd2hlcmU/OiBMaXN0VHlwZUluZm9bJ2lucHV0cyddWyd3aGVyZSddXG4gICAgcmVhZG9ubHkgdGFrZT86IG51bWJlclxuICAgIHJlYWRvbmx5IHNraXA/OiBudW1iZXJcbiAgICByZWFkb25seSBvcmRlckJ5PzpcbiAgICAgIHwgTGlzdFR5cGVJbmZvWydpbnB1dHMnXVsnb3JkZXJCeSddXG4gICAgICB8IHJlYWRvbmx5IExpc3RUeXBlSW5mb1snaW5wdXRzJ11bJ29yZGVyQnknXVtdXG4gICAgcmVhZG9ubHkgY3Vyc29yPzogTGlzdFR5cGVJbmZvWydpbnB1dHMnXVsndW5pcXVlV2hlcmUnXVxuICB9KTogUHJvbWlzZTxyZWFkb25seSBMaXN0VHlwZUluZm9bJ2l0ZW0nXVtdPlxuICBmaW5kT25lKGFyZ3M6IFVuaXF1ZVdoZXJlSW5wdXQ8TGlzdFR5cGVJbmZvPik6IFByb21pc2U8TGlzdFR5cGVJbmZvWydpdGVtJ10gfCBudWxsPlxuICBjb3VudChhcmdzPzogeyByZWFkb25seSB3aGVyZT86IExpc3RUeXBlSW5mb1snaW5wdXRzJ11bJ3doZXJlJ10gfSk6IFByb21pc2U8bnVtYmVyPlxuICB1cGRhdGVPbmUoXG4gICAgYXJnczogVW5pcXVlV2hlcmVJbnB1dDxMaXN0VHlwZUluZm8+ICYge1xuICAgICAgcmVhZG9ubHkgZGF0YTogTGlzdFR5cGVJbmZvWydpbnB1dHMnXVsndXBkYXRlJ11cbiAgICB9XG4gICk6IFByb21pc2U8TGlzdFR5cGVJbmZvWydpdGVtJ10+XG4gIHVwZGF0ZU1hbnkoYXJnczoge1xuICAgIHJlYWRvbmx5IGRhdGE6IHJlYWRvbmx5IChVbmlxdWVXaGVyZUlucHV0PExpc3RUeXBlSW5mbz4gJiB7XG4gICAgICByZWFkb25seSBkYXRhOiBMaXN0VHlwZUluZm9bJ2lucHV0cyddWyd1cGRhdGUnXVxuICAgIH0pW11cbiAgfSk6IFByb21pc2U8TGlzdFR5cGVJbmZvWydpdGVtJ11bXT5cbiAgY3JlYXRlT25lKGFyZ3M6IHtcbiAgICByZWFkb25seSBkYXRhOiBMaXN0VHlwZUluZm9bJ2lucHV0cyddWydjcmVhdGUnXVxuICB9KTogUHJvbWlzZTxMaXN0VHlwZUluZm9bJ2l0ZW0nXT5cbiAgY3JlYXRlTWFueShhcmdzOiB7XG4gICAgcmVhZG9ubHkgZGF0YTogcmVhZG9ubHkgTGlzdFR5cGVJbmZvWydpbnB1dHMnXVsnY3JlYXRlJ11bXVxuICB9KTogUHJvbWlzZTxMaXN0VHlwZUluZm9bJ2l0ZW0nXVtdPlxuICBkZWxldGVPbmUoYXJnczogVW5pcXVlV2hlcmVJbnB1dDxMaXN0VHlwZUluZm8+KTogUHJvbWlzZTxMaXN0VHlwZUluZm9bJ2l0ZW0nXT5cbiAgZGVsZXRlTWFueShhcmdzOiB7XG4gICAgcmVhZG9ubHkgd2hlcmU6IHJlYWRvbmx5IExpc3RUeXBlSW5mb1snaW5wdXRzJ11bJ3VuaXF1ZVdoZXJlJ11bXVxuICB9KTogUHJvbWlzZTxMaXN0VHlwZUluZm9bJ2l0ZW0nXVtdPlxufVxuXG5leHBvcnQgdHlwZSBLZXlzdG9uZURiQVBJPExpc3RzVHlwZUluZm8gZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBCYXNlTGlzdFR5cGVJbmZvPj4gPSB7XG4gIFtLZXkgaW4ga2V5b2YgTGlzdHNUeXBlSW5mb106IERiQVBJPExpc3RzVHlwZUluZm9bS2V5XT5cbn1cblxuLy8gR3JhcGhRTCBBUElcblxuZXhwb3J0IHR5cGUgS2V5c3RvbmVHcmFwaFFMQVBJID0ge1xuICBzY2hlbWE6IEdyYXBoUUxTY2hlbWFcbiAgcnVuOiA8VERhdGEsIFRWYXJpYWJsZXMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+PihcbiAgICBhcmdzOiBHcmFwaFFMRXhlY3V0aW9uQXJndW1lbnRzPFREYXRhLCBUVmFyaWFibGVzPlxuICApID0+IFByb21pc2U8VERhdGE+XG4gIHJhdzogPFREYXRhLCBUVmFyaWFibGVzIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgYW55Pj4oXG4gICAgYXJnczogR3JhcGhRTEV4ZWN1dGlvbkFyZ3VtZW50czxURGF0YSwgVFZhcmlhYmxlcz5cbiAgKSA9PiBQcm9taXNlPEV4ZWN1dGlvblJlc3VsdDxURGF0YT4+XG59XG5cbnR5cGUgR3JhcGhRTEV4ZWN1dGlvbkFyZ3VtZW50czxURGF0YSwgVFZhcmlhYmxlcz4gPSB7XG4gIHF1ZXJ5OiBzdHJpbmcgfCBEb2N1bWVudE5vZGUgfCBUeXBlZERvY3VtZW50Tm9kZTxURGF0YSwgVFZhcmlhYmxlcz5cbiAgdmFyaWFibGVzPzogVFZhcmlhYmxlc1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/types/context.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/types/core.ts":
/*!***************************************************!*\
  !*** ../../../../packages/core/src/types/core.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvY29yZS50cyIsIm1hcHBpbmdzIjoiO0FBZUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvY29yZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEdyYXBoUUxSZXNvbHZlSW5mbyB9IGZyb20gJ2dyYXBocWwnXG5pbXBvcnQgdHlwZSB7IEtleXN0b25lQ29udGV4dCB9IGZyb20gJy4vY29udGV4dCdcblxuZXhwb3J0IHR5cGUgRGF0YWJhc2VQcm92aWRlciA9ICdzcWxpdGUnIHwgJ3Bvc3RncmVzcWwnIHwgJ215c3FsJ1xuXG5leHBvcnQgdHlwZSBHcmFwaFFMUmVzb2x2ZXI8Q29udGV4dCBleHRlbmRzIEtleXN0b25lQ29udGV4dD4gPSAoXG4gIHJvb3Q6IGFueSxcbiAgYXJnczogYW55LFxuICBjb250ZXh0OiBDb250ZXh0LFxuICBpbmZvOiBHcmFwaFFMUmVzb2x2ZUluZm9cbikgPT4gYW55XG5cbmV4cG9ydCB0eXBlIEdyYXBoUUxTY2hlbWFFeHRlbnNpb248Q29udGV4dCBleHRlbmRzIEtleXN0b25lQ29udGV4dD4gPSB7XG4gIHR5cGVEZWZzOiBzdHJpbmdcbiAgcmVzb2x2ZXJzOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBHcmFwaFFMUmVzb2x2ZXI8Q29udGV4dD4+PlxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/types/core.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/types/index.ts":
/*!****************************************************!*\
  !*** ../../../../packages/core/src/types/index.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core */ \"../../../../packages/core/src/types/core.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _core__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _core__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config */ \"../../../../packages/core/src/types/config/index.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _config__WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _config__WEBPACK_IMPORTED_MODULE_1__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"../../../../packages/core/src/types/utils.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _utils__WEBPACK_IMPORTED_MODULE_2__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _utils__WEBPACK_IMPORTED_MODULE_2__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _session__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./session */ \"../../../../packages/core/src/types/session.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _session__WEBPACK_IMPORTED_MODULE_3__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _session__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _admin_meta__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./admin-meta */ \"../../../../packages/core/src/types/admin-meta.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _admin_meta__WEBPACK_IMPORTED_MODULE_4__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _admin_meta__WEBPACK_IMPORTED_MODULE_4__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./context */ \"../../../../packages/core/src/types/context.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _context__WEBPACK_IMPORTED_MODULE_5__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _context__WEBPACK_IMPORTED_MODULE_5__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _next_fields__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./next-fields */ \"../../../../packages/core/src/types/next-fields.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _next_fields__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _next_fields__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _type_info__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./type-info */ \"../../../../packages/core/src/types/type-info.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _type_info__WEBPACK_IMPORTED_MODULE_7__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _type_info__WEBPACK_IMPORTED_MODULE_7__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNCO0FBQ0U7QUFDRDtBQUNFO0FBQ0c7QUFDSDtBQUNJO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9jb3JlJ1xuZXhwb3J0ICogZnJvbSAnLi9jb25maWcnXG5leHBvcnQgKiBmcm9tICcuL3V0aWxzJ1xuZXhwb3J0ICogZnJvbSAnLi9zZXNzaW9uJ1xuZXhwb3J0ICogZnJvbSAnLi9hZG1pbi1tZXRhJ1xuZXhwb3J0ICogZnJvbSAnLi9jb250ZXh0J1xuZXhwb3J0ICogZnJvbSAnLi9uZXh0LWZpZWxkcydcbmV4cG9ydCAqIGZyb20gJy4vdHlwZS1pbmZvJ1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/types/index.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/types/next-fields.ts":
/*!**********************************************************!*\
  !*** ../../../../packages/core/src/types/next-fields.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Decimal: () => (/* reexport safe */ decimal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   QueryMode: () => (/* binding */ QueryMode),\n/* harmony export */   fieldType: () => (/* binding */ fieldType),\n/* harmony export */   orderDirectionEnum: () => (/* binding */ orderDirectionEnum)\n/* harmony export */ });\n/* harmony import */ var decimal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! decimal.js */ \"../../../../node_modules/.pnpm/decimal.js@10.5.0/node_modules/decimal.js/decimal.mjs\");\n/* harmony import */ var _types_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types/schema */ \"../../../../packages/core/src/types/schema/index.ts\");\n\n\n\nconst orderDirectionEnum = _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.enum({\n    name: 'OrderDirection',\n    values: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.enumValues([\n        'asc',\n        'desc'\n    ])\n});\nconst QueryMode = _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.enum({\n    name: 'QueryMode',\n    values: _types_schema__WEBPACK_IMPORTED_MODULE_1__.g.enumValues([\n        'default',\n        'insensitive'\n    ])\n});\n// fieldType(dbField)(fieldInfo) => { ...fieldInfo, dbField };\nfunction fieldType(dbField) {\n    return function fieldTypeWrapper(graphQLInfo) {\n        return {\n            ...graphQLInfo,\n            dbField\n        };\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvbmV4dC1maWVsZHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWdDO0FBQ0c7QUFxQmpCO0FBMkpYLE1BQU1FLHFCQUFxQkQsNENBQUNBLENBQUNFLElBQUksQ0FBQztJQUN2Q0MsTUFBTTtJQUNOQyxRQUFRSiw0Q0FBQ0EsQ0FBQ0ssVUFBVSxDQUFDO1FBQUM7UUFBTztLQUFPO0FBQ3RDLEdBQUU7QUFFSyxNQUFNQyxZQUFZTiw0Q0FBQ0EsQ0FBQ0UsSUFBSSxDQUFDO0lBQzlCQyxNQUFNO0lBQ05DLFFBQVFKLDRDQUFDQSxDQUFDSyxVQUFVLENBQUM7UUFBQztRQUFXO0tBQWM7QUFDakQsR0FBRTtBQTBSRiw4REFBOEQ7QUFDdkQsU0FBU0UsVUFDZEMsT0FBaUI7SUFFakIsT0FBTyxTQUFTQyxpQkFPZEMsV0FRQztRQVVELE9BQU87WUFBRSxHQUFHQSxXQUFXO1lBQUVGO1FBQVE7SUFDbkM7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy90eXBlcy9uZXh0LWZpZWxkcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGVjaW1hbCBmcm9tICdkZWNpbWFsLmpzJ1xuaW1wb3J0IHsgZyB9IGZyb20gJy4uL3R5cGVzL3NjaGVtYSdcbmltcG9ydCB0eXBlIHsgQmFzZUxpc3RUeXBlSW5mbyB9IGZyb20gJy4vdHlwZS1pbmZvJ1xuaW1wb3J0IHR5cGUgeyBCYXNlRmllbGRUeXBlSW5mbywgQ29tbW9uRmllbGRDb25maWcgfSBmcm9tICcuL2NvbmZpZydcbmltcG9ydCB0eXBlIHsgRGF0YWJhc2VQcm92aWRlciB9IGZyb20gJy4vY29yZSdcbmltcG9ydCB0eXBlIHtcbiAgR0FyZyxcbiAgR0lucHV0VHlwZSxcbiAgR051bGxhYmxlSW5wdXRUeXBlLFxuICBJbmZlclZhbHVlRnJvbUFyZyxcbiAgR0ZpZWxkLFxuICBHT3V0cHV0VHlwZSxcbiAgR0lucHV0T2JqZWN0VHlwZSxcbiAgR0xpc3QsXG4gIEdOb25OdWxsLFxuICBJbmZlclZhbHVlRnJvbUFyZ3MsXG4gIEdPYmplY3RUeXBlLFxuICBJbmZlclZhbHVlRnJvbUlucHV0VHlwZSxcbn0gZnJvbSAnQGdyYXBocWwtdHMvc2NoZW1hJ1xuaW1wb3J0IHR5cGUgeyBKU09OVmFsdWUsIEtleXN0b25lQ29udGV4dCwgTWF5YmVQcm9taXNlIH0gZnJvbSAnLidcbmltcG9ydCB0eXBlIHsgZmlsdGVycyB9IGZyb20gJy4uL2ZpZWxkcy9maWx0ZXJzJ1xuXG5leHBvcnQgeyBEZWNpbWFsIH1cblxuZXhwb3J0IHR5cGUgQmFzZUl0ZW0gPSB7IGlkOiB7IHRvU3RyaW5nKCk6IHN0cmluZyB9OyBba2V5OiBzdHJpbmddOiB1bmtub3duIH1cblxuZXhwb3J0IHR5cGUgTGlzdEdyYXBoUUxUeXBlczxMaXN0VHlwZUluZm8gZXh0ZW5kcyBCYXNlTGlzdFR5cGVJbmZvPiA9IHtcbiAgdHlwZXM6IEdyYXBoUUxUeXBlc0Zvckxpc3Q8TGlzdFR5cGVJbmZvPlxufVxuXG5leHBvcnQgdHlwZSBGaWVsZERhdGE8TGlzdFR5cGVJbmZvIGV4dGVuZHMgQmFzZUxpc3RUeXBlSW5mbyA9IEJhc2VMaXN0VHlwZUluZm8+ID0ge1xuICBsaXN0czoge1xuICAgIFtLZXkgaW4ga2V5b2YgTGlzdFR5cGVJbmZvWydhbGwnXVsnbGlzdHMnXV06IExpc3RHcmFwaFFMVHlwZXM8TGlzdFR5cGVJbmZvWydhbGwnXVsnbGlzdHMnXVtLZXldPlxuICB9XG4gIHByb3ZpZGVyOiBEYXRhYmFzZVByb3ZpZGVyXG4gIGxpc3RLZXk6IExpc3RUeXBlSW5mb1sna2V5J11cbiAgZmllbGRLZXk6IHN0cmluZ1xufVxuXG50eXBlIFNjYWxhck5hbWVzID0gRXhjbHVkZTxrZXlvZiAodHlwZW9mIGZpbHRlcnMpW0RhdGFiYXNlUHJvdmlkZXJdLCAnZW51bSc+XG5cbmV4cG9ydCB0eXBlIFNpbXBsZUZpZWxkVHlwZUluZm88U2NhbGFyIGV4dGVuZHMgU2NhbGFyTmFtZXM+ID0ge1xuICBpdGVtOiBTY2FsYXJQcmlzbWFUeXBlc1tTY2FsYXJdIHwgbnVsbFxuICBpbnB1dHM6IHtcbiAgICBjcmVhdGU6IFNjYWxhclByaXNtYVR5cGVzW1NjYWxhcl0gfCBudWxsIHwgdW5kZWZpbmVkXG4gICAgdXBkYXRlOiBTY2FsYXJQcmlzbWFUeXBlc1tTY2FsYXJdIHwgbnVsbCB8IHVuZGVmaW5lZFxuICAgIHdoZXJlOiBJbmZlclZhbHVlRnJvbUlucHV0VHlwZTwodHlwZW9mIGZpbHRlcnMpW0RhdGFiYXNlUHJvdmlkZXJdW1NjYWxhcl1bJ3JlcXVpcmVkJ10+IHwgbnVsbFxuICAgIHVuaXF1ZVdoZXJlOiBTY2FsYXJQcmlzbWFUeXBlc1tTY2FsYXJdIHwgbnVsbCB8IHVuZGVmaW5lZFxuICAgIG9yZGVyQnk6ICdhc2MnIHwgJ2Rlc2MnIHwgbnVsbFxuICB9XG4gIHByaXNtYToge1xuICAgIGNyZWF0ZTpcbiAgICAgIHwgU2NhbGFyUHJpc21hVHlwZXNbU2NhbGFyXVxuICAgICAgfCB7IHNldD86IFNjYWxhclByaXNtYVR5cGVzW1NjYWxhcl0gfCBudWxsIH1cbiAgICAgIHwgbnVsbFxuICAgICAgfCB1bmRlZmluZWRcbiAgICB1cGRhdGU6XG4gICAgICB8IFNjYWxhclByaXNtYVR5cGVzW1NjYWxhcl1cbiAgICAgIHwgeyBzZXQ/OiBTY2FsYXJQcmlzbWFUeXBlc1tTY2FsYXJdIHwgbnVsbCB9XG4gICAgICB8IG51bGxcbiAgICAgIHwgdW5kZWZpbmVkXG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgRmllbGRUeXBlRnVuYzxMaXN0VHlwZUluZm8gZXh0ZW5kcyBCYXNlTGlzdFR5cGVJbmZvPiA9IChcbiAgZGF0YTogRmllbGREYXRhPExpc3RUeXBlSW5mbz5cbikgPT4gTmV4dEZpZWxkVHlwZTxcbiAgREJGaWVsZCxcbiAgR0FyZzxHSW5wdXRUeXBlPiB8IHVuZGVmaW5lZCxcbiAgR0FyZzxHSW5wdXRUeXBlPixcbiAgR0FyZzxHTnVsbGFibGVJbnB1dFR5cGUsIGZhbHNlPixcbiAgR0FyZzxHTnVsbGFibGVJbnB1dFR5cGUsIGZhbHNlPixcbiAgR0FyZzxHTnVsbGFibGVJbnB1dFR5cGUsIGZhbHNlPixcbiAgTGlzdFR5cGVJbmZvXG4+XG5cbmV4cG9ydCB0eXBlIE5leHRGaWVsZFR5cGU8XG4gIFREQkZpZWxkIGV4dGVuZHMgREJGaWVsZCA9IERCRmllbGQsXG4gIENyZWF0ZUFyZyBleHRlbmRzIEdBcmc8R0lucHV0VHlwZT4gfCB1bmRlZmluZWQgPSBHQXJnPEdJbnB1dFR5cGU+IHwgdW5kZWZpbmVkLFxuICBVcGRhdGVBcmcgZXh0ZW5kcyBHQXJnPEdJbnB1dFR5cGU+ID0gR0FyZzxHSW5wdXRUeXBlPixcbiAgVW5pcXVlV2hlcmVBcmcgZXh0ZW5kcyBHQXJnPEdOdWxsYWJsZUlucHV0VHlwZSwgZmFsc2U+ID0gR0FyZzxHTnVsbGFibGVJbnB1dFR5cGUsIGZhbHNlPixcbiAgT3JkZXJCeUFyZyBleHRlbmRzIEdBcmc8R051bGxhYmxlSW5wdXRUeXBlLCBmYWxzZT4gPSBHQXJnPEdOdWxsYWJsZUlucHV0VHlwZSwgZmFsc2U+LFxuICBGaWx0ZXJBcmcgZXh0ZW5kcyBHQXJnPEdOdWxsYWJsZUlucHV0VHlwZSwgZmFsc2U+ID0gR0FyZzxHTnVsbGFibGVJbnB1dFR5cGUsIGZhbHNlPixcbiAgTGlzdFR5cGVJbmZvIGV4dGVuZHMgQmFzZUxpc3RUeXBlSW5mbyA9IEJhc2VMaXN0VHlwZUluZm8sXG4+ID0ge1xuICBkYkZpZWxkOiBUREJGaWVsZFxufSAmIEZpZWxkVHlwZVdpdGhvdXREQkZpZWxkPFxuICBUREJGaWVsZCxcbiAgQ3JlYXRlQXJnLFxuICBVcGRhdGVBcmcsXG4gIFVuaXF1ZVdoZXJlQXJnLFxuICBPcmRlckJ5QXJnLFxuICBGaWx0ZXJBcmcsXG4gIExpc3RUeXBlSW5mb1xuPlxuXG5leHBvcnQgdHlwZSBTY2FsYXJQcmlzbWFUeXBlcyA9IHtcbiAgU3RyaW5nOiBzdHJpbmdcbiAgQm9vbGVhbjogYm9vbGVhblxuICBJbnQ6IG51bWJlclxuICBGbG9hdDogbnVtYmVyXG4gIERhdGVUaW1lOiBEYXRlXG4gIEJpZ0ludDogYmlnaW50XG4gIEpzb246IEpTT05WYWx1ZVxuICBEZWNpbWFsOiBEZWNpbWFsXG4gIEJ5dGVzOiBVaW50OEFycmF5XG59XG5cbnR5cGUgTGl0ZXJhbDxUPiA9IHtcbiAga2luZDogJ2xpdGVyYWwnXG4gIHZhbHVlOiBUXG59XG5cbmV4cG9ydCB0eXBlIFNjYWxhckRCRmllbGREZWZhdWx0PFxuICBTY2FsYXIgZXh0ZW5kcyBrZXlvZiBTY2FsYXJQcmlzbWFUeXBlcyA9IGtleW9mIFNjYWxhclByaXNtYVR5cGVzLFxuICBNb2RlIGV4dGVuZHMgJ3JlcXVpcmVkJyB8ICdtYW55JyB8ICdvcHRpb25hbCcgPSAncmVxdWlyZWQnIHwgJ21hbnknIHwgJ29wdGlvbmFsJyxcbj4gPSBNb2RlIGV4dGVuZHMgJ21hbnknXG4gID8gbmV2ZXJcbiAgOlxuICAgICAgfCB7XG4gICAgICAgICAgU3RyaW5nOlxuICAgICAgICAgICAgfCBMaXRlcmFsPHN0cmluZz5cbiAgICAgICAgICAgIHwgeyBraW5kOiAndXVpZCc7IHZlcnNpb24/OiA0IHwgNyB9XG4gICAgICAgICAgICB8IHsga2luZDogJ2N1aWQnOyB2ZXJzaW9uPzogMSB8IDIgfVxuICAgICAgICAgICAgfCB7IGtpbmQ6ICd1bGlkJyB9XG4gICAgICAgICAgICB8IHsga2luZDogJ25hbm9pZCc7IGxlbmd0aD86IG51bWJlciB9XG4gICAgICAgICAgICB8IHsga2luZDogJ3JhbmRvbSc7IGJ5dGVzOiBudW1iZXI7IGVuY29kaW5nOiAnaGV4JyB8ICdiYXNlNjR1cmwnIH1cbiAgICAgICAgICBCb29sZWFuOiBMaXRlcmFsPGJvb2xlYW4+XG4gICAgICAgICAgSnNvbjogTGl0ZXJhbDxzdHJpbmc+XG4gICAgICAgICAgRmxvYXQ6IExpdGVyYWw8bnVtYmVyPlxuICAgICAgICAgIEludDogTGl0ZXJhbDxudW1iZXI+IHwgeyBraW5kOiAnYXV0b2luY3JlbWVudCcgfVxuICAgICAgICAgIEJpZ0ludDogTGl0ZXJhbDxiaWdpbnQ+IHwgeyBraW5kOiAnYXV0b2luY3JlbWVudCcgfVxuICAgICAgICAgIERhdGVUaW1lOiBMaXRlcmFsPHN0cmluZz4gfCB7IGtpbmQ6ICdub3cnIH1cbiAgICAgICAgICBEZWNpbWFsOiBMaXRlcmFsPHN0cmluZz5cbiAgICAgICAgICBCeXRlczogTGl0ZXJhbDxVaW50OEFycmF5PlxuICAgICAgICB9W1NjYWxhcl1cbiAgICAgIHwgeyBraW5kOiAnZGJnZW5lcmF0ZWQnOyB2YWx1ZTogc3RyaW5nIH1cblxuZXhwb3J0IHR5cGUgU2NhbGFyREJGaWVsZDxcbiAgU2NhbGFyIGV4dGVuZHMga2V5b2YgU2NhbGFyUHJpc21hVHlwZXMsXG4gIE1vZGUgZXh0ZW5kcyAncmVxdWlyZWQnIHwgJ21hbnknIHwgJ29wdGlvbmFsJyxcbj4gPSB7XG4gIGtpbmQ6ICdzY2FsYXInXG4gIHNjYWxhcjogU2NhbGFyXG4gIG1vZGU6IE1vZGVcbiAgZGVmYXVsdD86IFNjYWxhckRCRmllbGREZWZhdWx0PFNjYWxhciwgTW9kZT4gfCB1bmRlZmluZWRcbiAgZXh0ZW5kUHJpc21hU2NoZW1hPzogKGZpZWxkOiBzdHJpbmcpID0+IHN0cmluZ1xuICBpbmRleD86ICd1bmlxdWUnIHwgJ2luZGV4JyB8IHVuZGVmaW5lZFxuXG4gIG1hcD86IHN0cmluZ1xuICBuYXRpdmVUeXBlPzogc3RyaW5nXG4gIHVwZGF0ZWRBdD86IFNjYWxhciBleHRlbmRzICdEYXRlVGltZScgPyBib29sZWFuIDogbmV2ZXJcbn1cblxuZXhwb3J0IHR5cGUgUmVsYXRpb25EQkZpZWxkPE1vZGUgZXh0ZW5kcyAnbWFueScgfCAnb25lJz4gPSB7XG4gIGtpbmQ6ICdyZWxhdGlvbidcbiAgbW9kZTogTW9kZVxuICBleHRlbmRQcmlzbWFTY2hlbWE/OiAoZmllbGQ6IHN0cmluZykgPT4gc3RyaW5nXG5cbiAgbGlzdDogc3RyaW5nXG4gIGZpZWxkPzogc3RyaW5nXG4gIGZvcmVpZ25LZXk/OiB7IG9uZTogdHJ1ZSB8IHsgbWFwOiBzdHJpbmcgfTsgbWFueTogdW5kZWZpbmVkIH1bTW9kZV1cbiAgcmVsYXRpb25OYW1lPzogeyBvbmU6IHVuZGVmaW5lZDsgbWFueTogc3RyaW5nIH1bTW9kZV1cbn1cblxuZXhwb3J0IHR5cGUgRW51bURCRmllbGQ8VmFsdWUgZXh0ZW5kcyBzdHJpbmcsIE1vZGUgZXh0ZW5kcyAncmVxdWlyZWQnIHwgJ21hbnknIHwgJ29wdGlvbmFsJz4gPSB7XG4gIGtpbmQ6ICdlbnVtJ1xuICBuYW1lOiBzdHJpbmdcbiAgbW9kZTogTW9kZVxuICBkZWZhdWx0PzogeyBraW5kOiAnbGl0ZXJhbCc7IHZhbHVlOiBWYWx1ZSB9XG4gIGV4dGVuZFByaXNtYVNjaGVtYT86IChmaWVsZDogc3RyaW5nKSA9PiBzdHJpbmdcbiAgaW5kZXg/OiAndW5pcXVlJyB8ICdpbmRleCdcblxuICBtYXA/OiBzdHJpbmdcbiAgdmFsdWVzOiByZWFkb25seSBWYWx1ZVtdXG59XG5cbmV4cG9ydCBjb25zdCBvcmRlckRpcmVjdGlvbkVudW0gPSBnLmVudW0oe1xuICBuYW1lOiAnT3JkZXJEaXJlY3Rpb24nLFxuICB2YWx1ZXM6IGcuZW51bVZhbHVlcyhbJ2FzYycsICdkZXNjJ10pLFxufSlcblxuZXhwb3J0IGNvbnN0IFF1ZXJ5TW9kZSA9IGcuZW51bSh7XG4gIG5hbWU6ICdRdWVyeU1vZGUnLFxuICB2YWx1ZXM6IGcuZW51bVZhbHVlcyhbJ2RlZmF1bHQnLCAnaW5zZW5zaXRpdmUnXSksXG59KVxuXG5leHBvcnQgdHlwZSBOb0RCRmllbGQgPSB7IGtpbmQ6ICdub25lJyB9XG5cbi8vIFRPRE86IG1lcmdlXG5leHBvcnQgdHlwZSBTY2FsYXJpc2hEQkZpZWxkID1cbiAgfCBTY2FsYXJEQkZpZWxkPGtleW9mIFNjYWxhclByaXNtYVR5cGVzLCAncmVxdWlyZWQnIHwgJ21hbnknIHwgJ29wdGlvbmFsJz5cbiAgfCBFbnVtREJGaWVsZDxzdHJpbmcsICdyZXF1aXJlZCcgfCAnbWFueScgfCAnb3B0aW9uYWwnPlxuXG5leHBvcnQgdHlwZSBSZWFsREJGaWVsZCA9IFNjYWxhcmlzaERCRmllbGQgfCBSZWxhdGlvbkRCRmllbGQ8J21hbnknIHwgJ29uZSc+XG5cbmV4cG9ydCB0eXBlIE11bHRpREJGaWVsZDxGaWVsZHMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBTY2FsYXJpc2hEQkZpZWxkPj4gPSB7XG4gIGtpbmQ6ICdtdWx0aSdcbiAgZmllbGRzOiBGaWVsZHNcbiAgZXh0ZW5kUHJpc21hU2NoZW1hPzogKGZpZWxkOiBzdHJpbmcpID0+IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBEQkZpZWxkID0gUmVhbERCRmllbGQgfCBOb0RCRmllbGQgfCBNdWx0aURCRmllbGQ8UmVjb3JkPHN0cmluZywgU2NhbGFyaXNoREJGaWVsZD4+XG5cbi8vIFRPRE86IHRoaXMgaXNuJ3QgcmlnaHQgZm9yIGNyZWF0ZVxuLy8gZm9yIGNyZWF0ZSB0aG91Z2gsIGRiIGxldmVsIGRlZmF1bHRzIG5lZWQgdG8gYmUgdGFrZW4gaW50byBhY2NvdW50IGZvciB3aGVuIHRvIG5vdCBhbGxvdyB1bmRlZmluZWRcbnR5cGUgREJGaWVsZFRvSW5wdXRWYWx1ZTxUREJGaWVsZCBleHRlbmRzIERCRmllbGQ+ID1cbiAgVERCRmllbGQgZXh0ZW5kcyBTY2FsYXJEQkZpZWxkPGluZmVyIFNjYWxhciwgaW5mZXIgTW9kZT5cbiAgICA/IHtcbiAgICAgICAgb3B0aW9uYWw6IFNjYWxhclByaXNtYVR5cGVzW1NjYWxhcl0gfCBudWxsIHwgdW5kZWZpbmVkXG4gICAgICAgIHJlcXVpcmVkOiBTY2FsYXJQcmlzbWFUeXBlc1tTY2FsYXJdIHwgdW5kZWZpbmVkXG4gICAgICAgIG1hbnk6IHJlYWRvbmx5IFNjYWxhclByaXNtYVR5cGVzW1NjYWxhcl1bXSB8IHVuZGVmaW5lZFxuICAgICAgfVtNb2RlXVxuICAgIDogVERCRmllbGQgZXh0ZW5kcyBSZWxhdGlvbkRCRmllbGQ8J21hbnknIHwgJ29uZSc+XG4gICAgICA/IHsgY29ubmVjdD86IG9iamVjdDsgZGlzY29ubmVjdD86IGJvb2xlYW4gfSB8IHVuZGVmaW5lZFxuICAgICAgOiBUREJGaWVsZCBleHRlbmRzIEVudW1EQkZpZWxkPGluZmVyIFZhbHVlLCBpbmZlciBNb2RlPlxuICAgICAgICA/IHtcbiAgICAgICAgICAgIG9wdGlvbmFsOiBWYWx1ZSB8IG51bGwgfCB1bmRlZmluZWRcbiAgICAgICAgICAgIHJlcXVpcmVkOiBWYWx1ZSB8IHVuZGVmaW5lZFxuICAgICAgICAgICAgbWFueTogcmVhZG9ubHkgVmFsdWVbXSB8IHVuZGVmaW5lZFxuICAgICAgICAgIH1bTW9kZV1cbiAgICAgICAgOiBUREJGaWVsZCBleHRlbmRzIE5vREJGaWVsZFxuICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgOiBUREJGaWVsZCBleHRlbmRzIE11bHRpREJGaWVsZDxpbmZlciBGaWVsZHM+XG4gICAgICAgICAgICA/IC8vIG5vdGU6IHRoaXMgaXMgdmVyeSBpbnRlbnRpb25hbGx5IG5vdCBvcHRpb25hbCBhbmQgREJGaWVsZFRvSW5wdXRWYWx1ZSB3aWxsIGFkZCB8IHVuZGVmaW5lZCB0byBmb3JjZSBwZW9wbGUgdG8gZXhwbGljaXRseSBzaG93IHdoYXQgdGhleSBhcmUgbm90IHNldHRpbmdcbiAgICAgICAgICAgICAgeyBbS2V5IGluIGtleW9mIEZpZWxkc106IERCRmllbGRUb0lucHV0VmFsdWU8RmllbGRzW0tleV0+IH1cbiAgICAgICAgICAgIDogbmV2ZXJcblxudHlwZSBEQkZpZWxkVW5pcXVlV2hlcmU8VERCRmllbGQgZXh0ZW5kcyBEQkZpZWxkPiA9XG4gIFREQkZpZWxkIGV4dGVuZHMgU2NhbGFyREJGaWVsZDxpbmZlciBTY2FsYXIsICdvcHRpb25hbCcgfCAncmVxdWlyZWQnPlxuICAgID8gU2NhbGFyIGV4dGVuZHMgJ1N0cmluZycgfCAnSW50J1xuICAgICAgPyB7XG4gICAgICAgICAgU3RyaW5nOiBzdHJpbmdcbiAgICAgICAgICBJbnQ6IG51bWJlclxuICAgICAgICB9W1NjYWxhcl1cbiAgICAgIDogYW55XG4gICAgOiBhbnlcblxudHlwZSBEQkZpZWxkVG9PdXRwdXRWYWx1ZTxUREJGaWVsZCBleHRlbmRzIERCRmllbGQ+ID1cbiAgVERCRmllbGQgZXh0ZW5kcyBTY2FsYXJEQkZpZWxkPGluZmVyIFNjYWxhciwgaW5mZXIgTW9kZT5cbiAgICA/IHtcbiAgICAgICAgb3B0aW9uYWw6IFNjYWxhclByaXNtYVR5cGVzW1NjYWxhcl0gfCBudWxsXG4gICAgICAgIHJlcXVpcmVkOiBTY2FsYXJQcmlzbWFUeXBlc1tTY2FsYXJdXG4gICAgICAgIG1hbnk6IHJlYWRvbmx5IFNjYWxhclByaXNtYVR5cGVzW1NjYWxhcl1bXVxuICAgICAgfVtNb2RlXVxuICAgIDogVERCRmllbGQgZXh0ZW5kcyBSZWxhdGlvbkRCRmllbGQ8aW5mZXIgTW9kZT5cbiAgICAgID8ge1xuICAgICAgICAgIG9uZTogKCkgPT4gUHJvbWlzZTxCYXNlSXRlbT5cbiAgICAgICAgICBtYW55OiB7XG4gICAgICAgICAgICBmaW5kTWFueShhcmdzOiBGaW5kTWFueUFyZ3NWYWx1ZSk6IFByb21pc2U8QmFzZUl0ZW1bXT5cbiAgICAgICAgICAgIGNvdW50KGFyZ3M6IHsgd2hlcmU6IEZpbmRNYW55QXJnc1ZhbHVlWyd3aGVyZSddIH0pOiBQcm9taXNlPG51bWJlcj5cbiAgICAgICAgICB9XG4gICAgICAgIH1bTW9kZV1cbiAgICAgIDogVERCRmllbGQgZXh0ZW5kcyBFbnVtREJGaWVsZDxpbmZlciBWYWx1ZSwgaW5mZXIgTW9kZT5cbiAgICAgICAgPyB7XG4gICAgICAgICAgICBvcHRpb25hbDogVmFsdWUgfCBudWxsXG4gICAgICAgICAgICByZXF1aXJlZDogVmFsdWVcbiAgICAgICAgICAgIG1hbnk6IHJlYWRvbmx5IFZhbHVlW11cbiAgICAgICAgICB9W01vZGVdXG4gICAgICAgIDogVERCRmllbGQgZXh0ZW5kcyBOb0RCRmllbGRcbiAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgIDogVERCRmllbGQgZXh0ZW5kcyBNdWx0aURCRmllbGQ8aW5mZXIgRmllbGRzPlxuICAgICAgICAgICAgPyB7IFtLZXkgaW4ga2V5b2YgRmllbGRzXTogREJGaWVsZFRvT3V0cHV0VmFsdWU8RmllbGRzW0tleV0+IH1cbiAgICAgICAgICAgIDogbmV2ZXJcblxuZXhwb3J0IHR5cGUgT3JkZXJCeUZpZWxkSW5wdXRBcmc8VmFsLCBUQXJnIGV4dGVuZHMgR0FyZzxHTnVsbGFibGVJbnB1dFR5cGU+PiA9IHtcbiAgYXJnOiBUQXJnXG59ICYgUmVzb2x2ZUZ1bmM8XG4gIChcbiAgICB2YWx1ZTogRXhjbHVkZTxJbmZlclZhbHVlRnJvbUFyZzxUQXJnPiwgbnVsbCB8IHVuZGVmaW5lZD4sXG4gICAgY29udGV4dDogS2V5c3RvbmVDb250ZXh0XG4gICkgPT4gTWF5YmVQcm9taXNlPFZhbD5cbj5cblxudHlwZSBGaWVsZElucHV0UmVzb2x2ZXI8SW5wdXQsIE91dHB1dCwgUmVsYXRpb25zaGlwSW5wdXRSZXNvbHZlcj4gPSAoXG4gIHZhbHVlOiBJbnB1dCxcbiAgY29udGV4dDogS2V5c3RvbmVDb250ZXh0LFxuICByZWxhdGlvbnNoaXBJbnB1dFJlc29sdmVyOiBSZWxhdGlvbnNoaXBJbnB1dFJlc29sdmVyXG4pID0+IE1heWJlUHJvbWlzZTxPdXRwdXQ+XG5cbnR5cGUgREJGaWVsZEZpbHRlcnNJbm5lcjxUREJGaWVsZCBleHRlbmRzIERCRmllbGQ+ID0gUmVjb3JkPHN0cmluZywgYW55PlxuXG50eXBlIERCRmllbGRGaWx0ZXJzPFREQkZpZWxkIGV4dGVuZHMgREJGaWVsZD4gPVxuICB8ICh7XG4gICAgICBBTkQ/OiBEQkZpZWxkRmlsdGVyc0lubmVyPFREQkZpZWxkPlxuICAgICAgT1I/OiBEQkZpZWxkRmlsdGVyc0lubmVyPFREQkZpZWxkPlxuICAgICAgTk9UPzogREJGaWVsZEZpbHRlcnNJbm5lcjxUREJGaWVsZD5cbiAgICB9ICYgREJGaWVsZEZpbHRlcnNJbm5lcjxUREJGaWVsZD4pXG4gIHwgbnVsbFxuXG5leHBvcnQgdHlwZSBXaGVyZUZpZWxkSW5wdXRBcmc8VERCRmllbGQgZXh0ZW5kcyBEQkZpZWxkLCBUQXJnIGV4dGVuZHMgR0FyZzxHSW5wdXRUeXBlLCBhbnk+PiA9IHtcbiAgYXJnOiBUQXJnXG59ICYgUmVzb2x2ZUZ1bmM8XG4gIEZpZWxkSW5wdXRSZXNvbHZlcjxcbiAgICBFeGNsdWRlPEluZmVyVmFsdWVGcm9tQXJnPFRBcmc+LCB1bmRlZmluZWQ+LFxuICAgIERCRmllbGRGaWx0ZXJzPFREQkZpZWxkPixcbiAgICBhbnlcbiAgICAvLyBpIHRoaW5rIHRoaXMgaXMgYnJva2VuIGJlY2F1c2UgdmFyaWFuY2U/XG4gICAgLy8gVERCRmllbGQgZXh0ZW5kcyBSZWxhdGlvbkRCRmllbGQ8aW5mZXIgTW9kZT5cbiAgICAvLyAgID8gKFxuICAgIC8vICAgICAgIGlucHV0OiB7XG4gICAgLy8gICAgICAgICBtYW55OiB0eXBlcy5JbmZlclZhbHVlRnJvbUFyZzx0eXBlcy5Bcmc8VHlwZXNGb3JMaXN0WydtYW55UmVsYXRpb25XaGVyZSddPj47XG4gICAgLy8gICAgICAgICBvbmU6IHR5cGVzLkluZmVyVmFsdWVGcm9tQXJnPHR5cGVzLkFyZzxUeXBlc0Zvckxpc3RbJ3doZXJlJ10+PjtcbiAgICAvLyAgICAgICB9W01vZGVdXG4gICAgLy8gICAgICkgPT4gUHJvbWlzZTxhbnk+XG4gICAgLy8gICA6IHVuZGVmaW5lZFxuICA+XG4+XG5cbmV4cG9ydCB0eXBlIFVwZGF0ZUZpZWxkSW5wdXRBcmc8VERCRmllbGQgZXh0ZW5kcyBEQkZpZWxkLCBUQXJnIGV4dGVuZHMgR0FyZzxHSW5wdXRUeXBlLCBhbnk+PiA9IHtcbiAgYXJnOiBUQXJnXG59ICYgUmVzb2x2ZUZ1bmM8XG4gIEZpZWxkSW5wdXRSZXNvbHZlcjxcbiAgICBJbmZlclZhbHVlRnJvbUFyZzxUQXJnPixcbiAgICBEQkZpZWxkVG9JbnB1dFZhbHVlPFREQkZpZWxkPixcbiAgICBhbnlcbiAgICAvLyBpIHRoaW5rIHRoaXMgaXMgYnJva2VuIGJlY2F1c2UgdmFyaWFuY2U/XG4gICAgLy8gVERCRmllbGQgZXh0ZW5kcyBSZWxhdGlvbkRCRmllbGQ8aW5mZXIgTW9kZT5cbiAgICAvLyAgID8gKFxuICAgIC8vICAgICAgIGlucHV0OiBncmFwaHFsLkluZmVyVmFsdWVGcm9tQXJnPGdyYXBocWwuQXJnPFR5cGVzRm9yTGlzdFsncmVsYXRlVG8nXVtNb2RlXVsnY3JlYXRlJ10+PlxuICAgIC8vICAgICApID0+IFByb21pc2U8YW55PlxuICAgIC8vICAgOiB1bmRlZmluZWRcbiAgPlxuPlxuXG50eXBlIENyZWF0ZUZpZWxkSW5wdXRSZXNvbHZlcjxJbnB1dCwgVERCRmllbGQgZXh0ZW5kcyBEQkZpZWxkPiA9IEZpZWxkSW5wdXRSZXNvbHZlcjxcbiAgSW5wdXQsXG4gIERCRmllbGRUb0lucHV0VmFsdWU8VERCRmllbGQ+LFxuICBhbnlcbiAgLy8gaSB0aGluayB0aGlzIGlzIGJyb2tlbiBiZWNhdXNlIHZhcmlhbmNlP1xuICAvLyBUREJGaWVsZCBleHRlbmRzIFJlbGF0aW9uREJGaWVsZDxpbmZlciBNb2RlPlxuICAvLyAgID8gKFxuICAvLyAgICAgICBpbnB1dDogZ3JhcGhxbC5JbmZlclZhbHVlRnJvbUFyZzxncmFwaHFsLkFyZzxUeXBlc0Zvckxpc3RbJ3JlbGF0ZVRvJ11bTW9kZV1bJ2NyZWF0ZSddPj5cbiAgLy8gICAgICkgPT4gUHJvbWlzZTxhbnk+XG4gIC8vICAgOiB1bmRlZmluZWRcbj5cblxuZXhwb3J0IHR5cGUgQ3JlYXRlRmllbGRJbnB1dEFyZzxcbiAgVERCRmllbGQgZXh0ZW5kcyBEQkZpZWxkLFxuICBUQXJnIGV4dGVuZHMgR0FyZzxHSW5wdXRUeXBlLCBhbnk+IHwgdW5kZWZpbmVkLFxuPiA9IHtcbiAgYXJnOiBUQXJnXG59ICYgKFRBcmcgZXh0ZW5kcyBHQXJnPEdJbnB1dFR5cGUsIGFueT5cbiAgPyBJbmZlclZhbHVlRnJvbUFyZzxUQXJnPiBleHRlbmRzIERCRmllbGRUb0lucHV0VmFsdWU8VERCRmllbGQ+XG4gICAgPyB7XG4gICAgICAgIHJlc29sdmU/OiBDcmVhdGVGaWVsZElucHV0UmVzb2x2ZXI8SW5mZXJWYWx1ZUZyb21Bcmc8VEFyZz4sIFREQkZpZWxkPlxuICAgICAgfVxuICAgIDoge1xuICAgICAgICByZXNvbHZlOiBDcmVhdGVGaWVsZElucHV0UmVzb2x2ZXI8SW5mZXJWYWx1ZUZyb21Bcmc8VEFyZz4sIFREQkZpZWxkPlxuICAgICAgfVxuICA6IHtcbiAgICAgIHJlc29sdmU6IENyZWF0ZUZpZWxkSW5wdXRSZXNvbHZlcjx1bmRlZmluZWQsIFREQkZpZWxkPlxuICAgIH0pXG5cbnR5cGUgVW53cmFwTWF5YmVQcm9taXNlPFQ+ID0gVCBleHRlbmRzIFByb21pc2U8aW5mZXIgUmVzb2x2ZWQ+ID8gUmVzb2x2ZWQgOiBUXG5cbnR5cGUgUmVzb2x2ZUZ1bmM8RnVuYyBleHRlbmRzIChmaXJzdEFyZzogYW55LCAuLi5hcmdzOiBhbnlbXSkgPT4gYW55PiA9XG4gIFBhcmFtZXRlcnM8RnVuYz5bMF0gZXh0ZW5kcyBVbndyYXBNYXliZVByb21pc2U8UmV0dXJuVHlwZTxGdW5jPj5cbiAgICA/IHsgcmVzb2x2ZT86IEZ1bmMgfVxuICAgIDogeyByZXNvbHZlOiBGdW5jIH1cblxuZXhwb3J0IHR5cGUgVW5pcXVlV2hlcmVGaWVsZElucHV0QXJnPFZhbCwgVEFyZyBleHRlbmRzIEdBcmc8R0lucHV0VHlwZT4+ID0ge1xuICBhcmc6IFRBcmdcbn0gJiBSZXNvbHZlRnVuYzxcbiAgKFxuICAgIHZhbHVlOiBFeGNsdWRlPEluZmVyVmFsdWVGcm9tQXJnPFRBcmc+LCB1bmRlZmluZWQgfCBudWxsPixcbiAgICBjb250ZXh0OiBLZXlzdG9uZUNvbnRleHRcbiAgKSA9PiBNYXliZVByb21pc2U8VmFsPlxuPlxuXG50eXBlIEZpZWxkVHlwZU91dHB1dEZpZWxkPFREQkZpZWxkIGV4dGVuZHMgREJGaWVsZD4gPSBHRmllbGQ8XG4gIHsgdmFsdWU6IERCRmllbGRUb091dHB1dFZhbHVlPFREQkZpZWxkPjsgaXRlbTogQmFzZUl0ZW0gfSxcbiAgYW55LFxuICBHT3V0cHV0VHlwZTxLZXlzdG9uZUNvbnRleHQ+LFxuICBEQkZpZWxkVG9PdXRwdXRWYWx1ZTxUREJGaWVsZD4sXG4gIEtleXN0b25lQ29udGV4dFxuPlxuXG5leHBvcnQgdHlwZSBPcmRlckRpcmVjdGlvbiA9ICdhc2MnIHwgJ2Rlc2MnXG5cbnR5cGUgREJGaWVsZFRvT3JkZXJCeVZhbHVlPFREQkZpZWxkIGV4dGVuZHMgREJGaWVsZD4gPSBUREJGaWVsZCBleHRlbmRzIFNjYWxhcmlzaERCRmllbGRcbiAgPyBPcmRlckRpcmVjdGlvbiB8IHVuZGVmaW5lZFxuICA6IFREQkZpZWxkIGV4dGVuZHMgTXVsdGlEQkZpZWxkPGluZmVyIEZpZWxkcz5cbiAgICA/IHsgW0tleSBpbiBrZXlvZiBGaWVsZHNdOiBEQkZpZWxkVG9PcmRlckJ5VmFsdWU8RmllbGRzW0tleV0+IH1cbiAgICA6IHVuZGVmaW5lZFxuXG5leHBvcnQgdHlwZSBGaWVsZFR5cGVXaXRob3V0REJGaWVsZDxcbiAgVERCRmllbGQgZXh0ZW5kcyBEQkZpZWxkID0gREJGaWVsZCxcbiAgQ3JlYXRlQXJnIGV4dGVuZHMgR0FyZzxHSW5wdXRUeXBlPiB8IHVuZGVmaW5lZCA9IEdBcmc8R0lucHV0VHlwZT4gfCB1bmRlZmluZWQsXG4gIFVwZGF0ZUFyZyBleHRlbmRzIEdBcmc8R0lucHV0VHlwZT4gPSBHQXJnPEdJbnB1dFR5cGU+LFxuICBVbmlxdWVXaGVyZUFyZyBleHRlbmRzIEdBcmc8R051bGxhYmxlSW5wdXRUeXBlLCBmYWxzZT4gPSBHQXJnPEdOdWxsYWJsZUlucHV0VHlwZSwgZmFsc2U+LFxuICBPcmRlckJ5QXJnIGV4dGVuZHMgR0FyZzxHTnVsbGFibGVJbnB1dFR5cGUsIGZhbHNlPiA9IEdBcmc8R051bGxhYmxlSW5wdXRUeXBlLCBmYWxzZT4sXG4gIEZpbHRlckFyZyBleHRlbmRzIEdBcmc8R051bGxhYmxlSW5wdXRUeXBlLCBmYWxzZT4gPSBHQXJnPEdOdWxsYWJsZUlucHV0VHlwZSwgZmFsc2U+LFxuICBMaXN0VHlwZUluZm8gZXh0ZW5kcyBCYXNlTGlzdFR5cGVJbmZvID0gQmFzZUxpc3RUeXBlSW5mbyxcbiAgRmllbGRUeXBlSW5mbyBleHRlbmRzIEJhc2VGaWVsZFR5cGVJbmZvID0gQmFzZUZpZWxkVHlwZUluZm8sXG4+ID0ge1xuICBpbnB1dD86IHtcbiAgICB1bmlxdWVXaGVyZT86IFVuaXF1ZVdoZXJlRmllbGRJbnB1dEFyZzxEQkZpZWxkVW5pcXVlV2hlcmU8VERCRmllbGQ+LCBVbmlxdWVXaGVyZUFyZz5cbiAgICB3aGVyZT86IFdoZXJlRmllbGRJbnB1dEFyZzxUREJGaWVsZCwgRmlsdGVyQXJnPlxuICAgIGNyZWF0ZT86IENyZWF0ZUZpZWxkSW5wdXRBcmc8VERCRmllbGQsIENyZWF0ZUFyZz5cbiAgICB1cGRhdGU/OiBVcGRhdGVGaWVsZElucHV0QXJnPFREQkZpZWxkLCBVcGRhdGVBcmc+XG4gICAgb3JkZXJCeT86IE9yZGVyQnlGaWVsZElucHV0QXJnPERCRmllbGRUb09yZGVyQnlWYWx1ZTxUREJGaWVsZD4sIE9yZGVyQnlBcmc+XG4gIH1cbiAgb3V0cHV0OiBGaWVsZFR5cGVPdXRwdXRGaWVsZDxUREJGaWVsZD5cbiAgdmlld3M6IHN0cmluZ1xuICBleHRyYU91dHB1dEZpZWxkcz86IFJlY29yZDxzdHJpbmcsIEZpZWxkVHlwZU91dHB1dEZpZWxkPFREQkZpZWxkPj5cbiAgZ2V0QWRtaW5NZXRhPzogKCkgPT4gSlNPTlZhbHVlXG4gIHVucmVmZXJlbmNlZENvbmNyZXRlSW50ZXJmYWNlSW1wbGVtZW50YXRpb25zPzogcmVhZG9ubHkgZzx0eXBlb2YgZy5vYmplY3Q8YW55Pj5bXVxuICBfX2tzVGVsZW1ldHJ5RmllbGRUeXBlTmFtZT86IHN0cmluZ1xufSAmIENvbW1vbkZpZWxkQ29uZmlnPExpc3RUeXBlSW5mbywgRmllbGRUeXBlSW5mbz5cblxudHlwZSBBbnlJbnB1dE9iaiA9IEdJbnB1dE9iamVjdFR5cGU8UmVjb3JkPHN0cmluZywgR0FyZzxHSW5wdXRUeXBlPj4+XG5cbmV4cG9ydCB0eXBlIEdyYXBoUUxUeXBlc0Zvckxpc3Q8TGlzdFR5cGVJbmZvIGV4dGVuZHMgQmFzZUxpc3RUeXBlSW5mbyA9IEJhc2VMaXN0VHlwZUluZm8+ID0ge1xuICBjcmVhdGU6IEFueUlucHV0T2JqIHwgdHlwZW9mIGcuRW1wdHlcbiAgdXBkYXRlOiBBbnlJbnB1dE9iaiB8IHR5cGVvZiBnLkVtcHR5XG4gIHVuaXF1ZVdoZXJlOiBHSW5wdXRPYmplY3RUeXBlPHtcbiAgICBpZDogR0FyZzx0eXBlb2YgZy5JRD5cbiAgICBba2V5OiBzdHJpbmddOiBHQXJnPEdOdWxsYWJsZUlucHV0VHlwZT5cbiAgfT5cbiAgd2hlcmU6IEFueUlucHV0T2JqXG4gIG9yZGVyQnk6IEFueUlucHV0T2JqXG4gIG91dHB1dDogR09iamVjdFR5cGU8TGlzdFR5cGVJbmZvWydpdGVtJ10sIEtleXN0b25lQ29udGV4dDxMaXN0VHlwZUluZm9bJ2FsbCddPj5cbiAgZmluZE1hbnlBcmdzOiBGaW5kTWFueUFyZ3NcbiAgcmVsYXRlVG86IHtcbiAgICBvbmU6IHtcbiAgICAgIGNyZWF0ZTogR0lucHV0T2JqZWN0VHlwZTx7XG4gICAgICAgIGNyZWF0ZT86IEdBcmc8R3JhcGhRTFR5cGVzRm9yTGlzdDxMaXN0VHlwZUluZm8+WydjcmVhdGUnXT5cbiAgICAgICAgY29ubmVjdDogR0FyZzxHcmFwaFFMVHlwZXNGb3JMaXN0PExpc3RUeXBlSW5mbz5bJ3VuaXF1ZVdoZXJlJ10+XG4gICAgICB9PlxuICAgICAgdXBkYXRlOiBHSW5wdXRPYmplY3RUeXBlPHtcbiAgICAgICAgY3JlYXRlPzogR0FyZzxHcmFwaFFMVHlwZXNGb3JMaXN0PExpc3RUeXBlSW5mbz5bJ2NyZWF0ZSddPlxuICAgICAgICBjb25uZWN0OiBHQXJnPEdyYXBoUUxUeXBlc0Zvckxpc3Q8TGlzdFR5cGVJbmZvPlsndW5pcXVlV2hlcmUnXT5cbiAgICAgICAgZGlzY29ubmVjdDogR0FyZzx0eXBlb2YgZy5Cb29sZWFuPlxuICAgICAgfT5cbiAgICB9XG4gICAgbWFueToge1xuICAgICAgd2hlcmU6IEdJbnB1dE9iamVjdFR5cGU8e1xuICAgICAgICBldmVyeTogR0FyZzxBbnlJbnB1dE9iaj5cbiAgICAgICAgc29tZTogR0FyZzxBbnlJbnB1dE9iaj5cbiAgICAgICAgbm9uZTogR0FyZzxBbnlJbnB1dE9iaj5cbiAgICAgIH0+XG4gICAgICBjcmVhdGU6IEdJbnB1dE9iamVjdFR5cGU8e1xuICAgICAgICBjcmVhdGU/OiBHQXJnPEdMaXN0PEdOb25OdWxsPEdyYXBoUUxUeXBlc0Zvckxpc3Q8TGlzdFR5cGVJbmZvPlsnY3JlYXRlJ10+Pj5cbiAgICAgICAgY29ubmVjdDogR0FyZzxHTGlzdDxHTm9uTnVsbDxHcmFwaFFMVHlwZXNGb3JMaXN0PExpc3RUeXBlSW5mbz5bJ3VuaXF1ZVdoZXJlJ10+Pj5cbiAgICAgICAgc2V0OiBHQXJnPEdMaXN0PEdOb25OdWxsPEdyYXBoUUxUeXBlc0Zvckxpc3Q8TGlzdFR5cGVJbmZvPlsndW5pcXVlV2hlcmUnXT4+PlxuICAgICAgfT5cbiAgICAgIHVwZGF0ZTogR0lucHV0T2JqZWN0VHlwZTx7XG4gICAgICAgIGNyZWF0ZT86IEdBcmc8R0xpc3Q8R05vbk51bGw8R3JhcGhRTFR5cGVzRm9yTGlzdDxMaXN0VHlwZUluZm8+WydjcmVhdGUnXT4+PlxuICAgICAgICBjb25uZWN0OiBHQXJnPEdMaXN0PEdOb25OdWxsPEdyYXBoUUxUeXBlc0Zvckxpc3Q8TGlzdFR5cGVJbmZvPlsndW5pcXVlV2hlcmUnXT4+PlxuICAgICAgICBkaXNjb25uZWN0OiBHQXJnPEdMaXN0PEdOb25OdWxsPEdyYXBoUUxUeXBlc0Zvckxpc3Q8TGlzdFR5cGVJbmZvPlsndW5pcXVlV2hlcmUnXT4+PlxuICAgICAgICBzZXQ6IEdBcmc8R0xpc3Q8R05vbk51bGw8R3JhcGhRTFR5cGVzRm9yTGlzdDxMaXN0VHlwZUluZm8+Wyd1bmlxdWVXaGVyZSddPj4+XG4gICAgICB9PlxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgdHlwZSBGaW5kTWFueUFyZ3MgPSB7XG4gIHdoZXJlOiBHQXJnPEdOb25OdWxsPEdyYXBoUUxUeXBlc0Zvckxpc3RbJ3doZXJlJ10+LCB0cnVlPlxuICBvcmRlckJ5OiBHQXJnPEdOb25OdWxsPEdMaXN0PEdOb25OdWxsPEdyYXBoUUxUeXBlc0Zvckxpc3RbJ29yZGVyQnknXT4+PiwgdHJ1ZT5cbiAgdGFrZTogR0FyZzx0eXBlb2YgZy5JbnQ+XG4gIHNraXA6IEdBcmc8R05vbk51bGw8dHlwZW9mIGcuSW50PiwgdHJ1ZT5cbiAgY3Vyc29yOiBHQXJnPEdyYXBoUUxUeXBlc0Zvckxpc3RbJ3VuaXF1ZVdoZXJlJ10+XG59XG5cbmV4cG9ydCB0eXBlIEZpbmRNYW55QXJnc1ZhbHVlID0gSW5mZXJWYWx1ZUZyb21BcmdzPEZpbmRNYW55QXJncz5cblxuLy8gZmllbGRUeXBlKGRiRmllbGQpKGZpZWxkSW5mbykgPT4geyAuLi5maWVsZEluZm8sIGRiRmllbGQgfTtcbmV4cG9ydCBmdW5jdGlvbiBmaWVsZFR5cGU8VERCRmllbGQgZXh0ZW5kcyBEQkZpZWxkLCBMaXN0VHlwZUluZm8gZXh0ZW5kcyBCYXNlTGlzdFR5cGVJbmZvPihcbiAgZGJGaWVsZDogVERCRmllbGRcbikge1xuICByZXR1cm4gZnVuY3Rpb24gZmllbGRUeXBlV3JhcHBlcjxcbiAgICBDcmVhdGVBcmcgZXh0ZW5kcyBHQXJnPEdJbnB1dFR5cGU+IHwgdW5kZWZpbmVkLFxuICAgIFVwZGF0ZUFyZyBleHRlbmRzIEdBcmc8R0lucHV0VHlwZT4sXG4gICAgVW5pcXVlV2hlcmVBcmcgZXh0ZW5kcyBHQXJnPEdOdWxsYWJsZUlucHV0VHlwZSwgZmFsc2U+LFxuICAgIE9yZGVyQnlBcmcgZXh0ZW5kcyBHQXJnPEdOdWxsYWJsZUlucHV0VHlwZSwgZmFsc2U+LFxuICAgIEZpbHRlckFyZyBleHRlbmRzIEdBcmc8R051bGxhYmxlSW5wdXRUeXBlLCBmYWxzZT4sXG4gID4oXG4gICAgZ3JhcGhRTEluZm86IEZpZWxkVHlwZVdpdGhvdXREQkZpZWxkPFxuICAgICAgVERCRmllbGQsXG4gICAgICBDcmVhdGVBcmcsXG4gICAgICBVcGRhdGVBcmcsXG4gICAgICBVbmlxdWVXaGVyZUFyZyxcbiAgICAgIE9yZGVyQnlBcmcsXG4gICAgICBGaWx0ZXJBcmcsXG4gICAgICBMaXN0VHlwZUluZm9cbiAgICA+XG4gICk6IE5leHRGaWVsZFR5cGU8XG4gICAgREJGaWVsZCxcbiAgICBHQXJnPEdJbnB1dFR5cGU+IHwgdW5kZWZpbmVkLFxuICAgIEdBcmc8R0lucHV0VHlwZT4sXG4gICAgR0FyZzxHTnVsbGFibGVJbnB1dFR5cGUsIGZhbHNlPixcbiAgICBHQXJnPEdOdWxsYWJsZUlucHV0VHlwZSwgZmFsc2U+LFxuICAgIEdBcmc8R051bGxhYmxlSW5wdXRUeXBlLCBmYWxzZT4sXG4gICAgYW55XG4gID4ge1xuICAgIHJldHVybiB7IC4uLmdyYXBoUUxJbmZvLCBkYkZpZWxkIH0gYXMgYW55XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJEZWNpbWFsIiwiZyIsIm9yZGVyRGlyZWN0aW9uRW51bSIsImVudW0iLCJuYW1lIiwidmFsdWVzIiwiZW51bVZhbHVlcyIsIlF1ZXJ5TW9kZSIsImZpZWxkVHlwZSIsImRiRmllbGQiLCJmaWVsZFR5cGVXcmFwcGVyIiwiZ3JhcGhRTEluZm8iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/types/next-fields.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/types/schema/g.ts":
/*!*******************************************************!*\
  !*** ../../../../packages/core/src/types/schema/g.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: () => (/* binding */ g)\n/* harmony export */ });\n/* harmony import */ var _gWithContext__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gWithContext */ \"../../../../packages/core/src/types/schema/gWithContext.ts\");\n\nconst g = (0,_gWithContext__WEBPACK_IMPORTED_MODULE_0__.gWithContext)();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvc2NoZW1hL2cudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDNkM7QUFFdEMsTUFBTUMsSUFBSUQsMkRBQVlBLEdBQW1CIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2NvcmUvc3JjL3R5cGVzL3NjaGVtYS9nLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgS2V5c3RvbmVDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dCdcbmltcG9ydCB7IGdXaXRoQ29udGV4dCB9IGZyb20gJy4vZ1dpdGhDb250ZXh0J1xuXG5leHBvcnQgY29uc3QgZyA9IGdXaXRoQ29udGV4dDxLZXlzdG9uZUNvbnRleHQ+KClcbmV4cG9ydCB0eXBlIGc8VD4gPSBnV2l0aENvbnRleHQuaW5mZXI8VD5cbiJdLCJuYW1lcyI6WyJnV2l0aENvbnRleHQiLCJnIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/types/schema/g.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/types/schema/gWithContext.ts":
/*!******************************************************************!*\
  !*** ../../../../packages/core/src/types/schema/gWithContext.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   gWithContext: () => (/* binding */ gWithContext)\n/* harmony export */ });\n/* harmony import */ var _graphql_ts_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @graphql-ts/schema */ \"../../../../node_modules/.pnpm/@graphql-ts+schema@1.0.2_graphql@16.10.0/node_modules/@graphql-ts/schema/dist/graphql-ts-schema.esm.js\");\n/* harmony import */ var _graphql_ts_extend__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @graphql-ts/extend */ \"../../../../node_modules/.pnpm/@graphql-ts+extend@2.0.0_@graphql-ts+schema@1.0.2_graphql@16.10.0__graphql@16.10.0/node_modules/@graphql-ts/extend/dist/graphql-ts-extend.esm.js\");\n/* harmony import */ var _scalars__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scalars */ \"../../../../packages/core/src/types/schema/scalars.ts\");\n\n\n\nfunction gWithContext() {\n    return {\n        ...(0,_graphql_ts_schema__WEBPACK_IMPORTED_MODULE_0__.gWithContext)(),\n        ..._scalars__WEBPACK_IMPORTED_MODULE_2__,\n        extend: _graphql_ts_extend__WEBPACK_IMPORTED_MODULE_1__.extend\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvc2NoZW1hL2dXaXRoQ29udGV4dC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ3FFO0FBQzFCO0FBQ1A7QUFHN0IsU0FBU0E7SUFJZCxPQUFPO1FBQ0wsR0FBR0MsZ0VBQWdCQSxFQUFXO1FBQzlCLEdBQUdFLHFDQUFPO1FBQ1ZELE1BQU1BLHdEQUFBQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvc2NoZW1hL2dXaXRoQ29udGV4dC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEdXaXRoQ29udGV4dCB9IGZyb20gJ0BncmFwaHFsLXRzL3NjaGVtYSdcbmltcG9ydCB7IGdXaXRoQ29udGV4dCBhcyBiYXNlR1dpdGhDb250ZXh0IH0gZnJvbSAnQGdyYXBocWwtdHMvc2NoZW1hJ1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnQGdyYXBocWwtdHMvZXh0ZW5kJ1xuaW1wb3J0ICogYXMgc2NhbGFycyBmcm9tICcuL3NjYWxhcnMnXG5pbXBvcnQgdHlwZSB7IEtleXN0b25lQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQnXG5cbmV4cG9ydCBmdW5jdGlvbiBnV2l0aENvbnRleHQ8Q29udGV4dCBleHRlbmRzIEtleXN0b25lQ29udGV4dDxhbnk+PigpOiBHV2l0aENvbnRleHQ8Q29udGV4dD4gJlxuICB0eXBlb2Ygc2NhbGFycyAmIHtcbiAgICBleHRlbmQ6IHR5cGVvZiBleHRlbmRcbiAgfSB7XG4gIHJldHVybiB7XG4gICAgLi4uYmFzZUdXaXRoQ29udGV4dDxDb250ZXh0PigpLFxuICAgIC4uLnNjYWxhcnMsXG4gICAgZXh0ZW5kLFxuICB9XG59XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBnV2l0aENvbnRleHQge1xuICBleHBvcnQgdHlwZSBpbmZlcjxUPiA9IGJhc2VHV2l0aENvbnRleHQuaW5mZXI8VD5cbn1cbiJdLCJuYW1lcyI6WyJnV2l0aENvbnRleHQiLCJiYXNlR1dpdGhDb250ZXh0IiwiZXh0ZW5kIiwic2NhbGFycyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/types/schema/gWithContext.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/types/schema/index.ts":
/*!***********************************************************!*\
  !*** ../../../../packages/core/src/types/schema/index.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: () => (/* reexport safe */ _g__WEBPACK_IMPORTED_MODULE_0__.g),\n/* harmony export */   gWithContext: () => (/* reexport safe */ _gWithContext__WEBPACK_IMPORTED_MODULE_1__.gWithContext)\n/* harmony export */ });\n/* harmony import */ var _g__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./g */ \"../../../../packages/core/src/types/schema/g.ts\");\n/* harmony import */ var _gWithContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gWithContext */ \"../../../../packages/core/src/types/schema/gWithContext.ts\");\n/* harmony import */ var _legacy_alias__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./legacy-alias */ \"../../../../packages/core/src/types/schema/legacy-alias.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _legacy_alias__WEBPACK_IMPORTED_MODULE_2__) if([\"default\",\"g\",\"gWithContext\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _legacy_alias__WEBPACK_IMPORTED_MODULE_2__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n// this must use export * to allow for easy use of \"Rename Symbol\" to update `graphql` to `g`\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvc2NoZW1hL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXVCO0FBQ3NCO0FBQzdDLDZGQUE2RjtBQUMvRCIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy90eXBlcy9zY2hlbWEvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgZyB9IGZyb20gJy4vZydcbmV4cG9ydCB7IGdXaXRoQ29udGV4dCB9IGZyb20gJy4vZ1dpdGhDb250ZXh0J1xuLy8gdGhpcyBtdXN0IHVzZSBleHBvcnQgKiB0byBhbGxvdyBmb3IgZWFzeSB1c2Ugb2YgXCJSZW5hbWUgU3ltYm9sXCIgdG8gdXBkYXRlIGBncmFwaHFsYCB0byBgZ2BcbmV4cG9ydCAqIGZyb20gJy4vbGVnYWN5LWFsaWFzJ1xuIl0sIm5hbWVzIjpbImciLCJnV2l0aENvbnRleHQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/types/schema/index.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/types/schema/legacy-alias.js":
/*!******************************************************************!*\
  !*** ../../../../packages/core/src/types/schema/legacy-alias.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   graphql: () => (/* reexport safe */ _g__WEBPACK_IMPORTED_MODULE_0__.g)\n/* harmony export */ });\n/* harmony import */ var _g__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./g */ \"../../../../packages/core/src/types/schema/g.ts\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvc2NoZW1hL2xlZ2FjeS1hbGlhcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrQyIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9jb3JlL3NyYy90eXBlcy9zY2hlbWEvbGVnYWN5LWFsaWFzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGcgYXMgZ3JhcGhxbCB9IGZyb20gJy4vZydcbiJdLCJuYW1lcyI6WyJnIiwiZ3JhcGhxbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/core/src/types/schema/legacy-alias.js\n");

/***/ }),

/***/ "../../../../packages/core/src/types/schema/scalars.ts":
/*!*************************************************************!*\
  !*** ../../../../packages/core/src/types/schema/scalars.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BigInt: () => (/* binding */ BigInt),\n/* harmony export */   CalendarDay: () => (/* binding */ CalendarDay),\n/* harmony export */   DateTime: () => (/* binding */ DateTime),\n/* harmony export */   Decimal: () => (/* binding */ Decimal),\n/* harmony export */   Empty: () => (/* binding */ Empty),\n/* harmony export */   Hex: () => (/* binding */ Hex),\n/* harmony export */   JSON: () => (/* binding */ JSON),\n/* harmony export */   Upload: () => (/* binding */ Upload)\n/* harmony export */ });\n/* harmony import */ var graphql_upload_GraphQLUpload_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! graphql-upload/GraphQLUpload.js */ \"../../../../node_modules/.pnpm/graphql-upload@15.0.2_@types+express@4.17.21_graphql@16.10.0/node_modules/graphql-upload/GraphQLUpload.js\");\n/* harmony import */ var graphql_upload_GraphQLUpload_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(graphql_upload_GraphQLUpload_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! graphql */ \"../../../../node_modules/.pnpm/graphql@16.10.0/node_modules/graphql/index.js\");\n/* harmony import */ var decimal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! decimal.js */ \"../../../../node_modules/.pnpm/decimal.js@10.5.0/node_modules/decimal.js/decimal.mjs\");\n// @ts-expect-error\n\n\n\nconst JSON = new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLScalarType({\n    name: 'JSON',\n    description: 'The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).',\n    specifiedByURL: 'http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf'\n});\n// avoiding using Buffer.from/etc. because we want a plain Uint8Array and that would be an extra conversion\n// when https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array/toHex and etc.\n// is available we should use that instead\nfunction hexToBytes(value) {\n    if (!/^[0-9a-fA-F]*$/.test(value)) {\n        throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('Hex values must be a string of hexadecimal characters');\n    }\n    if (value.length % 2 !== 0) {\n        throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('Hex values must have an even number of characters');\n    }\n    const bytes = new Uint8Array(value.length / 2);\n    for(let i = 0; i < bytes.byteLength; i += 1){\n        const start = i * 2;\n        bytes[i] = parseInt(value.slice(start, start + 2), 16);\n    }\n    return bytes;\n}\nfunction bytesToHex(bytes) {\n    let str = '';\n    for (const byte of bytes){\n        str += byte.toString(16).padStart(2, '0');\n    }\n    return str;\n}\nconst Hex = new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLScalarType({\n    name: 'Hex',\n    description: 'The `Hex` scalar type represents bytes as a string of hexadecimal characters.',\n    parseLiteral (value) {\n        if (value.kind !== 'StringValue') {\n            throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('Hex only accepts values as strings');\n        }\n        return hexToBytes(value.value);\n    },\n    parseValue (value) {\n        // so that when you're doing a mutation in a resolver, you can just pass in a Uint8Array directly\n        if (value instanceof Uint8Array) {\n            // duplicate it though to avoid any weirdness with the array being mutated\n            // + ensuring that if you pass in a Buffer, resolvers recieve a normal Uint8Array\n            return Uint8Array.from(value);\n        }\n        if (typeof value !== 'string') {\n            throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('Hex only accepts values as strings');\n        }\n        return hexToBytes(value);\n    },\n    serialize (value) {\n        if (!(value instanceof Uint8Array)) {\n            throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError(`unexpected value provided to Hex scalar: ${value}`);\n        }\n        return bytesToHex(value);\n    }\n});\nconst Upload = (graphql_upload_GraphQLUpload_js__WEBPACK_IMPORTED_MODULE_2___default());\n// - Decimal.js throws on invalid inputs\n// - Decimal.js can represent +Infinity and -Infinity, these aren't values in Postgres' decimal,\n//   NaN is but Prisma doesn't support it\n//   .isFinite refers to +Infinity, -Infinity and NaN\nconst Decimal = new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLScalarType({\n    name: 'Decimal',\n    serialize (value) {\n        if (!decimal_js__WEBPACK_IMPORTED_MODULE_0__.Decimal.isDecimal(value)) throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError(`unexpected value provided to Decimal scalar: ${value}`);\n        const cast = value;\n        if (cast.scaleToPrint !== undefined) return value.toFixed(cast.scaleToPrint);\n        return value.toString();\n    },\n    parseLiteral (value) {\n        if (value.kind !== 'StringValue') throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('Decimal only accepts values as strings');\n        const decimal = new decimal_js__WEBPACK_IMPORTED_MODULE_0__.Decimal(value.value);\n        if (!decimal.isFinite()) throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('Decimal values must be finite');\n        return decimal;\n    },\n    parseValue (value) {\n        if (decimal_js__WEBPACK_IMPORTED_MODULE_0__.Decimal.isDecimal(value)) {\n            if (!value.isFinite()) throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('Decimal values must be finite');\n            return value;\n        }\n        if (typeof value !== 'string') throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('Decimal only accepts values as strings');\n        const decimal = new decimal_js__WEBPACK_IMPORTED_MODULE_0__.Decimal(value);\n        if (!decimal.isFinite()) throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('Decimal values must be finite');\n        return decimal;\n    }\n});\nconst BigInt = new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLScalarType({\n    name: 'BigInt',\n    serialize (value) {\n        if (typeof value !== 'bigint') throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError(`unexpected value provided to BigInt scalar: ${value}`);\n        return value.toString();\n    },\n    parseLiteral (value) {\n        if (value.kind !== 'StringValue') throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('BigInt only accepts values as strings');\n        return globalThis.BigInt(value.value);\n    },\n    parseValue (value) {\n        if (typeof value === 'bigint') return value;\n        if (typeof value !== 'string') throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('BigInt only accepts values as strings');\n        return globalThis.BigInt(value);\n    }\n});\n// from https://github.com/excitement-engineer/graphql-iso-date/blob/master/src/utils/validator.js#L121\n// this is also what prisma uses https://github.com/prisma/prisma/blob/20b58fe65d581bcb43c0d5c28d4b89cabc2d99b2/packages/client/src/runtime/utils/common.ts#L126-L128\nconst RFC_3339_REGEX = /^(\\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60))(\\.\\d{1,})?(([Z])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))$/;\nfunction parseDate(input) {\n    if (!RFC_3339_REGEX.test(input)) {\n        throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('DateTime scalars must be in the form of a full ISO 8601 date-time string');\n    }\n    const parsed = new Date(input);\n    if (isNaN(parsed.valueOf())) {\n        throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('DateTime scalars must be in the form of a full ISO 8601 date-time string');\n    }\n    return parsed;\n}\nconst DateTime = new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLScalarType({\n    name: 'DateTime',\n    specifiedByURL: 'https://datatracker.ietf.org/doc/html/rfc3339#section-5.6',\n    serialize (value) {\n        if (!(value instanceof Date) || isNaN(value.valueOf())) {\n            throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError(`unexpected value provided to DateTime scalar: ${value}`);\n        }\n        return value.toISOString();\n    },\n    parseLiteral (value) {\n        if (value.kind !== 'StringValue') {\n            throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('DateTime only accepts values as strings');\n        }\n        return parseDate(value.value);\n    },\n    parseValue (value) {\n        if (value instanceof Date) return value;\n        if (typeof value !== 'string') {\n            throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('DateTime only accepts values as strings');\n        }\n        return parseDate(value);\n    }\n});\nconst RFC_3339_FULL_DATE_REGEX = /^\\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/;\nfunction validateCalendarDay(input) {\n    if (!RFC_3339_FULL_DATE_REGEX.test(input)) {\n        throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('CalendarDay scalars must be in the form of a full-date ISO 8601 string');\n    }\n}\nconst CalendarDay = new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLScalarType({\n    name: 'CalendarDay',\n    specifiedByURL: 'https://datatracker.ietf.org/doc/html/rfc3339#section-5.6',\n    serialize (value) {\n        if (typeof value !== 'string') {\n            throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError(`unexpected value provided to CalendarDay scalar: ${value}`);\n        }\n        return value;\n    },\n    parseLiteral (value) {\n        if (value.kind !== 'StringValue') {\n            throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('CalendarDay only accepts values as strings');\n        }\n        validateCalendarDay(value.value);\n        return value.value;\n    },\n    parseValue (value) {\n        if (typeof value !== 'string') {\n            throw new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError('CalendarDay only accepts values as strings');\n        }\n        validateCalendarDay(value);\n        return value;\n    }\n});\nconst Empty = new graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLScalarType({\n    name: 'Empty',\n    serialize (value) {\n        return null;\n    },\n    parseLiteral (value) {\n        return {};\n    },\n    parseValue (value) {\n        return {};\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvc2NoZW1hL3NjYWxhcnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsbUJBQW1CO0FBQ3dDO0FBQ0Y7QUFDTDtBQUc3QyxNQUFNSyxPQUFPLElBQUlILHNEQUFpQkEsQ0FBWTtJQUNuREksTUFBTTtJQUNOQyxhQUNFO0lBQ0ZDLGdCQUFnQjtBQUVsQixHQUFFO0FBRUYsMkdBQTJHO0FBQzNHLGtIQUFrSDtBQUNsSCwwQ0FBMEM7QUFFMUMsU0FBU0MsV0FBV0MsS0FBYTtJQUMvQixJQUFJLENBQUMsaUJBQWlCQyxJQUFJLENBQUNELFFBQVE7UUFDakMsTUFBTSxJQUFJVCxpREFBWUEsQ0FBQztJQUN6QjtJQUNBLElBQUlTLE1BQU1FLE1BQU0sR0FBRyxNQUFNLEdBQUc7UUFDMUIsTUFBTSxJQUFJWCxpREFBWUEsQ0FBQztJQUN6QjtJQUNBLE1BQU1ZLFFBQVEsSUFBSUMsV0FBV0osTUFBTUUsTUFBTSxHQUFHO0lBQzVDLElBQUssSUFBSUcsSUFBSSxHQUFHQSxJQUFJRixNQUFNRyxVQUFVLEVBQUVELEtBQUssRUFBRztRQUM1QyxNQUFNRSxRQUFRRixJQUFJO1FBQ2xCRixLQUFLLENBQUNFLEVBQUUsR0FBR0csU0FBU1IsTUFBTVMsS0FBSyxDQUFDRixPQUFPQSxRQUFRLElBQUk7SUFDckQ7SUFDQSxPQUFPSjtBQUNUO0FBRUEsU0FBU08sV0FBV1AsS0FBaUI7SUFDbkMsSUFBSVEsTUFBTTtJQUNWLEtBQUssTUFBTUMsUUFBUVQsTUFBTztRQUN4QlEsT0FBT0MsS0FBS0MsUUFBUSxDQUFDLElBQUlDLFFBQVEsQ0FBQyxHQUFHO0lBQ3ZDO0lBQ0EsT0FBT0g7QUFDVDtBQUVPLE1BQU1JLE1BQU0sSUFBSXZCLHNEQUFpQkEsQ0FBQztJQUN2Q0ksTUFBTTtJQUNOQyxhQUFhO0lBQ2JtQixjQUFhaEIsS0FBSztRQUNoQixJQUFJQSxNQUFNaUIsSUFBSSxLQUFLLGVBQWU7WUFDaEMsTUFB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QVVwQixLQUFjO1FBQ3RCLElBQUksT0FBT0EsVUFBVSxVQUFVO1lBQzdCLE1BQU0sSUFBSVQsaURBQVlBLENBQUMsQ0FBQyxpREFBaUQsRUFBRVMsT0FBTztRQUNwRjtRQUNBLE9BQU9BO0lBQ1Q7SUFDQWdCLGNBQWFoQixLQUFLO1FBQ2hCLElBQUlBLE1BQU1pQixJQUFJLEtBQUssZUFBZTtZQUNoQyxNQUFNLElBQUkxQixpREFBWUEsQ0FBQztRQUN6QjtRQUNBa0Qsb0JBQW9CekMsTUFBTUEsS0FBSztRQUMvQixPQUFPQSxNQUFNQSxLQUFLO0lBQ3BCO0lBQ0FrQixZQUFXbEIsS0FBYztRQUN2QixJQUFJLE9BQU9BLFVBQVUsVUFBVTtZQUM3QixNQUFNLElBQUlULGlEQUFZQSxDQUFDO1FBQ3pCO1FBQ0FrRCxvQkFBb0J6QztRQUNwQixPQUFPQTtJQUNUO0FBQ0YsR0FBRTtBQUVLLE1BQU0yQyxRQUFRLElBQUluRCxzREFBaUJBLENBQUM7SUFDekNJLE1BQU07SUFDTndCLFdBQVVwQixLQUFLO1FBQ2IsT0FBTztJQUNUO0lBQ0FnQixjQUFhaEIsS0FBSztRQUNoQixPQUFPLENBQUM7SUFDVjtJQUNBa0IsWUFBV2xCLEtBQUs7UUFDZCxPQUFPLENBQUM7SUFDVjtBQUNGLEdBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvc2NoZW1hL3NjYWxhcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBSZWFkU3RyZWFtIH0gZnJvbSAnbm9kZTpmcydcbi8vIEB0cy1leHBlY3QtZXJyb3JcbmltcG9ydCBHcmFwaFFMVXBsb2FkIGZyb20gJ2dyYXBocWwtdXBsb2FkL0dyYXBoUUxVcGxvYWQuanMnXG5pbXBvcnQgeyBHcmFwaFFMRXJyb3IsIEdyYXBoUUxTY2FsYXJUeXBlIH0gZnJvbSAnZ3JhcGhxbCdcbmltcG9ydCB7IERlY2ltYWwgYXMgRGVjaW1hbFZhbHVlIH0gZnJvbSAnZGVjaW1hbC5qcydcbmltcG9ydCB0eXBlIHsgSlNPTlZhbHVlIH0gZnJvbSAnLi4vdXRpbHMnXG5cbmV4cG9ydCBjb25zdCBKU09OID0gbmV3IEdyYXBoUUxTY2FsYXJUeXBlPEpTT05WYWx1ZT4oe1xuICBuYW1lOiAnSlNPTicsXG4gIGRlc2NyaXB0aW9uOlxuICAgICdUaGUgYEpTT05gIHNjYWxhciB0eXBlIHJlcHJlc2VudHMgSlNPTiB2YWx1ZXMgYXMgc3BlY2lmaWVkIGJ5IFtFQ01BLTQwNF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL3B1YmxpY2F0aW9ucy9maWxlcy9FQ01BLVNUL0VDTUEtNDA0LnBkZikuJyxcbiAgc3BlY2lmaWVkQnlVUkw6ICdodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvcHVibGljYXRpb25zL2ZpbGVzL0VDTUEtU1QvRUNNQS00MDQucGRmJyxcbiAgLy8gdGhlIGRlZmF1bHRzIGZvciBzZXJpYWxpemUsIHBhcnNlVmFsdWUgYW5kIHBhcnNlTGl0ZXJhbCBkbyB3aGF0IG1ha2VzIHNlbnNlIGZvciBKU09OXG59KVxuXG4vLyBhdm9pZGluZyB1c2luZyBCdWZmZXIuZnJvbS9ldGMuIGJlY2F1c2Ugd2Ugd2FudCBhIHBsYWluIFVpbnQ4QXJyYXkgYW5kIHRoYXQgd291bGQgYmUgYW4gZXh0cmEgY29udmVyc2lvblxuLy8gd2hlbiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9VaW50OEFycmF5L3RvSGV4IGFuZCBldGMuXG4vLyBpcyBhdmFpbGFibGUgd2Ugc2hvdWxkIHVzZSB0aGF0IGluc3RlYWRcblxuZnVuY3Rpb24gaGV4VG9CeXRlcyh2YWx1ZTogc3RyaW5nKTogVWludDhBcnJheSB7XG4gIGlmICghL15bMC05YS1mQS1GXSokLy50ZXN0KHZhbHVlKSkge1xuICAgIHRocm93IG5ldyBHcmFwaFFMRXJyb3IoJ0hleCB2YWx1ZXMgbXVzdCBiZSBhIHN0cmluZyBvZiBoZXhhZGVjaW1hbCBjaGFyYWN0ZXJzJylcbiAgfVxuICBpZiAodmFsdWUubGVuZ3RoICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBHcmFwaFFMRXJyb3IoJ0hleCB2YWx1ZXMgbXVzdCBoYXZlIGFuIGV2ZW4gbnVtYmVyIG9mIGNoYXJhY3RlcnMnKVxuICB9XG4gIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodmFsdWUubGVuZ3RoIC8gMilcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5ieXRlTGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBzdGFydCA9IGkgKiAyXG4gICAgYnl0ZXNbaV0gPSBwYXJzZUludCh2YWx1ZS5zbGljZShzdGFydCwgc3RhcnQgKyAyKSwgMTYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9IZXgoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICBsZXQgc3RyID0gJydcbiAgZm9yIChjb25zdCBieXRlIG9mIGJ5dGVzKSB7XG4gICAgc3RyICs9IGJ5dGUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJylcbiAgfVxuICByZXR1cm4gc3RyXG59XG5cbmV4cG9ydCBjb25zdCBIZXggPSBuZXcgR3JhcGhRTFNjYWxhclR5cGUoe1xuICBuYW1lOiAnSGV4JyxcbiAgZGVzY3JpcHRpb246ICdUaGUgYEhleGAgc2NhbGFyIHR5cGUgcmVwcmVzZW50cyBieXRlcyBhcyBhIHN0cmluZyBvZiBoZXhhZGVjaW1hbCBjaGFyYWN0ZXJzLicsXG4gIHBhcnNlTGl0ZXJhbCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZS5raW5kICE9PSAnU3RyaW5nVmFsdWUnKSB7XG4gICAgICB0aHJvdyBuZXcgR3JhcGhRTEVycm9yKCdIZXggb25seSBhY2NlcHRzIHZhbHVlcyBhcyBzdHJpbmdzJylcbiAgICB9XG4gICAgcmV0dXJuIGhleFRvQnl0ZXModmFsdWUudmFsdWUpXG4gIH0sXG4gIHBhcnNlVmFsdWUodmFsdWUpIHtcbiAgICAvLyBzbyB0aGF0IHdoZW4geW91J3JlIGRvaW5nIGEgbXV0YXRpb24gaW4gYSByZXNvbHZlciwgeW91IGNhbiBqdXN0IHBhc3MgaW4gYSBVaW50OEFycmF5IGRpcmVjdGx5XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgLy8gZHVwbGljYXRlIGl0IHRob3VnaCB0byBhdm9pZCBhbnkgd2VpcmRuZXNzIHdpdGggdGhlIGFycmF5IGJlaW5nIG11dGF0ZWRcbiAgICAgIC8vICsgZW5zdXJpbmcgdGhhdCBpZiB5b3UgcGFzcyBpbiBhIEJ1ZmZlciwgcmVzb2x2ZXJzIHJlY2lldmUgYSBub3JtYWwgVWludDhBcnJheVxuICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbSh2YWx1ZSlcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBHcmFwaFFMRXJyb3IoJ0hleCBvbmx5IGFjY2VwdHMgdmFsdWVzIGFzIHN0cmluZ3MnKVxuICAgIH1cbiAgICByZXR1cm4gaGV4VG9CeXRlcyh2YWx1ZSlcbiAgfSxcbiAgc2VyaWFsaXplKHZhbHVlKSB7XG4gICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkge1xuICAgICAgdGhyb3cgbmV3IEdyYXBoUUxFcnJvcihgdW5leHBlY3RlZCB2YWx1ZSBwcm92aWRlZCB0byBIZXggc2NhbGFyOiAke3ZhbHVlfWApXG4gICAgfVxuICAgIHJldHVybiBieXRlc1RvSGV4KHZhbHVlKVxuICB9LFxufSlcblxudHlwZSBGaWxlVXBsb2FkID0ge1xuICBmaWxlbmFtZTogc3RyaW5nXG4gIG1pbWV0eXBlOiBzdHJpbmdcbiAgZW5jb2Rpbmc6IHN0cmluZ1xuICBjcmVhdGVSZWFkU3RyZWFtKCk6IFJlYWRTdHJlYW1cbn1cblxuZXhwb3J0IGNvbnN0IFVwbG9hZDogR3JhcGhRTFNjYWxhclR5cGU8UHJvbWlzZTxGaWxlVXBsb2FkPiwge30+ID0gR3JhcGhRTFVwbG9hZFxuXG4vLyAtIERlY2ltYWwuanMgdGhyb3dzIG9uIGludmFsaWQgaW5wdXRzXG4vLyAtIERlY2ltYWwuanMgY2FuIHJlcHJlc2VudCArSW5maW5pdHkgYW5kIC1JbmZpbml0eSwgdGhlc2UgYXJlbid0IHZhbHVlcyBpbiBQb3N0Z3JlcycgZGVjaW1hbCxcbi8vICAgTmFOIGlzIGJ1dCBQcmlzbWEgZG9lc24ndCBzdXBwb3J0IGl0XG4vLyAgIC5pc0Zpbml0ZSByZWZlcnMgdG8gK0luZmluaXR5LCAtSW5maW5pdHkgYW5kIE5hTlxuZXhwb3J0IGNvbnN0IERlY2ltYWwgPSBuZXcgR3JhcGhRTFNjYWxhclR5cGU8RGVjaW1hbFZhbHVlICYgeyBzY2FsZVRvUHJpbnQ/OiBudW1iZXIgfSwgc3RyaW5nPih7XG4gIG5hbWU6ICdEZWNpbWFsJyxcbiAgc2VyaWFsaXplKHZhbHVlKSB7XG4gICAgaWYgKCFEZWNpbWFsVmFsdWUuaXNEZWNpbWFsKHZhbHVlKSlcbiAgICAgIHRocm93IG5ldyBHcmFwaFFMRXJyb3IoYHVuZXhwZWN0ZWQgdmFsdWUgcHJvdmlkZWQgdG8gRGVjaW1hbCBzY2FsYXI6ICR7dmFsdWV9YClcbiAgICBjb25zdCBjYXN0ID0gdmFsdWUgYXMgRGVjaW1hbFZhbHVlICYgeyBzY2FsZVRvUHJpbnQ/OiBudW1iZXIgfVxuICAgIGlmIChjYXN0LnNjYWxlVG9QcmludCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gdmFsdWUudG9GaXhlZChjYXN0LnNjYWxlVG9QcmludClcbiAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKVxuICB9LFxuICBwYXJzZUxpdGVyYWwodmFsdWUpIHtcbiAgICBpZiAodmFsdWUua2luZCAhPT0gJ1N0cmluZ1ZhbHVlJylcbiAgICAgIHRocm93IG5ldyBHcmFwaFFMRXJyb3IoJ0RlY2ltYWwgb25seSBhY2NlcHRzIHZhbHVlcyBhcyBzdHJpbmdzJylcbiAgICBjb25zdCBkZWNpbWFsID0gbmV3IERlY2ltYWxWYWx1ZSh2YWx1ZS52YWx1ZSlcbiAgICBpZiAoIWRlY2ltYWwuaXNGaW5pdGUoKSkgdGhyb3cgbmV3IEdyYXBoUUxFcnJvcignRGVjaW1hbCB2YWx1ZXMgbXVzdCBiZSBmaW5pdGUnKVxuICAgIHJldHVybiBkZWNpbWFsXG4gIH0sXG4gIHBhcnNlVmFsdWUodmFsdWUpIHtcbiAgICBpZiAoRGVjaW1hbFZhbHVlLmlzRGVjaW1hbCh2YWx1ZSkpIHtcbiAgICAgIGlmICghdmFsdWUuaXNGaW5pdGUoKSkgdGhyb3cgbmV3IEdyYXBoUUxFcnJvcignRGVjaW1hbCB2YWx1ZXMgbXVzdCBiZSBmaW5pdGUnKVxuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgR3JhcGhRTEVycm9yKCdEZWNpbWFsIG9ubHkgYWNjZXB0cyB2YWx1ZXMgYXMgc3RyaW5ncycpXG4gICAgY29uc3QgZGVjaW1hbCA9IG5ldyBEZWNpbWFsVmFsdWUodmFsdWUpXG4gICAgaWYgKCFkZWNpbWFsLmlzRmluaXRlKCkpIHRocm93IG5ldyBHcmFwaFFMRXJyb3IoJ0RlY2ltYWwgdmFsdWVzIG11c3QgYmUgZmluaXRlJylcbiAgICByZXR1cm4gZGVjaW1hbFxuICB9LFxufSlcblxuZXhwb3J0IGNvbnN0IEJpZ0ludCA9IG5ldyBHcmFwaFFMU2NhbGFyVHlwZSh7XG4gIG5hbWU6ICdCaWdJbnQnLFxuICBzZXJpYWxpemUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnYmlnaW50JylcbiAgICAgIHRocm93IG5ldyBHcmFwaFFMRXJyb3IoYHVuZXhwZWN0ZWQgdmFsdWUgcHJvdmlkZWQgdG8gQmlnSW50IHNjYWxhcjogJHt2YWx1ZX1gKVxuICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpXG4gIH0sXG4gIHBhcnNlTGl0ZXJhbCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZS5raW5kICE9PSAnU3RyaW5nVmFsdWUnKVxuICAgICAgdGhyb3cgbmV3IEdyYXBoUUxFcnJvcignQmlnSW50IG9ubHkgYWNjZXB0cyB2YWx1ZXMgYXMgc3RyaW5ncycpXG4gICAgcmV0dXJuIGdsb2JhbFRoaXMuQmlnSW50KHZhbHVlLnZhbHVlKVxuICB9LFxuICBwYXJzZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2JpZ2ludCcpIHJldHVybiB2YWx1ZVxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB0aHJvdyBuZXcgR3JhcGhRTEVycm9yKCdCaWdJbnQgb25seSBhY2NlcHRzIHZhbHVlcyBhcyBzdHJpbmdzJylcbiAgICByZXR1cm4gZ2xvYmFsVGhpcy5CaWdJbnQodmFsdWUpXG4gIH0sXG59KVxuXG4vLyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9leGNpdGVtZW50LWVuZ2luZWVyL2dyYXBocWwtaXNvLWRhdGUvYmxvYi9tYXN0ZXIvc3JjL3V0aWxzL3ZhbGlkYXRvci5qcyNMMTIxXG4vLyB0aGlzIGlzIGFsc28gd2hhdCBwcmlzbWEgdXNlcyBodHRwczovL2dpdGh1Yi5jb20vcHJpc21hL3ByaXNtYS9ibG9iLzIwYjU4ZmU2NWQ1ODFiY2I0M2MwZDVjMjhkNGI4OWNhYmMyZDk5YjIvcGFja2FnZXMvY2xpZW50L3NyYy9ydW50aW1lL3V0aWxzL2NvbW1vbi50cyNMMTI2LUwxMjhcbmNvbnN0IFJGQ18zMzM5X1JFR0VYID1cbiAgL14oXFxkezR9LSgwWzEtOV18MVswMTJdKS0oMFsxLTldfFsxMl1bMC05XXwzWzAxXSlUKFswMV1bMC05XXwyWzAtM10pOihbMC01XVswLTldKTooWzAtNV1bMC05XXw2MCkpKFxcLlxcZHsxLH0pPygoW1pdKXwoWyt8LV0oWzAxXVswLTldfDJbMC0zXSk6WzAtNV1bMC05XSkpJC9cblxuZnVuY3Rpb24gcGFyc2VEYXRlKGlucHV0OiBzdHJpbmcpOiBEYXRlIHtcbiAgaWYgKCFSRkNfMzMzOV9SRUdFWC50ZXN0KGlucHV0KSkge1xuICAgIHRocm93IG5ldyBHcmFwaFFMRXJyb3IoXG4gICAgICAnRGF0ZVRpbWUgc2NhbGFycyBtdXN0IGJlIGluIHRoZSBmb3JtIG9mIGEgZnVsbCBJU08gODYwMSBkYXRlLXRpbWUgc3RyaW5nJ1xuICAgIClcbiAgfVxuICBjb25zdCBwYXJzZWQgPSBuZXcgRGF0ZShpbnB1dClcbiAgaWYgKGlzTmFOKHBhcnNlZC52YWx1ZU9mKCkpKSB7XG4gICAgdGhyb3cgbmV3IEdyYXBoUUxFcnJvcihcbiAgICAgICdEYXRlVGltZSBzY2FsYXJzIG11c3QgYmUgaW4gdGhlIGZvcm0gb2YgYSBmdWxsIElTTyA4NjAxIGRhdGUtdGltZSBzdHJpbmcnXG4gICAgKVxuICB9XG4gIHJldHVybiBwYXJzZWRcbn1cblxuZXhwb3J0IGNvbnN0IERhdGVUaW1lID0gbmV3IEdyYXBoUUxTY2FsYXJUeXBlKHtcbiAgbmFtZTogJ0RhdGVUaW1lJyxcbiAgc3BlY2lmaWVkQnlVUkw6ICdodHRwczovL2RhdGF0cmFja2VyLmlldGYub3JnL2RvYy9odG1sL3JmYzMzMzkjc2VjdGlvbi01LjYnLFxuICBzZXJpYWxpemUodmFsdWU6IHVua25vd24pIHtcbiAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHx8IGlzTmFOKHZhbHVlLnZhbHVlT2YoKSkpIHtcbiAgICAgIHRocm93IG5ldyBHcmFwaFFMRXJyb3IoYHVuZXhwZWN0ZWQgdmFsdWUgcHJvdmlkZWQgdG8gRGF0ZVRpbWUgc2NhbGFyOiAke3ZhbHVlfWApXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZS50b0lTT1N0cmluZygpXG4gIH0sXG4gIHBhcnNlTGl0ZXJhbCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZS5raW5kICE9PSAnU3RyaW5nVmFsdWUnKSB7XG4gICAgICB0aHJvdyBuZXcgR3JhcGhRTEVycm9yKCdEYXRlVGltZSBvbmx5IGFjY2VwdHMgdmFsdWVzIGFzIHN0cmluZ3MnKVxuICAgIH1cbiAgICByZXR1cm4gcGFyc2VEYXRlKHZhbHVlLnZhbHVlKVxuICB9LFxuICBwYXJzZVZhbHVlKHZhbHVlOiB1bmtub3duKSB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkgcmV0dXJuIHZhbHVlXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBHcmFwaFFMRXJyb3IoJ0RhdGVUaW1lIG9ubHkgYWNjZXB0cyB2YWx1ZXMgYXMgc3RyaW5ncycpXG4gICAgfVxuICAgIHJldHVybiBwYXJzZURhdGUodmFsdWUpXG4gIH0sXG59KVxuXG5jb25zdCBSRkNfMzMzOV9GVUxMX0RBVEVfUkVHRVggPSAvXlxcZHs0fS0oMFsxLTldfDFbMDEyXSktKDBbMS05XXxbMTJdWzAtOV18M1swMV0pJC9cblxuZnVuY3Rpb24gdmFsaWRhdGVDYWxlbmRhckRheShpbnB1dDogc3RyaW5nKSB7XG4gIGlmICghUkZDXzMzMzlfRlVMTF9EQVRFX1JFR0VYLnRlc3QoaW5wdXQpKSB7XG4gICAgdGhyb3cgbmV3IEdyYXBoUUxFcnJvcignQ2FsZW5kYXJEYXkgc2NhbGFycyBtdXN0IGJlIGluIHRoZSBmb3JtIG9mIGEgZnVsbC1kYXRlIElTTyA4NjAxIHN0cmluZycpXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IENhbGVuZGFyRGF5ID0gbmV3IEdyYXBoUUxTY2FsYXJUeXBlKHtcbiAgbmFtZTogJ0NhbGVuZGFyRGF5JyxcbiAgc3BlY2lmaWVkQnlVUkw6ICdodHRwczovL2RhdGF0cmFja2VyLmlldGYub3JnL2RvYy9odG1sL3JmYzMzMzkjc2VjdGlvbi01LjYnLFxuICBzZXJpYWxpemUodmFsdWU6IHVua25vd24pIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEdyYXBoUUxFcnJvcihgdW5leHBlY3RlZCB2YWx1ZSBwcm92aWRlZCB0byBDYWxlbmRhckRheSBzY2FsYXI6ICR7dmFsdWV9YClcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH0sXG4gIHBhcnNlTGl0ZXJhbCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZS5raW5kICE9PSAnU3RyaW5nVmFsdWUnKSB7XG4gICAgICB0aHJvdyBuZXcgR3JhcGhRTEVycm9yKCdDYWxlbmRhckRheSBvbmx5IGFjY2VwdHMgdmFsdWVzIGFzIHN0cmluZ3MnKVxuICAgIH1cbiAgICB2YWxpZGF0ZUNhbGVuZGFyRGF5KHZhbHVlLnZhbHVlKVxuICAgIHJldHVybiB2YWx1ZS52YWx1ZVxuICB9LFxuICBwYXJzZVZhbHVlKHZhbHVlOiB1bmtub3duKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBHcmFwaFFMRXJyb3IoJ0NhbGVuZGFyRGF5IG9ubHkgYWNjZXB0cyB2YWx1ZXMgYXMgc3RyaW5ncycpXG4gICAgfVxuICAgIHZhbGlkYXRlQ2FsZW5kYXJEYXkodmFsdWUpXG4gICAgcmV0dXJuIHZhbHVlXG4gIH0sXG59KVxuXG5leHBvcnQgY29uc3QgRW1wdHkgPSBuZXcgR3JhcGhRTFNjYWxhclR5cGUoe1xuICBuYW1lOiAnRW1wdHknLFxuICBzZXJpYWxpemUodmFsdWUpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9LFxuICBwYXJzZUxpdGVyYWwodmFsdWUpIHtcbiAgICByZXR1cm4ge31cbiAgfSxcbiAgcGFyc2VWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB7fVxuICB9LFxufSlcbiJdLCJuYW1lcyI6WyJHcmFwaFFMVXBsb2FkIiwiR3JhcGhRTEVycm9yIiwiR3JhcGhRTFNjYWxhclR5cGUiLCJEZWNpbWFsIiwiRGVjaW1hbFZhbHVlIiwiSlNPTiIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInNwZWNpZmllZEJ5VVJMIiwiaGV4VG9CeXRlcyIsInZhbHVlIiwidGVzdCIsImxlbmd0aCIsImJ5dGVzIiwiVWludDhBcnJheSIsImkiLCJieXRlTGVuZ3RoIiwic3RhcnQiLCJwYXJzZUludCIsInNsaWNlIiwiYnl0ZXNUb0hleCIsInN0ciIsImJ5dGUiLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiSGV4IiwicGFyc2VMaXRlcmFsIiwia2luZCIsInBhcnNlVmFsdWUiLCJmcm9tIiwic2VyaWFsaXplIiwiVXBsb2FkIiwiaXNEZWNpbWFsIiwiY2FzdCIsInNjYWxlVG9QcmludCIsInVuZGVmaW5lZCIsInRvRml4ZWQiLCJkZWNpbWFsIiwiaXNGaW5pdGUiLCJCaWdJbnQiLCJnbG9iYWxUaGlzIiwiUkZDXzMzMzlfUkVHRVgiLCJwYXJzZURhdGUiLCJpbnB1dCIsInBhcnNlZCIsIkRhdGUiLCJpc05hTiIsInZhbHVlT2YiLCJEYXRlVGltZSIsInRvSVNPU3RyaW5nIiwiUkZDXzMzMzlfRlVMTF9EQVRFX1JFR0VYIiwidmFsaWRhdGVDYWxlbmRhckRheSIsIkNhbGVuZGFyRGF5IiwiRW1wdHkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/types/schema/scalars.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/types/session.ts":
/*!******************************************************!*\
  !*** ../../../../packages/core/src/types/session.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/** @deprecated */ \n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvc2Vzc2lvbi50cyIsIm1hcHBpbmdzIjoiO0FBbUJBLGdCQUFnQixHQU1XIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2NvcmUvc3JjL3R5cGVzL3Nlc3Npb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBNYXliZVByb21pc2UgfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHR5cGUgeyBCYXNlS2V5c3RvbmVUeXBlSW5mbywgS2V5c3RvbmVDb250ZXh0IH0gZnJvbSAnLidcblxuZXhwb3J0IHR5cGUgU2Vzc2lvblN0cmF0ZWd5PFxuICBTZXNzaW9uLFxuICBUeXBlSW5mbyBleHRlbmRzIEJhc2VLZXlzdG9uZVR5cGVJbmZvID0gQmFzZUtleXN0b25lVHlwZUluZm8sXG4+ID0ge1xuICBnZXQ6IChhcmdzOiB7IGNvbnRleHQ6IEtleXN0b25lQ29udGV4dDxUeXBlSW5mbz4gfSkgPT4gUHJvbWlzZTxTZXNzaW9uIHwgdW5kZWZpbmVkPlxuICBzdGFydDogKGFyZ3M6IHsgY29udGV4dDogS2V5c3RvbmVDb250ZXh0PFR5cGVJbmZvPjsgZGF0YTogU2Vzc2lvbiB9KSA9PiBQcm9taXNlPHVua25vd24+XG4gIGVuZDogKGFyZ3M6IHsgY29udGV4dDogS2V5c3RvbmVDb250ZXh0PFR5cGVJbmZvPiB9KSA9PiBQcm9taXNlPHVua25vd24+XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IHR5cGUgU2Vzc2lvblN0b3JlPFNlc3Npb24+ID0ge1xuICBnZXQoa2V5OiBzdHJpbmcpOiBNYXliZVByb21pc2U8U2Vzc2lvbiB8IHVuZGVmaW5lZD5cbiAgc2V0KGtleTogc3RyaW5nLCB2YWx1ZTogU2Vzc2lvbik6IHZvaWQgfCBQcm9taXNlPHZvaWQ+XG4gIGRlbGV0ZShrZXk6IHN0cmluZyk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IHR5cGUgU2Vzc2lvblN0b3JlRnVuY3Rpb248U2Vzc2lvbj4gPSAoYXJnczoge1xuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBzZWNvbmRzIHRoYXQgYSBjb29raWUgc2Vzc2lvbiBiZSB2YWxpZCBmb3JcbiAgICovXG4gIG1heEFnZTogbnVtYmVyXG59KSA9PiBTZXNzaW9uU3RvcmU8U2Vzc2lvbj5cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/core/src/types/session.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/types/type-info.ts":
/*!********************************************************!*\
  !*** ../../../../packages/core/src/types/type-info.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvdHlwZS1pbmZvLnRzIiwibWFwcGluZ3MiOiI7QUFtQ0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvdHlwZS1pbmZvLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQmFzZUl0ZW0gfSBmcm9tICcuL25leHQtZmllbGRzJ1xuaW1wb3J0IHR5cGUgeyBLZXlzdG9uZUNvbnRleHQgfSBmcm9tICcuLi90eXBlcydcblxudHlwZSBHcmFwaFFMSW5wdXQgPSBSZWNvcmQ8c3RyaW5nLCBhbnk+XG5cbmV4cG9ydCB0eXBlIEJhc2VMaXN0VHlwZUluZm88U2Vzc2lvbiA9IGFueT4gPSB7XG4gIGtleTogc3RyaW5nXG4gIGlzU2luZ2xldG9uOiBib29sZWFuXG4gIGZpZWxkczogc3RyaW5nXG4gIGl0ZW06IEJhc2VJdGVtXG4gIGlucHV0czoge1xuICAgIGNyZWF0ZTogR3JhcGhRTElucHV0XG4gICAgdXBkYXRlOiBHcmFwaFFMSW5wdXRcbiAgICB3aGVyZTogR3JhcGhRTElucHV0XG4gICAgdW5pcXVlV2hlcmU6IHsgcmVhZG9ubHkgaWQ/OiBzdHJpbmcgfCBudW1iZXIgfCBudWxsIH0gJiBHcmFwaFFMSW5wdXRcbiAgICBvcmRlckJ5OiBSZWNvcmQ8c3RyaW5nLCAnYXNjJyB8ICdkZXNjJyB8IG51bGw+XG4gIH1cblxuICAvKipcbiAgICogV0FSTklORzogbWF5IGNoYW5nZSBpbiBwYXRjaFxuICAgKi9cbiAgcHJpc21hOiB7XG4gICAgY3JlYXRlOiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICAgdXBkYXRlOiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gIH1cbiAgYWxsOiBCYXNlS2V5c3RvbmVUeXBlSW5mbzxTZXNzaW9uPlxufVxuXG5leHBvcnQgdHlwZSBLZXlzdG9uZUNvbnRleHRGcm9tTGlzdFR5cGVJbmZvPExpc3RUeXBlSW5mbyBleHRlbmRzIEJhc2VMaXN0VHlwZUluZm8+ID1cbiAgS2V5c3RvbmVDb250ZXh0PExpc3RUeXBlSW5mb1snYWxsJ10+XG5cbmV4cG9ydCB0eXBlIEJhc2VLZXlzdG9uZVR5cGVJbmZvPFNlc3Npb24gPSBhbnk+ID0ge1xuICBsaXN0czogUmVjb3JkPHN0cmluZywgQmFzZUxpc3RUeXBlSW5mbzxTZXNzaW9uPj5cbiAgcHJpc21hOiBhbnlcbiAgc2Vzc2lvbjogU2Vzc2lvblxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/types/type-info.ts\n");

/***/ }),

/***/ "../../../../packages/core/src/types/utils.ts":
/*!****************************************************!*\
  !*** ../../../../packages/core/src/types/utils.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __getNames: () => (/* binding */ __getNames),\n/* harmony export */   getGqlNames: () => (/* binding */ getGqlNames)\n/* harmony export */ });\n/* harmony import */ var pluralize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pluralize */ \"../../../../node_modules/.pnpm/pluralize@8.0.0/node_modules/pluralize/pluralize.js\");\n/* harmony import */ var pluralize__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pluralize__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/utils */ \"../../../../packages/core/src/lib/utils.ts\");\n\n\nfunction getGqlNames({ singular, plural }) {\n    const lowerSingularName = singular.charAt(0).toLowerCase() + singular.slice(1);\n    const lowerPluralName = plural.charAt(0).toLowerCase() + plural.slice(1);\n    return {\n        outputTypeName: singular,\n        whereInputName: `${singular}WhereInput`,\n        whereUniqueInputName: `${singular}WhereUniqueInput`,\n        // create\n        createInputName: `${singular}CreateInput`,\n        createMutationName: `create${singular}`,\n        createManyMutationName: `create${plural}`,\n        relateToOneForCreateInputName: `${singular}RelateToOneForCreateInput`,\n        relateToManyForCreateInputName: `${singular}RelateToManyForCreateInput`,\n        // read\n        itemQueryName: lowerSingularName,\n        listQueryName: lowerPluralName,\n        listQueryCountName: `${lowerPluralName}Count`,\n        listOrderName: `${singular}OrderByInput`,\n        // update\n        updateInputName: `${singular}UpdateInput`,\n        updateMutationName: `update${singular}`,\n        updateManyInputName: `${singular}UpdateArgs`,\n        updateManyMutationName: `update${plural}`,\n        relateToOneForUpdateInputName: `${singular}RelateToOneForUpdateInput`,\n        relateToManyForUpdateInputName: `${singular}RelateToManyForUpdateInput`,\n        // delete\n        deleteMutationName: `delete${singular}`,\n        deleteManyMutationName: `delete${plural}`\n    };\n}\nconst labelToPath = (str)=>str.split(' ').join('-').toLowerCase();\nconst labelToClass = (str)=>str.replace(/\\s+/g, '');\n// WARNING: may break in patch\nfunction __getNames(listKey, list) {\n    const { graphql, ui, isSingleton } = list;\n    if (ui?.path !== undefined && !/^[a-z-_][a-z0-9-_]*$/.test(ui.path)) {\n        throw new Error(`ui.path for ${listKey} is ${ui.path} but it must only contain lowercase letters, numbers, dashes, and underscores and not start with a number`);\n    }\n    const singular = listKey // an assumption\n    ;\n    const plural = pluralize__WEBPACK_IMPORTED_MODULE_0___default().plural(singular);\n    const graphqlSingular = graphql?.singular || labelToClass(singular);\n    const graphqlPlural = graphql?.plural || labelToClass(plural);\n    if (graphqlSingular === graphqlPlural) {\n        throw new Error(`The singular and plural name used by GraphQL must be different, but ${graphqlSingular} is the same as ${graphqlPlural}`);\n    }\n    return {\n        graphql: {\n            names: getGqlNames({\n                singular: graphqlSingular,\n                plural: graphqlPlural\n            })\n        },\n        ui: {\n            labels: {\n                label: ui?.label || (0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.humanize)(isSingleton ? singular : plural),\n                singular: ui?.singular || (0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.humanize)(singular),\n                plural: ui?.plural || (0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.humanize)(plural),\n                path: ui?.path || labelToPath((0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.humanize)(isSingleton ? singular : plural))\n            }\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBaUM7QUFDTTtBQWtCaEMsU0FBU0UsWUFBWSxFQUFFQyxRQUFRLEVBQUVDLE1BQU0sRUFBd0M7SUFDcEYsTUFBTUMsb0JBQW9CRixTQUFTRyxNQUFNLENBQUMsR0FBR0MsV0FBVyxLQUFLSixTQUFTSyxLQUFLLENBQUM7SUFDNUUsTUFBTUMsa0JBQWtCTCxPQUFPRSxNQUFNLENBQUMsR0FBR0MsV0FBVyxLQUFLSCxPQUFPSSxLQUFLLENBQUM7SUFDdEUsT0FBTztRQUNMRSxnQkFBZ0JQO1FBQ2hCUSxnQkFBZ0IsR0FBR1IsU0FBUyxVQUFVLENBQUM7UUFDdkNTLHNCQUFzQixHQUFHVCxTQUFTLGdCQUFnQixDQUFDO1FBRW5ELFNBQVM7UUFDVFUsaUJBQWlCLEdBQUdWLFNBQVMsV0FBVyxDQUFDO1FBQ3pDVyxvQkFBb0IsQ0FBQyxNQUFNLEVBQUVYLFVBQVU7UUFDdkNZLHdCQUF3QixDQUFDLE1BQU0sRUFBRVgsUUFBUTtRQUN6Q1ksK0JBQStCLEdBQUdiLFNBQVMseUJBQXlCLENBQUM7UUFDckVjLGdDQUFnQyxHQUFHZCxTQUFTLDBCQUEwQixDQUFDO1FBRXZFLE9BQU87UUFDUGUsZUFBZWI7UUFDZmMsZUFBZVY7UUFDZlcsb0JBQW9CLEdBQUdYLGdCQUFnQixLQUFLLENBQUM7UUFDN0NZLGVBQWUsR0FBR2xCLFNBQVMsWUFBWSxDQUFDO1FBRXhDLFNBQVM7UUFDVG1CLGlCQUFpQixHQUFHbkIsU0FBUyxXQUFXLENBQUM7UUFDekNvQixvQkFBb0IsQ0FBQyxNQUFNLEVBQUVwQixVQUFVO1FBQ3ZDcUIscUJBQXFCLEdBQUdyQixTQUFTLFVBQVUsQ0FBQztRQUM1Q3NCLHdCQUF3QixDQUFDLE1BQU0sRUFBRXJCLFFBQVE7UUFDekNzQiwrQkFBK0IsR0FBR3ZCLFNBQVMseUJBQXlCLENBQUM7UUFDckV3QixnQ0FBZ0MsR0FBR3hCLFNBQVMsMEJBQTBCLENBQUM7UUFFdkUsU0FBUztRQUNUeUIsb0JBQW9CLENBQUMsTUFBTSxFQUFFekIsVUFBVTtRQUN2QzBCLHdCQUF3QixDQUFDLE1BQU0sRUFBRXpCLFFBQVE7SUFDM0M7QUFDRjtBQUVBLE1BQU0wQixjQUFjLENBQUNDLE1BQWdCQSxJQUFJQyxLQUFLLENBQUMsS0FBS0MsSUFBSSxDQUFDLEtBQUsxQixXQUFXO0FBQ3pFLE1BQU0yQixlQUFlLENBQUNILE1BQWdCQSxJQUFJSSxPQUFPLENBQUMsUUFBUTtBQUUxRCw4QkFBOEI7QUFDdkIsU0FBU0MsV0FBV0MsT0FBZSxFQUFFQyxJQUFxQztJQUMvRSxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsRUFBRSxFQUFFQyxXQUFXLEVBQUUsR0FBR0g7SUFDckMsSUFBSUUsSUFBSUUsU0FBU0MsYUFBYSxDQUFDLHVCQUF1QkMsSUFBSSxDQUFDSixHQUFHRSxJQUFJLEdBQUc7UUFDbkUsTUFBTSxJQUFJRyxNQUNSLENBQUMsWUFBWSxFQUFFUixRQUFRLElBQUksRUFBRUcsR0FBR0UsSUFBSSxDQUFDLHlHQUF5RyxDQUFDO0lBRW5KO0lBRUEsTUFBTXZDLFdBQVdrQyxRQUFRLGdCQUFnQjs7SUFDekMsTUFBTWpDLFNBQVNKLHVEQUFnQixDQUFDRztJQUVoQyxNQUFNMkMsa0JBQWtCUCxTQUFTcEMsWUFBWStCLGFBQWEvQjtJQUMxRCxNQUFNNEMsZ0JBQWdCUixTQUFTbkMsVUFBVThCLGFBQWE5QjtJQUN0RCxJQUFJMEMsb0JBQW9CQyxlQUFlO1FBQ3JDLE1BQU0sSUFBSUYsTUFDUixDQUFDLG9FQUFvRSxFQUFFQyxnQkFBZ0IsZ0JBQWdCLEVBQUVDLGVBQWU7SUFFNUg7SUFFQSxPQUFPO1FBQ0xSLFNBQVM7WUFDUFMsT0FBTzlDLFlBQVk7Z0JBQ2pCQyxVQUFVMkM7Z0JBQ1YxQyxRQUFRMkM7WUFDVjtRQUNGO1FBQ0FQLElBQUk7WUFDRlMsUUFBUTtnQkFDTkMsT0FBT1YsSUFBSVUsU0FBU2pELG9EQUFRQSxDQUFDd0MsY0FBY3RDLFdBQVdDO2dCQUN0REQsVUFBVXFDLElBQUlyQyxZQUFZRixvREFBUUEsQ0FBQ0U7Z0JBQ25DQyxRQUFRb0MsSUFBSXBDLFVBQVVILG9EQUFRQSxDQUFDRztnQkFDL0JzQyxNQUFNRixJQUFJRSxRQUFRWixZQUFZN0Isb0RBQVFBLENBQUN3QyxjQUFjdEMsV0FBV0M7WUFDbEU7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvY29yZS9zcmMvdHlwZXMvdXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBsdXJhbGl6ZSBmcm9tICdwbHVyYWxpemUnXG5pbXBvcnQgeyBodW1hbml6ZSB9IGZyb20gJy4uL2xpYi91dGlscydcbmltcG9ydCB0eXBlIHsgQmFzZUtleXN0b25lVHlwZUluZm8sIEtleXN0b25lQ29uZmlnLCBLZXlzdG9uZUNvbnRleHQgfSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB0eXBlIHsgUmVhZGFibGUgfSBmcm9tICdub2RlOnN0cmVhbSdcblxuZXhwb3J0IHR5cGUgSlNPTlZhbHVlID1cbiAgfCBzdHJpbmdcbiAgfCBudW1iZXJcbiAgfCBib29sZWFuXG4gIHwgdW5kZWZpbmVkXG4gIHwgbnVsbFxuICB8IHJlYWRvbmx5IEpTT05WYWx1ZVtdXG4gIHwgeyBba2V5OiBzdHJpbmddOiBKU09OVmFsdWUgfVxuXG5leHBvcnQgdHlwZSBNYXliZVByb21pc2U8VD4gPSBUIHwgUHJvbWlzZTxUPlxuXG4vLyBXQVJOSU5HOiBtYXkgYnJlYWsgaW4gcGF0Y2hcbmV4cG9ydCB0eXBlIEdyYXBoUUxOYW1lcyA9IFJldHVyblR5cGU8dHlwZW9mIGdldEdxbE5hbWVzPlxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R3FsTmFtZXMoeyBzaW5ndWxhciwgcGx1cmFsIH06IHsgc2luZ3VsYXI6IHN0cmluZzsgcGx1cmFsOiBzdHJpbmcgfSkge1xuICBjb25zdCBsb3dlclNpbmd1bGFyTmFtZSA9IHNpbmd1bGFyLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc2luZ3VsYXIuc2xpY2UoMSlcbiAgY29uc3QgbG93ZXJQbHVyYWxOYW1lID0gcGx1cmFsLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgcGx1cmFsLnNsaWNlKDEpXG4gIHJldHVybiB7XG4gICAgb3V0cHV0VHlwZU5hbWU6IHNpbmd1bGFyLFxuICAgIHdoZXJlSW5wdXROYW1lOiBgJHtzaW5ndWxhcn1XaGVyZUlucHV0YCxcbiAgICB3aGVyZVVuaXF1ZUlucHV0TmFtZTogYCR7c2luZ3VsYXJ9V2hlcmVVbmlxdWVJbnB1dGAsXG5cbiAgICAvLyBjcmVhdGVcbiAgICBjcmVhdGVJbnB1dE5hbWU6IGAke3Npbmd1bGFyfUNyZWF0ZUlucHV0YCxcbiAgICBjcmVhdGVNdXRhdGlvbk5hbWU6IGBjcmVhdGUke3Npbmd1bGFyfWAsXG4gICAgY3JlYXRlTWFueU11dGF0aW9uTmFtZTogYGNyZWF0ZSR7cGx1cmFsfWAsXG4gICAgcmVsYXRlVG9PbmVGb3JDcmVhdGVJbnB1dE5hbWU6IGAke3Npbmd1bGFyfVJlbGF0ZVRvT25lRm9yQ3JlYXRlSW5wdXRgLFxuICAgIHJlbGF0ZVRvTWFueUZvckNyZWF0ZUlucHV0TmFtZTogYCR7c2luZ3VsYXJ9UmVsYXRlVG9NYW55Rm9yQ3JlYXRlSW5wdXRgLFxuXG4gICAgLy8gcmVhZFxuICAgIGl0ZW1RdWVyeU5hbWU6IGxvd2VyU2luZ3VsYXJOYW1lLFxuICAgIGxpc3RRdWVyeU5hbWU6IGxvd2VyUGx1cmFsTmFtZSxcbiAgICBsaXN0UXVlcnlDb3VudE5hbWU6IGAke2xvd2VyUGx1cmFsTmFtZX1Db3VudGAsXG4gICAgbGlzdE9yZGVyTmFtZTogYCR7c2luZ3VsYXJ9T3JkZXJCeUlucHV0YCxcblxuICAgIC8vIHVwZGF0ZVxuICAgIHVwZGF0ZUlucHV0TmFtZTogYCR7c2luZ3VsYXJ9VXBkYXRlSW5wdXRgLFxuICAgIHVwZGF0ZU11dGF0aW9uTmFtZTogYHVwZGF0ZSR7c2luZ3VsYXJ9YCxcbiAgICB1cGRhdGVNYW55SW5wdXROYW1lOiBgJHtzaW5ndWxhcn1VcGRhdGVBcmdzYCxcbiAgICB1cGRhdGVNYW55TXV0YXRpb25OYW1lOiBgdXBkYXRlJHtwbHVyYWx9YCxcbiAgICByZWxhdGVUb09uZUZvclVwZGF0ZUlucHV0TmFtZTogYCR7c2luZ3VsYXJ9UmVsYXRlVG9PbmVGb3JVcGRhdGVJbnB1dGAsXG4gICAgcmVsYXRlVG9NYW55Rm9yVXBkYXRlSW5wdXROYW1lOiBgJHtzaW5ndWxhcn1SZWxhdGVUb01hbnlGb3JVcGRhdGVJbnB1dGAsXG5cbiAgICAvLyBkZWxldGVcbiAgICBkZWxldGVNdXRhdGlvbk5hbWU6IGBkZWxldGUke3Npbmd1bGFyfWAsXG4gICAgZGVsZXRlTWFueU11dGF0aW9uTmFtZTogYGRlbGV0ZSR7cGx1cmFsfWAsXG4gIH1cbn1cblxuY29uc3QgbGFiZWxUb1BhdGggPSAoc3RyOiBzdHJpbmcpID0+IHN0ci5zcGxpdCgnICcpLmpvaW4oJy0nKS50b0xvd2VyQ2FzZSgpXG5jb25zdCBsYWJlbFRvQ2xhc3MgPSAoc3RyOiBzdHJpbmcpID0+IHN0ci5yZXBsYWNlKC9cXHMrL2csICcnKVxuXG4vLyBXQVJOSU5HOiBtYXkgYnJlYWsgaW4gcGF0Y2hcbmV4cG9ydCBmdW5jdGlvbiBfX2dldE5hbWVzKGxpc3RLZXk6IHN0cmluZywgbGlzdDogS2V5c3RvbmVDb25maWdbJ2xpc3RzJ11bc3RyaW5nXSkge1xuICBjb25zdCB7IGdyYXBocWwsIHVpLCBpc1NpbmdsZXRvbiB9ID0gbGlzdFxuICBpZiAodWk/LnBhdGggIT09IHVuZGVmaW5lZCAmJiAhL15bYS16LV9dW2EtejAtOS1fXSokLy50ZXN0KHVpLnBhdGgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYHVpLnBhdGggZm9yICR7bGlzdEtleX0gaXMgJHt1aS5wYXRofSBidXQgaXQgbXVzdCBvbmx5IGNvbnRhaW4gbG93ZXJjYXNlIGxldHRlcnMsIG51bWJlcnMsIGRhc2hlcywgYW5kIHVuZGVyc2NvcmVzIGFuZCBub3Qgc3RhcnQgd2l0aCBhIG51bWJlcmBcbiAgICApXG4gIH1cblxuICBjb25zdCBzaW5ndWxhciA9IGxpc3RLZXkgLy8gYW4gYXNzdW1wdGlvblxuICBjb25zdCBwbHVyYWwgPSBwbHVyYWxpemUucGx1cmFsKHNpbmd1bGFyKVxuXG4gIGNvbnN0IGdyYXBocWxTaW5ndWxhciA9IGdyYXBocWw/LnNpbmd1bGFyIHx8IGxhYmVsVG9DbGFzcyhzaW5ndWxhcilcbiAgY29uc3QgZ3JhcGhxbFBsdXJhbCA9IGdyYXBocWw/LnBsdXJhbCB8fCBsYWJlbFRvQ2xhc3MocGx1cmFsKVxuICBpZiAoZ3JhcGhxbFNpbmd1bGFyID09PSBncmFwaHFsUGx1cmFsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFRoZSBzaW5ndWxhciBhbmQgcGx1cmFsIG5hbWUgdXNlZCBieSBHcmFwaFFMIG11c3QgYmUgZGlmZmVyZW50LCBidXQgJHtncmFwaHFsU2luZ3VsYXJ9IGlzIHRoZSBzYW1lIGFzICR7Z3JhcGhxbFBsdXJhbH1gXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBncmFwaHFsOiB7XG4gICAgICBuYW1lczogZ2V0R3FsTmFtZXMoe1xuICAgICAgICBzaW5ndWxhcjogZ3JhcGhxbFNpbmd1bGFyLFxuICAgICAgICBwbHVyYWw6IGdyYXBocWxQbHVyYWwsXG4gICAgICB9KSxcbiAgICB9LFxuICAgIHVpOiB7XG4gICAgICBsYWJlbHM6IHtcbiAgICAgICAgbGFiZWw6IHVpPy5sYWJlbCB8fCBodW1hbml6ZShpc1NpbmdsZXRvbiA/IHNpbmd1bGFyIDogcGx1cmFsKSxcbiAgICAgICAgc2luZ3VsYXI6IHVpPy5zaW5ndWxhciB8fCBodW1hbml6ZShzaW5ndWxhciksXG4gICAgICAgIHBsdXJhbDogdWk/LnBsdXJhbCB8fCBodW1hbml6ZShwbHVyYWwpLFxuICAgICAgICBwYXRoOiB1aT8ucGF0aCB8fCBsYWJlbFRvUGF0aChodW1hbml6ZShpc1NpbmdsZXRvbiA/IHNpbmd1bGFyIDogcGx1cmFsKSksXG4gICAgICB9LFxuICAgIH0sXG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgU3RvcmFnZVN0cmF0ZWd5PFR5cGVJbmZvIGV4dGVuZHMgQmFzZUtleXN0b25lVHlwZUluZm8+ID0ge1xuICBwdXQoXG4gICAga2V5OiBzdHJpbmcsXG4gICAgc3RyZWFtOiBSZWFkYWJsZSxcbiAgICBtZXRhOiB7IGNvbnRlbnRUeXBlOiBzdHJpbmcgfSxcbiAgICBjb250ZXh0OiBLZXlzdG9uZUNvbnRleHQ8VHlwZUluZm8+XG4gICk6IFByb21pc2U8dm9pZD5cbiAgZGVsZXRlKGtleTogc3RyaW5nLCBjb250ZXh0OiBLZXlzdG9uZUNvbnRleHQ8VHlwZUluZm8+KTogUHJvbWlzZTx2b2lkPlxuICB1cmwoa2V5OiBzdHJpbmcsIGNvbnRleHQ6IEtleXN0b25lQ29udGV4dDxUeXBlSW5mbz4pOiBNYXliZVByb21pc2U8c3RyaW5nPlxufVxuIl0sIm5hbWVzIjpbInBsdXJhbGl6ZSIsImh1bWFuaXplIiwiZ2V0R3FsTmFtZXMiLCJzaW5ndWxhciIsInBsdXJhbCIsImxvd2VyU2luZ3VsYXJOYW1lIiwiY2hhckF0IiwidG9Mb3dlckNhc2UiLCJzbGljZSIsImxvd2VyUGx1cmFsTmFtZSIsIm91dHB1dFR5cGVOYW1lIiwid2hlcmVJbnB1dE5hbWUiLCJ3aGVyZVVuaXF1ZUlucHV0TmFtZSIsImNyZWF0ZUlucHV0TmFtZSIsImNyZWF0ZU11dGF0aW9uTmFtZSIsImNyZWF0ZU1hbnlNdXRhdGlvbk5hbWUiLCJyZWxhdGVUb09uZUZvckNyZWF0ZUlucHV0TmFtZSIsInJlbGF0ZVRvTWFueUZvckNyZWF0ZUlucHV0TmFtZSIsIml0ZW1RdWVyeU5hbWUiLCJsaXN0UXVlcnlOYW1lIiwibGlzdFF1ZXJ5Q291bnROYW1lIiwibGlzdE9yZGVyTmFtZSIsInVwZGF0ZUlucHV0TmFtZSIsInVwZGF0ZU11dGF0aW9uTmFtZSIsInVwZGF0ZU1hbnlJbnB1dE5hbWUiLCJ1cGRhdGVNYW55TXV0YXRpb25OYW1lIiwicmVsYXRlVG9PbmVGb3JVcGRhdGVJbnB1dE5hbWUiLCJyZWxhdGVUb01hbnlGb3JVcGRhdGVJbnB1dE5hbWUiLCJkZWxldGVNdXRhdGlvbk5hbWUiLCJkZWxldGVNYW55TXV0YXRpb25OYW1lIiwibGFiZWxUb1BhdGgiLCJzdHIiLCJzcGxpdCIsImpvaW4iLCJsYWJlbFRvQ2xhc3MiLCJyZXBsYWNlIiwiX19nZXROYW1lcyIsImxpc3RLZXkiLCJsaXN0IiwiZ3JhcGhxbCIsInVpIiwiaXNTaW5nbGV0b24iLCJwYXRoIiwidW5kZWZpbmVkIiwidGVzdCIsIkVycm9yIiwiZ3JhcGhxbFNpbmd1bGFyIiwiZ3JhcGhxbFBsdXJhbCIsIm5hbWVzIiwibGFiZWxzIiwibGFiZWwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/core/src/types/utils.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/Toolbar.tsx":
/*!***************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/Toolbar.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Toolbar: () => (/* binding */ Toolbar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_boldIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/icon/icons/boldIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-boldIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_italicIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/icon/icons/italicIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-italicIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_plusIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/icon/icons/plusIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-plusIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_chevronDownIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/icon/icons/chevronDownIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-chevronDownIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_codeIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/icon/icons/codeIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-codeIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_removeFormattingIcon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystar/ui/icon/icons/removeFormattingIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-removeFormattingIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_strikethroughIcon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @keystar/ui/icon/icons/strikethroughIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-strikethroughIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_subscriptIcon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @keystar/ui/icon/icons/subscriptIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-subscriptIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_superscriptIcon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @keystar/ui/icon/icons/superscriptIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-superscriptIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_typeIcon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @keystar/ui/icon/icons/typeIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-typeIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_underlineIcon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @keystar/ui/icon/icons/underlineIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-underlineIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_maximizeIcon__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @keystar/ui/icon/icons/maximizeIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-maximizeIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_minimizeIcon__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @keystar/ui/icon/icons/minimizeIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-minimizeIcon.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _keystar_ui_editor__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @keystar/ui/editor */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-editor.js\");\n/* harmony import */ var _link__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./link */ \"../../../../packages/fields-document/src/DocumentEditor/link.tsx\");\n/* harmony import */ var _component_blocks__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./component-blocks */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/index.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n/* harmony import */ var _layouts__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./layouts */ \"../../../../packages/fields-document/src/DocumentEditor/layouts.tsx\");\n/* harmony import */ var _lists__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./lists */ \"../../../../packages/fields-document/src/DocumentEditor/lists.tsx\");\n/* harmony import */ var _blockquote__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./blockquote */ \"../../../../packages/fields-document/src/DocumentEditor/blockquote.tsx\");\n/* harmony import */ var _relationship__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./relationship */ \"../../../../packages/fields-document/src/DocumentEditor/relationship.tsx\");\n/* harmony import */ var _code_block__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./code-block */ \"../../../../packages/fields-document/src/DocumentEditor/code-block.tsx\");\n/* harmony import */ var _alignment__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./alignment */ \"../../../../packages/fields-document/src/DocumentEditor/alignment.tsx\");\n/* harmony import */ var _divider__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./divider */ \"../../../../packages/fields-document/src/DocumentEditor/divider.tsx\");\n/* harmony import */ var _toolbar_state__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./toolbar-state */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state.tsx\");\n/* harmony import */ var _keystar_ui_picker__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @keystar/ui/picker */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-picker.js\");\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var _keystar_ui_action_group__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @keystar/ui/action-group */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-action-group.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_menu__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @keystar/ui/menu */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-menu.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Toolbar({ documentFeatures, viewState }) {\n    const relationship = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_relationship__WEBPACK_IMPORTED_MODULE_25__.DocumentFieldRelationshipsContext);\n    const blockComponent = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_component_blocks__WEBPACK_IMPORTED_MODULE_20__.ComponentBlockContext);\n    const hasBlockItems = Object.entries(relationship).length || Object.keys(blockComponent).length;\n    const hasMarks = Object.values(documentFeatures.formatting.inlineMarks).some((x)=>x);\n    const hasAlignment = documentFeatures.formatting.alignment.center || documentFeatures.formatting.alignment.end;\n    const hasLists = documentFeatures.formatting.listTypes.unordered || documentFeatures.formatting.listTypes.ordered;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarWrapper, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarScrollArea, {\n                children: [\n                    !!documentFeatures.formatting.headingLevels.length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(HeadingMenu, {\n                        headingLevels: documentFeatures.formatting.headingLevels\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                        lineNumber: 69,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_editor__WEBPACK_IMPORTED_MODULE_18__.EditorToolbar, {\n                        \"aria-label\": \"Formatting options\",\n                        children: [\n                            hasMarks && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_editor__WEBPACK_IMPORTED_MODULE_18__.EditorToolbarSeparator, {}, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                        lineNumber: 74,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InlineMarks, {\n                                        marks: documentFeatures.formatting.inlineMarks\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                        lineNumber: 75,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_editor__WEBPACK_IMPORTED_MODULE_18__.EditorToolbarSeparator, {}, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                lineNumber: 78,\n                                columnNumber: 11\n                            }, this),\n                            (hasAlignment || hasLists) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_editor__WEBPACK_IMPORTED_MODULE_18__.EditorToolbarGroup, {\n                                children: [\n                                    hasAlignment && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_alignment__WEBPACK_IMPORTED_MODULE_27__.TextAlignMenu, {\n                                        alignment: documentFeatures.formatting.alignment\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                        lineNumber: 81,\n                                        columnNumber: 32\n                                    }, this),\n                                    hasLists && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_lists__WEBPACK_IMPORTED_MODULE_23__.ListButtons, {\n                                        lists: documentFeatures.formatting.listTypes\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                        lineNumber: 82,\n                                        columnNumber: 28\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                lineNumber: 80,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_editor__WEBPACK_IMPORTED_MODULE_18__.EditorToolbarGroup, {\n                                children: [\n                                    documentFeatures.dividers && _divider__WEBPACK_IMPORTED_MODULE_28__.dividerButton,\n                                    documentFeatures.links && _link__WEBPACK_IMPORTED_MODULE_19__.linkButton,\n                                    documentFeatures.formatting.blockTypes.blockquote && _blockquote__WEBPACK_IMPORTED_MODULE_24__.blockquoteButton,\n                                    !!documentFeatures.layouts.length && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_layouts__WEBPACK_IMPORTED_MODULE_22__.LayoutsButton, {\n                                        layouts: documentFeatures.layouts\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                        lineNumber: 90,\n                                        columnNumber: 15\n                                    }, this),\n                                    documentFeatures.formatting.blockTypes.code && _code_block__WEBPACK_IMPORTED_MODULE_26__.codeButton\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                lineNumber: 85,\n                                columnNumber: 11\n                            }, this),\n                            (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n                                \"Toolbar.useMemo\": ()=>{\n                                    return viewState && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_editor__WEBPACK_IMPORTED_MODULE_18__.EditorToolbarGroup, {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_35__.TooltipTrigger, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_editor__WEBPACK_IMPORTED_MODULE_18__.EditorToolbarButton, {\n                                                    isSelected: viewState.expanded,\n                                                    onPress: {\n                                                        \"Toolbar.useMemo\": ()=>{\n                                                            viewState.toggle();\n                                                        }\n                                                    }[\"Toolbar.useMemo\"],\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_3__.Icon, {\n                                                        src: viewState.expanded ? _keystar_ui_icon_icons_minimizeIcon__WEBPACK_IMPORTED_MODULE_16__.minimizeIcon : _keystar_ui_icon_icons_maximizeIcon__WEBPACK_IMPORTED_MODULE_15__.maximizeIcon\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                                        lineNumber: 105,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                                    lineNumber: 99,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_35__.Tooltip, {\n                                                    children: viewState.expanded ? 'Collapse' : 'Expand'\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                                    lineNumber: 107,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                            lineNumber: 98,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                        lineNumber: 97,\n                                        columnNumber: 17\n                                    }, this);\n                                }\n                            }[\"Toolbar.useMemo\"], [\n                                viewState\n                            ])\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                        lineNumber: 71,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                lineNumber: 67,\n                columnNumber: 7\n            }, this),\n            !!hasBlockItems && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(InsertBlockMenu, {}, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                lineNumber: 115,\n                columnNumber: 27\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n        lineNumber: 66,\n        columnNumber: 5\n    }, this);\n}\nconst headingMenuVals = new Map([\n    [\n        'normal',\n        'normal'\n    ],\n    [\n        '1',\n        1\n    ],\n    [\n        '2',\n        2\n    ],\n    [\n        '3',\n        3\n    ],\n    [\n        '4',\n        4\n    ],\n    [\n        '5',\n        5\n    ],\n    [\n        '6',\n        6\n    ]\n]);\nconst HeadingMenu = ({ headingLevels })=>{\n    const { editor, textStyles } = (0,_toolbar_state__WEBPACK_IMPORTED_MODULE_29__.useToolbarState)();\n    const isDisabled = textStyles.allowedHeadingLevels.length === 0;\n    const items = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"HeadingMenu.useMemo[items]\": ()=>{\n            let resolvedItems = [\n                {\n                    name: 'Paragraph',\n                    id: 'normal'\n                }\n            ];\n            headingLevels.forEach({\n                \"HeadingMenu.useMemo[items]\": (level)=>{\n                    resolvedItems.push({\n                        name: `Heading ${level}`,\n                        id: level.toString()\n                    });\n                }\n            }[\"HeadingMenu.useMemo[items]\"]);\n            return resolvedItems;\n        }\n    }[\"HeadingMenu.useMemo[items]\"], [\n        headingLevels\n    ]);\n    const selected = textStyles.selected.toString();\n    return (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"HeadingMenu.useMemo\": ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_picker__WEBPACK_IMPORTED_MODULE_30__.Picker, {\n                flexShrink: 0,\n                width: \"scale.1700\",\n                prominence: \"low\",\n                \"aria-label\": \"Text block\",\n                items: items,\n                isDisabled: isDisabled,\n                selectedKey: selected,\n                onSelectionChange: {\n                    \"HeadingMenu.useMemo\": (selected)=>{\n                        let key = headingMenuVals.get(selected);\n                        if (key === 'normal') {\n                            slate__WEBPACK_IMPORTED_MODULE_36__.Editor.withoutNormalizing(editor, {\n                                \"HeadingMenu.useMemo\": ()=>{\n                                    slate__WEBPACK_IMPORTED_MODULE_36__.Transforms.unsetNodes(editor, 'level', {\n                                        match: {\n                                            \"HeadingMenu.useMemo\": (n)=>n.type === 'heading'\n                                        }[\"HeadingMenu.useMemo\"]\n                                    });\n                                    slate__WEBPACK_IMPORTED_MODULE_36__.Transforms.setNodes(editor, {\n                                        type: 'paragraph'\n                                    }, {\n                                        match: {\n                                            \"HeadingMenu.useMemo\": (n)=>n.type === 'heading'\n                                        }[\"HeadingMenu.useMemo\"]\n                                    });\n                                }\n                            }[\"HeadingMenu.useMemo\"]);\n                        } else if (key) {\n                            slate__WEBPACK_IMPORTED_MODULE_36__.Transforms.setNodes(editor, {\n                                type: 'heading',\n                                level: key\n                            }, {\n                                match: {\n                                    \"HeadingMenu.useMemo\": (node)=>node.type === 'paragraph' || node.type === 'heading'\n                                }[\"HeadingMenu.useMemo\"]\n                            });\n                        }\n                        slate_react__WEBPACK_IMPORTED_MODULE_37__.ReactEditor.focus(editor);\n                    }\n                }[\"HeadingMenu.useMemo\"],\n                children: {\n                    \"HeadingMenu.useMemo\": (item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_picker__WEBPACK_IMPORTED_MODULE_30__.Item, {\n                            children: item.name\n                        }, item.id, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                            lineNumber: 182,\n                            columnNumber: 18\n                        }, undefined)\n                }[\"HeadingMenu.useMemo\"]\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                lineNumber: 149,\n                columnNumber: 7\n            }, undefined)\n    }[\"HeadingMenu.useMemo\"], [\n        editor,\n        isDisabled,\n        items,\n        selected\n    ]);\n};\nfunction InsertBlockMenu() {\n    const editor = (0,slate_react__WEBPACK_IMPORTED_MODULE_37__.useSlateStatic)();\n    const componentBlocks = (0,react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_component_blocks__WEBPACK_IMPORTED_MODULE_20__.ComponentBlockContext);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_menu__WEBPACK_IMPORTED_MODULE_34__.MenuTrigger, {\n        align: \"end\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_35__.TooltipTrigger, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_33__.ActionButton, {\n                        marginY: \"regular\",\n                        marginEnd: \"medium\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_3__.Icon, {\n                                src: _keystar_ui_icon_icons_plusIcon__WEBPACK_IMPORTED_MODULE_6__.plusIcon\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                lineNumber: 197,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_3__.Icon, {\n                                src: _keystar_ui_icon_icons_chevronDownIcon__WEBPACK_IMPORTED_MODULE_7__.chevronDownIcon\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                lineNumber: 198,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                        lineNumber: 196,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_35__.Tooltip, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_17__.Text, {\n                                children: \"Insert\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                lineNumber: 201,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_17__.Kbd, {\n                                children: \"/\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                lineNumber: 202,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                        lineNumber: 200,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                lineNumber: 195,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_menu__WEBPACK_IMPORTED_MODULE_34__.Menu, {\n                onAction: (key)=>{\n                    (0,_component_blocks__WEBPACK_IMPORTED_MODULE_20__.insertComponentBlock)(editor, componentBlocks, key);\n                },\n                items: Object.entries(componentBlocks),\n                children: ([key, item])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_picker__WEBPACK_IMPORTED_MODULE_30__.Item, {\n                        children: item.label\n                    }, key, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                        lineNumber: 211,\n                        columnNumber: 27\n                    }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                lineNumber: 205,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n        lineNumber: 194,\n        columnNumber: 5\n    }, this);\n}\nconst inlineMarks = [\n    {\n        key: 'bold',\n        label: 'Bold',\n        icon: _keystar_ui_icon_icons_boldIcon__WEBPACK_IMPORTED_MODULE_4__.boldIcon,\n        shortcut: `B`\n    },\n    {\n        key: 'italic',\n        label: 'Italic',\n        icon: _keystar_ui_icon_icons_italicIcon__WEBPACK_IMPORTED_MODULE_5__.italicIcon,\n        shortcut: `I`\n    },\n    {\n        key: 'underline',\n        label: 'Underline',\n        icon: _keystar_ui_icon_icons_underlineIcon__WEBPACK_IMPORTED_MODULE_14__.underlineIcon,\n        shortcut: `U`\n    },\n    {\n        key: 'strikethrough',\n        label: 'Strikethrough',\n        icon: _keystar_ui_icon_icons_strikethroughIcon__WEBPACK_IMPORTED_MODULE_10__.strikethroughIcon\n    },\n    {\n        key: 'code',\n        label: 'Code',\n        icon: _keystar_ui_icon_icons_codeIcon__WEBPACK_IMPORTED_MODULE_8__.codeIcon\n    },\n    {\n        key: 'superscript',\n        label: 'Superscript',\n        icon: _keystar_ui_icon_icons_superscriptIcon__WEBPACK_IMPORTED_MODULE_12__.superscriptIcon\n    },\n    {\n        key: 'subscript',\n        label: 'Subscript',\n        icon: _keystar_ui_icon_icons_subscriptIcon__WEBPACK_IMPORTED_MODULE_11__.subscriptIcon\n    },\n    {\n        key: 'clearFormatting',\n        label: 'Clear formatting',\n        icon: _keystar_ui_icon_icons_removeFormattingIcon__WEBPACK_IMPORTED_MODULE_9__.removeFormattingIcon\n    }\n];\nfunction InlineMarks({ marks: _marksShown }) {\n    const { editor, clearFormatting: { isDisabled }, marks } = (0,_toolbar_state__WEBPACK_IMPORTED_MODULE_29__.useToolbarState)();\n    const marksShown = useMemoStringified(_marksShown);\n    const selectedKeys = useMemoStringified(Object.keys(marks).filter({\n        \"InlineMarks.useMemoStringified[selectedKeys]\": (key)=>marks[key].isSelected\n    }[\"InlineMarks.useMemoStringified[selectedKeys]\"]));\n    const disabledKeys = useMemoStringified(Object.keys(marks).filter({\n        \"InlineMarks.useMemoStringified[disabledKeys]\": (key)=>marks[key].isDisabled\n    }[\"InlineMarks.useMemoStringified[disabledKeys]\"]).concat(isDisabled ? 'clearFormatting' : []));\n    return (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"InlineMarks.useMemo\": ()=>{\n            const items = inlineMarks.filter({\n                \"InlineMarks.useMemo.items\": (item)=>item.key === 'clearFormatting' || marksShown[item.key]\n            }[\"InlineMarks.useMemo.items\"]);\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_action_group__WEBPACK_IMPORTED_MODULE_31__.ActionGroup, {\n                UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.css)({\n                    minWidth: `calc(${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.size.element.medium} * 4)`\n                }),\n                prominence: \"low\",\n                density: \"compact\",\n                buttonLabelBehavior: \"hide\",\n                overflowMode: \"collapse\",\n                summaryIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_3__.Icon, {\n                    src: _keystar_ui_icon_icons_typeIcon__WEBPACK_IMPORTED_MODULE_13__.typeIcon\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                    lineNumber: 295,\n                    columnNumber: 22\n                }, void 0),\n                items: items,\n                selectionMode: \"multiple\",\n                selectedKeys: selectedKeys,\n                disabledKeys: disabledKeys,\n                onAction: {\n                    \"InlineMarks.useMemo\": (key)=>{\n                        if (key === 'clearFormatting') {\n                            (0,_utils__WEBPACK_IMPORTED_MODULE_21__.clearFormatting)(editor);\n                        } else {\n                            const mark = key;\n                            if (slate__WEBPACK_IMPORTED_MODULE_36__.Editor.marks(editor)?.[mark]) {\n                                slate__WEBPACK_IMPORTED_MODULE_36__.Editor.removeMark(editor, mark);\n                            } else {\n                                slate__WEBPACK_IMPORTED_MODULE_36__.Editor.addMark(editor, mark, true);\n                            }\n                        }\n                        slate_react__WEBPACK_IMPORTED_MODULE_37__.ReactEditor.focus(editor);\n                    }\n                }[\"InlineMarks.useMemo\"],\n                children: {\n                    \"InlineMarks.useMemo\": (item)=>{\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_picker__WEBPACK_IMPORTED_MODULE_30__.Item, {\n                            textValue: item.label,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_17__.Text, {\n                                    children: item.label\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                    lineNumber: 317,\n                                    columnNumber: 15\n                                }, this),\n                                'shortcut' in item && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_17__.Kbd, {\n                                    meta: true,\n                                    children: item.shortcut\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                    lineNumber: 318,\n                                    columnNumber: 38\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_3__.Icon, {\n                                    src: item.icon\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                                    lineNumber: 319,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, item.key, true, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                            lineNumber: 316,\n                            columnNumber: 13\n                        }, this);\n                    }\n                }[\"InlineMarks.useMemo\"]\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                lineNumber: 287,\n                columnNumber: 7\n            }, this);\n        }\n    }[\"InlineMarks.useMemo\"], [\n        disabledKeys,\n        editor,\n        marksShown,\n        selectedKeys\n    ]);\n}\nfunction useMemoStringified(value) {\n    return (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"useMemoStringified.useMemo\": ()=>value\n    }[\"useMemoStringified.useMemo\"], [\n        JSON.stringify(value)\n    ]);\n}\nfunction useEntryLayoutSplitPaneContext() {\n    return null;\n}\nconst ToolbarContainer = ({ children })=>{\n    let entryLayoutPane = useEntryLayoutSplitPaneContext();\n    if (entryLayoutPane === 'main') {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.css)({\n                boxSizing: 'border-box',\n                display: 'flex',\n                paddingInline: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.size.space.medium,\n                minWidth: 0,\n                maxWidth: 800,\n                marginInline: 'auto',\n                [_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.breakpointQueries.above.mobile]: {\n                    paddingInline: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.size.space.xlarge\n                },\n                [_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.breakpointQueries.above.tablet]: {\n                    paddingInline: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.size.space.xxlarge\n                }\n            }),\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n            lineNumber: 340,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.css)({\n            display: 'flex'\n        }),\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n        lineNumber: 361,\n        columnNumber: 10\n    }, undefined);\n};\nconst ToolbarWrapper = ({ children })=>{\n    let entryLayoutPane = useEntryLayoutSplitPaneContext();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            \"data-layout\": entryLayoutPane,\n            className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.css)({\n                backdropFilter: 'blur(8px)',\n                backgroundClip: 'padding-box',\n                backgroundColor: `color-mix(in srgb, transparent, ${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.color.background.canvas} 90%)`,\n                borderBottom: `${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.size.border.regular} solid color-mix(in srgb, transparent, ${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.color.foreground.neutral} 10%)`,\n                borderStartEndRadius: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.size.radius.medium,\n                borderStartStartRadius: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.size.radius.medium,\n                minWidth: 0,\n                position: 'sticky',\n                top: 0,\n                zIndex: 2,\n                '&[data-layout=\"main\"]': {\n                    borderRadius: 0\n                }\n            }),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarContainer, {\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n                lineNumber: 385,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n            lineNumber: 368,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false);\n};\nconst ToolbarScrollArea = (props)=>{\n    let entryLayoutPane = useEntryLayoutSplitPaneContext();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_32__.Flex, {\n        \"data-layout\": entryLayoutPane,\n        paddingY: \"regular\",\n        paddingX: \"medium\",\n        gap: \"large\",\n        flex: true,\n        minWidth: 0,\n        UNSAFE_className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.css)({\n            msOverflowStyle: 'none' /* for Internet Explorer, Edge */ ,\n            scrollbarWidth: 'none' /* for Firefox */ ,\n            overflowX: 'auto',\n            /* for Chrome, Safari, and Opera */ '&::-webkit-scrollbar': {\n                display: 'none'\n            },\n            '&[data-layout=\"main\"]': {\n                paddingInline: 0\n            }\n        }),\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/Toolbar.tsx\",\n        lineNumber: 394,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9Ub29sYmFyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUU7QUFFWjtBQUNIO0FBRWpCO0FBQ21CO0FBQ0k7QUFDSjtBQUNjO0FBQ2Q7QUFDd0I7QUFDTjtBQUNSO0FBQ0k7QUFDZDtBQUNVO0FBQ0Y7QUFDQTtBQUNoQjtBQU12QjtBQUdRO0FBQzZDO0FBQ3ZDO0FBQ0E7QUFDSjtBQUNVO0FBQ21CO0FBQ3pCO0FBQ0U7QUFDRjtBQUNRO0FBQ0E7QUFDUTtBQUNIO0FBQ2I7QUFDUTtBQUNHO0FBQ1M7QUFFdEQsU0FBU2tELFFBQVEsRUFDdEJDLGdCQUFnQixFQUNoQkMsU0FBUyxFQUlWO0lBQ0MsTUFBTUMsZUFBZWpELGlEQUFVQSxDQUFDOEIsNkVBQWlDQTtJQUNqRSxNQUFNb0IsaUJBQWlCbEQsaURBQVVBLENBQUN3QixxRUFBcUJBO0lBQ3ZELE1BQU0yQixnQkFBZ0JDLE9BQU9DLE9BQU8sQ0FBQ0osY0FBY0ssTUFBTSxJQUFJRixPQUFPRyxJQUFJLENBQUNMLGdCQUFnQkksTUFBTTtJQUMvRixNQUFNRSxXQUFXSixPQUFPSyxNQUFNLENBQUNWLGlCQUFpQlcsVUFBVSxDQUFDQyxXQUFXLEVBQUVDLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0E7SUFFbEYsTUFBTUMsZUFDSmYsaUJBQWlCVyxVQUFVLENBQUNLLFNBQVMsQ0FBQ0MsTUFBTSxJQUFJakIsaUJBQWlCVyxVQUFVLENBQUNLLFNBQVMsQ0FBQ0UsR0FBRztJQUMzRixNQUFNQyxXQUNKbkIsaUJBQWlCVyxVQUFVLENBQUNTLFNBQVMsQ0FBQ0MsU0FBUyxJQUFJckIsaUJBQWlCVyxVQUFVLENBQUNTLFNBQVMsQ0FBQ0UsT0FBTztJQUVsRyxxQkFDRSw4REFBQ0M7OzBCQUNDLDhEQUFDQzs7b0JBQ0UsQ0FBQyxDQUFDeEIsaUJBQWlCVyxV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SSxDQUFDeUMsTUFBTSxDQUFDQyxPQUFPLENBQUMsdUNBQXVDLEVBQUV0TCwwREFBV0EsQ0FBQ2lMLEtBQUssQ0FBQ00sVUFBVSxDQUFDQyxPQUFPLENBQUMsS0FBSyxDQUFDO2dCQUNySUMsc0JBQXNCekwsMERBQVdBLENBQUM0SSxJQUFJLENBQUM4QyxNQUFNLENBQUM1QyxNQUFNO2dCQUNwRDZDLHdCQUF3QjNMLDBEQUFXQSxDQUFDNEksSUFBSSxDQUFDOEMsTUFBTSxDQUFDNUMsTUFBTTtnQkFDdERILFVBQVU7Z0JBQ1ZpRCxVQUFVO2dCQUNWQyxLQUFLO2dCQUNMQyxRQUFRO2dCQUVSLHlCQUF5QjtvQkFBRUMsY0FBYztnQkFBRTtZQUM3QztzQkFFQSw0RUFBQ2xDOzBCQUFrQkM7Ozs7Ozs7Ozs7OztBQUkzQjtBQUVBLE1BQU1yRixvQkFBb0IsQ0FBQ3VIO0lBQ3pCLElBQUlqQyxrQkFBa0JIO0lBQ3RCLHFCQUNFLDhEQUFDbEgscURBQUlBO1FBQ0htSSxlQUFhZDtRQUNia0MsVUFBUztRQUNUQyxVQUFTO1FBQ1RDLEtBQUk7UUFDSkMsSUFBSTtRQUNKekQsVUFBVTtRQUNWRCxrQkFBa0IzSSxzREFBR0EsQ0FBQztZQUNwQnNNLGlCQUFpQixPQUFPLCtCQUErQjtZQUN2REMsZ0JBQWdCLE9BQU8sZUFBZTtZQUN0Q0MsV0FBVztZQUVYLGlDQUFpQyxHQUNqQyx3QkFBd0I7Z0JBQ3RCcEMsU0FBUztZQUNYO1lBRUEseUJBQXlCO2dCQUN2QkMsZUFBZTtZQUNqQjtRQUNGO1FBQ0MsR0FBRzRCLEtBQUs7Ozs7OztBQUdmIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvVG9vbGJhci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYnJlYWtwb2ludFF1ZXJpZXMsIGNzcywgdG9rZW5TY2hlbWEgfSBmcm9tICdAa2V5c3Rhci91aS9zdHlsZSdcblxuaW1wb3J0IHsgdHlwZSBSZWFjdE5vZGUsIHVzZU1lbW8sIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEVkaXRvciwgdHlwZSBFbGVtZW50LCBUcmFuc2Zvcm1zIH0gZnJvbSAnc2xhdGUnXG5cbmltcG9ydCB7IEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uJ1xuaW1wb3J0IHsgYm9sZEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2JvbGRJY29uJ1xuaW1wb3J0IHsgaXRhbGljSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvaXRhbGljSWNvbidcbmltcG9ydCB7IHBsdXNJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbi9pY29ucy9wbHVzSWNvbidcbmltcG9ydCB7IGNoZXZyb25Eb3duSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvY2hldnJvbkRvd25JY29uJ1xuaW1wb3J0IHsgY29kZUljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2NvZGVJY29uJ1xuaW1wb3J0IHsgcmVtb3ZlRm9ybWF0dGluZ0ljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL3JlbW92ZUZvcm1hdHRpbmdJY29uJ1xuaW1wb3J0IHsgc3RyaWtldGhyb3VnaEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL3N0cmlrZXRocm91Z2hJY29uJ1xuaW1wb3J0IHsgc3Vic2NyaXB0SWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvc3Vic2NyaXB0SWNvbidcbmltcG9ydCB7IHN1cGVyc2NyaXB0SWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvc3VwZXJzY3JpcHRJY29uJ1xuaW1wb3J0IHsgdHlwZUljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL3R5cGVJY29uJ1xuaW1wb3J0IHsgdW5kZXJsaW5lSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvdW5kZXJsaW5lSWNvbidcbmltcG9ydCB7IG1heGltaXplSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvbWF4aW1pemVJY29uJ1xuaW1wb3J0IHsgbWluaW1pemVJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbi9pY29ucy9taW5pbWl6ZUljb24nXG5pbXBvcnQgeyBLYmQsIFRleHQgfSBmcm9tICdAa2V5c3Rhci91aS90eXBvZ3JhcGh5J1xuaW1wb3J0IHtcbiAgRWRpdG9yVG9vbGJhcixcbiAgRWRpdG9yVG9vbGJhckJ1dHRvbixcbiAgRWRpdG9yVG9vbGJhckdyb3VwLFxuICBFZGl0b3JUb29sYmFyU2VwYXJhdG9yLFxufSBmcm9tICdAa2V5c3Rhci91aS9lZGl0b3InXG5cbmltcG9ydCB0eXBlIHsgRG9jdW1lbnRGZWF0dXJlcyB9IGZyb20gJy4uL3ZpZXdzLXNoYXJlZCdcbmltcG9ydCB7IGxpbmtCdXR0b24gfSBmcm9tICcuL2xpbmsnXG5pbXBvcnQgeyBDb21wb25lbnRCbG9ja0NvbnRleHQsIGluc2VydENvbXBvbmVudEJsb2NrIH0gZnJvbSAnLi9jb21wb25lbnQtYmxvY2tzJ1xuaW1wb3J0IHsgY2xlYXJGb3JtYXR0aW5nIH0gZnJvbSAnLi91dGlscydcbmltcG9ydCB7IExheW91dHNCdXR0b24gfSBmcm9tICcuL2xheW91dHMnXG5pbXBvcnQgeyBMaXN0QnV0dG9ucyB9IGZyb20gJy4vbGlzdHMnXG5pbXBvcnQgeyBibG9ja3F1b3RlQnV0dG9uIH0gZnJvbSAnLi9ibG9ja3F1b3RlJ1xuaW1wb3J0IHsgRG9jdW1lbnRGaWVsZFJlbGF0aW9uc2hpcHNDb250ZXh0IH0gZnJvbSAnLi9yZWxhdGlvbnNoaXAnXG5pbXBvcnQgeyBjb2RlQnV0dG9uIH0gZnJvbSAnLi9jb2RlLWJsb2NrJ1xuaW1wb3J0IHsgVGV4dEFsaWduTWVudSB9IGZyb20gJy4vYWxpZ25tZW50J1xuaW1wb3J0IHsgZGl2aWRlckJ1dHRvbiB9IGZyb20gJy4vZGl2aWRlcidcbmltcG9ydCB7IHVzZVRvb2xiYXJTdGF0ZSB9IGZyb20gJy4vdG9vbGJhci1zdGF0ZSdcbmltcG9ydCB7IEl0ZW0sIFBpY2tlciB9IGZyb20gJ0BrZXlzdGFyL3VpL3BpY2tlcidcbmltcG9ydCB7IFJlYWN0RWRpdG9yLCB1c2VTbGF0ZVN0YXRpYyB9IGZyb20gJ3NsYXRlLXJlYWN0J1xuaW1wb3J0IHsgQWN0aW9uR3JvdXAgfSBmcm9tICdAa2V5c3Rhci91aS9hY3Rpb24tZ3JvdXAnXG5pbXBvcnQgeyBGbGV4IH0gZnJvbSAnQGtleXN0YXIvdWkvbGF5b3V0J1xuaW1wb3J0IHsgQWN0aW9uQnV0dG9uIH0gZnJvbSAnQGtleXN0YXIvdWkvYnV0dG9uJ1xuaW1wb3J0IHsgTWVudVRyaWdnZXIsIE1lbnUgfSBmcm9tICdAa2V5c3Rhci91aS9tZW51J1xuaW1wb3J0IHsgVG9vbHRpcFRyaWdnZXIsIFRvb2x0aXAgfSBmcm9tICdAa2V5c3Rhci91aS90b29sdGlwJ1xuXG5leHBvcnQgZnVuY3Rpb24gVG9vbGJhcih7XG4gIGRvY3VtZW50RmVhdHVyZXMsXG4gIHZpZXdTdGF0ZSxcbn06IHtcbiAgZG9jdW1lbnRGZWF0dXJlczogRG9jdW1lbnRGZWF0dXJlc1xuICB2aWV3U3RhdGU/OiB7IGV4cGFuZGVkOiBib29sZWFuOyB0b2dnbGU6ICgpID0+IHZvaWQgfVxufSkge1xuICBjb25zdCByZWxhdGlvbnNoaXAgPSB1c2VDb250ZXh0KERvY3VtZW50RmllbGRSZWxhdGlvbnNoaXBzQ29udGV4dClcbiAgY29uc3QgYmxvY2tDb21wb25lbnQgPSB1c2VDb250ZXh0KENvbXBvbmVudEJsb2NrQ29udGV4dClcbiAgY29uc3QgaGFzQmxvY2tJdGVtcyA9IE9iamVjdC5lbnRyaWVzKHJlbGF0aW9uc2hpcCkubGVuZ3RoIHx8IE9iamVjdC5rZXlzKGJsb2NrQ29tcG9uZW50KS5sZW5ndGhcbiAgY29uc3QgaGFzTWFya3MgPSBPYmplY3QudmFsdWVzKGRvY3VtZW50RmVhdHVyZXMuZm9ybWF0dGluZy5pbmxpbmVNYXJrcykuc29tZSh4ID0+IHgpXG5cbiAgY29uc3QgaGFzQWxpZ25tZW50ID1cbiAgICBkb2N1bWVudEZlYXR1cmVzLmZvcm1hdHRpbmcuYWxpZ25tZW50LmNlbnRlciB8fCBkb2N1bWVudEZlYXR1cmVzLmZvcm1hdHRpbmcuYWxpZ25tZW50LmVuZFxuICBjb25zdCBoYXNMaXN0cyA9XG4gICAgZG9jdW1lbnRGZWF0dXJlcy5mb3JtYXR0aW5nLmxpc3RUeXBlcy51bm9yZGVyZWQgfHwgZG9jdW1lbnRGZWF0dXJlcy5mb3JtYXR0aW5nLmxpc3RUeXBlcy5vcmRlcmVkXG5cbiAgcmV0dXJuIChcbiAgICA8VG9vbGJhcldyYXBwZXI+XG4gICAgICA8VG9vbGJhclNjcm9sbEFyZWE+XG4gICAgICAgIHshIWRvY3VtZW50RmVhdHVyZXMuZm9ybWF0dGluZy5oZWFkaW5nTGV2ZWxzLmxlbmd0aCAmJiAoXG4gICAgICAgICAgPEhlYWRpbmdNZW51IGhlYWRpbmdMZXZlbHM9e2RvY3VtZW50RmVhdHVyZXMuZm9ybWF0dGluZy5oZWFkaW5nTGV2ZWxzfSAvPlxuICAgICAgICApfVxuICAgICAgICA8RWRpdG9yVG9vbGJhciBhcmlhLWxhYmVsPVwiRm9ybWF0dGluZyBvcHRpb25zXCI+XG4gICAgICAgICAge2hhc01hcmtzICYmIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxFZGl0b3JUb29sYmFyU2VwYXJhdG9yIC8+XG4gICAgICAgICAgICAgIDxJbmxpbmVNYXJrcyBtYXJrcz17ZG9jdW1lbnRGZWF0dXJlcy5mb3JtYXR0aW5nLmlubGluZU1hcmtzfSAvPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8RWRpdG9yVG9vbGJhclNlcGFyYXRvciAvPlxuICAgICAgICAgIHsoaGFzQWxpZ25tZW50IHx8IGhhc0xpc3RzKSAmJiAoXG4gICAgICAgICAgICA8RWRpdG9yVG9vbGJhckdyb3VwPlxuICAgICAgICAgICAgICB7aGFzQWxpZ25tZW50ICYmIDxUZXh0QWxpZ25NZW51IGFsaWdubWVudD17ZG9jdW1lbnRGZWF0dXJlcy5mb3JtYXR0aW5nLmFsaWdubWVudH0gLz59XG4gICAgICAgICAgICAgIHtoYXNMaXN0cyAmJiA8TGlzdEJ1dHRvbnMgbGlzdHM9e2RvY3VtZW50RmVhdHVyZXMuZm9ybWF0dGluZy5saXN0VHlwZXN9IC8+fVxuICAgICAgICAgICAgPC9FZGl0b3JUb29sYmFyR3JvdXA+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8RWRpdG9yVG9vbGJhckdyb3VwPlxuICAgICAgICAgICAge2RvY3VtZW50RmVhdHVyZXMuZGl2aWRlcnMgJiYgZGl2aWRlckJ1dHRvbn1cbiAgICAgICAgICAgIHtkb2N1bWVudEZlYXR1cmVzLmxpbmtzICYmIGxpbmtCdXR0b259XG4gICAgICAgICAgICB7ZG9jdW1lbnRGZWF0dXJlcy5mb3JtYXR0aW5nLmJsb2NrVHlwZXMuYmxvY2txdW90ZSAmJiBibG9ja3F1b3RlQnV0dG9ufVxuICAgICAgICAgICAgeyEhZG9jdW1lbnRGZWF0dXJlcy5sYXlvdXRzLmxlbmd0aCAmJiAoXG4gICAgICAgICAgICAgIDxMYXlvdXRzQnV0dG9uIGxheW91dHM9e2RvY3VtZW50RmVhdHVyZXMubGF5b3V0c30gLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7ZG9jdW1lbnRGZWF0dXJlcy5mb3JtYXR0aW5nLmJsb2NrVHlwZXMuY29kZSAmJiBjb2RlQnV0dG9ufVxuICAgICAgICAgIDwvRWRpdG9yVG9vbGJhckdyb3VwPlxuICAgICAgICAgIHt1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIHZpZXdTdGF0ZSAmJiAoXG4gICAgICAgICAgICAgICAgPEVkaXRvclRvb2xiYXJHcm91cD5cbiAgICAgICAgICAgICAgICAgIDxUb29sdGlwVHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgPEVkaXRvclRvb2xiYXJCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdGVkPXt2aWV3U3RhdGUuZXhwYW5kZWR9XG4gICAgICAgICAgICAgICAgICAgICAgb25QcmVzcz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlld1N0YXRlLnRvZ2dsZSgpXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxJY29uIHNyYz17dmlld1N0YXRlLmV4cGFuZGVkID8gbWluaW1pemVJY29uIDogbWF4aW1pemVJY29ufSAvPlxuICAgICAgICAgICAgICAgICAgICA8L0VkaXRvclRvb2xiYXJCdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxUb29sdGlwPnt2aWV3U3RhdGUuZXhwYW5kZWQgPyAnQ29sbGFwc2UnIDogJ0V4cGFuZCd9PC9Ub29sdGlwPlxuICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwVHJpZ2dlcj5cbiAgICAgICAgICAgICAgICA8L0VkaXRvclRvb2xiYXJHcm91cD5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0sIFt2aWV3U3RhdGVdKX1cbiAgICAgICAgPC9FZGl0b3JUb29sYmFyPlxuICAgICAgPC9Ub29sYmFyU2Nyb2xsQXJlYT5cbiAgICAgIHshIWhhc0Jsb2NrSXRlbXMgJiYgPEluc2VydEJsb2NrTWVudSAvPn1cbiAgICA8L1Rvb2xiYXJXcmFwcGVyPlxuICApXG59XG5cbmNvbnN0IGhlYWRpbmdNZW51VmFscyA9IG5ldyBNYXA8c3RyaW5nIHwgbnVtYmVyLCAnbm9ybWFsJyB8IDEgfCAyIHwgMyB8IDQgfCA1IHwgNj4oW1xuICBbJ25vcm1hbCcsICdub3JtYWwnXSxcbiAgWycxJywgMV0sXG4gIFsnMicsIDJdLFxuICBbJzMnLCAzXSxcbiAgWyc0JywgNF0sXG4gIFsnNScsIDVdLFxuICBbJzYnLCA2XSxcbl0pXG5cbnR5cGUgSGVhZGluZ0l0ZW0gPSB7IG5hbWU6IHN0cmluZzsgaWQ6IHN0cmluZyB8IG51bWJlciB9XG5jb25zdCBIZWFkaW5nTWVudSA9ICh7XG4gIGhlYWRpbmdMZXZlbHMsXG59OiB7XG4gIGhlYWRpbmdMZXZlbHM6IERvY3VtZW50RmVhdHVyZXNbJ2Zvcm1hdHRpbmcnXVsnaGVhZGluZ0xldmVscyddXG59KSA9PiB7XG4gIGNvbnN0IHsgZWRpdG9yLCB0ZXh0U3R5bGVzIH0gPSB1c2VUb29sYmFyU3RhdGUoKVxuICBjb25zdCBpc0Rpc2FibGVkID0gdGV4dFN0eWxlcy5hbGxvd2VkSGVhZGluZ0xldmVscy5sZW5ndGggPT09IDBcbiAgY29uc3QgaXRlbXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBsZXQgcmVzb2x2ZWRJdGVtczogSGVhZGluZ0l0ZW1bXSA9IFt7IG5hbWU6ICdQYXJhZ3JhcGgnLCBpZDogJ25vcm1hbCcgfV1cbiAgICBoZWFkaW5nTGV2ZWxzLmZvckVhY2gobGV2ZWwgPT4ge1xuICAgICAgcmVzb2x2ZWRJdGVtcy5wdXNoKHsgbmFtZTogYEhlYWRpbmcgJHtsZXZlbH1gLCBpZDogbGV2ZWwudG9TdHJpbmcoKSB9KVxuICAgIH0pXG4gICAgcmV0dXJuIHJlc29sdmVkSXRlbXNcbiAgfSwgW2hlYWRpbmdMZXZlbHNdKVxuICBjb25zdCBzZWxlY3RlZCA9IHRleHRTdHlsZXMuc2VsZWN0ZWQudG9TdHJpbmcoKVxuXG4gIHJldHVybiB1c2VNZW1vKFxuICAgICgpID0+IChcbiAgICAgIDxQaWNrZXJcbiAgICAgICAgZmxleFNocmluaz17MH1cbiAgICAgICAgd2lkdGg9XCJzY2FsZS4xNzAwXCJcbiAgICAgICAgcHJvbWluZW5jZT1cImxvd1wiXG4gICAgICAgIGFyaWEtbGFiZWw9XCJUZXh0IGJsb2NrXCJcbiAgICAgICAgaXRlbXM9e2l0ZW1zfVxuICAgICAgICBpc0Rpc2FibGVkPXtpc0Rpc2FibGVkfVxuICAgICAgICBzZWxlY3RlZEtleT17c2VsZWN0ZWR9XG4gICAgICAgIG9uU2VsZWN0aW9uQ2hhbmdlPXtzZWxlY3RlZCA9PiB7XG4gICAgICAgICAgbGV0IGtleSA9IGhlYWRpbmdNZW51VmFscy5nZXQoc2VsZWN0ZWQpXG4gICAgICAgICAgaWYgKGtleSA9PT0gJ25vcm1hbCcpIHtcbiAgICAgICAgICAgIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCAoKSA9PiB7XG4gICAgICAgICAgICAgIFRyYW5zZm9ybXMudW5zZXROb2RlcyhlZGl0b3IsICdsZXZlbCcsIHtcbiAgICAgICAgICAgICAgICBtYXRjaDogbiA9PiBuLnR5cGUgPT09ICdoZWFkaW5nJyxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5zZXROb2RlczxFbGVtZW50PihcbiAgICAgICAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgICAgICAgeyB0eXBlOiAncGFyYWdyYXBoJyB9LFxuICAgICAgICAgICAgICAgIHsgbWF0Y2g6IG4gPT4gbi50eXBlID09PSAnaGVhZGluZycgfVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSBpZiAoa2V5KSB7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLnNldE5vZGVzKFxuICAgICAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgICAgIHsgdHlwZTogJ2hlYWRpbmcnLCBsZXZlbDoga2V5IH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtYXRjaDogbm9kZSA9PiBub2RlLnR5cGUgPT09ICdwYXJhZ3JhcGgnIHx8IG5vZGUudHlwZSA9PT0gJ2hlYWRpbmcnLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIFJlYWN0RWRpdG9yLmZvY3VzKGVkaXRvcilcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAge2l0ZW0gPT4gPEl0ZW0ga2V5PXtpdGVtLmlkfT57aXRlbS5uYW1lfTwvSXRlbT59XG4gICAgICA8L1BpY2tlcj5cbiAgICApLFxuICAgIFtlZGl0b3IsIGlzRGlzYWJsZWQsIGl0ZW1zLCBzZWxlY3RlZF1cbiAgKVxufVxuXG5mdW5jdGlvbiBJbnNlcnRCbG9ja01lbnUoKSB7XG4gIGNvbnN0IGVkaXRvciA9IHVzZVNsYXRlU3RhdGljKClcbiAgY29uc3QgY29tcG9uZW50QmxvY2tzID0gdXNlQ29udGV4dChDb21wb25lbnRCbG9ja0NvbnRleHQpXG5cbiAgcmV0dXJuIChcbiAgICA8TWVudVRyaWdnZXIgYWxpZ249XCJlbmRcIj5cbiAgICAgIDxUb29sdGlwVHJpZ2dlcj5cbiAgICAgICAgPEFjdGlvbkJ1dHRvbiBtYXJnaW5ZPVwicmVndWxhclwiIG1hcmdpbkVuZD1cIm1lZGl1bVwiPlxuICAgICAgICAgIDxJY29uIHNyYz17cGx1c0ljb259IC8+XG4gICAgICAgICAgPEljb24gc3JjPXtjaGV2cm9uRG93bkljb259IC8+XG4gICAgICAgIDwvQWN0aW9uQnV0dG9uPlxuICAgICAgICA8VG9vbHRpcD5cbiAgICAgICAgICA8VGV4dD5JbnNlcnQ8L1RleHQ+XG4gICAgICAgICAgPEtiZD4vPC9LYmQ+XG4gICAgICAgIDwvVG9vbHRpcD5cbiAgICAgIDwvVG9vbHRpcFRyaWdnZXI+XG4gICAgICA8TWVudVxuICAgICAgICBvbkFjdGlvbj17a2V5ID0+IHtcbiAgICAgICAgICBpbnNlcnRDb21wb25lbnRCbG9jayhlZGl0b3IsIGNvbXBvbmVudEJsb2Nrcywga2V5IGFzIHN0cmluZylcbiAgICAgICAgfX1cbiAgICAgICAgaXRlbXM9e09iamVjdC5lbnRyaWVzKGNvbXBvbmVudEJsb2Nrcyl9XG4gICAgICA+XG4gICAgICAgIHsoW2tleSwgaXRlbV0pID0+IDxJdGVtIGtleT17a2V5fT57aXRlbS5sYWJlbH08L0l0ZW0+fVxuICAgICAgPC9NZW51PlxuICAgIDwvTWVudVRyaWdnZXI+XG4gIClcbn1cblxuY29uc3QgaW5saW5lTWFya3MgPSBbXG4gIHtcbiAgICBrZXk6ICdib2xkJyxcbiAgICBsYWJlbDogJ0JvbGQnLFxuICAgIGljb246IGJvbGRJY29uLFxuICAgIHNob3J0Y3V0OiBgQmAsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdpdGFsaWMnLFxuICAgIGxhYmVsOiAnSXRhbGljJyxcbiAgICBpY29uOiBpdGFsaWNJY29uLFxuICAgIHNob3J0Y3V0OiBgSWAsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICd1bmRlcmxpbmUnLFxuICAgIGxhYmVsOiAnVW5kZXJsaW5lJyxcbiAgICBpY29uOiB1bmRlcmxpbmVJY29uLFxuICAgIHNob3J0Y3V0OiBgVWAsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdzdHJpa2V0aHJvdWdoJyxcbiAgICBsYWJlbDogJ1N0cmlrZXRocm91Z2gnLFxuICAgIGljb246IHN0cmlrZXRocm91Z2hJY29uLFxuICB9LFxuICB7XG4gICAga2V5OiAnY29kZScsXG4gICAgbGFiZWw6ICdDb2RlJyxcbiAgICBpY29uOiBjb2RlSWNvbixcbiAgfSxcbiAge1xuICAgIGtleTogJ3N1cGVyc2NyaXB0JyxcbiAgICBsYWJlbDogJ1N1cGVyc2NyaXB0JyxcbiAgICBpY29uOiBzdXBlcnNjcmlwdEljb24sXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdzdWJzY3JpcHQnLFxuICAgIGxhYmVsOiAnU3Vic2NyaXB0JyxcbiAgICBpY29uOiBzdWJzY3JpcHRJY29uLFxuICB9LFxuICB7XG4gICAga2V5OiAnY2xlYXJGb3JtYXR0aW5nJyxcbiAgICBsYWJlbDogJ0NsZWFyIGZvcm1hdHRpbmcnLFxuICAgIGljb246IHJlbW92ZUZvcm1hdHRpbmdJY29uLFxuICB9LFxuXSBhcyBjb25zdFxuXG5mdW5jdGlvbiBJbmxpbmVNYXJrcyh7XG4gIG1hcmtzOiBfbWFya3NTaG93bixcbn06IHtcbiAgbWFya3M6IERvY3VtZW50RmVhdHVyZXNbJ2Zvcm1hdHRpbmcnXVsnaW5saW5lTWFya3MnXVxufSkge1xuICBjb25zdCB7XG4gICAgZWRpdG9yLFxuICAgIGNsZWFyRm9ybWF0dGluZzogeyBpc0Rpc2FibGVkIH0sXG4gICAgbWFya3MsXG4gIH0gPSB1c2VUb29sYmFyU3RhdGUoKVxuICBjb25zdCBtYXJrc1Nob3duID0gdXNlTWVtb1N0cmluZ2lmaWVkKF9tYXJrc1Nob3duKVxuXG4gIGNvbnN0IHNlbGVjdGVkS2V5cyA9IHVzZU1lbW9TdHJpbmdpZmllZChcbiAgICBPYmplY3Qua2V5cyhtYXJrcykuZmlsdGVyKGtleSA9PiBtYXJrc1trZXkgYXMga2V5b2YgdHlwZW9mIG1hcmtzXS5pc1NlbGVjdGVkKVxuICApXG4gIGNvbnN0IGRpc2FibGVkS2V5cyA9IHVzZU1lbW9TdHJpbmdpZmllZChcbiAgICBPYmplY3Qua2V5cyhtYXJrcylcbiAgICAgIC5maWx0ZXIoa2V5ID0+IG1hcmtzW2tleSBhcyBrZXlvZiB0eXBlb2YgbWFya3NdLmlzRGlzYWJsZWQpXG4gICAgICAuY29uY2F0KGlzRGlzYWJsZWQgPyAnY2xlYXJGb3JtYXR0aW5nJyA6IFtdKVxuICApXG5cbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGl0ZW1zID0gaW5saW5lTWFya3MuZmlsdGVyKGl0ZW0gPT4gaXRlbS5rZXkgPT09ICdjbGVhckZvcm1hdHRpbmcnIHx8IG1hcmtzU2hvd25baXRlbS5rZXldKVxuICAgIHJldHVybiAoXG4gICAgICA8QWN0aW9uR3JvdXBcbiAgICAgICAgVU5TQUZFX2NsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgICBtaW5XaWR0aDogYGNhbGMoJHt0b2tlblNjaGVtYS5zaXplLmVsZW1lbnQubWVkaXVtfSAqIDQpYCxcbiAgICAgICAgfSl9XG4gICAgICAgIHByb21pbmVuY2U9XCJsb3dcIlxuICAgICAgICBkZW5zaXR5PVwiY29tcGFjdFwiXG4gICAgICAgIGJ1dHRvbkxhYmVsQmVoYXZpb3I9XCJoaWRlXCJcbiAgICAgICAgb3ZlcmZsb3dNb2RlPVwiY29sbGFwc2VcIlxuICAgICAgICBzdW1tYXJ5SWNvbj17PEljb24gc3JjPXt0eXBlSWNvbn0gLz59XG4gICAgICAgIGl0ZW1zPXtpdGVtc31cbiAgICAgICAgc2VsZWN0aW9uTW9kZT1cIm11bHRpcGxlXCJcbiAgICAgICAgc2VsZWN0ZWRLZXlzPXtzZWxlY3RlZEtleXN9XG4gICAgICAgIGRpc2FibGVkS2V5cz17ZGlzYWJsZWRLZXlzfVxuICAgICAgICBvbkFjdGlvbj17a2V5ID0+IHtcbiAgICAgICAgICBpZiAoa2V5ID09PSAnY2xlYXJGb3JtYXR0aW5nJykge1xuICAgICAgICAgICAgY2xlYXJGb3JtYXR0aW5nKGVkaXRvcilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbWFyayA9IGtleSBhcyBrZXlvZiB0eXBlb2YgbWFya3NcbiAgICAgICAgICAgIGlmIChFZGl0b3IubWFya3MoZWRpdG9yKT8uW21hcmtdKSB7XG4gICAgICAgICAgICAgIEVkaXRvci5yZW1vdmVNYXJrKGVkaXRvciwgbWFyaylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIEVkaXRvci5hZGRNYXJrKGVkaXRvciwgbWFyaywgdHJ1ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgUmVhY3RFZGl0b3IuZm9jdXMoZWRpdG9yKVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7aXRlbSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxJdGVtIGtleT17aXRlbS5rZXl9IHRleHRWYWx1ZT17aXRlbS5sYWJlbH0+XG4gICAgICAgICAgICAgIDxUZXh0PntpdGVtLmxhYmVsfTwvVGV4dD5cbiAgICAgICAgICAgICAgeydzaG9ydGN1dCcgaW4gaXRlbSAmJiA8S2JkIG1ldGE+e2l0ZW0uc2hvcnRjdXR9PC9LYmQ+fVxuICAgICAgICAgICAgICA8SWNvbiBzcmM9e2l0ZW0uaWNvbn0gLz5cbiAgICAgICAgICAgIDwvSXRlbT5cbiAgICAgICAgICApXG4gICAgICAgIH19XG4gICAgICA8L0FjdGlvbkdyb3VwPlxuICAgIClcbiAgfSwgW2Rpc2FibGVkS2V5cywgZWRpdG9yLCBtYXJrc1Nob3duLCBzZWxlY3RlZEtleXNdKVxufVxuXG5mdW5jdGlvbiB1c2VNZW1vU3RyaW5naWZpZWQ8VD4odmFsdWU6IFQpOiBUIHtcbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gdmFsdWUsIFtKU09OLnN0cmluZ2lmeSh2YWx1ZSldKVxufVxuXG5mdW5jdGlvbiB1c2VFbnRyeUxheW91dFNwbGl0UGFuZUNvbnRleHQoKSB7XG4gIHJldHVybiBudWxsXG59XG5cbmNvbnN0IFRvb2xiYXJDb250YWluZXIgPSAoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdE5vZGUgfSkgPT4ge1xuICBsZXQgZW50cnlMYXlvdXRQYW5lID0gdXNlRW50cnlMYXlvdXRTcGxpdFBhbmVDb250ZXh0KClcbiAgaWYgKGVudHJ5TGF5b3V0UGFuZSA9PT0gJ21haW4nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtjc3Moe1xuICAgICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBwYWRkaW5nSW5saW5lOiB0b2tlblNjaGVtYS5zaXplLnNwYWNlLm1lZGl1bSxcbiAgICAgICAgICBtaW5XaWR0aDogMCxcbiAgICAgICAgICBtYXhXaWR0aDogODAwLFxuICAgICAgICAgIG1hcmdpbklubGluZTogJ2F1dG8nLFxuXG4gICAgICAgICAgW2JyZWFrcG9pbnRRdWVyaWVzLmFib3ZlLm1vYmlsZV06IHtcbiAgICAgICAgICAgIHBhZGRpbmdJbmxpbmU6IHRva2VuU2NoZW1hLnNpemUuc3BhY2UueGxhcmdlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgW2JyZWFrcG9pbnRRdWVyaWVzLmFib3ZlLnRhYmxldF06IHtcbiAgICAgICAgICAgIHBhZGRpbmdJbmxpbmU6IHRva2VuU2NoZW1hLnNpemUuc3BhY2UueHhsYXJnZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KX1cbiAgICAgID5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17Y3NzKHsgZGlzcGxheTogJ2ZsZXgnIH0pfT57Y2hpbGRyZW59PC9kaXY+XG59XG5cbmNvbnN0IFRvb2xiYXJXcmFwcGVyID0gKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pID0+IHtcbiAgbGV0IGVudHJ5TGF5b3V0UGFuZSA9IHVzZUVudHJ5TGF5b3V0U3BsaXRQYW5lQ29udGV4dCgpXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxkaXZcbiAgICAgICAgZGF0YS1sYXlvdXQ9e2VudHJ5TGF5b3V0UGFuZX1cbiAgICAgICAgY2xhc3NOYW1lPXtjc3Moe1xuICAgICAgICAgIGJhY2tkcm9wRmlsdGVyOiAnYmx1cig4cHgpJyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ2xpcDogJ3BhZGRpbmctYm94JyxcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGBjb2xvci1taXgoaW4gc3JnYiwgdHJhbnNwYXJlbnQsICR7dG9rZW5TY2hlbWEuY29sb3IuYmFja2dyb3VuZC5jYW52YXN9IDkwJSlgLFxuICAgICAgICAgIGJvcmRlckJvdHRvbTogYCR7dG9rZW5TY2hlbWEuc2l6ZS5ib3JkZXIucmVndWxhcn0gc29saWQgY29sb3ItbWl4KGluIHNyZ2IsIHRyYW5zcGFyZW50LCAke3Rva2VuU2NoZW1hLmNvbG9yLmZvcmVncm91bmQubmV1dHJhbH0gMTAlKWAsXG4gICAgICAgICAgYm9yZGVyU3RhcnRFbmRSYWRpdXM6IHRva2VuU2NoZW1hLnNpemUucmFkaXVzLm1lZGl1bSxcbiAgICAgICAgICBib3JkZXJTdGFydFN0YXJ0UmFkaXVzOiB0b2tlblNjaGVtYS5zaXplLnJhZGl1cy5tZWRpdW0sXG4gICAgICAgICAgbWluV2lkdGg6IDAsXG4gICAgICAgICAgcG9zaXRpb246ICdzdGlja3knLFxuICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICB6SW5kZXg6IDIsXG5cbiAgICAgICAgICAnJltkYXRhLWxheW91dD1cIm1haW5cIl0nOiB7IGJvcmRlclJhZGl1czogMCB9LFxuICAgICAgICB9KX1cbiAgICAgID5cbiAgICAgICAgPFRvb2xiYXJDb250YWluZXI+e2NoaWxkcmVufTwvVG9vbGJhckNvbnRhaW5lcj5cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApXG59XG5cbmNvbnN0IFRvb2xiYXJTY3JvbGxBcmVhID0gKHByb3BzOiB7IGNoaWxkcmVuOiBSZWFjdE5vZGUgfSkgPT4ge1xuICBsZXQgZW50cnlMYXlvdXRQYW5lID0gdXNlRW50cnlMYXlvdXRTcGxpdFBhbmVDb250ZXh0KClcbiAgcmV0dXJuIChcbiAgICA8RmxleFxuICAgICAgZGF0YS1sYXlvdXQ9e2VudHJ5TGF5b3V0UGFuZX1cbiAgICAgIHBhZGRpbmdZPVwicmVndWxhclwiXG4gICAgICBwYWRkaW5nWD1cIm1lZGl1bVwiXG4gICAgICBnYXA9XCJsYXJnZVwiXG4gICAgICBmbGV4XG4gICAgICBtaW5XaWR0aD17MH1cbiAgICAgIFVOU0FGRV9jbGFzc05hbWU9e2Nzcyh7XG4gICAgICAgIG1zT3ZlcmZsb3dTdHlsZTogJ25vbmUnIC8qIGZvciBJbnRlcm5ldCBFeHBsb3JlciwgRWRnZSAqLyxcbiAgICAgICAgc2Nyb2xsYmFyV2lkdGg6ICdub25lJyAvKiBmb3IgRmlyZWZveCAqLyxcbiAgICAgICAgb3ZlcmZsb3dYOiAnYXV0bycsXG5cbiAgICAgICAgLyogZm9yIENocm9tZSwgU2FmYXJpLCBhbmQgT3BlcmEgKi9cbiAgICAgICAgJyY6Oi13ZWJraXQtc2Nyb2xsYmFyJzoge1xuICAgICAgICAgIGRpc3BsYXk6ICdub25lJyxcbiAgICAgICAgfSxcblxuICAgICAgICAnJltkYXRhLWxheW91dD1cIm1haW5cIl0nOiB7XG4gICAgICAgICAgcGFkZGluZ0lubGluZTogMCxcbiAgICAgICAgfSxcbiAgICAgIH0pfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJicmVha3BvaW50UXVlcmllcyIsImNzcyIsInRva2VuU2NoZW1hIiwidXNlTWVtbyIsInVzZUNvbnRleHQiLCJFZGl0b3IiLCJUcmFuc2Zvcm1zIiwiSWNvbiIsImJvbGRJY29uIiwiaXRhbGljSWNvbiIsInBsdXNJY29uIiwiY2hldnJvbkRvd25JY29uIiwiY29kZUljb24iLCJyZW1vdmVGb3JtYXR0aW5nSWNvbiIsInN0cmlrZXRocm91Z2hJY29uIiwic3Vic2NyaXB0SWNvbiIsInN1cGVyc2NyaXB0SWNvbiIsInR5cGVJY29uIiwidW5kZXJsaW5lSWNvbiIsIm1heGltaXplSWNvbiIsIm1pbmltaXplSWNvbiIsIktiZCIsIlRleHQiLCJFZGl0b3JUb29sYmFyIiwiRWRpdG9yVG9vbGJhckJ1dHRvbiIsIkVkaXRvclRvb2xiYXJHcm91cCIsIkVkaXRvclRvb2xiYXJTZXBhcmF0b3IiLCJsaW5rQnV0dG9uIiwiQ29tcG9uZW50QmxvY2tDb250ZXh0IiwiaW5zZXJ0Q29tcG9uZW50QmxvY2siLCJjbGVhckZvcm1hdHRpbmciLCJMYXlvdXRzQnV0dG9uIiwiTGlzdEJ1dHRvbnMiLCJibG9ja3F1b3RlQnV0dG9uIiwiRG9jdW1lbnRGaWVsZFJlbGF0aW9uc2hpcHNDb250ZXh0IiwiY29kZUJ1dHRvbiIsIlRleHRBbGlnbk1lbnUiLCJkaXZpZGVyQnV0dG9uIiwidXNlVG9vbGJhclN0YXRlIiwiSXRlbSIsIlBpY2tlciIsIlJlYWN0RWRpdG9yIiwidXNlU2xhdGVTdGF0aWMiLCJBY3Rpb25Hcm91cCIsIkZsZXgiLCJBY3Rpb25CdXR0b24iLCJNZW51VHJpZ2dlciIsIk1lbnUiLCJUb29sdGlwVHJpZ2dlciIsIlRvb2x0aXAiLCJUb29sYmFyIiwiZG9jdW1lbnRGZWF0dXJlcyIsInZpZXdTdGF0ZSIsInJlbGF0aW9uc2hpcCIsImJsb2NrQ29tcG9uZW50IiwiaGFzQmxvY2tJdGVtcyIsIk9iamVjdCIsImVudHJpZXMiLCJsZW5ndGgiLCJrZXlzIiwiaGFzTWFya3MiLCJ2YWx1ZXMiLCJmb3JtYXR0aW5nIiwiaW5saW5lTWFya3MiLCJzb21lIiwieCIsImhhc0FsaWdubWVudCIsImFsaWdubWVudCIsImNlbnRlciIsImVuZCIsImhhc0xpc3RzIiwibGlzdFR5cGVzIiwidW5vcmRlcmVkIiwib3JkZXJlZCIsIlRvb2xiYXJXcmFwcGVyIiwiVG9vbGJhclNjcm9sbEFyZWEiLCJoZWFkaW5nTGV2ZWxzIiwiSGVhZGluZ01lbnUiLCJhcmlhLWxhYmVsIiwiSW5saW5lTWFya3MiLCJtYXJrcyIsImxpc3RzIiwiZGl2aWRlcnMiLCJsaW5rcyIsImJsb2NrVHlwZXMiLCJibG9ja3F1b3RlIiwibGF5b3V0cyIsImNvZGUiLCJpc1NlbGVjdGVkIiwiZXhwYW5kZWQiLCJvblByZXNzIiwidG9nZ2xlIiwic3JjIiwiSW5zZXJ0QmxvY2tNZW51IiwiaGVhZGluZ01lbnVWYWxzIiwiTWFwIiwiZWRpdG9yIiwidGV4dFN0eWxlcyIsImlzRGlzYWJsZWQiLCJhbGxvd2VkSGVhZGluZ0xldmVscyIsIml0ZW1zIiwicmVzb2x2ZWRJdGVtcyIsIm5hbWUiLCJpZCIsImZvckVhY2giLCJsZXZlbCIsInB1c2giLCJ0b1N0cmluZyIsInNlbGVjdGVkIiwiZmxleFNocmluayIsIndpZHRoIiwicHJvbWluZW5jZSIsInNlbGVjdGVkS2V5Iiwib25TZWxlY3Rpb25DaGFuZ2UiLCJrZXkiLCJnZXQiLCJ3aXRob3V0Tm9ybWFsaXppbmciLCJ1bnNldE5vZGVzIiwibWF0Y2giLCJuIiwidHlwZSIsInNldE5vZGVzIiwibm9kZSIsImZvY3VzIiwiaXRlbSIsImNvbXBvbmVudEJsb2NrcyIsImFsaWduIiwibWFyZ2luWSIsIm1hcmdpbkVuZCIsIm9uQWN0aW9uIiwibGFiZWwiLCJpY29uIiwic2hvcnRjdXQiLCJfbWFya3NTaG93biIsIm1hcmtzU2hvd24iLCJ1c2VNZW1vU3RyaW5naWZpZWQiLCJzZWxlY3RlZEtleXMiLCJmaWx0ZXIiLCJkaXNhYmxlZEtleXMiLCJjb25jYXQiLCJVTlNBRkVfY2xhc3NOYW1lIiwibWluV2lkdGgiLCJzaXplIiwiZWxlbWVudCIsIm1lZGl1bSIsImRlbnNpdHkiLCJidXR0b25MYWJlbEJlaGF2aW9yIiwib3ZlcmZsb3dNb2RlIiwic3VtbWFyeUljb24iLCJzZWxlY3Rpb25Nb2RlIiwibWFyayIsInJlbW92ZU1hcmsiLCJhZGRNYXJrIiwidGV4dFZhbHVlIiwibWV0YSIsInZhbHVlIiwiSlNPTiIsInN0cmluZ2lmeSIsInVzZUVudHJ5TGF5b3V0U3BsaXRQYW5lQ29udGV4dCIsIlRvb2xiYXJDb250YWluZXIiLCJjaGlsZHJlbiIsImVudHJ5TGF5b3V0UGFuZSIsImRpdiIsImNsYXNzTmFtZSIsImJveFNpemluZyIsImRpc3BsYXkiLCJwYWRkaW5nSW5saW5lIiwic3BhY2UiLCJtYXhXaWR0aCIsIm1hcmdpbklubGluZSIsImFib3ZlIiwibW9iaWxlIiwieGxhcmdlIiwidGFibGV0IiwieHhsYXJnZSIsImRhdGEtbGF5b3V0IiwiYmFja2Ryb3BGaWx0ZXIiLCJiYWNrZ3JvdW5kQ2xpcCIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiYmFja2dyb3VuZCIsImNhbnZhcyIsImJvcmRlckJvdHRvbSIsImJvcmRlciIsInJlZ3VsYXIiLCJmb3JlZ3JvdW5kIiwibmV1dHJhbCIsImJvcmRlclN0YXJ0RW5kUmFkaXVzIiwicmFkaXVzIiwiYm9yZGVyU3RhcnRTdGFydFJhZGl1cyIsInBvc2l0aW9uIiwidG9wIiwiekluZGV4IiwiYm9yZGVyUmFkaXVzIiwicHJvcHMiLCJwYWRkaW5nWSIsInBhZGRpbmdYIiwiZ2FwIiwiZmxleCIsIm1zT3ZlcmZsb3dTdHlsZSIsInNjcm9sbGJhcldpZHRoIiwib3ZlcmZsb3dYIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/Toolbar.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/alignment.tsx":
/*!*****************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/alignment.tsx ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TextAlignMenu: () => (/* binding */ TextAlignMenu)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_alignLeftIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/icon/icons/alignLeftIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-alignLeftIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_alignRightIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/icon/icons/alignRightIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-alignRightIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_alignCenterIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/icon/icons/alignCenterIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-alignCenterIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_chevronDownIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/icon/icons/chevronDownIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-chevronDownIcon.js\");\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _toolbar_state__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./toolbar-state */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state.tsx\");\n/* harmony import */ var _keystar_ui_menu__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/menu */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-menu.js\");\n/* harmony import */ var _keystar_ui_tag__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystar/ui/tag */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tag.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _keystar_ui_editor__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @keystar/ui/editor */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-editor.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst values = {\n    start: {\n        key: 'start',\n        label: 'Align Start',\n        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n            src: _keystar_ui_icon_icons_alignLeftIcon__WEBPACK_IMPORTED_MODULE_3__.alignLeftIcon\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/alignment.tsx\",\n            lineNumber: 22,\n            columnNumber: 11\n        }, undefined)\n    },\n    center: {\n        key: 'center',\n        label: 'Align Center',\n        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n            src: _keystar_ui_icon_icons_alignCenterIcon__WEBPACK_IMPORTED_MODULE_5__.alignCenterIcon\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/alignment.tsx\",\n            lineNumber: 27,\n            columnNumber: 11\n        }, undefined)\n    },\n    end: {\n        key: 'end',\n        label: 'Align End',\n        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n            src: _keystar_ui_icon_icons_alignRightIcon__WEBPACK_IMPORTED_MODULE_4__.alignRightIcon\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/alignment.tsx\",\n            lineNumber: 32,\n            columnNumber: 11\n        }, undefined)\n    }\n};\nconst TextAlignMenu = ({ alignment })=>{\n    const toolbarState = (0,_toolbar_state__WEBPACK_IMPORTED_MODULE_7__.useToolbarState)();\n    const items = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"TextAlignMenu.useMemo[items]\": ()=>[\n                values.start,\n                ...Object.keys(alignment).map({\n                    \"TextAlignMenu.useMemo[items]\": (x)=>values[x]\n                }[\"TextAlignMenu.useMemo[items]\"])\n            ]\n    }[\"TextAlignMenu.useMemo[items]\"], [\n        alignment\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"TextAlignMenu.useMemo\": ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_menu__WEBPACK_IMPORTED_MODULE_8__.MenuTrigger, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_10__.TooltipTrigger, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_editor__WEBPACK_IMPORTED_MODULE_12__.EditorToolbarButton, {\n                                children: [\n                                    values[toolbarState.alignment.selected].icon,\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n                                        src: _keystar_ui_icon_icons_chevronDownIcon__WEBPACK_IMPORTED_MODULE_6__.chevronDownIcon\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/alignment.tsx\",\n                                        lineNumber: 55,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/alignment.tsx\",\n                                lineNumber: 53,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_10__.Tooltip, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_11__.Text, {\n                                    children: \"Text Alignment\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/alignment.tsx\",\n                                    lineNumber: 58,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/alignment.tsx\",\n                                lineNumber: 57,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/alignment.tsx\",\n                        lineNumber: 52,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_menu__WEBPACK_IMPORTED_MODULE_8__.Menu, {\n                        selectionMode: \"single\",\n                        selectedKeys: [\n                            toolbarState.alignment.selected\n                        ],\n                        items: items,\n                        onAction: {\n                            \"TextAlignMenu.useMemo\": (key)=>{\n                                if (key === 'start') {\n                                    slate__WEBPACK_IMPORTED_MODULE_13__.Transforms.unsetNodes(toolbarState.editor, 'textAlign', {\n                                        match: {\n                                            \"TextAlignMenu.useMemo\": (node)=>node.type === 'paragraph' || node.type === 'heading'\n                                        }[\"TextAlignMenu.useMemo\"]\n                                    });\n                                } else {\n                                    slate__WEBPACK_IMPORTED_MODULE_13__.Transforms.setNodes(toolbarState.editor, {\n                                        textAlign: key\n                                    }, {\n                                        match: {\n                                            \"TextAlignMenu.useMemo\": (node)=>node.type === 'paragraph' || node.type === 'heading'\n                                        }[\"TextAlignMenu.useMemo\"]\n                                    });\n                                }\n                                slate_react__WEBPACK_IMPORTED_MODULE_14__.ReactEditor.focus(toolbarState.editor);\n                            }\n                        }[\"TextAlignMenu.useMemo\"],\n                        children: {\n                            \"TextAlignMenu.useMemo\": (item)=>{\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tag__WEBPACK_IMPORTED_MODULE_9__.Item, {\n                                    textValue: item.label,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_11__.Text, {\n                                            children: item.label\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/alignment.tsx\",\n                                            lineNumber: 85,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        item.icon\n                                    ]\n                                }, item.key, true, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/alignment.tsx\",\n                                    lineNumber: 84,\n                                    columnNumber: 15\n                                }, undefined);\n                            }\n                        }[\"TextAlignMenu.useMemo\"]\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/alignment.tsx\",\n                        lineNumber: 61,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/alignment.tsx\",\n                lineNumber: 51,\n                columnNumber: 7\n            }, undefined)\n    }[\"TextAlignMenu.useMemo\"], [\n        items,\n        toolbarState.alignment.selected,\n        toolbarState.editor\n    ]);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9hbGlnbm1lbnQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFDUTtBQUM2QjtBQUNFO0FBQ0U7QUFDQTtBQUN0QztBQUdlO0FBQ0c7QUFDZDtBQUN1QjtBQUNwQjtBQUNJO0FBQ1c7QUFFeEQsTUFBTWdCLFNBQVM7SUFDYkMsT0FBTztRQUNMQyxLQUFLO1FBQ0xDLE9BQU87UUFDUEMsb0JBQU0sOERBQUNuQixrREFBSUE7WUFBQ29CLEtBQUtuQiwrRUFBYUE7Ozs7OztJQUNoQztJQUNBb0IsUUFBUTtRQUNOSixLQUFLO1FBQ0xDLE9BQU87UUFDUEMsb0JBQU0sOERBQUNuQixrREFBSUE7WUFBQ29CLEtBQUtqQixtRkFBZUE7Ozs7OztJQUNsQztJQUNBbUIsS0FBSztRQUNITCxLQUFLO1FBQ0xDLE9BQU87UUFDUEMsb0JBQU0sOERBQUNuQixrREFBSUE7WUFBQ29CLEtBQUtsQixpRkFBY0E7Ozs7OztJQUNqQztBQUNGO0FBRU8sTUFBTXFCLGdCQUFnQixDQUFDLEVBQzVCQyxTQUFTLEVBR1Y7SUFDQyxNQUFNQyxlQUFlbkIsK0RBQWVBO0lBQ3BDLE1BQU1vQixRQUFRM0IsOENBQU9BO3dDQUNuQixJQUFNO2dCQUNKZ0IsT0FBT0MsS0FBSzttQkFDVCxPQUFRWSxJQUFJLENBQUNKLFdBQTZDSyxHQUFHO29EQUFDQyxDQUFBQSxJQUFLZixNQUFNLENBQUNlLEVBQUU7O2FBQ2hGO3VDQUNEO1FBQUNOO0tBQVU7SUFFYixPQUFPekIsOENBQU9BO2lDQUNaLGtCQUNFLDhEQUFDUSx5REFBV0E7O2tDQUNWLDhEQUFDRyxnRUFBY0E7OzBDQUNiLDhEQUFDSSxvRUFBbUJBOztvQ0FDakJDLE1BQU0sQ0FBQ1UsYUFBYUQsU0FBUyxDQUFDTyxRQUFRLENBQUMsQ0FBQ1osSUFBSTtrREFDN0MsOERBQUNuQixrREFBSUE7d0NBQUNvQixLQUFLaEIsbUZBQWVBOzs7Ozs7Ozs7Ozs7MENBRTVCLDhEQUFDTyx5REFBT0E7MENBQ04sNEVBQUNFLHlEQUFJQTs4Q0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBR1YsOERBQUNMLGtEQUFJQTt3QkFDSHdCLGVBQWM7d0JBQ2RDLGNBQWM7NEJBQUNSLGFBQWFELFNBQVMsQ0FBQ08sUUFBUTt5QkFBQzt3QkFDL0NMLE9BQU9BO3dCQUNQUSxRQUFRO3FEQUFFakIsQ0FBQUE7Z0NBQ1IsSUFBSUEsUUFBUSxTQUFTO29DQUNuQlosOENBQVVBLENBQUM4QixVQUFVLENBQUNWLGFBQWFXLE1BQU0sRUFBRSxhQUFhO3dDQUN0REMsS0FBSztxRUFBRUMsQ0FBQUEsT0FBUUEsS0FBS0MsSUFBSSxLQUFLLGVBQWVELEtBQUtDLElBQUksS0FBSzs7b0NBQzVEO2dDQUNGLE9BQU87b0NBQ0xsQyw4Q0FBVUEsQ0FBQ21DLFFBQVEsQ0FDakJmLGFBQWFXLE1BQU0sRUFDbkI7d0NBQUVLLFdBQVd4QjtvQ0FBd0IsR0FDckM7d0NBQ0VvQixLQUFLO3FFQUFFQyxDQUFBQSxPQUFRQSxLQUFLQyxJQUFJLEtBQUssZUFBZUQsS0FBS0MsSUFBSSxLQUFLOztvQ0FDNUQ7Z0NBRUo7Z0NBQ0EzQixxREFBV0EsQ0FBQzhCLEtBQUssQ0FBQ2pCLGFBQWFXLE1BQU07NEJBQ3ZDOzs7cURBRUNPLENBQUFBO2dDQUNDLHFCQUNFLDhEQUFDbEMsaURBQUlBO29DQUFnQm1DLFdBQVdELEtBQUt6QixLQUFLOztzREFDeEMsOERBQUNMLHlEQUFJQTtzREFBRThCLEtBQUt6QixLQUFLOzs7Ozs7d0NBQ2hCeUIsS0FBS3hCLElBQUk7O21DQUZEd0IsS0FBSzFCLEdBQUc7Ozs7OzRCQUt2Qjs7Ozs7Ozs7Ozs7OztnQ0FJTjtRQUFDUztRQUFPRCxhQUFhRCxTQUFTLENBQUNPLFFBQVE7UUFBRU4sYUFBYVcsTUFBTTtLQUFDO0FBRWpFLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9hbGlnbm1lbnQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uJ1xuaW1wb3J0IHsgYWxpZ25MZWZ0SWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvYWxpZ25MZWZ0SWNvbidcbmltcG9ydCB7IGFsaWduUmlnaHRJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbi9pY29ucy9hbGlnblJpZ2h0SWNvbidcbmltcG9ydCB7IGFsaWduQ2VudGVySWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvYWxpZ25DZW50ZXJJY29uJ1xuaW1wb3J0IHsgY2hldnJvbkRvd25JY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbi9pY29ucy9jaGV2cm9uRG93bkljb24nXG5pbXBvcnQgeyBUcmFuc2Zvcm1zIH0gZnJvbSAnc2xhdGUnXG5cbmltcG9ydCB0eXBlIHsgRG9jdW1lbnRGZWF0dXJlcyB9IGZyb20gJy4uL3ZpZXdzLXNoYXJlZCdcbmltcG9ydCB7IHVzZVRvb2xiYXJTdGF0ZSB9IGZyb20gJy4vdG9vbGJhci1zdGF0ZSdcbmltcG9ydCB7IE1lbnVUcmlnZ2VyLCBNZW51IH0gZnJvbSAnQGtleXN0YXIvdWkvbWVudSdcbmltcG9ydCB7IEl0ZW0gfSBmcm9tICdAa2V5c3Rhci91aS90YWcnXG5pbXBvcnQgeyBUb29sdGlwVHJpZ2dlciwgVG9vbHRpcCB9IGZyb20gJ0BrZXlzdGFyL3VpL3Rvb2x0aXAnXG5pbXBvcnQgeyBSZWFjdEVkaXRvciB9IGZyb20gJ3NsYXRlLXJlYWN0J1xuaW1wb3J0IHsgVGV4dCB9IGZyb20gJ0BrZXlzdGFyL3VpL3R5cG9ncmFwaHknXG5pbXBvcnQgeyBFZGl0b3JUb29sYmFyQnV0dG9uIH0gZnJvbSAnQGtleXN0YXIvdWkvZWRpdG9yJ1xuXG5jb25zdCB2YWx1ZXMgPSB7XG4gIHN0YXJ0OiB7XG4gICAga2V5OiAnc3RhcnQnLFxuICAgIGxhYmVsOiAnQWxpZ24gU3RhcnQnLFxuICAgIGljb246IDxJY29uIHNyYz17YWxpZ25MZWZ0SWNvbn0gLz4sXG4gIH0sXG4gIGNlbnRlcjoge1xuICAgIGtleTogJ2NlbnRlcicsXG4gICAgbGFiZWw6ICdBbGlnbiBDZW50ZXInLFxuICAgIGljb246IDxJY29uIHNyYz17YWxpZ25DZW50ZXJJY29ufSAvPixcbiAgfSxcbiAgZW5kOiB7XG4gICAga2V5OiAnZW5kJyxcbiAgICBsYWJlbDogJ0FsaWduIEVuZCcsXG4gICAgaWNvbjogPEljb24gc3JjPXthbGlnblJpZ2h0SWNvbn0gLz4sXG4gIH0sXG59XG5cbmV4cG9ydCBjb25zdCBUZXh0QWxpZ25NZW51ID0gKHtcbiAgYWxpZ25tZW50LFxufToge1xuICBhbGlnbm1lbnQ6IERvY3VtZW50RmVhdHVyZXNbJ2Zvcm1hdHRpbmcnXVsnYWxpZ25tZW50J11cbn0pID0+IHtcbiAgY29uc3QgdG9vbGJhclN0YXRlID0gdXNlVG9vbGJhclN0YXRlKClcbiAgY29uc3QgaXRlbXMgPSB1c2VNZW1vKFxuICAgICgpID0+IFtcbiAgICAgIHZhbHVlcy5zdGFydCxcbiAgICAgIC4uLihPYmplY3Qua2V5cyhhbGlnbm1lbnQpIGFzIEFycmF5PGtleW9mIHR5cGVvZiBhbGlnbm1lbnQ+KS5tYXAoeCA9PiB2YWx1ZXNbeF0pLFxuICAgIF0sXG4gICAgW2FsaWdubWVudF1cbiAgKVxuICByZXR1cm4gdXNlTWVtbyhcbiAgICAoKSA9PiAoXG4gICAgICA8TWVudVRyaWdnZXI+XG4gICAgICAgIDxUb29sdGlwVHJpZ2dlcj5cbiAgICAgICAgICA8RWRpdG9yVG9vbGJhckJ1dHRvbj5cbiAgICAgICAgICAgIHt2YWx1ZXNbdG9vbGJhclN0YXRlLmFsaWdubWVudC5zZWxlY3RlZF0uaWNvbn1cbiAgICAgICAgICAgIDxJY29uIHNyYz17Y2hldnJvbkRvd25JY29ufSAvPlxuICAgICAgICAgIDwvRWRpdG9yVG9vbGJhckJ1dHRvbj5cbiAgICAgICAgICA8VG9vbHRpcD5cbiAgICAgICAgICAgIDxUZXh0PlRleHQgQWxpZ25tZW50PC9UZXh0PlxuICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgPC9Ub29sdGlwVHJpZ2dlcj5cbiAgICAgICAgPE1lbnVcbiAgICAgICAgICBzZWxlY3Rpb25Nb2RlPVwic2luZ2xlXCJcbiAgICAgICAgICBzZWxlY3RlZEtleXM9e1t0b29sYmFyU3RhdGUuYWxpZ25tZW50LnNlbGVjdGVkXX1cbiAgICAgICAgICBpdGVtcz17aXRlbXN9XG4gICAgICAgICAgb25BY3Rpb249e2tleSA9PiB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnc3RhcnQnKSB7XG4gICAgICAgICAgICAgIFRyYW5zZm9ybXMudW5zZXROb2Rlcyh0b29sYmFyU3RhdGUuZWRpdG9yLCAndGV4dEFsaWduJywge1xuICAgICAgICAgICAgICAgIG1hdGNoOiBub2RlID0+IG5vZGUudHlwZSA9PT0gJ3BhcmFncmFwaCcgfHwgbm9kZS50eXBlID09PSAnaGVhZGluZycsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBUcmFuc2Zvcm1zLnNldE5vZGVzKFxuICAgICAgICAgICAgICAgIHRvb2xiYXJTdGF0ZS5lZGl0b3IsXG4gICAgICAgICAgICAgICAgeyB0ZXh0QWxpZ246IGtleSBhcyAnY2VudGVyJyB8ICdlbmQnIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbWF0Y2g6IG5vZGUgPT4gbm9kZS50eXBlID09PSAncGFyYWdyYXBoJyB8fCBub2RlLnR5cGUgPT09ICdoZWFkaW5nJyxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFJlYWN0RWRpdG9yLmZvY3VzKHRvb2xiYXJTdGF0ZS5lZGl0b3IpXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHtpdGVtID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxJdGVtIGtleT17aXRlbS5rZXl9IHRleHRWYWx1ZT17aXRlbS5sYWJlbH0+XG4gICAgICAgICAgICAgICAgPFRleHQ+e2l0ZW0ubGFiZWx9PC9UZXh0PlxuICAgICAgICAgICAgICAgIHtpdGVtLmljb259XG4gICAgICAgICAgICAgIDwvSXRlbT5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9fVxuICAgICAgICA8L01lbnU+XG4gICAgICA8L01lbnVUcmlnZ2VyPlxuICAgICksXG4gICAgW2l0ZW1zLCB0b29sYmFyU3RhdGUuYWxpZ25tZW50LnNlbGVjdGVkLCB0b29sYmFyU3RhdGUuZWRpdG9yXVxuICApXG59XG4iXSwibmFtZXMiOlsidXNlTWVtbyIsIkljb24iLCJhbGlnbkxlZnRJY29uIiwiYWxpZ25SaWdodEljb24iLCJhbGlnbkNlbnRlckljb24iLCJjaGV2cm9uRG93bkljb24iLCJUcmFuc2Zvcm1zIiwidXNlVG9vbGJhclN0YXRlIiwiTWVudVRyaWdnZXIiLCJNZW51IiwiSXRlbSIsIlRvb2x0aXBUcmlnZ2VyIiwiVG9vbHRpcCIsIlJlYWN0RWRpdG9yIiwiVGV4dCIsIkVkaXRvclRvb2xiYXJCdXR0b24iLCJ2YWx1ZXMiLCJzdGFydCIsImtleSIsImxhYmVsIiwiaWNvbiIsInNyYyIsImNlbnRlciIsImVuZCIsIlRleHRBbGlnbk1lbnUiLCJhbGlnbm1lbnQiLCJ0b29sYmFyU3RhdGUiLCJpdGVtcyIsIk9iamVjdCIsImtleXMiLCJtYXAiLCJ4Iiwic2VsZWN0ZWQiLCJzZWxlY3Rpb25Nb2RlIiwic2VsZWN0ZWRLZXlzIiwib25BY3Rpb24iLCJ1bnNldE5vZGVzIiwiZWRpdG9yIiwibWF0Y2giLCJub2RlIiwidHlwZSIsInNldE5vZGVzIiwidGV4dEFsaWduIiwiZm9jdXMiLCJpdGVtIiwidGV4dFZhbHVlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/alignment.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/block-markdown-shortcuts.ts":
/*!*******************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/block-markdown-shortcuts.ts ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withBlockMarkdownShortcuts: () => (/* binding */ withBlockMarkdownShortcuts)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _divider_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./divider-shared */ \"../../../../packages/fields-document/src/DocumentEditor/divider-shared.ts\");\n/* harmony import */ var _toolbar_state_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./toolbar-state-shared */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state-shared.ts\");\n\n\n\nfunction withBlockMarkdownShortcuts(documentFeatures, componentBlocks, editor) {\n    const { insertText } = editor;\n    const shortcuts = Object.create(null);\n    const editorDocumentFeaturesForNormalizationToCheck = {\n        ...documentFeatures,\n        relationships: true\n    };\n    const addShortcut = (text, insert, shouldBeEnabledInComponentBlock, type = 'paragraph')=>{\n        if (!shouldBeEnabledInComponentBlock(editorDocumentFeaturesForNormalizationToCheck)) return;\n        const trigger = text[text.length - 1];\n        if (!shortcuts[trigger]) {\n            shortcuts[trigger] = Object.create(null);\n        }\n        shortcuts[trigger][text] = {\n            insert,\n            type,\n            shouldBeEnabledInComponentBlock\n        };\n    };\n    addShortcut('1. ', ()=>{\n        slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.wrapNodes(editor, {\n            type: 'ordered-list',\n            children: []\n        }, {\n            match: (n)=>slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(n) && slate__WEBPACK_IMPORTED_MODULE_2__.Editor.isBlock(editor, n)\n        });\n    }, (features)=>features.formatting.listTypes.ordered);\n    addShortcut('- ', ()=>{\n        slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.wrapNodes(editor, {\n            type: 'unordered-list',\n            children: []\n        }, {\n            match: (n)=>slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(n) && slate__WEBPACK_IMPORTED_MODULE_2__.Editor.isBlock(editor, n)\n        });\n    }, (features)=>features.formatting.listTypes.unordered);\n    addShortcut('* ', ()=>{\n        slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.wrapNodes(editor, {\n            type: 'unordered-list',\n            children: []\n        }, {\n            match: (n)=>slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(n) && slate__WEBPACK_IMPORTED_MODULE_2__.Editor.isBlock(editor, n)\n        });\n    }, (features)=>features.formatting.listTypes.unordered);\n    documentFeatures.formatting.headingLevels.forEach((level)=>{\n        addShortcut('#'.repeat(level) + ' ', ()=>{\n            slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.setNodes(editor, {\n                type: 'heading',\n                level\n            }, {\n                match: (node)=>node.type === 'paragraph' || node.type === 'heading'\n            });\n        }, (features)=>features.formatting.headingLevels.includes(level), 'heading-or-paragraph');\n    });\n    addShortcut('> ', ()=>{\n        slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.wrapNodes(editor, {\n            type: 'blockquote',\n            children: []\n        }, {\n            match: (node)=>node.type === 'paragraph'\n        });\n    }, (features)=>features.formatting.blockTypes.blockquote);\n    addShortcut('```', ()=>{\n        slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.wrapNodes(editor, {\n            type: 'code',\n            children: []\n        }, {\n            match: (node)=>node.type === 'paragraph'\n        });\n    }, (features)=>features.formatting.blockTypes.code);\n    addShortcut('---', ()=>{\n        (0,_divider_shared__WEBPACK_IMPORTED_MODULE_0__.insertDivider)(editor);\n    }, (features)=>features.dividers);\n    editor.insertText = (text)=>{\n        insertText(text);\n        const shortcutsForTrigger = shortcuts[text];\n        if (shortcutsForTrigger && editor.selection && slate__WEBPACK_IMPORTED_MODULE_2__.Range.isCollapsed(editor.selection)) {\n            const { anchor } = editor.selection;\n            const block = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.above(editor, {\n                match: (node)=>slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_2__.Editor.isBlock(editor, node)\n            });\n            if (!block || block[0].type !== 'paragraph' && block[0].type !== 'heading') return;\n            const start = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.start(editor, block[1]);\n            const range = {\n                anchor,\n                focus: start\n            };\n            const shortcutText = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.string(editor, range);\n            const shortcut = shortcutsForTrigger[shortcutText];\n            if (!shortcut || shortcut.type === 'paragraph' && block[0].type !== 'paragraph') {\n                return;\n            }\n            const locationDocumentFeatures = (0,_toolbar_state_shared__WEBPACK_IMPORTED_MODULE_1__.getAncestorComponentChildFieldDocumentFeatures)(editor, documentFeatures, componentBlocks);\n            if (locationDocumentFeatures && (locationDocumentFeatures.kind === 'inline' || !shortcut.shouldBeEnabledInComponentBlock(locationDocumentFeatures.documentFeatures))) {\n                return;\n            }\n            // so that this starts a new undo group\n            editor.writeHistory('undos', {\n                operations: [],\n                selectionBefore: null\n            });\n            slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.select(editor, range);\n            slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.delete(editor);\n            shortcut.insert();\n        }\n    };\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9ibG9jay1tYXJrZG93bi1zaG9ydGN1dHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwRDtBQUdWO0FBRXVDO0FBRWhGLFNBQVNNLDJCQUNkQyxnQkFBa0MsRUFDbENDLGVBQStDLEVBQy9DQyxNQUFjO0lBRWQsTUFBTSxFQUFFQyxVQUFVLEVBQUUsR0FBR0Q7SUFDdkIsTUFBTUUsWUFZRkMsT0FBT0MsTUFBTSxDQUFDO0lBQ2xCLE1BQU1DLGdEQUFrRjtRQUN0RixHQUFHUCxnQkFBZ0I7UUFDbkJRLGVBQWU7SUFDakI7SUFDQSxNQUFNQyxjQUFjLENBQ2xCQyxNQUNBQyxRQUNBQyxpQ0FHQUMsT0FBNkMsV0FBVztRQUV4RCxJQUFJLENBQUNELGdDQUFnQ0wsZ0RBQWdEO1FBQ3JGLE1BQU1PLFVBQVVKLElBQUksQ0FBQ0EsS0FBS0ssTUFBTSxHQUFHLEVBQUU7UUFDckMsSUFBSSxDQUFDWCxTQUFTLENBQUNVLFFBQVEsRUFBRTtZQUN2QlYsU0FBUyxDQUFDVSxRQUFRLEdBQUdULE9BQU9DLE1BQU0sQ0FBQztRQUNyQztRQUNBRixTQUFTLENBQUNVLFFBQVEsQ0FBQ0osS0FBSyxHQUFHO1lBQ3pCQztZQUNBRTtZQUNBRDtRQUNGO0lBQ0Y7SUFDQUgsWUFDRSxPQUNBO1FBQ0VkLDZDQUFVQSxDQUFDcUIsU0FBUyxDQUNsQmQsUUFDQTtZQUFFVyxNQUFNO1lBQWdCSSxVQUFVLEVBQUU7UUFBQyxHQUNyQztZQUFFQyxPQUFPQyxDQUFBQSxJQUFLMUIsMENBQU9BLENBQUMyQixTQUFTLENBQUNELE1BQU16Qix5Q0FBTUEsQ0FBQzJCLE9BQU8sQ0FBQ25CLFFBQVFpQjtRQUFHO0lBRXBFLEdBQ0FHLENBQUFBLFdBQVlBLFNBQVNDLFVBQVUsQ0FBQ0MsU0FBUyxDQUFDQyxPQUFPO0lBR25EaEIsWUFDRSxNQUNBO1FBQ0VkLDZDQUFVQSxDQUFDcUIsU0FBUyxDQUNsQmQs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QUFlckQseUNBQU1BLENBQUNzRCxNQUFNLENBQUM5QyxRQUFRMkM7WUFDM0MsTUFBTUksV0FBV1gsbUJBQW1CLENBQUNTLGFBQWE7WUFFbEQsSUFBSSxDQUFDRSxZQUFhQSxTQUFTcEMsSUFBSSxLQUFLLGVBQWU2QixLQUFLLENBQUMsRUFBRSxDQUFDN0IsSUFBSSxLQUFLLGFBQWM7Z0JBQ2pGO1lBQ0Y7WUFDQSxNQUFNcUMsMkJBQTJCcEQscUdBQThDQSxDQUM3RUksUUFDQUYsa0JBQ0FDO1lBRUYsSUFDRWlELDRCQUNDQSxDQUFBQSx5QkFBeUJDLElBQUksS0FBSyxZQUNqQyxDQUFDRixTQUFTckMsK0JBQStCLENBQUNzQyx5QkFBeUJsRCxnQkFBZ0IsSUFDckY7Z0JBQ0E7WUFDRjtZQUNBLHVDQUF1QztZQUN2Q0UsT0FBT2tELFlBQVksQ0FBQyxTQUFTO2dCQUFFQyxZQUFZLEVBQUU7Z0JBQUVDLGlCQUFpQjtZQUFLO1lBQ3JFM0QsNkNBQVVBLENBQUM0RCxNQUFNLENBQUNyRCxRQUFRMkM7WUFDMUJsRCw2Q0FBVUEsQ0FBQzZELE1BQU0sQ0FBQ3REO1lBQ2xCK0MsU0FBU3RDLE1BQU07UUFDakI7SUFDRjtJQUNBLE9BQU9UO0FBQ1QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9ibG9jay1tYXJrZG93bi1zaG9ydGN1dHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWxlbWVudCwgRWRpdG9yLCBUcmFuc2Zvcm1zLCBSYW5nZSB9IGZyb20gJ3NsYXRlJ1xuaW1wb3J0IHsgdHlwZSBEb2N1bWVudEZlYXR1cmVzIH0gZnJvbSAnLi4vdmlld3Mtc2hhcmVkJ1xuaW1wb3J0IHsgdHlwZSBDb21wb25lbnRCbG9jayB9IGZyb20gJy4vY29tcG9uZW50LWJsb2Nrcy9hcGktc2hhcmVkJ1xuaW1wb3J0IHsgaW5zZXJ0RGl2aWRlciB9IGZyb20gJy4vZGl2aWRlci1zaGFyZWQnXG5pbXBvcnQgeyB0eXBlIERvY3VtZW50RmVhdHVyZXNGb3JOb3JtYWxpemF0aW9uIH0gZnJvbSAnLi9kb2N1bWVudC1mZWF0dXJlcy1ub3JtYWxpemF0aW9uJ1xuaW1wb3J0IHsgZ2V0QW5jZXN0b3JDb21wb25lbnRDaGlsZEZpZWxkRG9jdW1lbnRGZWF0dXJlcyB9IGZyb20gJy4vdG9vbGJhci1zdGF0ZS1zaGFyZWQnXG5cbmV4cG9ydCBmdW5jdGlvbiB3aXRoQmxvY2tNYXJrZG93blNob3J0Y3V0cyhcbiAgZG9jdW1lbnRGZWF0dXJlczogRG9jdW1lbnRGZWF0dXJlcyxcbiAgY29tcG9uZW50QmxvY2tzOiBSZWNvcmQ8c3RyaW5nLCBDb21wb25lbnRCbG9jaz4sXG4gIGVkaXRvcjogRWRpdG9yXG4pOiBFZGl0b3Ige1xuICBjb25zdCB7IGluc2VydFRleHQgfSA9IGVkaXRvclxuICBjb25zdCBzaG9ydGN1dHM6IFJlY29yZDxcbiAgICBzdHJpbmcsXG4gICAgUmVjb3JkPFxuICAgICAgc3RyaW5nLFxuICAgICAge1xuICAgICAgICBpbnNlcnQ6ICgpID0+IHZvaWRcbiAgICAgICAgdHlwZTogJ3BhcmFncmFwaCcgfCAnaGVhZGluZy1vci1wYXJhZ3JhcGgnXG4gICAgICAgIHNob3VsZEJlRW5hYmxlZEluQ29tcG9uZW50QmxvY2s6IChcbiAgICAgICAgICBsb2NhdGlvbkRvY3VtZW50RmVhdHVyZXM6IERvY3VtZW50RmVhdHVyZXNGb3JOb3JtYWxpemF0aW9uXG4gICAgICAgICkgPT4gYm9vbGVhblxuICAgICAgfVxuICAgID5cbiAgPiA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgY29uc3QgZWRpdG9yRG9jdW1lbnRGZWF0dXJlc0Zvck5vcm1hbGl6YXRpb25Ub0NoZWNrOiBEb2N1bWVudEZlYXR1cmVzRm9yTm9ybWFsaXphdGlvbiA9IHtcbiAgICAuLi5kb2N1bWVudEZlYXR1cmVzLFxuICAgIHJlbGF0aW9uc2hpcHM6IHRydWUsXG4gIH1cbiAgY29uc3QgYWRkU2hvcnRjdXQgPSAoXG4gICAgdGV4dDogc3RyaW5nLFxuICAgIGluc2VydDogKCkgPT4gdm9pZCxcbiAgICBzaG91bGRCZUVuYWJsZWRJbkNvbXBvbmVudEJsb2NrOiAoXG4gICAgICBsb2NhdGlvbkRvY3VtZW50RmVhdHVyZXM6IERvY3VtZW50RmVhdHVyZXNGb3JOb3JtYWxpemF0aW9uXG4gICAgKSA9PiBib29sZWFuLFxuICAgIHR5cGU6ICdwYXJhZ3JhcGgnIHwgJ2hlYWRpbmctb3ItcGFyYWdyYXBoJyA9ICdwYXJhZ3JhcGgnXG4gICkgPT4ge1xuICAgIGlmICghc2hvdWxkQmVFbmFibGVkSW5Db21wb25lbnRCbG9jayhlZGl0b3JEb2N1bWVudEZlYXR1cmVzRm9yTm9ybWFsaXphdGlvblRvQ2hlY2spKSByZXR1cm5cbiAgICBjb25zdCB0cmlnZ2VyID0gdGV4dFt0ZXh0Lmxlbmd0aCAtIDFdXG4gICAgaWYgKCFzaG9ydGN1dHNbdHJpZ2dlcl0pIHtcbiAgICAgIHNob3J0Y3V0c1t0cmlnZ2VyXSA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgICB9XG4gICAgc2hvcnRjdXRzW3RyaWdnZXJdW3RleHRdID0ge1xuICAgICAgaW5zZXJ0LFxuICAgICAgdHlwZSxcbiAgICAgIHNob3VsZEJlRW5hYmxlZEluQ29tcG9uZW50QmxvY2ssXG4gICAgfVxuICB9XG4gIGFkZFNob3J0Y3V0KFxuICAgICcxLiAnLFxuICAgICgpID0+IHtcbiAgICAgIFRyYW5zZm9ybXMud3JhcE5vZGVzKFxuICAgICAgICBlZGl0b3IsXG4gICAgICAgIHsgdHlwZTogJ29yZGVyZWQtbGlzdCcsIGNoaWxkcmVuOiBbXSB9LFxuICAgICAgICB7IG1hdGNoOiBuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbikgfVxuICAgICAgKVxuICAgIH0sXG4gICAgZmVhdHVyZXMgPT4gZmVhdHVyZXMuZm9ybWF0dGluZy5saXN0VHlwZXMub3JkZXJlZFxuICApXG5cbiAgYWRkU2hvcnRjdXQoXG4gICAgJy0gJyxcbiAgICAoKSA9PiB7XG4gICAgICBUcmFuc2Zvcm1zLndyYXBOb2RlcyhcbiAgICAgICAgZWRpdG9yLFxuICAgICAgICB7IHR5cGU6ICd1bm9yZGVyZWQtbGlzdCcsIGNoaWxkcmVuOiBbXSB9LFxuICAgICAgICB7IG1hdGNoOiBuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbikgfVxuICAgICAgKVxuICAgIH0sXG4gICAgZmVhdHVyZXMgPT4gZmVhdHVyZXMuZm9ybWF0dGluZy5saXN0VHlwZXMudW5vcmRlcmVkXG4gIClcbiAgYWRkU2hvcnRjdXQoXG4gICAgJyogJyxcbiAgICAoKSA9PiB7XG4gICAgICBUcmFuc2Zvcm1zLndyYXBOb2RlcyhcbiAgICAgICAgZWRpdG9yLFxuICAgICAgICB7IHR5cGU6ICd1bm9yZGVyZWQtbGlzdCcsIGNoaWxkcmVuOiBbXSB9LFxuICAgICAgICB7IG1hdGNoOiBuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbikgfVxuICAgICAgKVxuICAgIH0sXG4gICAgZmVhdHVyZXMgPT4gZmVhdHVyZXMuZm9ybWF0dGluZy5saXN0VHlwZXMudW5vcmRlcmVkXG4gIClcblxuICBkb2N1bWVudEZlYXR1cmVzLmZvcm1hdHRpbmcuaGVhZGluZ0xldmVscy5mb3JFYWNoKGxldmVsID0+IHtcbiAgICBhZGRTaG9ydGN1dChcbiAgICAgICcjJy5yZXBlYXQobGV2ZWwpICsgJyAnLFxuICAgICAgKCkgPT4ge1xuICAgICAgICBUcmFuc2Zvcm1zLnNldE5vZGVzKFxuICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICB7IHR5cGU6ICdoZWFkaW5nJywgbGV2ZWwgfSxcbiAgICAgICAgICB7IG1hdGNoOiBub2RlID0+IG5vZGUudHlwZSA9PT0gJ3BhcmFncmFwaCcgfHwgbm9kZS50eXBlID09PSAnaGVhZGluZycgfVxuICAgICAgICApXG4gICAgICB9LFxuICAgICAgZmVhdHVyZXMgPT4gZmVhdHVyZXMuZm9ybWF0dGluZy5oZWFkaW5nTGV2ZWxzLmluY2x1ZGVzKGxldmVsKSxcbiAgICAgICdoZWFkaW5nLW9yLXBhcmFncmFwaCdcbiAgICApXG4gIH0pXG5cbiAgYWRkU2hvcnRjdXQoXG4gICAgJz4gJyxcbiAgICAoKSA9PiB7XG4gICAgICBUcmFuc2Zvcm1zLndyYXBOb2RlcyhcbiAgICAgICAgZWRpdG9yLFxuICAgICAgICB7IHR5cGU6ICdibG9ja3F1b3RlJywgY2hpbGRyZW46IFtdIH0sXG4gICAgICAgIHsgbWF0Y2g6IG5vZGUgPT4gbm9kZS50eXBlID09PSAncGFyYWdyYXBoJyB9XG4gICAgICApXG4gICAgfSxcbiAgICBmZWF0dXJlcyA9PiBmZWF0dXJlcy5mb3JtYXR0aW5nLmJsb2NrVHlwZXMuYmxvY2txdW90ZVxuICApXG5cbiAgYWRkU2hvcnRjdXQoXG4gICAgJ2BgYCcsXG4gICAgKCkgPT4ge1xuICAgICAgVHJhbnNmb3Jtcy53cmFwTm9kZXMoXG4gICAgICAgIGVkaXRvcixcbiAgICAgICAgeyB0eXBlOiAnY29kZScsIGNoaWxkcmVuOiBbXSB9LFxuICAgICAgICB7IG1hdGNoOiBub2RlID0+IG5vZGUudHlwZSA9PT0gJ3BhcmFncmFwaCcgfVxuICAgICAgKVxuICAgIH0sXG4gICAgZmVhdHVyZXMgPT4gZmVhdHVyZXMuZm9ybWF0dGluZy5ibG9ja1R5cGVzLmNvZGVcbiAgKVxuXG4gIGFkZFNob3J0Y3V0KFxuICAgICctLS0nLFxuICAgICgpID0+IHtcbiAgICAgIGluc2VydERpdmlkZXIoZWRpdG9yKVxuICAgIH0sXG4gICAgZmVhdHVyZXMgPT4gZmVhdHVyZXMuZGl2aWRlcnNcbiAgKVxuXG4gIGVkaXRvci5pbnNlcnRUZXh0ID0gdGV4dCA9PiB7XG4gICAgaW5zZXJ0VGV4dCh0ZXh0KVxuICAgIGNvbnN0IHNob3J0Y3V0c0ZvclRyaWdnZXIgPSBzaG9ydGN1dHNbdGV4dF1cbiAgICBpZiAoc2hvcnRjdXRzRm9yVHJpZ2dlciAmJiBlZGl0b3Iuc2VsZWN0aW9uICYmIFJhbmdlLmlzQ29sbGFwc2VkKGVkaXRvci5zZWxlY3Rpb24pKSB7XG4gICAgICBjb25zdCB7IGFuY2hvciB9ID0gZWRpdG9yLnNlbGVjdGlvblxuICAgICAgY29uc3QgYmxvY2sgPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgICAgIG1hdGNoOiBub2RlID0+IEVsZW1lbnQuaXNFbGVtZW50KG5vZGUpICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbm9kZSksXG4gICAgICB9KVxuICAgICAgaWYgKCFibG9jayB8fCAoYmxvY2tbMF0udHlwZSAhPT0gJ3BhcmFncmFwaCcgJiYgYmxvY2tbMF0udHlwZSAhPT0gJ2hlYWRpbmcnKSkgcmV0dXJuXG5cbiAgICAgIGNvbnN0IHN0YXJ0ID0gRWRpdG9yLnN0YXJ0KGVkaXRvciwgYmxvY2tbMV0pXG4gICAgICBjb25zdCByYW5nZSA9IHsgYW5jaG9yLCBmb2N1czogc3RhcnQgfVxuICAgICAgY29uc3Qgc2hvcnRjdXRUZXh0ID0gRWRpdG9yLnN0cmluZyhlZGl0b3IsIHJhbmdlKVxuICAgICAgY29uc3Qgc2hvcnRjdXQgPSBzaG9ydGN1dHNGb3JUcmlnZ2VyW3Nob3J0Y3V0VGV4dF1cblxuICAgICAgaWYgKCFzaG9ydGN1dCB8fCAoc2hvcnRjdXQudHlwZSA9PT0gJ3BhcmFncmFwaCcgJiYgYmxvY2tbMF0udHlwZSAhPT0gJ3BhcmFncmFwaCcpKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgbG9jYXRpb25Eb2N1bWVudEZlYXR1cmVzID0gZ2V0QW5jZXN0b3JDb21wb25lbnRDaGlsZEZpZWxkRG9jdW1lbnRGZWF0dXJlcyhcbiAgICAgICAgZWRpdG9yLFxuICAgICAgICBkb2N1bWVudEZlYXR1cmVzLFxuICAgICAgICBjb21wb25lbnRCbG9ja3NcbiAgICAgIClcbiAgICAgIGlmIChcbiAgICAgICAgbG9jYXRpb25Eb2N1bWVudEZlYXR1cmVzICYmXG4gICAgICAgIChsb2NhdGlvbkRvY3VtZW50RmVhdHVyZXMua2luZCA9PT0gJ2lubGluZScgfHxcbiAgICAgICAgICAhc2hvcnRjdXQuc2hvdWxkQmVFbmFibGVkSW5Db21wb25lbnRCbG9jayhsb2NhdGlvbkRvY3VtZW50RmVhdHVyZXMuZG9jdW1lbnRGZWF0dXJlcykpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICAvLyBzbyB0aGF0IHRoaXMgc3RhcnRzIGEgbmV3IHVuZG8gZ3JvdXBcbiAgICAgIGVkaXRvci53cml0ZUhpc3RvcnkoJ3VuZG9zJywgeyBvcGVyYXRpb25zOiBbXSwgc2VsZWN0aW9uQmVmb3JlOiBudWxsIH0pXG4gICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIHJhbmdlKVxuICAgICAgVHJhbnNmb3Jtcy5kZWxldGUoZWRpdG9yKVxuICAgICAgc2hvcnRjdXQuaW5zZXJ0KClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVkaXRvclxufVxuIl0sIm5hbWVzIjpbIkVsZW1lbnQiLCJFZGl0b3IiLCJUcmFuc2Zvcm1zIiwiUmFuZ2UiLCJpbnNlcnREaXZpZGVyIiwiZ2V0QW5jZXN0b3JDb21wb25lbnRDaGlsZEZpZWxkRG9jdW1lbnRGZWF0dXJlcyIsIndpdGhCbG9ja01hcmtkb3duU2hvcnRjdXRzIiwiZG9jdW1lbnRGZWF0dXJlcyIsImNvbXBvbmVudEJsb2NrcyIsImVkaXRvciIsImluc2VydFRleHQiLCJzaG9ydGN1dHMiLCJPYmplY3QiLCJjcmVhdGUiLCJlZGl0b3JEb2N1bWVudEZlYXR1cmVzRm9yTm9ybWFsaXphdGlvblRvQ2hlY2siLCJyZWxhdGlvbnNoaXBzIiwiYWRkU2hvcnRjdXQiLCJ0ZXh0IiwiaW5zZXJ0Iiwic2hvdWxkQmVFbmFibGVkSW5Db21wb25lbnRCbG9jayIsInR5cGUiLCJ0cmlnZ2VyIiwibGVuZ3RoIiwid3JhcE5vZGVzIiwiY2hpbGRyZW4iLCJtYXRjaCIsIm4iLCJpc0VsZW1lbnQiLCJpc0Jsb2NrIiwiZmVhdHVyZXMiLCJmb3JtYXR0aW5nIiwibGlzdFR5cGVzIiwib3JkZXJlZCIsInVub3JkZXJlZCIsImhlYWRpbmdMZXZlbHMiLCJmb3JFYWNoIiwibGV2ZWwiLCJyZXBlYXQiLCJzZXROb2RlcyIsIm5vZGUiLCJpbmNsdWRlcyIsImJsb2NrVHlwZXMiLCJibG9ja3F1b3RlIiwiY29kZSIsImRpdmlkZXJzIiwic2hvcnRjdXRzRm9yVHJpZ2dlciIsInNlbGVjdGlvbiIsImlzQ29sbGFwc2VkIiwiYW5jaG9yIiwiYmxvY2siLCJhYm92ZSIsInN0YXJ0IiwicmFuZ2UiLCJmb2N1cyIsInNob3J0Y3V0VGV4dCIsInN0cmluZyIsInNob3J0Y3V0IiwibG9jYXRpb25Eb2N1bWVudEZlYXR1cmVzIiwia2luZCIsIndyaXRlSGlzdG9yeSIsIm9wZXJhdGlvbnMiLCJzZWxlY3Rpb25CZWZvcmUiLCJzZWxlY3QiLCJkZWxldGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/block-markdown-shortcuts.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/blockquote-shared.ts":
/*!************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/blockquote-shared.ts ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   insertBlockquote: () => (/* binding */ insertBlockquote),\n/* harmony export */   withBlockquote: () => (/* binding */ withBlockquote)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n\n\nfunction insertBlockquote(editor) {\n    const isActive = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.isElementActive)(editor, 'blockquote');\n    if (isActive) {\n        slate__WEBPACK_IMPORTED_MODULE_1__.Transforms.unwrapNodes(editor, {\n            match: (node)=>node.type === 'blockquote'\n        });\n    } else {\n        slate__WEBPACK_IMPORTED_MODULE_1__.Transforms.wrapNodes(editor, {\n            type: 'blockquote',\n            children: []\n        });\n    }\n}\nfunction getDirectBlockquoteParentFromSelection(editor) {\n    if (!editor.selection) return {\n        isInside: false\n    };\n    const [, parentPath] = slate__WEBPACK_IMPORTED_MODULE_1__.Editor.parent(editor, editor.selection);\n    if (!parentPath.length) {\n        return {\n            isInside: false\n        };\n    }\n    const [maybeBlockquoteParent, maybeBlockquoteParentPath] = slate__WEBPACK_IMPORTED_MODULE_1__.Editor.parent(editor, parentPath);\n    const isBlockquote = maybeBlockquoteParent.type === 'blockquote';\n    return isBlockquote ? {\n        isInside: true,\n        path: maybeBlockquoteParentPath\n    } : {\n        isInside: false\n    };\n}\nfunction withBlockquote(editor) {\n    const { insertBreak, deleteBackward } = editor;\n    editor.deleteBackward = (unit)=>{\n        if (editor.selection) {\n            const parentBlockquote = getDirectBlockquoteParentFromSelection(editor);\n            if (parentBlockquote.isInside && slate__WEBPACK_IMPORTED_MODULE_1__.Range.isCollapsed(editor.selection) && // the selection is at the start of the paragraph\n            editor.selection.anchor.offset === 0 && // it's the first paragraph in the panel\n            editor.selection.anchor.path[editor.selection.anchor.path.length - 2] === 0) {\n                slate__WEBPACK_IMPORTED_MODULE_1__.Transforms.unwrapNodes(editor, {\n                    match: (node)=>node.type === 'blockquote',\n                    split: true\n                });\n                return;\n            }\n        }\n        deleteBackward(unit);\n    };\n    editor.insertBreak = ()=>{\n        const panel = getDirectBlockquoteParentFromSelection(editor);\n        if (editor.selection && panel.isInside) {\n            const [node, nodePath] = slate__WEBPACK_IMPORTED_MODULE_1__.Editor.node(editor, editor.selection);\n            if (slate__WEBPACK_IMPORTED_MODULE_1__.Path.isDescendant(nodePath, panel.path) && slate__WEBPACK_IMPORTED_MODULE_1__.Node.string(node) === '') {\n                slate__WEBPACK_IMPORTED_MODULE_1__.Transforms.unwrapNodes(editor, {\n                    match: (node)=>node.type === 'blockquote',\n                    split: true\n                });\n                return;\n            }\n        }\n        insertBreak();\n    };\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9ibG9ja3F1b3RlLXNoYXJlZC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTZEO0FBRXBCO0FBRWxDLFNBQVNNLGlCQUFpQkMsTUFBYztJQUM3QyxNQUFNQyxXQUFXSCx1REFBZUEsQ0FBQ0UsUUFBUTtJQUN6QyxJQUFJQyxVQUFVO1FBQ1pKLDZDQUFVQSxDQUFDSyxXQUFXLENBQUNGLFFBQVE7WUFDN0JHLE9BQU9DLENBQUFBLE9BQVFBLEtBQUtDLElBQUksS0FBSztRQUMvQjtJQUNGLE9BQU87UUFDTFIsNkNBQVVBLENBQUNTLFNBQVMsQ0FBQ04sUUFBUTtZQUMzQkssTUFBTTtZQUNORSxVQUFVLEVBQUU7UUFDZDtJQUNGO0FBQ0Y7QUFFQSxTQUFTQyx1Q0FBdUNSLE1BQWM7SUFDNUQsSUFBSSxDQUFDQSxPQUFPUyxTQUFTLEVBQUUsT0FBTztRQUFFQyxVQUFVO0lBQU07SUFDaEQsTUFBTSxHQUFHQyxXQUFXLEdBQUdsQix5Q0FBTUEsQ0FBQ21CLE1BQU0sQ0FBQ1osUUFBUUEsT0FBT1MsU0FBUztJQUM3RCxJQUFJLENBQUNFLFdBQVdFLE1BQU0sRUFBRTtRQUN0QixPQUFPO1lBQUVILFVBQVU7UUFBTTtJQUMzQjtJQUNBLE1BQU0sQ0FBQ0ksdUJBQXVCQywwQkFBMEIsR0FBR3RCLHlDQUFNQSxDQUFDbUIsTUFBTSxDQUFDWixRQUFRVztJQUNqRixNQUFNSyxlQUFlRixzQkFBc0JULElBQUksS0FBSztJQUNwRCxPQUFPVyxlQUNGO1FBQUVOLFVBQVU7UUFBTU8sTUFBTUY7SUFBMEIsSUFDbEQ7UUFBRUwsVUFBVTtJQUFNO0FBQ3pCO0FBRU8sU0FBU1EsZUFBZWxCLE1BQWM7SUFDM0MsTUFBTSxFQUFFbUIsV0FBVyxFQUFFQyxjQUFjLEVBQUUsR0FBR3BCO0lBQ3hDQSxPQUFPb0IsY0FBYyxHQUFHQyxDQUFBQTtRQUN0QixJQUFJckIsT0FBT1MsU0FBUyxFQUFFO1lBQ3BCLE1BQU1hLG1CQUFtQmQsdUNBQXVDUjtZQUNoRSxJQUNFc0IsaUJBQWlCWixRQUFRLElBQ3pCZCx3Q0FBS0EsQ0FBQzJCLFdBQVcsQ0FBQ3ZCLE9BQU9TLFNBQVMsS0FDbEMsaURBQWlEO1lBQ2pEVCxPQUFPUyxTQUFTLENBQUNlLE1BQU0sQ0FBQ0MsTUFBTSxLQUFLLEtBQ25DLHdDQUF3QztZQUN4Q3pCLE9BQU9TLFNBQVMsQ0FBQ2UsTUFBTSxDQUFDUCxJQUFJLENBQUNqQixPQUFPUyxTQUFTLENBQUNlLE1BQU0sQ0FBQ1AsSUFBSSxDQUFDSixNQUFNLEdBQUcsRUFBRSxLQUFLLEdBQzFFO2dCQUNBaEIsNkNBQVVBLENBQUNLLFdBQVcsQ0FBQ0YsUUFBUTtvQkFDN0JHLE9BQU9DLENBQUFBLE9BQVFBLEtBQUtDLElBQUksS0FBSztvQkFDN0JxQixPQUFPO2dCQUNUO2dCQUNBO1lBQ0Y7UUFDRjtRQUNBTixlQUFlQztJQUNqQjtJQUNBckIsT0FBT21CLFdBQVcsR0FBRztRQUNuQixNQUFNUSxRQUFRbkIsdUNBQXVDUjtRQUNyRCxJQUFJQSxPQUFPUyxTQUFTLElBQUlrQixNQUFNakIsUUFBUSxFQUFFO1lBQ3RDLE1BQU0sQ0FBQ04sTUFBTXdCLFNBQVMsR0FBR25DLHlDQUFNQSxDQUFDVyxJQUFJLENBQUNKLFFBQVFBLE9BQU9TLFNBQVM7WUFDN0QsSUFBSWQsdUNBQUlBLENBQUNrQyxZQUFZLENBQUNELFVBQVVELE1BQU1WLElBQUksS0FBS3ZCLHVDQUFJQSxDQUFDb0MsTUFBTSxDQUFDMUIsVUFBVSxJQUFJO2dCQUN2RVAsNkNBQVVBLENBQUNLLFdBQVcsQ0FBQ0YsUUFBUTtvQkFDN0JHLE9BQU9DLENBQUFBLE9BQVFBLEtBQUtDLElBQUksS0FBSztvQkFDN0JxQixPQUFPO2dCQUNUO2dCQUNBO1lBQ0Y7UUFDRjtRQUNBUDtJQUNGO0lBRUEsT0FBT25CO0FBQ1QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9ibG9ja3F1b3RlLXNoYXJlZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZGl0b3IsIE5vZGUsIFBhdGgsIFJhbmdlLCBUcmFuc2Zvcm1zIH0gZnJvbSAnc2xhdGUnXG5cbmltcG9ydCB7IGlzRWxlbWVudEFjdGl2ZSB9IGZyb20gJy4vdXRpbHMnXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRCbG9ja3F1b3RlKGVkaXRvcjogRWRpdG9yKSB7XG4gIGNvbnN0IGlzQWN0aXZlID0gaXNFbGVtZW50QWN0aXZlKGVkaXRvciwgJ2Jsb2NrcXVvdGUnKVxuICBpZiAoaXNBY3RpdmUpIHtcbiAgICBUcmFuc2Zvcm1zLnVud3JhcE5vZGVzKGVkaXRvciwge1xuICAgICAgbWF0Y2g6IG5vZGUgPT4gbm9kZS50eXBlID09PSAnYmxvY2txdW90ZScsXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICBUcmFuc2Zvcm1zLndyYXBOb2RlcyhlZGl0b3IsIHtcbiAgICAgIHR5cGU6ICdibG9ja3F1b3RlJyxcbiAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldERpcmVjdEJsb2NrcXVvdGVQYXJlbnRGcm9tU2VsZWN0aW9uKGVkaXRvcjogRWRpdG9yKSB7XG4gIGlmICghZWRpdG9yLnNlbGVjdGlvbikgcmV0dXJuIHsgaXNJbnNpZGU6IGZhbHNlIH0gYXMgY29uc3RcbiAgY29uc3QgWywgcGFyZW50UGF0aF0gPSBFZGl0b3IucGFyZW50KGVkaXRvciwgZWRpdG9yLnNlbGVjdGlvbilcbiAgaWYgKCFwYXJlbnRQYXRoLmxlbmd0aCkge1xuICAgIHJldHVybiB7IGlzSW5zaWRlOiBmYWxzZSB9IGFzIGNvbnN0XG4gIH1cbiAgY29uc3QgW21heWJlQmxvY2txdW90ZVBhcmVudCwgbWF5YmVCbG9ja3F1b3RlUGFyZW50UGF0aF0gPSBFZGl0b3IucGFyZW50KGVkaXRvciwgcGFyZW50UGF0aClcbiAgY29uc3QgaXNCbG9ja3F1b3RlID0gbWF5YmVCbG9ja3F1b3RlUGFyZW50LnR5cGUgPT09ICdibG9ja3F1b3RlJ1xuICByZXR1cm4gaXNCbG9ja3F1b3RlXG4gICAgPyAoeyBpc0luc2lkZTogdHJ1ZSwgcGF0aDogbWF5YmVCbG9ja3F1b3RlUGFyZW50UGF0aCB9IGFzIGNvbnN0KVxuICAgIDogKHsgaXNJbnNpZGU6IGZhbHNlIH0gYXMgY29uc3QpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3aXRoQmxvY2txdW90ZShlZGl0b3I6IEVkaXRvcik6IEVkaXRvciB7XG4gIGNvbnN0IHsgaW5zZXJ0QnJlYWssIGRlbGV0ZUJhY2t3YXJkIH0gPSBlZGl0b3JcbiAgZWRpdG9yLmRlbGV0ZUJhY2t3YXJkID0gdW5pdCA9PiB7XG4gICAgaWYgKGVkaXRvci5zZWxlY3Rpb24pIHtcbiAgICAgIGNvbnN0IHBhcmVudEJsb2NrcXVvdGUgPSBnZXREaXJlY3RCbG9ja3F1b3RlUGFyZW50RnJvbVNlbGVjdGlvbihlZGl0b3IpXG4gICAgICBpZiAoXG4gICAgICAgIHBhcmVudEJsb2NrcXVvdGUuaXNJbnNpZGUgJiZcbiAgICAgICAgUmFuZ2UuaXNDb2xsYXBzZWQoZWRpdG9yLnNlbGVjdGlvbikgJiZcbiAgICAgICAgLy8gdGhlIHNlbGVjdGlvbiBpcyBhdCB0aGUgc3RhcnQgb2YgdGhlIHBhcmFncmFwaFxuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLmFuY2hvci5vZmZzZXQgPT09IDAgJiZcbiAgICAgICAgLy8gaXQncyB0aGUgZmlyc3QgcGFyYWdyYXBoIGluIHRoZSBwYW5lbFxuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLmFuY2hvci5wYXRoW2VkaXRvci5zZWxlY3Rpb24uYW5jaG9yLnBhdGgubGVuZ3RoIC0gMl0gPT09IDBcbiAgICAgICkge1xuICAgICAgICBUcmFuc2Zvcm1zLnVud3JhcE5vZGVzKGVkaXRvciwge1xuICAgICAgICAgIG1hdGNoOiBub2RlID0+IG5vZGUudHlwZSA9PT0gJ2Jsb2NrcXVvdGUnLFxuICAgICAgICAgIHNwbGl0OiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG4gICAgZGVsZXRlQmFja3dhcmQodW5pdClcbiAgfVxuICBlZGl0b3IuaW5zZXJ0QnJlYWsgPSAoKSA9PiB7XG4gICAgY29uc3QgcGFuZWwgPSBnZXREaXJlY3RCbG9ja3F1b3RlUGFyZW50RnJvbVNlbGVjdGlvbihlZGl0b3IpXG4gICAgaWYgKGVkaXRvci5zZWxlY3Rpb24gJiYgcGFuZWwuaXNJbnNpZGUpIHtcbiAgICAgIGNvbnN0IFtub2RlLCBub2RlUGF0aF0gPSBFZGl0b3Iubm9kZShlZGl0b3IsIGVkaXRvci5zZWxlY3Rpb24pXG4gICAgICBpZiAoUGF0aC5pc0Rlc2NlbmRhbnQobm9kZVBhdGgsIHBhbmVsLnBhdGgpICYmIE5vZGUuc3RyaW5nKG5vZGUpID09PSAnJykge1xuICAgICAgICBUcmFuc2Zvcm1zLnVud3JhcE5vZGVzKGVkaXRvciwge1xuICAgICAgICAgIG1hdGNoOiBub2RlID0+IG5vZGUudHlwZSA9PT0gJ2Jsb2NrcXVvdGUnLFxuICAgICAgICAgIHNwbGl0OiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zZXJ0QnJlYWsoKVxuICB9XG5cbiAgcmV0dXJuIGVkaXRvclxufVxuIl0sIm5hbWVzIjpbIkVkaXRvciIsIk5vZGUiLCJQYXRoIiwiUmFuZ2UiLCJUcmFuc2Zvcm1zIiwiaXNFbGVtZW50QWN0aXZlIiwiaW5zZXJ0QmxvY2txdW90ZSIsImVkaXRvciIsImlzQWN0aXZlIiwidW53cmFwTm9kZXMiLCJtYXRjaCIsIm5vZGUiLCJ0eXBlIiwid3JhcE5vZGVzIiwiY2hpbGRyZW4iLCJnZXREaXJlY3RCbG9ja3F1b3RlUGFyZW50RnJvbVNlbGVjdGlvbiIsInNlbGVjdGlvbiIsImlzSW5zaWRlIiwicGFyZW50UGF0aCIsInBhcmVudCIsImxlbmd0aCIsIm1heWJlQmxvY2txdW90ZVBhcmVudCIsIm1heWJlQmxvY2txdW90ZVBhcmVudFBhdGgiLCJpc0Jsb2NrcXVvdGUiLCJwYXRoIiwid2l0aEJsb2NrcXVvdGUiLCJpbnNlcnRCcmVhayIsImRlbGV0ZUJhY2t3YXJkIiwidW5pdCIsInBhcmVudEJsb2NrcXVvdGUiLCJpc0NvbGxhcHNlZCIsImFuY2hvciIsIm9mZnNldCIsInNwbGl0IiwicGFuZWwiLCJub2RlUGF0aCIsImlzRGVzY2VuZGFudCIsInN0cmluZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/blockquote-shared.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/blockquote.tsx":
/*!******************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/blockquote.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlockquoteElement: () => (/* binding */ BlockquoteElement),\n/* harmony export */   blockquoteButton: () => (/* binding */ blockquoteButton)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var _toolbar_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toolbar-state */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state.tsx\");\n/* harmony import */ var _blockquote_shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./blockquote-shared */ \"../../../../packages/fields-document/src/DocumentEditor/blockquote-shared.ts\");\n/* harmony import */ var _keystar_ui_icon_icons_quoteIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/icon/icons/quoteIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-quoteIcon.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _keystar_ui_editor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/editor */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-editor.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _blockquote_shared__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"BlockquoteElement\",\"blockquoteButton\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _blockquote_shared__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n\n\n\n\n\n\n\n\nconst BlockquoteElement = ({ attributes, children })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"blockquote\", {\n        ...attributes,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/blockquote.tsx\",\n        lineNumber: 15,\n        columnNumber: 10\n    }, undefined);\n};\nconst BlockquoteButton = ()=>{\n    const { editor, blockquote: { isDisabled, isSelected } } = (0,_toolbar_state__WEBPACK_IMPORTED_MODULE_2__.useToolbarState)();\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"BlockquoteButton.useMemo\": ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_editor__WEBPACK_IMPORTED_MODULE_8__.EditorToolbarButton, {\n                isSelected: isSelected,\n                isDisabled: isDisabled,\n                onPress: {\n                    \"BlockquoteButton.useMemo\": ()=>{\n                        (0,_blockquote_shared__WEBPACK_IMPORTED_MODULE_3__.insertBlockquote)(editor);\n                        slate_react__WEBPACK_IMPORTED_MODULE_9__.ReactEditor.focus(editor);\n                    }\n                }[\"BlockquoteButton.useMemo\"],\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_5__.Icon, {\n                    src: _keystar_ui_icon_icons_quoteIcon__WEBPACK_IMPORTED_MODULE_4__.quoteIcon\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/blockquote.tsx\",\n                    lineNumber: 33,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/blockquote.tsx\",\n                lineNumber: 25,\n                columnNumber: 7\n            }, undefined)\n    }[\"BlockquoteButton.useMemo\"], [\n        editor,\n        isDisabled,\n        isSelected\n    ]);\n};\nconst blockquoteButton = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_6__.TooltipTrigger, {\n    children: [\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BlockquoteButton, {}, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/blockquote.tsx\",\n            lineNumber: 42,\n            columnNumber: 5\n        }, undefined),\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_6__.Tooltip, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__.Text, {\n                    children: \"Quote\"\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/blockquote.tsx\",\n                    lineNumber: 44,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__.Kbd, {\n                    children: '>'\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/blockquote.tsx\",\n                    lineNumber: 45,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/blockquote.tsx\",\n            lineNumber: 43,\n            columnNumber: 5\n        }, undefined)\n    ]\n}, void 0, true, {\n    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/blockquote.tsx\",\n    lineNumber: 41,\n    columnNumber: 3\n}, undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9ibG9ja3F1b3RlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFDbUM7QUFFakI7QUFDSztBQUNNO0FBQ3JCO0FBQ3NCO0FBQ1g7QUFDTTtBQUVyQjtBQUU1QixNQUFNVyxvQkFBb0IsQ0FBQyxFQUFFQyxVQUFVLEVBQUVDLFFBQVEsRUFBc0I7SUFDNUUscUJBQU8sOERBQUNDO1FBQVksR0FBR0YsVUFBVTtrQkFBR0M7Ozs7OztBQUN0QyxFQUFDO0FBRUQsTUFBTUUsbUJBQW1CO0lBQ3ZCLE1BQU0sRUFDSkMsTUFBTSxFQUNORixZQUFZLEVBQUVHLFVBQVUsRUFBRUMsVUFBVSxFQUFFLEVBQ3ZDLEdBQUdoQiwrREFBZUE7SUFDbkIsT0FBT0YsOENBQU9BO29DQUNaLGtCQUNFLDhEQUFDVSxtRUFBbUJBO2dCQUNsQlEsWUFBWUE7Z0JBQ1pELFlBQVlBO2dCQUNaRSxPQUFPO2dEQUFFO3dCQUNQaEIsb0VBQWdCQSxDQUFDYTt3QkFDakJmLG9EQUFXQSxDQUFDbUIsS0FBSyxDQUFDSjtvQkFDcEI7OzBCQUVBLDRFQUFDWCxrREFBSUE7b0JBQUNnQixLQUFLakIsdUVBQVNBOzs7Ozs7Ozs7OzttQ0FHeEI7UUFBQ1k7UUFBUUM7UUFBWUM7S0FBVztBQUVwQztBQUVPLE1BQU1JLGlDQUNYLDhEQUFDaEIsK0RBQWNBOztzQkFDYiw4REFBQ1M7Ozs7O3NCQUNELDhEQUFDUix3REFBT0E7OzhCQUNOLDhEQUFDRSx3REFBSUE7OEJBQUM7Ozs7Ozs4QkFDTiw4REFBQ0QsdURBQUdBOzhCQUFFOzs7Ozs7Ozs7Ozs7Ozs7OztjQUdYIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvYmxvY2txdW90ZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUmVhY3RFZGl0b3IsIHR5cGUgUmVuZGVyRWxlbWVudFByb3BzIH0gZnJvbSAnc2xhdGUtcmVhY3QnXG5cbmltcG9ydCB7IHVzZVRvb2xiYXJTdGF0ZSB9IGZyb20gJy4vdG9vbGJhci1zdGF0ZSdcbmltcG9ydCB7IGluc2VydEJsb2NrcXVvdGUgfSBmcm9tICcuL2Jsb2NrcXVvdGUtc2hhcmVkJ1xuaW1wb3J0IHsgcXVvdGVJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbi9pY29ucy9xdW90ZUljb24nXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbidcbmltcG9ydCB7IFRvb2x0aXBUcmlnZ2VyLCBUb29sdGlwIH0gZnJvbSAnQGtleXN0YXIvdWkvdG9vbHRpcCdcbmltcG9ydCB7IEtiZCwgVGV4dCB9IGZyb20gJ0BrZXlzdGFyL3VpL3R5cG9ncmFwaHknXG5pbXBvcnQgeyBFZGl0b3JUb29sYmFyQnV0dG9uIH0gZnJvbSAnQGtleXN0YXIvdWkvZWRpdG9yJ1xuXG5leHBvcnQgKiBmcm9tICcuL2Jsb2NrcXVvdGUtc2hhcmVkJ1xuXG5leHBvcnQgY29uc3QgQmxvY2txdW90ZUVsZW1lbnQgPSAoeyBhdHRyaWJ1dGVzLCBjaGlsZHJlbiB9OiBSZW5kZXJFbGVtZW50UHJvcHMpID0+IHtcbiAgcmV0dXJuIDxibG9ja3F1b3RlIHsuLi5hdHRyaWJ1dGVzfT57Y2hpbGRyZW59PC9ibG9ja3F1b3RlPlxufVxuXG5jb25zdCBCbG9ja3F1b3RlQnV0dG9uID0gKCkgPT4ge1xuICBjb25zdCB7XG4gICAgZWRpdG9yLFxuICAgIGJsb2NrcXVvdGU6IHsgaXNEaXNhYmxlZCwgaXNTZWxlY3RlZCB9LFxuICB9ID0gdXNlVG9vbGJhclN0YXRlKClcbiAgcmV0dXJuIHVzZU1lbW8oXG4gICAgKCkgPT4gKFxuICAgICAgPEVkaXRvclRvb2xiYXJCdXR0b25cbiAgICAgICAgaXNTZWxlY3RlZD17aXNTZWxlY3RlZH1cbiAgICAgICAgaXNEaXNhYmxlZD17aXNEaXNhYmxlZH1cbiAgICAgICAgb25QcmVzcz17KCkgPT4ge1xuICAgICAgICAgIGluc2VydEJsb2NrcXVvdGUoZWRpdG9yKVxuICAgICAgICAgIFJlYWN0RWRpdG9yLmZvY3VzKGVkaXRvcilcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPEljb24gc3JjPXtxdW90ZUljb259IC8+XG4gICAgICA8L0VkaXRvclRvb2xiYXJCdXR0b24+XG4gICAgKSxcbiAgICBbZWRpdG9yLCBpc0Rpc2FibGVkLCBpc1NlbGVjdGVkXVxuICApXG59XG5cbmV4cG9ydCBjb25zdCBibG9ja3F1b3RlQnV0dG9uID0gKFxuICA8VG9vbHRpcFRyaWdnZXI+XG4gICAgPEJsb2NrcXVvdGVCdXR0b24gLz5cbiAgICA8VG9vbHRpcD5cbiAgICAgIDxUZXh0PlF1b3RlPC9UZXh0PlxuICAgICAgPEtiZD57Jz7ijrUnfTwvS2JkPlxuICAgIDwvVG9vbHRpcD5cbiAgPC9Ub29sdGlwVHJpZ2dlcj5cbilcbiJdLCJuYW1lcyI6WyJ1c2VNZW1vIiwiUmVhY3RFZGl0b3IiLCJ1c2VUb29sYmFyU3RhdGUiLCJpbnNlcnRCbG9ja3F1b3RlIiwicXVvdGVJY29uIiwiSWNvbiIsIlRvb2x0aXBUcmlnZ2VyIiwiVG9vbHRpcCIsIktiZCIsIlRleHQiLCJFZGl0b3JUb29sYmFyQnV0dG9uIiwiQmxvY2txdW90ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwiY2hpbGRyZW4iLCJibG9ja3F1b3RlIiwiQmxvY2txdW90ZUJ1dHRvbiIsImVkaXRvciIsImlzRGlzYWJsZWQiLCJpc1NlbGVjdGVkIiwib25QcmVzcyIsImZvY3VzIiwic3JjIiwiYmxvY2txdW90ZUJ1dHRvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/blockquote.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/code-block-shared.ts":
/*!************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/code-block-shared.ts ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withCodeBlock: () => (/* binding */ withCodeBlock)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n\nfunction withCodeBlock(editor) {\n    const { insertBreak, normalizeNode } = editor;\n    editor.insertBreak = ()=>{\n        const [node, path] = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.above(editor, {\n            match: (n)=>slate__WEBPACK_IMPORTED_MODULE_0__.Element.isElement(n) && slate__WEBPACK_IMPORTED_MODULE_0__.Editor.isBlock(editor, n)\n        }) || [\n            editor,\n            []\n        ];\n        if (node.type === 'code' && slate__WEBPACK_IMPORTED_MODULE_0__.Text.isText(node.children[0])) {\n            const text = node.children[0].text;\n            if (text[text.length - 1] === '\\n' && editor.selection && slate__WEBPACK_IMPORTED_MODULE_0__.Range.isCollapsed(editor.selection) && slate__WEBPACK_IMPORTED_MODULE_0__.Point.equals(slate__WEBPACK_IMPORTED_MODULE_0__.Editor.end(editor, path), editor.selection.anchor)) {\n                insertBreak();\n                slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.setNodes(editor, {\n                    type: 'paragraph',\n                    children: []\n                });\n                slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.delete(editor, {\n                    distance: 1,\n                    at: {\n                        path: [\n                            ...path,\n                            0\n                        ],\n                        offset: text.length - 1\n                    }\n                });\n                return;\n            }\n            editor.insertText('\\n');\n            return;\n        }\n        insertBreak();\n    };\n    editor.normalizeNode = ([node, path])=>{\n        if (node.type === 'code' && slate__WEBPACK_IMPORTED_MODULE_0__.Element.isElement(node)) {\n            for (const [index, childNode] of node.children.entries()){\n                if (!slate__WEBPACK_IMPORTED_MODULE_0__.Text.isText(childNode)) {\n                    if (editor.isVoid(childNode)) {\n                        slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.removeNodes(editor, {\n                            at: [\n                                ...path,\n                                index\n                            ]\n                        });\n                    } else {\n                        slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unwrapNodes(editor, {\n                            at: [\n                                ...path,\n                                index\n                            ]\n                        });\n                    }\n                    return;\n                }\n                const marks = Object.keys(childNode).filter((x)=>x !== 'text');\n                if (marks.length) {\n                    slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unsetNodes(editor, marks, {\n                        at: [\n                            ...path,\n                            index\n                        ]\n                    });\n                    return;\n                }\n            }\n        }\n        normalizeNode([\n            node,\n            path\n        ]);\n    };\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb2RlLWJsb2NrLXNoYXJlZC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUF1RTtBQUVoRSxTQUFTTSxjQUFjQyxNQUFjO0lBQzFDLE1BQU0sRUFBRUMsV0FBVyxFQUFFQyxhQUFhLEVBQUUsR0FBR0Y7SUFFdkNBLE9BQU9DLFdBQVcsR0FBRztRQUNuQixNQUFNLENBQUNFLE1BQU1DLEtBQUssR0FBR1gseUNBQU1BLENBQUNZLEtBQUssQ0FBQ0wsUUFBUTtZQUN4Q00sT0FBT0MsQ0FBQUEsSUFBS2IsMENBQU9BLENBQUNjLFNBQVMsQ0FBQ0QsTUFBTWQseUNBQU1BLENBQUNnQixPQUFPLENBQUNULFFBQVFPO1FBQzdELE1BQU07WUFBQ1A7WUFBUSxFQUFFO1NBQUM7UUFDbEIsSUFBSUcsS0FBS08sSUFBSSxLQUFLLFVBQVViLHVDQUFJQSxDQUFDYyxNQUFNLENBQUNSLEtBQUtTLFFBQVEsQ0FBQyxFQUFFLEdBQUc7WUFDekQsTUFBTUMsT0FBT1YsS0FBS1MsUUFBUSxDQUFDLEVBQUUsQ0FBQ0MsSUFBSTtZQUNsQyxJQUNFQSxJQUFJLENBQUNBLEtBQUtDLE1BQU0sR0FBRyxFQUFFLEtBQUssUUFDMUJkLE9BQU9lLFNBQVMsSUFDaEJuQix3Q0FBS0EsQ0FBQ29CLFdBQVcsQ0FBQ2hCLE9BQU9lLFNBQVMsS0FDbENwQix3Q0FBS0EsQ0FBQ3NCLE1BQU0sQ0FBQ3hCLHlDQUFNQSxDQUFDeUIsR0FBRyxDQUFDbEIsUUFBUUksT0FBT0osT0FBT2UsU0FBUyxDQUFDSSxNQUFNLEdBQzlEO2dCQUNBbEI7Z0JBQ0FILDZDQUFVQSxDQUFDc0IsUUFBUSxDQUFDcEIsUUFBUTtvQkFBRVUsTUFBTTtvQkFBYUUsVUFBVSxFQUFFO2dCQUFDO2dCQUM5RGQsNkNBQVVBLENBQUN1QixNQUFNLENBQUNyQixRQUFRO29CQUN4QnNCLFVBQVU7b0JBQ1ZDLElBQUk7d0JBQUVuQixNQUFNOytCQUFJQTs0QkFBTTt5QkFBRTt3QkFBRW9CLFFBQVFYLEtBQUtDLE1BQU0sR0FBRztvQkFBRTtnQkFDcEQ7Z0JBQ0E7WUFDRjtZQUNBZCxPQUFPeUIsVUFBVSxDQUFDO1lBQ2xCO1FBQ0Y7UUFDQXhCO0lBQ0Y7SUFDQUQsT0FBT0UsYUFBYSxHQUFHLENBQUMsQ0FBQ0MsTUFBTUMsS0FBSztRQUNsQyxJQUFJRCxLQUFLTyxJQUFJLEtBQUssVUFBVWhCLDBDQUFPQSxDQUFDYyxTQUFTLENBQUNMLE9BQU87WUFDbkQsS0FBSyxNQUFNLENBQUN1QixPQUFPQyxVQUFVLElBQUl4QixLQUFLUyxRQUFRLENBQUNnQixPQUFPLEdBQUk7Z0JBQ3hELElBQUksQ0FBQy9CLHVDQUFJQSxDQUFDYyxNQUFNLENBQUNnQixZQUFZO29CQUMzQixJQUFJM0IsT0FBTzZCLE1BQU0sQ0FBQ0YsWUFBWTt3QkFDNUI3Qiw2Q0FBVUEsQ0FBQ2dDLFdBQVcsQ0FBQzlCLFFBQVE7NEJBQUV1QixJQUFJO21DQUFJbkI7Z0NBQU1zQjs2QkFBTTt3QkFBQztvQkFDeEQsT0FBTzt3QkFDTDVCLDZDQUFVQSxDQUFDaUMsV0FBVyxDQUFDL0IsUUFBUTs0QkFBRXVCLElBQUk7bUNBQUluQjtnQ0FBTXNCOzZCQUFNO3dCQUFDO29CQUN4RDtvQkFDQTtnQkFDRjtnQkFDQSxNQUFNTSxRQUFRQyxPQUFPQyxJQUFJLENBQUNQLFdBQVdRLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsTUFBTTtnQkFDdkQsSUFBSUosTUFBTWxCLE1BQU0sRUFBRTtvQkFDaEJoQiw2Q0FBVUEsQ0FBQ3VDLFVBQVUsQ0FBQ3JDLFFBQVFnQyxPQUFPO3dCQUFFVCxJQUFJOytCQUFJbkI7NEJBQU1zQjt5QkFBTTtvQkFBQztvQkFDNUQ7Z0JBQ0Y7WUFDRjtRQUNGO1FBQ0F4QixjQUFjO1lBQUNDO1lBQU1DO1NBQUs7SUFDNUI7SUFFQSxPQUFPSjtBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvY29kZS1ibG9jay1zaGFyZWQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWRpdG9yLCBFbGVtZW50LCBQb2ludCwgUmFuZ2UsIFRleHQsIFRyYW5zZm9ybXMgfSBmcm9tICdzbGF0ZSdcblxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhDb2RlQmxvY2soZWRpdG9yOiBFZGl0b3IpOiBFZGl0b3Ige1xuICBjb25zdCB7IGluc2VydEJyZWFrLCBub3JtYWxpemVOb2RlIH0gPSBlZGl0b3JcblxuICBlZGl0b3IuaW5zZXJ0QnJlYWsgPSAoKSA9PiB7XG4gICAgY29uc3QgW25vZGUsIHBhdGhdID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgbWF0Y2g6IG4gPT4gRWxlbWVudC5pc0VsZW1lbnQobikgJiYgRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKSxcbiAgICB9KSB8fCBbZWRpdG9yLCBbXV1cbiAgICBpZiAobm9kZS50eXBlID09PSAnY29kZScgJiYgVGV4dC5pc1RleHQobm9kZS5jaGlsZHJlblswXSkpIHtcbiAgICAgIGNvbnN0IHRleHQgPSBub2RlLmNoaWxkcmVuWzBdLnRleHRcbiAgICAgIGlmIChcbiAgICAgICAgdGV4dFt0ZXh0Lmxlbmd0aCAtIDFdID09PSAnXFxuJyAmJlxuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uICYmXG4gICAgICAgIFJhbmdlLmlzQ29sbGFwc2VkKGVkaXRvci5zZWxlY3Rpb24pICYmXG4gICAgICAgIFBvaW50LmVxdWFscyhFZGl0b3IuZW5kKGVkaXRvciwgcGF0aCksIGVkaXRvci5zZWxlY3Rpb24uYW5jaG9yKVxuICAgICAgKSB7XG4gICAgICAgIGluc2VydEJyZWFrKClcbiAgICAgICAgVHJhbnNmb3Jtcy5zZXROb2RlcyhlZGl0b3IsIHsgdHlwZTogJ3BhcmFncmFwaCcsIGNoaWxkcmVuOiBbXSB9KVxuICAgICAgICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHtcbiAgICAgICAgICBkaXN0YW5jZTogMSxcbiAgICAgICAgICBhdDogeyBwYXRoOiBbLi4ucGF0aCwgMF0sIG9mZnNldDogdGV4dC5sZW5ndGggLSAxIH0sXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgZWRpdG9yLmluc2VydFRleHQoJ1xcbicpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaW5zZXJ0QnJlYWsoKVxuICB9XG4gIGVkaXRvci5ub3JtYWxpemVOb2RlID0gKFtub2RlLCBwYXRoXSkgPT4ge1xuICAgIGlmIChub2RlLnR5cGUgPT09ICdjb2RlJyAmJiBFbGVtZW50LmlzRWxlbWVudChub2RlKSkge1xuICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGNoaWxkTm9kZV0gb2Ygbm9kZS5jaGlsZHJlbi5lbnRyaWVzKCkpIHtcbiAgICAgICAgaWYgKCFUZXh0LmlzVGV4dChjaGlsZE5vZGUpKSB7XG4gICAgICAgICAgaWYgKGVkaXRvci5pc1ZvaWQoY2hpbGROb2RlKSkge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHsgYXQ6IFsuLi5wYXRoLCBpbmRleF0gfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHsgYXQ6IFsuLi5wYXRoLCBpbmRleF0gfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWFya3MgPSBPYmplY3Qua2V5cyhjaGlsZE5vZGUpLmZpbHRlcih4ID0+IHggIT09ICd0ZXh0JylcbiAgICAgICAgaWYgKG1hcmtzLmxlbmd0aCkge1xuICAgICAgICAgIFRyYW5zZm9ybXMudW5zZXROb2RlcyhlZGl0b3IsIG1hcmtzLCB7IGF0OiBbLi4ucGF0aCwgaW5kZXhdIH0pXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbm9ybWFsaXplTm9kZShbbm9kZSwgcGF0aF0pXG4gIH1cblxuICByZXR1cm4gZWRpdG9yXG59XG4iXSwibmFtZXMiOlsiRWRpdG9yIiwiRWxlbWVudCIsIlBvaW50IiwiUmFuZ2UiLCJUZXh0IiwiVHJhbnNmb3JtcyIsIndpdGhDb2RlQmxvY2siLCJlZGl0b3IiLCJpbnNlcnRCcmVhayIsIm5vcm1hbGl6ZU5vZGUiLCJub2RlIiwicGF0aCIsImFib3ZlIiwibWF0Y2giLCJuIiwiaXNFbGVtZW50IiwiaXNCbG9jayIsInR5cGUiLCJpc1RleHQiLCJjaGlsZHJlbiIsInRleHQiLCJsZW5ndGgiLCJzZWxlY3Rpb24iLCJpc0NvbGxhcHNlZCIsImVxdWFscyIsImVuZCIsImFuY2hvciIsInNldE5vZGVzIiwiZGVsZXRlIiwiZGlzdGFuY2UiLCJhdCIsIm9mZnNldCIsImluc2VydFRleHQiLCJpbmRleCIsImNoaWxkTm9kZSIsImVudHJpZXMiLCJpc1ZvaWQiLCJyZW1vdmVOb2RlcyIsInVud3JhcE5vZGVzIiwibWFya3MiLCJPYmplY3QiLCJrZXlzIiwiZmlsdGVyIiwieCIsInVuc2V0Tm9kZXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/code-block-shared.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/code-block.tsx":
/*!******************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/code-block.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   codeButton: () => (/* binding */ codeButton)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_codeIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/icon/icons/codeIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-codeIcon.js\");\n/* harmony import */ var _toolbar_state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./toolbar-state */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state.tsx\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var _keystar_ui_editor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/editor */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-editor.js\");\n/* harmony import */ var _code_block_shared__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./code-block-shared */ \"../../../../packages/fields-document/src/DocumentEditor/code-block-shared.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _code_block_shared__WEBPACK_IMPORTED_MODULE_8__) if([\"default\",\"codeButton\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _code_block_shared__WEBPACK_IMPORTED_MODULE_8__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n\n\n\n\n\n\n\n\nfunction CodeButton() {\n    const { editor, code: { isDisabled, isSelected } } = (0,_toolbar_state__WEBPACK_IMPORTED_MODULE_4__.useToolbarState)();\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"CodeButton.useMemo\": ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_editor__WEBPACK_IMPORTED_MODULE_7__.EditorToolbarButton, {\n                isSelected: isSelected,\n                isDisabled: isDisabled,\n                onPress: {\n                    \"CodeButton.useMemo\": ()=>{\n                        if (isSelected) {\n                            slate__WEBPACK_IMPORTED_MODULE_9__.Transforms.unwrapNodes(editor, {\n                                match: {\n                                    \"CodeButton.useMemo\": (node)=>node.type === 'code'\n                                }[\"CodeButton.useMemo\"]\n                            });\n                        } else {\n                            slate__WEBPACK_IMPORTED_MODULE_9__.Transforms.wrapNodes(editor, {\n                                type: 'code',\n                                children: [\n                                    {\n                                        text: ''\n                                    }\n                                ]\n                            });\n                        }\n                        slate_react__WEBPACK_IMPORTED_MODULE_10__.ReactEditor.focus(editor);\n                    }\n                }[\"CodeButton.useMemo\"],\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n                    src: _keystar_ui_icon_icons_codeIcon__WEBPACK_IMPORTED_MODULE_3__.codeIcon\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/code-block.tsx\",\n                    lineNumber: 39,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/code-block.tsx\",\n                lineNumber: 22,\n                columnNumber: 7\n            }, this)\n    }[\"CodeButton.useMemo\"], [\n        isDisabled,\n        isSelected,\n        editor\n    ]);\n}\nconst codeButton = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_5__.TooltipTrigger, {\n    children: [\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CodeButton, {}, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/code-block.tsx\",\n            lineNumber: 48,\n            columnNumber: 5\n        }, undefined),\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_5__.Tooltip, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_6__.Text, {\n                    children: \"Code block\"\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/code-block.tsx\",\n                    lineNumber: 50,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_6__.Kbd, {\n                    children: \"```\"\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/code-block.tsx\",\n                    lineNumber: 51,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/code-block.tsx\",\n            lineNumber: 49,\n            columnNumber: 5\n        }, undefined)\n    ]\n}, void 0, true, {\n    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/code-block.tsx\",\n    lineNumber: 47,\n    columnNumber: 3\n}, undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb2RlLWJsb2NrLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFDRztBQUVLO0FBQ21CO0FBQ1Q7QUFDWTtBQUNYO0FBQ1Q7QUFDZTtBQUVyQjtBQUVuQyxTQUFTVztJQUNQLE1BQU0sRUFDSkMsTUFBTSxFQUNOQyxNQUFNLEVBQUVDLFVBQVUsRUFBRUMsVUFBVSxFQUFFLEVBQ2pDLEdBQUdYLCtEQUFlQTtJQUVuQixPQUFPSiw4Q0FBT0E7OEJBQ1osa0JBQ0UsOERBQUNVLG1FQUFtQkE7Z0JBQ2xCSyxZQUFZQTtnQkFDWkQsWUFBWUE7Z0JBQ1pFLE9BQU87MENBQUU7d0JBQ1AsSUFBSUQsWUFBWTs0QkFDZGQsNkNBQVVBLENBQUNnQixXQUFXLENBQUNMLFFBQVE7Z0NBQzdCTSxLQUFLOzBEQUFFQyxDQUFBQSxPQUFRQSxLQUFLQyxJQUFJLEtBQUs7OzRCQUMvQjt3QkFDRixPQUFPOzRCQUNMbkIsNkNBQVVBLENBQUNvQixTQUFTLENBQUNULFFBQVE7Z0NBQzNCUSxNQUFNO2dDQUNORSxVQUFVO29DQUFDO3dDQUFFQyxNQUFNO29DQUFHO2lDQUFFOzRCQUMxQjt3QkFDRjt3QkFDQWQscURBQVdBLENBQUNlLEtBQUssQ0FBQ1o7b0JBQ3BCOzswQkFFQSw0RUFBQ1Ysa0RBQUlBO29CQUFDdUIsS0FBS3RCLHFFQUFRQTs7Ozs7Ozs7Ozs7NkJBR3ZCO1FBQUNXO1FBQVlDO1FBQVlIO0tBQU87QUFFcEM7QUFFTyxNQUFNYywyQkFDWCw4REFBQ3JCLCtEQUFjQTs7c0JBQ2IsOERBQUNNOzs7OztzQkFDRCw4REFBQ0wsd0RBQU9BOzs4QkFDTiw4REFBQ0Usd0RBQUlBOzhCQUFDOzs7Ozs7OEJBQ04sOERBQUNELHVEQUFHQTs4QkFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Y0FHViIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL2NvZGUtYmxvY2sudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFRyYW5zZm9ybXMgfSBmcm9tICdzbGF0ZSdcblxuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24nXG5pbXBvcnQgeyBjb2RlSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvY29kZUljb24nXG5pbXBvcnQgeyB1c2VUb29sYmFyU3RhdGUgfSBmcm9tICcuL3Rvb2xiYXItc3RhdGUnXG5pbXBvcnQgeyBUb29sdGlwVHJpZ2dlciwgVG9vbHRpcCB9IGZyb20gJ0BrZXlzdGFyL3VpL3Rvb2x0aXAnXG5pbXBvcnQgeyBLYmQsIFRleHQgfSBmcm9tICdAa2V5c3Rhci91aS90eXBvZ3JhcGh5J1xuaW1wb3J0IHsgUmVhY3RFZGl0b3IgfSBmcm9tICdzbGF0ZS1yZWFjdCdcbmltcG9ydCB7IEVkaXRvclRvb2xiYXJCdXR0b24gfSBmcm9tICdAa2V5c3Rhci91aS9lZGl0b3InXG5cbmV4cG9ydCAqIGZyb20gJy4vY29kZS1ibG9jay1zaGFyZWQnXG5cbmZ1bmN0aW9uIENvZGVCdXR0b24oKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0b3IsXG4gICAgY29kZTogeyBpc0Rpc2FibGVkLCBpc1NlbGVjdGVkIH0sXG4gIH0gPSB1c2VUb29sYmFyU3RhdGUoKVxuXG4gIHJldHVybiB1c2VNZW1vKFxuICAgICgpID0+IChcbiAgICAgIDxFZGl0b3JUb29sYmFyQnV0dG9uXG4gICAgICAgIGlzU2VsZWN0ZWQ9e2lzU2VsZWN0ZWR9XG4gICAgICAgIGlzRGlzYWJsZWQ9e2lzRGlzYWJsZWR9XG4gICAgICAgIG9uUHJlc3M9eygpID0+IHtcbiAgICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgbWF0Y2g6IG5vZGUgPT4gbm9kZS50eXBlID09PSAnY29kZScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLndyYXBOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgdHlwZTogJ2NvZGUnLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogW3sgdGV4dDogJycgfV0sXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICBSZWFjdEVkaXRvci5mb2N1cyhlZGl0b3IpXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxJY29uIHNyYz17Y29kZUljb259IC8+XG4gICAgICA8L0VkaXRvclRvb2xiYXJCdXR0b24+XG4gICAgKSxcbiAgICBbaXNEaXNhYmxlZCwgaXNTZWxlY3RlZCwgZWRpdG9yXVxuICApXG59XG5cbmV4cG9ydCBjb25zdCBjb2RlQnV0dG9uID0gKFxuICA8VG9vbHRpcFRyaWdnZXI+XG4gICAgPENvZGVCdXR0b24gLz5cbiAgICA8VG9vbHRpcD5cbiAgICAgIDxUZXh0PkNvZGUgYmxvY2s8L1RleHQ+XG4gICAgICA8S2JkPmBgYDwvS2JkPlxuICAgIDwvVG9vbHRpcD5cbiAgPC9Ub29sdGlwVHJpZ2dlcj5cbilcbiJdLCJuYW1lcyI6WyJ1c2VNZW1vIiwiVHJhbnNmb3JtcyIsIkljb24iLCJjb2RlSWNvbiIsInVzZVRvb2xiYXJTdGF0ZSIsIlRvb2x0aXBUcmlnZ2VyIiwiVG9vbHRpcCIsIktiZCIsIlRleHQiLCJSZWFjdEVkaXRvciIsIkVkaXRvclRvb2xiYXJCdXR0b24iLCJDb2RlQnV0dG9uIiwiZWRpdG9yIiwiY29kZSIsImlzRGlzYWJsZWQiLCJpc1NlbGVjdGVkIiwib25QcmVzcyIsInVud3JhcE5vZGVzIiwibWF0Y2giLCJub2RlIiwidHlwZSIsIndyYXBOb2RlcyIsImNoaWxkcmVuIiwidGV4dCIsImZvY3VzIiwic3JjIiwiY29kZUJ1dHRvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/code-block.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/component-blocks/api-shared.ts":
/*!**********************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/component-blocks/api-shared.ts ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL2FwaS1zaGFyZWQudHMiLCJtYXBwaW5ncyI6IjtBQWlYQyIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL2NvbXBvbmVudC1ibG9ja3MvYXBpLXNoYXJlZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7XG4gIEdGaWVsZCxcbiAgR0FyZyxcbiAgR0lucHV0VHlwZSxcbiAgR091dHB1dFR5cGUsXG4gIEdOdWxsYWJsZUlucHV0VHlwZSxcbn0gZnJvbSAnQGtleXN0b25lLTYvY29yZS9ncmFwaHFsLXRzJ1xuaW1wb3J0IHR5cGUgeyBLZXlzdG9uZUNvbnRleHQgfSBmcm9tICdAa2V5c3RvbmUtNi9jb3JlL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBSZWFjdEVsZW1lbnQsIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgdHlwZSBGb3JtRmllbGRWYWx1ZSA9XG4gIHwgc3RyaW5nXG4gIHwgbnVtYmVyXG4gIHwgYm9vbGVhblxuICB8IG51bGxcbiAgfCByZWFkb25seSBGb3JtRmllbGRWYWx1ZVtdXG4gIHwgeyBba2V5OiBzdHJpbmddOiBGb3JtRmllbGRWYWx1ZSB8IHVuZGVmaW5lZCB9XG5cbmV4cG9ydCB0eXBlIEZvcm1GaWVsZDxWYWx1ZSBleHRlbmRzIEZvcm1GaWVsZFZhbHVlLCBPcHRpb25zPiA9IHtcbiAga2luZDogJ2Zvcm0nXG4gIElucHV0KHByb3BzOiB7XG4gICAgdmFsdWU6IFZhbHVlXG4gICAgb25DaGFuZ2UodmFsdWU6IFZhbHVlKTogdm9pZFxuICAgIGF1dG9Gb2N1czogYm9vbGVhblxuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCBiZSB0cnVlIHdoZW4gdmFsaWRhdGUgaGFzIHJldHVybmVkIGZhbHNlIGFuZCB0aGUgdXNlciBoYXMgYXR0ZW1wdGVkIHRvIGNsb3NlIHRoZSBmb3JtXG4gICAgICogb3Igd2hlbiB0aGUgZm9ybSBpcyBvcGVuIGFuZCB0aGV5IGF0dGVtcHQgdG8gc2F2ZSB0aGUgaXRlbVxuICAgICAqL1xuICAgIGZvcmNlVmFsaWRhdGlvbjogYm9vbGVhblxuICB9KTogUmVhY3RFbGVtZW50IHwgbnVsbFxuICAvKipcbiAgICogVGhlIG9wdGlvbnMgYXJlIGNvbmZpZyBhYm91dCB0aGUgZmllbGQgdGhhdCBhcmUgYXZhaWxhYmxlIG9uIHRoZVxuICAgKiBwcmV2aWV3IHByb3BzIHdoZW4gcmVuZGVyaW5nIHRoZSB0b29sYmFyIGFuZCBwcmV2aWV3IGNvbXBvbmVudFxuICAgKi9cbiAgb3B0aW9uczogT3B0aW9uc1xuICBkZWZhdWx0VmFsdWU6IFZhbHVlXG4gIC8qKlxuICAgKiB2YWxpZGF0ZSB3aWxsIGJlIGNhbGxlZCBpbiB0d28gY2FzZXM6XG4gICAqIC0gb24gdGhlIGNsaWVudCBpbiB0aGUgZWRpdG9yIHdoZW4gYSB1c2VyIGlzIGNoYW5naW5nIHRoZSB2YWx1ZS5cbiAgICogICBSZXR1cm5pbmcgYGZhbHNlYCB3aWxsIGJsb2NrIGNsb3NpbmcgdGhlIGZvcm1cbiAgICogICBhbmQgc2F2aW5nIHRoZSBpdGVtLlxuICAgKiAtIG9uIHRoZSBzZXJ2ZXIgd2hlbiBhIGNoYW5nZSBpcyByZWNlaXZlZCBiZWZvcmUgYWxsb3dpbmcgaXQgdG8gYmUgc2F2ZWRcbiAgICogICBpZiBgdHJ1ZWAgaXMgcmV0dXJuZWRcbiAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgZm9ybSBmaWVsZC4gWW91IHNob3VsZCBOT1QgdHJ1c3RcbiAgICogdGhpcyB2YWx1ZSB0byBiZSBvZiB0aGUgY29ycmVjdCB0eXBlIGJlY2F1c2UgaXQgY291bGQgY29tZSBmcm9tXG4gICAqIGEgcG90ZW50aWFsbHkgbWFsaWNpb3VzIGNsaWVudFxuICAgKi9cbiAgdmFsaWRhdGUodmFsdWU6IHVua25vd24pOiBib29sZWFuXG4gIGdyYXBocWw/OiB7XG4gICAgaW5wdXQ6IEdOdWxsYWJsZUlucHV0VHlwZVxuICAgIG91dHB1dDogR0ZpZWxkPFxuICAgICAgeyB2YWx1ZTogVmFsdWUgfSxcbiAgICAgIFJlY29yZDxzdHJpbmcsIEdBcmc8R0lucHV0VHlwZSwgYm9vbGVhbj4+LFxuICAgICAgR091dHB1dFR5cGU8S2V5c3RvbmVDb250ZXh0PixcbiAgICAgIFZhbHVlLFxuICAgICAgS2V5c3RvbmVDb250ZXh0XG4gICAgPlxuICB9XG59XG5cbmV4cG9ydCB0eXBlIElubGluZU1hcmtzQ29uZmlnID1cbiAgfCAnaW5oZXJpdCdcbiAgfCB7XG4gICAgICBib2xkPzogJ2luaGVyaXQnXG4gICAgICBjb2RlPzogJ2luaGVyaXQnXG4gICAgICBpdGFsaWM/OiAnaW5oZXJpdCdcbiAgICAgIHN0cmlrZXRocm91Z2g/OiAnaW5oZXJpdCdcbiAgICAgIHVuZGVybGluZT86ICdpbmhlcml0J1xuICAgICAga2V5Ym9hcmQ/OiAnaW5oZXJpdCdcbiAgICAgIHN1YnNjcmlwdD86ICdpbmhlcml0J1xuICAgICAgc3VwZXJzY3JpcHQ/OiAnaW5oZXJpdCdcbiAgICB9XG5cbmV4cG9ydCB0eXBlIEJsb2NrRm9ybWF0dGluZ0NvbmZpZyA9IHtcbiAgYWxpZ25tZW50PzogJ2luaGVyaXQnXG4gIGJsb2NrVHlwZXM/OiAnaW5oZXJpdCdcbiAgaGVhZGluZ0xldmVscz86ICdpbmhlcml0JyB8ICgxIHwgMiB8IDMgfCA0IHwgNSB8IDYpW11cbiAgaW5saW5lTWFya3M/OiBJbmxpbmVNYXJrc0NvbmZpZ1xuICBsaXN0VHlwZXM/OiAnaW5oZXJpdCdcbiAgc29mdEJyZWFrcz86ICdpbmhlcml0J1xufVxuXG5leHBvcnQgdHlwZSBDaGlsZEZpZWxkID0ge1xuICBraW5kOiAnY2hpbGQnXG4gIG9wdGlvbnM6XG4gICAgfCB7XG4gICAgICAgIGtpbmQ6ICdibG9jaydcbiAgICAgICAgcGxhY2Vob2xkZXI6IHN0cmluZ1xuICAgICAgICBmb3JtYXR0aW5nPzogQmxvY2tGb3JtYXR0aW5nQ29uZmlnXG4gICAgICAgIGRpdmlkZXJzPzogJ2luaGVyaXQnXG4gICAgICAgIGxpbmtzPzogJ2luaGVyaXQnXG4gICAgICAgIHJlbGF0aW9uc2hpcHM/OiAnaW5oZXJpdCdcbiAgICAgICAgY29tcG9uZW50QmxvY2tzPzogJ2luaGVyaXQnXG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIGtpbmQ6ICdpbmxpbmUnXG4gICAgICAgIHBsYWNlaG9sZGVyOiBzdHJpbmdcbiAgICAgICAgZm9ybWF0dGluZz86IHtcbiAgICAgICAgICBpbmxpbmVNYXJrcz86IElubGluZU1hcmtzQ29uZmlnXG4gICAgICAgICAgc29mdEJyZWFrcz86ICdpbmhlcml0J1xuICAgICAgICB9XG4gICAgICAgIGxpbmtzPzogJ2luaGVyaXQnXG4gICAgICAgIHJlbGF0aW9uc2hpcHM/OiAnaW5oZXJpdCdcbiAgICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBPYmplY3RGaWVsZDxcbiAgRmllbGRzIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgQ29tcG9uZW50U2NoZW1hPiA9IFJlY29yZDxzdHJpbmcsIENvbXBvbmVudFNjaGVtYT4sXG4+IHtcbiAga2luZDogJ29iamVjdCdcbiAgZmllbGRzOiBGaWVsZHNcbn1cblxuZXhwb3J0IHR5cGUgQXJyYXlGaWVsZDxFbGVtZW50RmllbGQgZXh0ZW5kcyBDb21wb25lbnRTY2hlbWE+ID0ge1xuICBraW5kOiAnYXJyYXknXG4gIGVsZW1lbnQ6IEVsZW1lbnRGaWVsZFxuICAvLyB0aGlzIGlzIHdyaXR0ZW4gd2l0aCB1bmtub3duIHRvIGF2b2lkIHR5cGVzY3JpcHQgYmVpbmcgYW5ub3lpbmcgYWJvdXQgY2lyY3VsYXJpdHkgb3IgdmFyaWFuY2UgdGhpbmdzXG4gIGl0ZW1MYWJlbD8ocHJvcHM6IHVua25vd24pOiBzdHJpbmdcbiAgbGFiZWw/OiBzdHJpbmdcbn1cblxuZXhwb3J0IHR5cGUgUmVsYXRpb25zaGlwRmllbGQ8TWFueSBleHRlbmRzIGJvb2xlYW4+ID0ge1xuICBraW5kOiAncmVsYXRpb25zaGlwJ1xuICBsaXN0S2V5OiBzdHJpbmdcbiAgbGFiZWw6IHN0cmluZ1xuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbFxuICBsYWJlbEZpZWxkOiBzdHJpbmcgfCBudWxsXG4gIHNlbGVjdGlvbjogc3RyaW5nIHwgbnVsbFxuICBtYW55OiBNYW55XG59XG5cbmV4cG9ydCB0eXBlIENvbmRpdGlvbmFsRmllbGQ8XG4gIERpc2NyaW1pbmFudEZpZWxkIGV4dGVuZHMgeyBkZWZhdWx0VmFsdWU6IGFueSB9LFxuICBDb25kaXRpb25hbFZhbHVlcyBleHRlbmRzIHtcbiAgICBbS2V5IGluIGAke0Rpc2NyaW1pbmFudEZpZWxkWydkZWZhdWx0VmFsdWUnXX1gXTogQ29tcG9uZW50U2NoZW1hXG4gIH0gPSB7XG4gICAgW0tleSBpbiBgJHtEaXNjcmltaW5hbnRGaWVsZFsnZGVmYXVsdFZhbHVlJ119YF06IENvbXBvbmVudFNjaGVtYVxuICB9LFxuPiA9IHtcbiAga2luZDogJ2NvbmRpdGlvbmFsJ1xuICBkaXNjcmltaW5hbnQ6IERpc2NyaW1pbmFudEZpZWxkXG4gIHZhbHVlczogQ29uZGl0aW9uYWxWYWx1ZXNcbn1cblxuLy8gdGhpcyBpcyB3cml0dGVuIGxpa2UgdGhpcyByYXRoZXIgdGhhbiBBcnJheUZpZWxkPENvbXBvbmVudFNjaGVtYT4gdG8gYXZvaWQgVHlwZVNjcmlwdCBlcnJvcmluZyBhYm91dCBjaXJjdWxhcml0eVxudHlwZSBBcnJheUZpZWxkSW5Db21wb25lbnRTY2hlbWEgPSB7XG4gIGtpbmQ6ICdhcnJheSdcbiAgZWxlbWVudDogQ29tcG9uZW50U2NoZW1hXG4gIC8vIHRoaXMgaXMgd3JpdHRlbiB3aXRoIHVua25vd24gdG8gYXZvaWQgdHlwZXNjcmlwdCBiZWluZyBhbm5veWluZyBhYm91dCBjaXJjdWxhcml0eSBvciB2YXJpYW5jZSB0aGluZ3NcbiAgaXRlbUxhYmVsPyhwcm9wczogdW5rbm93bik6IHN0cmluZ1xuICBsYWJlbD86IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBDb21wb25lbnRTY2hlbWEgPVxuICB8IENoaWxkRmllbGRcbiAgfCBGb3JtRmllbGQ8YW55LCBhbnk+XG4gIHwgT2JqZWN0RmllbGRcbiAgfCBBcnJheUZpZWxkSW5Db21wb25lbnRTY2hlbWFcbiAgfCBSZWxhdGlvbnNoaXBGaWVsZDxib29sZWFuPlxuICB8IENvbmRpdGlvbmFsRmllbGQ8YW55LCB7IFtrZXk6IHN0cmluZ106IENvbXBvbmVudFNjaGVtYSB9PlxuXG50eXBlIENoaWxkRmllbGRQcmV2aWV3UHJvcHM8U2NoZW1hIGV4dGVuZHMgQ2hpbGRGaWVsZCwgQ2hpbGRGaWVsZEVsZW1lbnQ+ID0ge1xuICByZWFkb25seSBlbGVtZW50OiBDaGlsZEZpZWxkRWxlbWVudFxuICByZWFkb25seSBzY2hlbWE6IFNjaGVtYVxufVxuXG50eXBlIEZvcm1GaWVsZFByZXZpZXdQcm9wczxTY2hlbWEgZXh0ZW5kcyBGb3JtRmllbGQ8YW55LCBhbnk+PiA9IHtcbiAgcmVhZG9ubHkgdmFsdWU6IFNjaGVtYVsnZGVmYXVsdFZhbHVlJ11cbiAgb25DaGFuZ2UodmFsdWU6IFNjaGVtYVsnZGVmYXVsdFZhbHVlJ10pOiB2b2lkXG4gIHJlYWRvbmx5IG9wdGlvbnM6IFNjaGVtYVsnb3B0aW9ucyddXG4gIHJlYWRvbmx5IHNjaGVtYTogU2NoZW1hXG59XG5cbnR5cGUgT2JqZWN0RmllbGRQcmV2aWV3UHJvcHM8U2NoZW1hIGV4dGVuZHMgT2JqZWN0RmllbGQ8YW55PiwgQ2hpbGRGaWVsZEVsZW1lbnQ+ID0ge1xuICByZWFkb25seSBmaWVsZHM6IHtcbiAgICByZWFkb25seSBbS2V5IGluIGtleW9mIFNjaGVtYVsnZmllbGRzJ11dOiBHZW5lcmljUHJldmlld1Byb3BzPFxuICAgICAgU2NoZW1hWydmaWVsZHMnXVtLZXldLFxuICAgICAgQ2hpbGRGaWVsZEVsZW1lbnRcbiAgICA+XG4gIH1cbiAgb25DaGFuZ2UodmFsdWU6IHtcbiAgICByZWFkb25seSBbS2V5IGluIGtleW9mIFNjaGVtYVsnZmllbGRzJ11dPzogSW5pdGlhbE9yVXBkYXRlVmFsdWVGcm9tQ29tcG9uZW50UHJvcEZpZWxkPFxuICAgICAgU2NoZW1hWydmaWVsZHMnXVtLZXldXG4gICAgPlxuICB9KTogdm9pZFxuICByZWFkb25seSBzY2hlbWE6IFNjaGVtYVxufVxuXG5leHBvcnQgdHlwZSBHZW5lcmljUHJldmlld1Byb3BzPFxuICBTY2hlbWEgZXh0ZW5kcyBDb21wb25lbnRTY2hlbWEsXG4gIENoaWxkRmllbGRFbGVtZW50LFxuPiA9IFNjaGVtYSBleHRlbmRzIENoaWxkRmllbGRcbiAgPyBDaGlsZEZpZWxkUHJldmlld1Byb3BzPFNjaGVtYSwgQ2hpbGRGaWVsZEVsZW1lbnQ+XG4gIDogU2NoZW1hIGV4dGVuZHMgRm9ybUZpZWxkPGluZmVyIFZhbHVlLCBpbmZlciBPcHRpb25zPlxuICAgID8gRm9ybUZpZWxkUHJldmlld1Byb3BzPFNjaGVtYT5cbiAgICA6IFNjaGVtYSBleHRlbmRzIE9iamVjdEZpZWxkPGluZmVyIFZhbHVlPlxuICAgICAgPyBPYmplY3RGaWVsZFByZXZpZXdQcm9wczxTY2hlbWEsIENoaWxkRmllbGRFbGVtZW50PlxuICAgICAgOiBTY2hlbWEgZXh0ZW5kcyBDb25kaXRpb25hbEZpZWxkPGluZmVyIERpc2NyaW1pbmFudEZpZWxkLCBpbmZlciBWYWx1ZXM+XG4gICAgICAgID8gQ29uZGl0aW9uYWxGaWVsZFByZXZpZXdQcm9wczxTY2hlbWEsIENoaWxkRmllbGRFbGVtZW50PlxuICAgICAgICA6IFNjaGVtYSBleHRlbmRzIFJlbGF0aW9uc2hpcEZpZWxkPGluZmVyIE1hbnk+XG4gICAgICAgICAgPyBSZWxhdGlvbnNoaXBGaWVsZFByZXZpZXdQcm9wczxTY2hlbWE+XG4gICAgICAgICAgOiBTY2hlbWEgZXh0ZW5kcyBBcnJheUZpZWxkPGluZmVyIEVsZW1lbnRGaWVsZD5cbiAgICAgICAgICAgID8gQXJyYXlGaWVsZFByZXZpZXdQcm9wczxTY2hlbWEsIENoaWxkRmllbGRFbGVtZW50PlxuICAgICAgICAgICAgOiBuZXZlclxuXG5leHBvcnQgdHlwZSBJbml0aWFsT3JVcGRhdGVWYWx1ZUZyb21Db21wb25lbnRQcm9wRmllbGQ8U2NoZW1hIGV4dGVuZHMgQ29tcG9uZW50U2NoZW1hPiA9XG4gIFNjaGVtYSBleHRlbmRzIENoaWxkRmllbGRcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogU2NoZW1hIGV4dGVuZHMgRm9ybUZpZWxkPGluZmVyIFZhbHVlLCBhbnk+XG4gICAgICA/IFZhbHVlIHwgdW5kZWZpbmVkXG4gICAgICA6IFNjaGVtYSBleHRlbmRzIE9iamVjdEZpZWxkPGluZmVyIFZhbHVlPlxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHJlYWRvbmx5IFtLZXkgaW4ga2V5b2YgVmFsdWVdPzogSW5pdGlhbE9yVXBkYXRlVmFsdWVGcm9tQ29tcG9uZW50UHJvcEZpZWxkPFZhbHVlW0tleV0+XG4gICAgICAgICAgfVxuICAgICAgICA6IFNjaGVtYSBleHRlbmRzIENvbmRpdGlvbmFsRmllbGQ8aW5mZXIgRGlzY3JpbWluYW50RmllbGQsIGluZmVyIFZhbHVlcz5cbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgcmVhZG9ubHkgW0tleSBpbiBrZXlvZiBWYWx1ZXNdOiB7XG4gICAgICAgICAgICAgICAgcmVhZG9ubHkgZGlzY3JpbWluYW50OiBEaXNjcmltaW5hbnRTdHJpbmdUb0Rpc2NyaW1pbmFudFZhbHVlPERpc2NyaW1pbmFudEZpZWxkLCBLZXk+XG4gICAgICAgICAgICAgICAgcmVhZG9ubHkgdmFsdWU/OiBJbml0aWFsT3JVcGRhdGVWYWx1ZUZyb21Db21wb25lbnRQcm9wRmllbGQ8VmFsdWVzW0tleV0+XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1ba2V5b2YgVmFsdWVzXVxuICAgICAgICAgIDogU2NoZW1hIGV4dGVuZHMgUmVsYXRpb25zaGlwRmllbGQ8aW5mZXIgTWFueT5cbiAgICAgICAgICAgID8gTWFueSBleHRlbmRzIHRydWVcbiAgICAgICAgICAgICAgPyByZWFkb25seSBIeWRyYXRlZFJlbGF0aW9uc2hpcERhdGFbXVxuICAgICAgICAgICAgICA6IEh5ZHJhdGVkUmVsYXRpb25zaGlwRGF0YSB8IG51bGxcbiAgICAgICAgICAgIDogU2NoZW1hIGV4dGVuZHMgQXJyYXlGaWVsZDxpbmZlciBFbGVtZW50RmllbGQ+XG4gICAgICAgICAgICAgID8gcmVhZG9ubHkge1xuICAgICAgICAgICAgICAgICAga2V5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgIHZhbHVlPzogSW5pdGlhbE9yVXBkYXRlVmFsdWVGcm9tQ29tcG9uZW50UHJvcEZpZWxkPEVsZW1lbnRGaWVsZD5cbiAgICAgICAgICAgICAgICB9W11cbiAgICAgICAgICAgICAgOiBuZXZlclxuXG50eXBlIENvbmRpdGlvbmFsRmllbGRQcmV2aWV3UHJvcHM8U2NoZW1hIGV4dGVuZHMgQ29uZGl0aW9uYWxGaWVsZDxhbnksIGFueT4sIENoaWxkRmllbGRFbGVtZW50PiA9IHtcbiAgcmVhZG9ubHkgW0tleSBpbiBrZXlvZiBTY2hlbWFbJ3ZhbHVlcyddXToge1xuICAgIHJlYWRvbmx5IGRpc2NyaW1pbmFudDogRGlzY3JpbWluYW50U3RyaW5nVG9EaXNjcmltaW5hbnRWYWx1ZTxTY2hlbWFbJ2Rpc2NyaW1pbmFudCddLCBLZXk+XG4gICAgb25DaGFuZ2U8RGlzY3JpbWluYW50IGV4dGVuZHMgU2NoZW1hWydkaXNjcmltaW5hbnQnXVsnZGVmYXVsdFZhbHVlJ10+KFxuICAgICAgZGlzY3JpbWluYW50OiBEaXNjcmltaW5hbnQsXG4gICAgICB2YWx1ZT86IEluaXRpYWxPclVwZGF0ZVZhbHVlRnJvbUNvbXBvbmVudFByb3BGaWVsZDxTY2hlbWFbJ3ZhbHVlcyddW2Ake0Rpc2NyaW1pbmFudH1gXT5cbiAgICApOiB2b2lkXG4gICAgcmVhZG9ubHkgb3B0aW9uczogU2NoZW1hWydkaXNjcmltaW5hbnQnXVsnb3B0aW9ucyddXG4gICAgcmVhZG9ubHkgdmFsdWU6IEdlbmVyaWNQcmV2aWV3UHJvcHM8U2NoZW1hWyd2YWx1ZXMnXVtLZXldLCBDaGlsZEZpZWxkRWxlbWVudD5cbiAgICByZWFkb25seSBzY2hlbWE6IFNjaGVtYVxuICB9XG59W2tleW9mIFNjaGVtYVsndmFsdWVzJ11dXG5cbi8vIHRoaXMgaXMgYSBzZXBhcmF0ZSB0eXBlIHNvIHRoYXQgdGhpcyBpcyBkaXN0cmlidXRpdmVcbnR5cGUgUmVsYXRpb25zaGlwRGF0YVR5cGU8TWFueSBleHRlbmRzIGJvb2xlYW4+ID0gTWFueSBleHRlbmRzIHRydWVcbiAgPyByZWFkb25seSBIeWRyYXRlZFJlbGF0aW9uc2hpcERhdGFbXVxuICA6IEh5ZHJhdGVkUmVsYXRpb25zaGlwRGF0YSB8IG51bGxcblxudHlwZSBSZWxhdGlvbnNoaXBGaWVsZFByZXZpZXdQcm9wczxTY2hlbWEgZXh0ZW5kcyBSZWxhdGlvbnNoaXBGaWVsZDxib29sZWFuPj4gPSB7XG4gIHJlYWRvbmx5IHZhbHVlOiBSZWxhdGlvbnNoaXBEYXRhVHlwZTxTY2hlbWFbJ21hbnknXT5cbiAgb25DaGFuZ2UocmVsYXRpb25zaGlwRGF0YTogUmVsYXRpb25zaGlwRGF0YVR5cGU8U2NoZW1hWydtYW55J10+KTogdm9pZFxuICByZWFkb25seSBzY2hlbWE6IFNjaGVtYVxufVxuXG50eXBlIEFycmF5RmllbGRQcmV2aWV3UHJvcHM8U2NoZW1hIGV4dGVuZHMgQXJyYXlGaWVsZDxDb21wb25lbnRTY2hlbWE+LCBDaGlsZEZpZWxkRWxlbWVudD4gPSB7XG4gIHJlYWRvbmx5IGVsZW1lbnRzOiByZWFkb25seSAoR2VuZXJpY1ByZXZpZXdQcm9wczxTY2hlbWFbJ2VsZW1lbnQnXSwgQ2hpbGRGaWVsZEVsZW1lbnQ+ICYge1xuICAgIHJlYWRvbmx5IGtleTogc3RyaW5nXG4gIH0pW11cbiAgcmVhZG9ubHkgb25DaGFuZ2U6IChcbiAgICB2YWx1ZTogcmVhZG9ubHkge1xuICAgICAga2V5OiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgICAgIHZhbHVlPzogSW5pdGlhbE9yVXBkYXRlVmFsdWVGcm9tQ29tcG9uZW50UHJvcEZpZWxkPFNjaGVtYVsnZWxlbWVudCddPlxuICAgIH1bXVxuICApID0+IHZvaWRcbiAgcmVhZG9ubHkgc2NoZW1hOiBTY2hlbWFcbn1cblxudHlwZSBEaXNjcmltaW5hbnRTdHJpbmdUb0Rpc2NyaW1pbmFudFZhbHVlPFxuICBEaXNjcmltaW5hbnRGaWVsZCBleHRlbmRzIHsgZGVmYXVsdFZhbHVlOiBhbnkgfSxcbiAgRGlzY3JpbWluYW50U3RyaW5nIGV4dGVuZHMgUHJvcGVydHlLZXksXG4+ID0gRGlzY3JpbWluYW50RmllbGRbJ2RlZmF1bHRWYWx1ZSddIGV4dGVuZHMgYm9vbGVhblxuICA/ICd0cnVlJyBleHRlbmRzIERpc2NyaW1pbmFudFN0cmluZ1xuICAgID8gdHJ1ZVxuICAgIDogJ2ZhbHNlJyBleHRlbmRzIERpc2NyaW1pbmFudFN0cmluZ1xuICAgICAgPyBmYWxzZVxuICAgICAgOiBuZXZlclxuICA6IERpc2NyaW1pbmFudFN0cmluZ1xuXG5leHBvcnQgdHlwZSBIeWRyYXRlZFJlbGF0aW9uc2hpcERhdGEgPSB7XG4gIGlkOiBzdHJpbmdcbiAgbGFiZWw6IHN0cmluZyB8IG51bGxcbiAgZGF0YT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG59XG5cbmV4cG9ydCB0eXBlIFJlbGF0aW9uc2hpcERhdGEgPSB7XG4gIGlkOiBzdHJpbmdcbiAgbGFiZWw6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWRcbiAgZGF0YT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG59XG5cbnR5cGUgVmFsdWVGb3JSZW5kZXJpbmdGcm9tQ29tcG9uZW50UHJvcEZpZWxkPFNjaGVtYSBleHRlbmRzIENvbXBvbmVudFNjaGVtYT4gPVxuICBTY2hlbWEgZXh0ZW5kcyBDaGlsZEZpZWxkXG4gICAgPyBSZWFjdE5vZGVcbiAgICA6IFNjaGVtYSBleHRlbmRzIEZvcm1GaWVsZDxpbmZlciBWYWx1ZSwgYW55PlxuICAgICAgPyBWYWx1ZVxuICAgICAgOiBTY2hlbWEgZXh0ZW5kcyBPYmplY3RGaWVsZDxpbmZlciBWYWx1ZT5cbiAgICAgICAgPyB7IHJlYWRvbmx5IFtLZXkgaW4ga2V5b2YgVmFsdWVdOiBWYWx1ZUZvclJlbmRlcmluZ0Zyb21Db21wb25lbnRQcm9wRmllbGQ8VmFsdWVbS2V5XT4gfVxuICAgICAgICA6IFNjaGVtYSBleHRlbmRzIENvbmRpdGlvbmFsRmllbGQ8aW5mZXIgRGlzY3JpbWluYW50RmllbGQsIGluZmVyIFZhbHVlcz5cbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgcmVhZG9ubHkgW0tleSBpbiBrZXlvZiBWYWx1ZXNdOiB7XG4gICAgICAgICAgICAgICAgcmVhZG9ubHkgZGlzY3JpbWluYW50OiBEaXNjcmltaW5hbnRTdHJpbmdUb0Rpc2NyaW1pbmFudFZhbHVlPERpc2NyaW1pbmFudEZpZWxkLCBLZXk+XG4gICAgICAgICAgICAgICAgcmVhZG9ubHkgdmFsdWU6IFZhbHVlRm9yUmVuZGVyaW5nRnJvbUNvbXBvbmVudFByb3BGaWVsZDxWYWx1ZXNbS2V5XT5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVtrZXlvZiBWYWx1ZXNdXG4gICAgICAgICAgOiBTY2hlbWEgZXh0ZW5kcyBSZWxhdGlvbnNoaXBGaWVsZDxpbmZlciBNYW55PlxuICAgICAgICAgICAgPyBNYW55IGV4dGVuZHMgdHJ1ZVxuICAgICAgICAgICAgICA/IHJlYWRvbmx5IEh5ZHJhdGVkUmVsYXRpb25zaGlwRGF0YVtdXG4gICAgICAgICAgICAgIDogSHlkcmF0ZWRSZWxhdGlvbnNoaXBEYXRhIHwgbnVsbFxuICAgICAgICAgICAgOiBTY2hlbWEgZXh0ZW5kcyBBcnJheUZpZWxkPGluZmVyIEVsZW1lbnRGaWVsZD5cbiAgICAgICAgICAgICAgPyByZWFkb25seSBWYWx1ZUZvclJlbmRlcmluZ0Zyb21Db21wb25lbnRQcm9wRmllbGQ8RWxlbWVudEZpZWxkPltdXG4gICAgICAgICAgICAgIDogbmV2ZXJcblxuZXhwb3J0IHR5cGUgVmFsdWVGb3JDb21wb25lbnRTY2hlbWE8U2NoZW1hIGV4dGVuZHMgQ29tcG9uZW50U2NoZW1hPiA9IFNjaGVtYSBleHRlbmRzIENoaWxkRmllbGRcbiAgPyBudWxsXG4gIDogU2NoZW1hIGV4dGVuZHMgRm9ybUZpZWxkPGluZmVyIFZhbHVlLCBhbnk+XG4gICAgPyBWYWx1ZVxuICAgIDogU2NoZW1hIGV4dGVuZHMgT2JqZWN0RmllbGQ8aW5mZXIgVmFsdWU+XG4gICAgICA/IHsgcmVhZG9ubHkgW0tleSBpbiBrZXlvZiBWYWx1ZV06IFZhbHVlRm9yUmVuZGVyaW5nRnJvbUNvbXBvbmVudFByb3BGaWVsZDxWYWx1ZVtLZXldPiB9XG4gICAgICA6IFNjaGVtYSBleHRlbmRzIENvbmRpdGlvbmFsRmllbGQ8aW5mZXIgRGlzY3JpbWluYW50RmllbGQsIGluZmVyIFZhbHVlcz5cbiAgICAgICAgPyB7XG4gICAgICAgICAgICByZWFkb25seSBbS2V5IGluIGtleW9mIFZhbHVlc106IHtcbiAgICAgICAgICAgICAgcmVhZG9ubHkgZGlzY3JpbWluYW50OiBEaXNjcmltaW5hbnRTdHJpbmdUb0Rpc2NyaW1pbmFudFZhbHVlPERpc2NyaW1pbmFudEZpZWxkLCBLZXk+XG4gICAgICAgICAgICAgIHJlYWRvbmx5IHZhbHVlOiBWYWx1ZUZvclJlbmRlcmluZ0Zyb21Db21wb25lbnRQcm9wRmllbGQ8VmFsdWVzW0tleV0+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVtrZXlvZiBWYWx1ZXNdXG4gICAgICAgIDogU2NoZW1hIGV4dGVuZHMgUmVsYXRpb25zaGlwRmllbGQ8aW5mZXIgTWFueT5cbiAgICAgICAgICA/IE1hbnkgZXh0ZW5kcyB0cnVlXG4gICAgICAgICAgICA/IHJlYWRvbmx5IEh5ZHJhdGVkUmVsYXRpb25zaGlwRGF0YVtdXG4gICAgICAgICAgICA6IEh5ZHJhdGVkUmVsYXRpb25zaGlwRGF0YSB8IG51bGxcbiAgICAgICAgICA6IFNjaGVtYSBleHRlbmRzIEFycmF5RmllbGQ8aW5mZXIgRWxlbWVudEZpZWxkPlxuICAgICAgICAgICAgPyByZWFkb25seSBWYWx1ZUZvclJlbmRlcmluZ0Zyb21Db21wb25lbnRQcm9wRmllbGQ8RWxlbWVudEZpZWxkPltdXG4gICAgICAgICAgICA6IG5ldmVyXG5cbnR5cGUgQ29tcDxQcm9wcz4gPSAocHJvcHM6IFByb3BzKSA9PiBSZWFjdE5vZGVcblxudHlwZSBFeHRyYWN0UHJvcHNGb3JQcm9wc0ZvclJlbmRlcmluZzxQcm9wcyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIENvbXBvbmVudFNjaGVtYT4+ID0ge1xuICByZWFkb25seSBbS2V5IGluIGtleW9mIFByb3BzXTogVmFsdWVGb3JSZW5kZXJpbmdGcm9tQ29tcG9uZW50UHJvcEZpZWxkPFByb3BzW0tleV0+XG59XG5cbmV4cG9ydCB0eXBlIEluZmVyUmVuZGVyZXJzRm9yQ29tcG9uZW50QmxvY2tzPFxuICBDb21wb25lbnRCbG9ja3MgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBDb21wb25lbnRCbG9jazxhbnk+Pixcbj4gPSB7XG4gIFtLZXkgaW4ga2V5b2YgQ29tcG9uZW50QmxvY2tzXTogQ29tcDxcbiAgICBFeHRyYWN0UHJvcHNGb3JQcm9wc0ZvclJlbmRlcmluZzxDb21wb25lbnRCbG9ja3NbS2V5XVsnc2NoZW1hJ10+XG4gID5cbn1cblxuZXhwb3J0IHR5cGUgQ29tcG9uZW50QmxvY2s8XG4gIEZpZWxkcyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIENvbXBvbmVudFNjaGVtYT4gPSBSZWNvcmQ8c3RyaW5nLCBDb21wb25lbnRTY2hlbWE+LFxuPiA9IHtcbiAgcHJldmlldzogKHByb3BzOiBhbnkpID0+IFJlYWN0RWxlbWVudCB8IG51bGxcbiAgc2NoZW1hOiBGaWVsZHNcbiAgbGFiZWw6IHN0cmluZ1xufSAmIChcbiAgfCB7XG4gICAgICBjaHJvbWVsZXNzOiB0cnVlXG4gICAgICB0b29sYmFyPzogKHByb3BzOiB7IHByb3BzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+OyBvblJlbW92ZSgpOiB2b2lkIH0pID0+IFJlYWN0RWxlbWVudFxuICAgIH1cbiAgfCB7XG4gICAgICBjaHJvbWVsZXNzPzogZmFsc2VcbiAgICAgIHRvb2xiYXI/OiAocHJvcHM6IHtcbiAgICAgICAgcHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT5cbiAgICAgICAgb25TaG93RWRpdE1vZGUoKTogdm9pZFxuICAgICAgICBvblJlbW92ZSgpOiB2b2lkXG4gICAgICAgIGlzVmFsaWQ6IGJvb2xlYW5cbiAgICAgIH0pID0+IFJlYWN0RWxlbWVudFxuICAgIH1cbilcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/component-blocks/api-shared.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/component-blocks/api.tsx":
/*!****************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/component-blocks/api.tsx ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NotEditable: () => (/* binding */ NotEditable),\n/* harmony export */   component: () => (/* binding */ component),\n/* harmony export */   fields: () => (/* binding */ fields)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystone-6/core */ \"../../../../packages/core/src/index.ts\");\n/* harmony import */ var _isValidURL__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../isValidURL */ \"../../../../packages/fields-document/src/DocumentEditor/isValidURL.ts\");\n/* harmony import */ var _fields_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! #fields-ui */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/fields-ui-empty.tsx\");\n/* harmony import */ var _api_shared__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./api-shared */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/api-shared.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _api_shared__WEBPACK_IMPORTED_MODULE_4__) if([\"default\",\"fields\",\"component\",\"NotEditable\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _api_shared__WEBPACK_IMPORTED_MODULE_4__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n\n\nconst fields = {\n    text ({ label, defaultValue = '', displayMode }) {\n        return {\n            kind: 'form',\n            Input ({ value, onChange, autoFocus }) {\n                if (displayMode === 'textarea') {\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fields_ui__WEBPACK_IMPORTED_MODULE_3__.TextArea, {\n                        autoFocus: autoFocus,\n                        label: label,\n                        onChange: (x)=>onChange?.(x),\n                        value: value\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/api.tsx\",\n                        lineNumber: 52,\n                        columnNumber: 13\n                    }, this);\n                }\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fields_ui__WEBPACK_IMPORTED_MODULE_3__.TextField, {\n                    autoFocus: autoFocus,\n                    label: label,\n                    onChange: (x)=>onChange?.(x),\n                    value: value\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/api.tsx\",\n                    lineNumber: 61,\n                    columnNumber: 11\n                }, this);\n            },\n            options: undefined,\n            defaultValue,\n            validate (value) {\n                return typeof value === 'string';\n            },\n            graphql: {\n                input: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.String,\n                output: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.field({\n                    type: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.String\n                })\n            }\n        };\n    },\n    integer ({ label, defaultValue = 0 }) {\n        const validate = (value)=>{\n            return typeof value === 'number' && Number.isFinite(value);\n        };\n        return {\n            kind: 'form',\n            Input: (0,_fields_ui__WEBPACK_IMPORTED_MODULE_3__.makeIntegerFieldInput)({\n                label,\n                validate\n            }),\n            options: undefined,\n            defaultValue,\n            validate,\n            graphql: {\n                input: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.Int,\n                output: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.field({\n                    type: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.Int\n                })\n            }\n        };\n    },\n    url ({ label, defaultValue = '' }) {\n        const validate = (value)=>{\n            return typeof value === 'string' && (value === '' || (0,_isValidURL__WEBPACK_IMPORTED_MODULE_2__.isValidURL)(value));\n        };\n        return {\n            kind: 'form',\n            Input: (0,_fields_ui__WEBPACK_IMPORTED_MODULE_3__.makeUrlFieldInput)({\n                label,\n                validate\n            }),\n            options: undefined,\n            defaultValue,\n            validate,\n            graphql: {\n                input: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.String,\n                output: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.field({\n                    type: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.String\n                })\n            }\n        };\n    },\n    select ({ label, options, defaultValue }) {\n        const optionValuesSet = new Set(options.map((x)=>x.value));\n        if (!optionValuesSet.has(defaultValue)) throw new Error(`A defaultValue of ${defaultValue} was provided to a select field but it does not match the value of one of the options provided`);\n        return {\n            kind: 'form',\n            Input: (0,_fields_ui__WEBPACK_IMPORTED_MODULE_3__.makeSelectFieldInput)({\n                label,\n                options\n            }),\n            options,\n            defaultValue,\n            validate (value) {\n                return typeof value === 'string' && optionValuesSet.has(value);\n            },\n            graphql: {\n                input: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.String,\n                output: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.field({\n                    type: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.String,\n                    // TODO: FIXME why is this required\n                    resolve ({ value }) {\n                        return value;\n                    }\n                })\n            }\n        };\n    },\n    multiselect ({ label, options, defaultValue }) {\n        const valuesToOption = new Map(options.map((x)=>[\n                x.value,\n                x\n            ]));\n        return {\n            kind: 'form',\n            Input: (0,_fields_ui__WEBPACK_IMPORTED_MODULE_3__.makeMultiselectFieldInput)({\n                label,\n                options\n            }),\n            options,\n            defaultValue,\n            validate (value) {\n                return Array.isArray(value) && value.every((value)=>typeof value === 'string' && valuesToOption.has(value));\n            },\n            graphql: {\n                input: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.list(_keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.nonNull(_keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.String)),\n                output: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.field({\n                    type: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.list(_keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.nonNull(_keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.String)),\n                    // TODO: why is this required\n                    resolve ({ value }) {\n                        return value;\n                    }\n                })\n            }\n        };\n    },\n    checkbox ({ label, defaultValue = false }) {\n        return {\n            kind: 'form',\n            Input ({ value, onChange, autoFocus }) {\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fields_ui__WEBPACK_IMPORTED_MODULE_3__.Checkbox, {\n                    autoFocus: autoFocus,\n                    isReadOnly: onChange == null,\n                    isSelected: value,\n                    onChange: onChange,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fields_ui__WEBPACK_IMPORTED_MODULE_3__.Text, {\n                        children: label\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/api.tsx\",\n                        lineNumber: 215,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/api.tsx\",\n                    lineNumber: 209,\n                    columnNumber: 11\n                }, this);\n            },\n            options: undefined,\n            defaultValue,\n            validate (value) {\n                return typeof value === 'boolean';\n            },\n            graphql: {\n                input: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.Boolean,\n                output: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.field({\n                    type: _keystone_6_core__WEBPACK_IMPORTED_MODULE_1__.g.Boolean\n                })\n            }\n        };\n    },\n    empty () {\n        return {\n            kind: 'form',\n            Input () {\n                return null;\n            },\n            options: undefined,\n            defaultValue: null,\n            validate (value) {\n                return value === null || value === undefined;\n            }\n        };\n    },\n    child (options) {\n        return {\n            kind: 'child',\n            options: options.kind === 'block' ? {\n                kind: 'block',\n                placeholder: options.placeholder,\n                dividers: options.dividers,\n                formatting: options.formatting === 'inherit' ? {\n                    blockTypes: 'inherit',\n                    headingLevels: 'inherit',\n                    inlineMarks: 'inherit',\n                    listTypes: 'inherit',\n                    alignment: 'inherit',\n                    softBreaks: 'inherit'\n                } : options.formatting,\n                links: options.links,\n                relationships: options.relationships,\n                componentBlocks: options.componentBlocks\n            } : {\n                kind: 'inline',\n                placeholder: options.placeholder,\n                formatting: options.formatting === 'inherit' ? {\n                    inlineMarks: 'inherit',\n                    softBreaks: 'inherit'\n                } : options.formatting,\n                links: options.links,\n                relationships: options.relationships\n            }\n        };\n    },\n    object (fields) {\n        return {\n            kind: 'object',\n            fields\n        };\n    },\n    conditional (discriminant, values) {\n        return {\n            kind: 'conditional',\n            discriminant,\n            values\n        };\n    },\n    relationship ({ listKey, label, description, labelField, selection, many }) {\n        return {\n            kind: 'relationship',\n            listKey,\n            label,\n            description: description ?? null,\n            labelField: labelField ?? null,\n            selection: selection ?? null,\n            many: many ? true : false\n        };\n    },\n    array (element, opts) {\n        return {\n            kind: 'array',\n            element,\n            itemLabel: opts?.itemLabel,\n            label: opts?.label\n        };\n    }\n};\nfunction component(options) {\n    return options;\n}\nfunction NotEditable({ children, ...props }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        style: {\n            userSelect: 'none'\n        },\n        contentEditable: false,\n        ...props,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/api.tsx\",\n        lineNumber: 410,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL2FwaS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFvQztBQUdNO0FBdUJ2QjtBQUVTO0FBUXJCLE1BQU1VLFNBQVM7SUFDcEJDLE1BQUssRUFDSEMsS0FBSyxFQUNMQyxlQUFlLEVBQUUsRUFDakJDLFdBQVcsRUFLWjtRQUNDLE9BQU87WUFDTEMsTUFBTTtZQUNOQyxPQUFNLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxTQUFTLEVBQXFCO2dCQUNyRCxJQUFJTCxnQkFBZ0IsWUFBWTtvQkFDOUIscUJBQ0UsOERBQUNMLGdEQUFRQTt3QkFDUFUsV0FBV0E7d0JBQ1hQLE9BQU9BO3dCQUNQTSxVQUFVRSxDQUFBQSxJQUFLRixXQUFXRTt3QkFDMUJILE9BQU9BOzs7Ozs7Z0JBR2I7Z0JBQ0EscUJBQ0UsOERBQUNULGlEQUFTQTtvQkFDUlcsV0FBV0E7b0JBQ1hQLE9BQU9BO29CQUNQTSxVQUFVRSxDQUFBQSxJQUFLRixXQUFXRTtvQkFDMUJILE9BQU9BOzs7Ozs7WUFHYjtZQUNBSSxTQUFTQztZQUNUVDtZQUNBVSxVQUFTTixLQUFjO2dCQUNyQixPQUFPLE9BQU9BLFVBQVU7WUFDMUI7WUFDQU8sU0FBUztnQkFDUEMsT0FBT3pCLCtDQUFDQSxDQUFDMEIsTUFBTTtnQkFDZkMsUUFBUTNCLCtDQUFDQSxDQUFDNEIsS0FBSyxDQUFDO29CQUNkQyxNQUFNN0IsK0NBQUNBLENBQUMwQixNQUFNO2dCQUNoQjtZQUNGO1FBQ0Y7SUFDRjtJQUNBSSxTQUFRLEVBQ05sQixLQUFLLEVBQ0xDLGVBQWUsQ0FBQyxFQUlqQjtRQUNDLE1BQU1VLFdBQVcsQ0FBQ047WUFDaEIsT0FBTyxPQUFPQSxVQUFVLFlBQVljLE9BQU9DLFFBQVEsQ0FBQ2Y7UUFDdEQ7UUFDQSxPQUFPO1lBQ0xGLE1BQU07WUFDTkMsT0FBT2QsaUVBQXFCQSxDQUFDO2dCQUFFVTtnQkFBT1c7WUFBUztZQUMvQ0YsU0FBU0M7WUFDVFQ7WUFDQVU7WUFDQUMsU0FBUztnQkFDUEMsT0FBT3pCLCtDQUFDQSxDQUFDaUMsR0FBRztnQkFDWk4sUUFBUTNCLCtDQUFDQSxDQUFDNEIsS0FBSyxDQUFDO29CQUNkQyxNQUFNN0IsK0NBQUNBLENBQUNpQyxHQUFHO2dCQUNiO1lBQ0Y7UUFDRjtJQUNGO0lBQ0FDLEtBQUksRUFDRnRCLEtBQUssRUFDTEMsZUFBZSxFQUFFLEVBSWxCO1FBQ0MsTUFBTVUsV0FBVyxDQUFDTjtZQUNoQixPQUFPLE9BQU9BLFVBQVUsWUFBYUEsQ0FBQUEsVUFBVSxNQUFNaEIsdURBQVVBLENBQUNnQixNQUFLO1FBQ3ZFO1FBQ0EsT0FBTztZQUNMRixNQUFNO1lBQ05DLE9BQU9YLDZEQUFpQkEsQ0FBQztnQkFBRU87Z0JBQU9XO1lBQVM7WUFDM0NGLFNBQVNDO1lBQ1RUO1lBQ0FVO1lBQ0FDLFNBQVM7Z0JBQ1BDLE9BQU96QiwrQ0FBQ0EsQ0FBQzBCLE1BQU07Z0JBQ2ZDLFFBQVEzQiwrQ0FBQ0EsQ0FBQzRCLEtBQUssQ0FBQztvQkFDZEMsTUFBTTdCLCtDQUFDQSxDQUFDMEIsTUFBTTtnQkFDaEI7WUFDRjtRQUNGO0lBQ0Y7SUFDQVMsUUFBOEQsRUFDNUR2QixLQUFLLEVBQ0xTLE9BQU8sRUFDUFIsWUFBWSxFQUtiO1FBQ0MsTUFBTXVCLGtCQUFrQixJQUFJQyxJQUFJaEIsUUFBUWlCLEdBQUcsQ0FBQ2xCLENBQUFBLElBQUtBLEVBQUVILEtBQUs7UUFDeEQsSUFBSSxDQUFDbUIsZ0JBQWdCRyxHQUFHLENBQUMxQixlQUN2QixNQUFNLElBQUkyQixNQUNSLENBQUMsa0JBQWtCLEVBQUUzQixhQUFhLDhGQUE4RixDQUFDO1FBR3JJLE9BQU87WUFDTEUsTUFBTTtZQUNOQyxPQUFPWixnRUFBb0JBLENBQUM7Z0JBQUVRO2dCQUFPUztZQUFRO1lBQzdDQTtZQUNBUjtZQUNBVSxVQUFTTixLQUFjO2dCQUNyQixPQUFPLE9BQU9BLFVBQVUsWUFBWW1CLGdCQUFnQkcsR0FBRyxDQUFDdEI7WUFDMUQ7WUFDQU8sU0FBUztnQkFDUEMsT0FBT3pCLCtDQUFDQSxDQUFDMEIsTUFBTTtnQkFDZkMsUUFBUTNCLCtDQUFDQSxDQUFDNEIsS0FBSyxDQUFDO29CQUNkQyxNQUFNN0IsK0NBQUNBLENBQUMwQixNQUFNO29CQUNkLG1DQUFtQztvQkFDbkNlLFNBQVEsRUFBRXhCLEtBQUssRUFBRTt3QkFDZixPQUFPQTtvQkFDVDtnQkFDRjtZQUNGO1FBQ0Y7SUFDRjtJQUNBeUIsYUFBbUUsRUFDakU5QixLQUFLLEVBQ0xTLE9BQU8sRUFDUFIsWUFBWSxFQUtiO1FBQ0MsTUFBTThCLGlCQUFpQixJQUFJQyxJQUFJdkIsUUFBUWlCLEdBQUcsQ0FBQ2xCLENBQUFBLElBQUs7Z0JBQUNBLEVBQUVILEtBQUs7Z0JBQUVHO2FBQUU7UUFDNUQsT0FBTztZQUNMTCxNQUFNO1lBQ05DLE9BQU9iLHFFQUF5QkEsQ0FBQztnQkFBRVM7Z0JBQU9TO1lBQVE7WUFDbERBO1lBQ0FSO1lBQ0FVLFVBQVNOLEtBQWM7Z0JBQ3JCLE9BQ0U0QixNQUFNQyxPQUFPLENBQUM3QixVQUNkQSxNQUFNOEIsS0FBSyxDQUFDOUIsQ0FBQUEsUUFBUyxPQUFPQSxVQUFVLFlBQVkwQixlQUFlSixHQUFHLENBQUN0QjtZQUV6RTtZQUNBTyxTQUFTO2dCQUNQQyxPQUFPekIsK0NBQUNBLENBQUNnRCxJQUFJLENBQUNoRCwrQ0FBQ0EsQ0FBQ2lELE9BQU8sQ0FBQ2pELCtDQUFDQSxDQUFDMEIsTUFBTTtnQkFDaENDLFFBQVEzQiwrQ0FBQ0EsQ0FBQzRCLEtBQUssQ0FBQztvQkFDZEMsTUFBTTdCLCtDQUFDQSxDQUFDZ0QsSUFBSSxDQUFDaEQsK0NBQUNBLENBQUNpRCxPQUFPLENBQUNqRCwrQ0FBQ0EsQ0FBQzBCLE1BQU07b0JBQy9CLDZCQUE2QjtvQkFDN0JlLFNBQVEsRUFBRXhCLEtBQUssRUFBRTt3QkFDZixPQUFPQTtvQkFDVDtnQkFDRjtZQUNGO1FBQ0Y7SUFDRjtJQUNBaUMsVUFBUyxFQUNQdEMsS0FBSyxFQUNMQyxlQUFlLEtBQUssRUFJckI7UUFDQyxPQUFPO1lBQ0xFLE1BQU07WUFDTkMsT0FBTSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRUMsU0FBUyxFQUFzQjtnQkFDdEQscUJBQ0UsOERBQUNiLGdEQUFRQTtvQkFDUGEsV0FBV0E7b0JBQ1hnQyxZQUFZakMsWUFBWTtvQkFDeEJrQyxZQUFZbkM7b0JBQ1pDLFVBQVVBOzhCQUVWLDRFQUFDWCw0Q0FBSUE7a0NBQUVLOzs7Ozs7Ozs7OztZQUdiO1lBQ0FTLFNBQVNDO1lBQ1RUO1lBQ0FVLFVBQVNOLEtBQWM7Z0JBQ3JCLE9BQU8sT0FBT0EsVUFBVTtZQUMxQjtZQUNBTyxTQUFTO2dCQUNQQyxPQUFPekIsK0NBQUNBLENBQUNxRCxPQUFPO2dCQUNoQjFCLFFBQVEzQiwrQ0FBQ0EsQ0FBQzRCLEtBQUssQ0FBQztvQkFBRUMsTUFBTTdCLCtDQUFDQSxDQUFDcUQsT0FBTztnQkFBQztZQUNwQztRQUNGO0lBQ0Y7SUFDQUM7UUFDRSxPQUFPO1lBQ0x2QyxNQUFNO1lBQ05DO2dCQUNFLE9BQU87WUFDVDtZQUNBSyxTQUFTQztZQUNUVCxjQUFjO1lBQ2RVLFVBQVNOLEtBQWM7Z0JBQ3JCLE9BQU9BLFVBQVUsUUFBUUEsVUFBVUs7WUFDckM7UUFDRjtJQUNGO0lBQ0FpQyxPQUNFbEMsT0FxQks7UUFFTCxPQUFPO1lBQ0xOLE1BQU07WUFDTk0sU0FDRUEsUUFBUU4sSUFBSSxLQUFLLFVBQ2I7Z0JBQ0VBLE1BQU07Z0JBQ055QyxhQUFhbkMsUUFBUW1DLFdBQVc7Z0JBQ2hDQyxVQUFVcEMsUUFBUW9DLFFBQVE7Z0JBQzFCQyxZQUNFckMsUUFBUXFDLFVBQVUsS0FBSyxZQUNuQjtvQkFDRUMsWUFBWTtvQkFDWkMsZUFBZTtvQkFDZkMsYUFBYTtvQkFDYkMsV0FBVztvQkFDWEMsV0FBVztvQkFDWEMsWUFBWTtnQkFDZCxJQUNBM0MsUUFBUXFDLFVBQVU7Z0JBQ3hCTyxPQUFPNUMsUUFBUTRDLEtBQUs7Z0JBQ3BCQyxlQUFlN0MsUUFBUTZDLGFBQWE7Z0JBQ3BDQyxpQkFBaUI5QyxRQUFROEMsZUFBZTtZQUMxQyxJQUNBO2dCQUNFcEQsTUFBTTtnQkFDTnlDLGFBQWFuQyxRQUFRbUMsV0FBVztnQkFDaENFLFlBQ0VyQyxRQUFRcUMsVUFBVSxLQUFLLFlBQ25CO29CQUFFRyxhQUFhO29CQUFXRyxZQUFZO2dCQUFVLElBQ2hEM0MsUUFBUXFDLFVBQVU7Z0JBQ3hCTyxPQUFPNUMsUUFBUTRDLEtBQUs7Z0JBQ3BCQyxlQUFlN0MsUUFBUTZDLGFBQWE7WUFDdEM7UUFDUjtJQUNGO0lBQ0FFLFFBQXVEMUQsTUFBYztRQUNuRSxPQUFPO1lBQ0xLLE1BQU07WUFDTkw7UUFDRjtJQUNGO0lBQ0EyRCxhQU1FQyxZQUErQixFQUMvQkMsTUFBeUI7UUFFekIsT0FBTztZQUNMeEQsTUFBTTtZQUNOdUQ7WUFDQUM7UUFDRjtJQUNGO0lBQ0FDLGNBQXVELEVBQ3JEQyxPQUFPLEVBQ1A3RCxLQUFLLEVBQ0w4RCxXQUFXLEVBQ1hDLFVBQVUsRUFDVkMsU0FBUyxFQUNUQyxJQUFJLEVBVWlFO1FBR3JFLE9BQU87WUFDTDlELE1BQU07WUFDTjBEO1lBQ0E3RDtZQUNBOEQsYUFBYUEsZUFBZTtZQUM1QkMsWUFBWUEsY0FBYztZQUMxQkMsV0FBV0EsYUFBYTtZQUN4QkMsTUFBT0EsT0FBTyxPQUFPO1FBQ3ZCO0lBQ0Y7SUFDQUMsT0FDRUMsT0FBcUIsRUFDckJDLElBR0M7UUFFRCxPQUFPO1lBQ0xqRSxNQUFNO1lBQ05nRTtZQUNBRSxXQUFXRCxNQUFNQztZQUNqQnJFLE9BQU9vRSxNQUFNcEU7UUFDZjtJQUNGO0FBQ0YsRUFBQztBQVNNLFNBQVNzRSxVQUtkN0QsT0F1QkM7SUFFRCxPQUFPQTtBQUNUO0FBRU8sU0FBUzhELFlBQVksRUFBRUMsUUFBUSxFQUFFLEdBQUdDLE9BQXVDO0lBQ2hGLHFCQUNFLDhEQUFDQztRQUFLQyxPQUFPO1lBQUVDLFlBQVk7UUFBTztRQUFHQyxpQkFBaUI7UUFBUSxHQUFHSixLQUFLO2tCQUNuRUQ7Ozs7OztBQUdQIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvY29tcG9uZW50LWJsb2Nrcy9hcGkudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGcgfSBmcm9tICdAa2V5c3RvbmUtNi9jb3JlJ1xuXG5pbXBvcnQgdHlwZSB7IEhUTUxBdHRyaWJ1dGVzLCBSZWFjdEVsZW1lbnQsIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgaXNWYWxpZFVSTCB9IGZyb20gJy4uL2lzVmFsaWRVUkwnXG5pbXBvcnQgdHlwZSB7XG4gIEJsb2NrRm9ybWF0dGluZ0NvbmZpZyxcbiAgQ2hpbGRGaWVsZCxcbiAgQ29uZGl0aW9uYWxGaWVsZCxcbiAgQ29tcG9uZW50QmxvY2ssXG4gIENvbXBvbmVudFNjaGVtYSxcbiAgR2VuZXJpY1ByZXZpZXdQcm9wcyxcbiAgSW5saW5lTWFya3NDb25maWcsXG4gIE9iamVjdEZpZWxkLFxuICBSZWxhdGlvbnNoaXBGaWVsZCxcbiAgRm9ybUZpZWxkLFxuICBBcnJheUZpZWxkLFxufSBmcm9tICcuL2FwaS1zaGFyZWQnXG5pbXBvcnQge1xuICBtYWtlSW50ZWdlckZpZWxkSW5wdXQsXG4gIG1ha2VNdWx0aXNlbGVjdEZpZWxkSW5wdXQsXG4gIG1ha2VTZWxlY3RGaWVsZElucHV0LFxuICBtYWtlVXJsRmllbGRJbnB1dCxcbiAgQ2hlY2tib3gsXG4gIFRleHQsXG4gIFRleHRGaWVsZCxcbiAgVGV4dEFyZWEsXG59IGZyb20gJyNmaWVsZHMtdWknXG5cbmV4cG9ydCAqIGZyb20gJy4vYXBpLXNoYXJlZCdcblxudHlwZSBJbnB1dEFyZ3M8VD4gPSB7XG4gIHZhbHVlOiBUXG4gIG9uQ2hhbmdlKHZhbHVlOiBUKTogdm9pZFxuICBhdXRvRm9jdXM6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGNvbnN0IGZpZWxkcyA9IHtcbiAgdGV4dCh7XG4gICAgbGFiZWwsXG4gICAgZGVmYXVsdFZhbHVlID0gJycsXG4gICAgZGlzcGxheU1vZGUsXG4gIH06IHtcbiAgICBsYWJlbDogc3RyaW5nXG4gICAgZGVmYXVsdFZhbHVlPzogc3RyaW5nXG4gICAgZGlzcGxheU1vZGU/OiAnaW5wdXQnIHwgJ3RleHRhcmVhJ1xuICB9KTogRm9ybUZpZWxkPHN0cmluZywgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6ICdmb3JtJyBhcyBjb25zdCxcbiAgICAgIElucHV0KHsgdmFsdWUsIG9uQ2hhbmdlLCBhdXRvRm9jdXMgfTogSW5wdXRBcmdzPHN0cmluZz4pIHtcbiAgICAgICAgaWYgKGRpc3BsYXlNb2RlID09PSAndGV4dGFyZWEnKSB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxUZXh0QXJlYVxuICAgICAgICAgICAgICBhdXRvRm9jdXM9e2F1dG9Gb2N1c31cbiAgICAgICAgICAgICAgbGFiZWw9e2xhYmVsfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17eCA9PiBvbkNoYW5nZT8uKHgpfVxuICAgICAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgIGF1dG9Gb2N1cz17YXV0b0ZvY3VzfVxuICAgICAgICAgICAgbGFiZWw9e2xhYmVsfVxuICAgICAgICAgICAgb25DaGFuZ2U9e3ggPT4gb25DaGFuZ2U/Lih4KX1cbiAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICAvPlxuICAgICAgICApXG4gICAgICB9LFxuICAgICAgb3B0aW9uczogdW5kZWZpbmVkLFxuICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgdmFsaWRhdGUodmFsdWU6IHVua25vd24pIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZydcbiAgICAgIH0sXG4gICAgICBncmFwaHFsOiB7XG4gICAgICAgIGlucHV0OiBnLlN0cmluZyxcbiAgICAgICAgb3V0cHV0OiBnLmZpZWxkKHtcbiAgICAgICAgICB0eXBlOiBnLlN0cmluZyxcbiAgICAgICAgfSksXG4gICAgICB9LFxuICAgIH1cbiAgfSxcbiAgaW50ZWdlcih7XG4gICAgbGFiZWwsXG4gICAgZGVmYXVsdFZhbHVlID0gMCxcbiAgfToge1xuICAgIGxhYmVsOiBzdHJpbmdcbiAgICBkZWZhdWx0VmFsdWU/OiBudW1iZXJcbiAgfSk6IEZvcm1GaWVsZDxudW1iZXIsIHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IHZhbGlkYXRlID0gKHZhbHVlOiB1bmtub3duKSA9PiB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBOdW1iZXIuaXNGaW5pdGUodmFsdWUpXG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBraW5kOiAnZm9ybScgYXMgY29uc3QsXG4gICAgICBJbnB1dDogbWFrZUludGVnZXJGaWVsZElucHV0KHsgbGFiZWwsIHZhbGlkYXRlIH0pLFxuICAgICAgb3B0aW9uczogdW5kZWZpbmVkLFxuICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgdmFsaWRhdGUsXG4gICAgICBncmFwaHFsOiB7XG4gICAgICAgIGlucHV0OiBnLkludCxcbiAgICAgICAgb3V0cHV0OiBnLmZpZWxkKHtcbiAgICAgICAgICB0eXBlOiBnLkludCxcbiAgICAgICAgfSksXG4gICAgICB9LFxuICAgIH1cbiAgfSxcbiAgdXJsKHtcbiAgICBsYWJlbCxcbiAgICBkZWZhdWx0VmFsdWUgPSAnJyxcbiAgfToge1xuICAgIGxhYmVsOiBzdHJpbmdcbiAgICBkZWZhdWx0VmFsdWU/OiBzdHJpbmdcbiAgfSk6IEZvcm1GaWVsZDxzdHJpbmcsIHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IHZhbGlkYXRlID0gKHZhbHVlOiB1bmtub3duKSA9PiB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAodmFsdWUgPT09ICcnIHx8IGlzVmFsaWRVUkwodmFsdWUpKVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAga2luZDogJ2Zvcm0nIGFzIGNvbnN0LFxuICAgICAgSW5wdXQ6IG1ha2VVcmxGaWVsZElucHV0KHsgbGFiZWwsIHZhbGlkYXRlIH0pLFxuICAgICAgb3B0aW9uczogdW5kZWZpbmVkLFxuICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgdmFsaWRhdGUsXG4gICAgICBncmFwaHFsOiB7XG4gICAgICAgIGlucHV0OiBnLlN0cmluZyxcbiAgICAgICAgb3V0cHV0OiBnLmZpZWxkKHtcbiAgICAgICAgICB0eXBlOiBnLlN0cmluZyxcbiAgICAgICAgfSksXG4gICAgICB9LFxuICAgIH1cbiAgfSxcbiAgc2VsZWN0PGNvbnN0IE9wdGlvbiBleHRlbmRzIHsgbGFiZWw6IHN0cmluZzsgdmFsdWU6IHN0cmluZyB9Pih7XG4gICAgbGFiZWwsXG4gICAgb3B0aW9ucyxcbiAgICBkZWZhdWx0VmFsdWUsXG4gIH06IHtcbiAgICBsYWJlbDogc3RyaW5nXG4gICAgb3B0aW9uczogcmVhZG9ubHkgT3B0aW9uW11cbiAgICBkZWZhdWx0VmFsdWU6IE9wdGlvblsndmFsdWUnXVxuICB9KTogRm9ybUZpZWxkPE9wdGlvblsndmFsdWUnXSwgcmVhZG9ubHkgT3B0aW9uW10+IHtcbiAgICBjb25zdCBvcHRpb25WYWx1ZXNTZXQgPSBuZXcgU2V0KG9wdGlvbnMubWFwKHggPT4geC52YWx1ZSkpXG4gICAgaWYgKCFvcHRpb25WYWx1ZXNTZXQuaGFzKGRlZmF1bHRWYWx1ZSkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBBIGRlZmF1bHRWYWx1ZSBvZiAke2RlZmF1bHRWYWx1ZX0gd2FzIHByb3ZpZGVkIHRvIGEgc2VsZWN0IGZpZWxkIGJ1dCBpdCBkb2VzIG5vdCBtYXRjaCB0aGUgdmFsdWUgb2Ygb25lIG9mIHRoZSBvcHRpb25zIHByb3ZpZGVkYFxuICAgICAgKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6ICdmb3JtJyBhcyBjb25zdCxcbiAgICAgIElucHV0OiBtYWtlU2VsZWN0RmllbGRJbnB1dCh7IGxhYmVsLCBvcHRpb25zIH0pLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgIHZhbGlkYXRlKHZhbHVlOiB1bmtub3duKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIG9wdGlvblZhbHVlc1NldC5oYXModmFsdWUpXG4gICAgICB9LFxuICAgICAgZ3JhcGhxbDoge1xuICAgICAgICBpbnB1dDogZy5TdHJpbmcsXG4gICAgICAgIG91dHB1dDogZy5maWVsZCh7XG4gICAgICAgICAgdHlwZTogZy5TdHJpbmcsXG4gICAgICAgICAgLy8gVE9ETzogRklYTUUgd2h5IGlzIHRoaXMgcmVxdWlyZWRcbiAgICAgICAgICByZXNvbHZlKHsgdmFsdWUgfSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICB9LFxuICAgIH1cbiAgfSxcbiAgbXVsdGlzZWxlY3Q8Y29uc3QgT3B0aW9uIGV4dGVuZHMgeyBsYWJlbDogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH0+KHtcbiAgICBsYWJlbCxcbiAgICBvcHRpb25zLFxuICAgIGRlZmF1bHRWYWx1ZSxcbiAgfToge1xuICAgIGxhYmVsOiBzdHJpbmdcbiAgICBvcHRpb25zOiByZWFkb25seSBPcHRpb25bXVxuICAgIGRlZmF1bHRWYWx1ZTogcmVhZG9ubHkgT3B0aW9uWyd2YWx1ZSddW11cbiAgfSk6IEZvcm1GaWVsZDxyZWFkb25seSBPcHRpb25bJ3ZhbHVlJ11bXSwgcmVhZG9ubHkgT3B0aW9uW10+IHtcbiAgICBjb25zdCB2YWx1ZXNUb09wdGlvbiA9IG5ldyBNYXAob3B0aW9ucy5tYXAoeCA9PiBbeC52YWx1ZSwgeF0pKVxuICAgIHJldHVybiB7XG4gICAgICBraW5kOiAnZm9ybScgYXMgY29uc3QsXG4gICAgICBJbnB1dDogbWFrZU11bHRpc2VsZWN0RmllbGRJbnB1dCh7IGxhYmVsLCBvcHRpb25zIH0pLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgIHZhbGlkYXRlKHZhbHVlOiB1bmtub3duKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiZcbiAgICAgICAgICB2YWx1ZS5ldmVyeSh2YWx1ZSA9PiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlc1RvT3B0aW9uLmhhcyh2YWx1ZSkpXG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgICBncmFwaHFsOiB7XG4gICAgICAgIGlucHV0OiBnLmxpc3QoZy5ub25OdWxsKGcuU3RyaW5nKSksXG4gICAgICAgIG91dHB1dDogZy5maWVsZCh7XG4gICAgICAgICAgdHlwZTogZy5saXN0KGcubm9uTnVsbChnLlN0cmluZykpLFxuICAgICAgICAgIC8vIFRPRE86IHdoeSBpcyB0aGlzIHJlcXVpcmVkXG4gICAgICAgICAgcmVzb2x2ZSh7IHZhbHVlIH0pIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgfSxcbiAgICB9XG4gIH0sXG4gIGNoZWNrYm94KHtcbiAgICBsYWJlbCxcbiAgICBkZWZhdWx0VmFsdWUgPSBmYWxzZSxcbiAgfToge1xuICAgIGxhYmVsOiBzdHJpbmdcbiAgICBkZWZhdWx0VmFsdWU/OiBib29sZWFuXG4gIH0pOiBGb3JtRmllbGQ8Ym9vbGVhbiwgdW5kZWZpbmVkPiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6ICdmb3JtJyBhcyBjb25zdCxcbiAgICAgIElucHV0KHsgdmFsdWUsIG9uQ2hhbmdlLCBhdXRvRm9jdXMgfTogSW5wdXRBcmdzPGJvb2xlYW4+KSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICBhdXRvRm9jdXM9e2F1dG9Gb2N1c31cbiAgICAgICAgICAgIGlzUmVhZE9ubHk9e29uQ2hhbmdlID09IG51bGx9XG4gICAgICAgICAgICBpc1NlbGVjdGVkPXt2YWx1ZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8VGV4dD57bGFiZWx9PC9UZXh0PlxuICAgICAgICAgIDwvQ2hlY2tib3g+XG4gICAgICAgIClcbiAgICAgIH0sXG4gICAgICBvcHRpb25zOiB1bmRlZmluZWQsXG4gICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICB2YWxpZGF0ZSh2YWx1ZTogdW5rbm93bikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbidcbiAgICAgIH0sXG4gICAgICBncmFwaHFsOiB7XG4gICAgICAgIGlucHV0OiBnLkJvb2xlYW4sXG4gICAgICAgIG91dHB1dDogZy5maWVsZCh7IHR5cGU6IGcuQm9vbGVhbiB9KSxcbiAgICAgIH0sXG4gICAgfVxuICB9LFxuICBlbXB0eSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogJ2Zvcm0nIGFzIGNvbnN0LFxuICAgICAgSW5wdXQoKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9LFxuICAgICAgb3B0aW9uczogdW5kZWZpbmVkLFxuICAgICAgZGVmYXVsdFZhbHVlOiBudWxsLFxuICAgICAgdmFsaWRhdGUodmFsdWU6IHVua25vd24pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgIH0sXG4gICAgfVxuICB9LFxuICBjaGlsZChcbiAgICBvcHRpb25zOlxuICAgICAgfCB7XG4gICAgICAgICAga2luZDogJ2Jsb2NrJ1xuICAgICAgICAgIHBsYWNlaG9sZGVyOiBzdHJpbmdcbiAgICAgICAgICBmb3JtYXR0aW5nPzogQmxvY2tGb3JtYXR0aW5nQ29uZmlnIHwgJ2luaGVyaXQnXG4gICAgICAgICAgZGl2aWRlcnM/OiAnaW5oZXJpdCdcbiAgICAgICAgICBsaW5rcz86ICdpbmhlcml0J1xuICAgICAgICAgIHJlbGF0aW9uc2hpcHM/OiAnaW5oZXJpdCdcbiAgICAgICAgICBjb21wb25lbnRCbG9ja3M/OiAnaW5oZXJpdCdcbiAgICAgICAgfVxuICAgICAgfCB7XG4gICAgICAgICAga2luZDogJ2lubGluZSdcbiAgICAgICAgICBwbGFjZWhvbGRlcjogc3RyaW5nXG4gICAgICAgICAgZm9ybWF0dGluZz86XG4gICAgICAgICAgICB8ICdpbmhlcml0J1xuICAgICAgICAgICAgfCB7XG4gICAgICAgICAgICAgICAgaW5saW5lTWFya3M/OiBJbmxpbmVNYXJrc0NvbmZpZ1xuICAgICAgICAgICAgICAgIHNvZnRCcmVha3M/OiAnaW5oZXJpdCdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIGxpbmtzPzogJ2luaGVyaXQnXG4gICAgICAgICAgcmVsYXRpb25zaGlwcz86ICdpbmhlcml0J1xuICAgICAgICB9XG4gICk6IENoaWxkRmllbGQge1xuICAgIHJldHVybiB7XG4gICAgICBraW5kOiAnY2hpbGQnIGFzIGNvbnN0LFxuICAgICAgb3B0aW9uczpcbiAgICAgICAgb3B0aW9ucy5raW5kID09PSAnYmxvY2snXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIGtpbmQ6ICdibG9jaycgYXMgY29uc3QsXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBvcHRpb25zLnBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgICBkaXZpZGVyczogb3B0aW9ucy5kaXZpZGVycyxcbiAgICAgICAgICAgICAgZm9ybWF0dGluZzpcbiAgICAgICAgICAgICAgICBvcHRpb25zLmZvcm1hdHRpbmcgPT09ICdpbmhlcml0J1xuICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgYmxvY2tUeXBlczogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmdMZXZlbHM6ICdpbmhlcml0JyxcbiAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVNYXJrczogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICAgICAgICAgIGxpc3RUeXBlczogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudDogJ2luaGVyaXQnLFxuICAgICAgICAgICAgICAgICAgICAgIHNvZnRCcmVha3M6ICdpbmhlcml0JyxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgOiBvcHRpb25zLmZvcm1hdHRpbmcsXG4gICAgICAgICAgICAgIGxpbmtzOiBvcHRpb25zLmxpbmtzLFxuICAgICAgICAgICAgICByZWxhdGlvbnNoaXBzOiBvcHRpb25zLnJlbGF0aW9uc2hpcHMsXG4gICAgICAgICAgICAgIGNvbXBvbmVudEJsb2Nrczogb3B0aW9ucy5jb21wb25lbnRCbG9ja3MsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIGtpbmQ6ICdpbmxpbmUnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogb3B0aW9ucy5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgZm9ybWF0dGluZzpcbiAgICAgICAgICAgICAgICBvcHRpb25zLmZvcm1hdHRpbmcgPT09ICdpbmhlcml0J1xuICAgICAgICAgICAgICAgICAgPyB7IGlubGluZU1hcmtzOiAnaW5oZXJpdCcsIHNvZnRCcmVha3M6ICdpbmhlcml0JyB9XG4gICAgICAgICAgICAgICAgICA6IG9wdGlvbnMuZm9ybWF0dGluZyxcbiAgICAgICAgICAgICAgbGlua3M6IG9wdGlvbnMubGlua3MsXG4gICAgICAgICAgICAgIHJlbGF0aW9uc2hpcHM6IG9wdGlvbnMucmVsYXRpb25zaGlwcyxcbiAgICAgICAgICAgIH0sXG4gICAgfVxuICB9LFxuICBvYmplY3Q8RmllbGRzIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgQ29tcG9uZW50U2NoZW1hPj4oZmllbGRzOiBGaWVsZHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogJ29iamVjdCcgYXMgY29uc3QsXG4gICAgICBmaWVsZHMsXG4gICAgfVxuICB9LFxuICBjb25kaXRpb25hbDxcbiAgICBEaXNjcmltaW5hbnRGaWVsZCBleHRlbmRzIHsgZGVmYXVsdFZhbHVlOiBhbnkgfSxcbiAgICBDb25kaXRpb25hbFZhbHVlcyBleHRlbmRzIHtcbiAgICAgIFtLZXkgaW4gYCR7RGlzY3JpbWluYW50RmllbGRbJ2RlZmF1bHRWYWx1ZSddfWBdOiBDb21wb25lbnRTY2hlbWFcbiAgICB9LFxuICA+KFxuICAgIGRpc2NyaW1pbmFudDogRGlzY3JpbWluYW50RmllbGQsXG4gICAgdmFsdWVzOiBDb25kaXRpb25hbFZhbHVlc1xuICApOiBDb25kaXRpb25hbEZpZWxkPERpc2NyaW1pbmFudEZpZWxkLCBDb25kaXRpb25hbFZhbHVlcz4ge1xuICAgIHJldHVybiB7XG4gICAgICBraW5kOiAnY29uZGl0aW9uYWwnIGFzIGNvbnN0LFxuICAgICAgZGlzY3JpbWluYW50LFxuICAgICAgdmFsdWVzLFxuICAgIH1cbiAgfSxcbiAgcmVsYXRpb25zaGlwPE1hbnkgZXh0ZW5kcyBib29sZWFuIHwgdW5kZWZpbmVkID0gZmFsc2U+KHtcbiAgICBsaXN0S2V5LFxuICAgIGxhYmVsLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIGxhYmVsRmllbGQsXG4gICAgc2VsZWN0aW9uLFxuICAgIG1hbnksXG4gIH06IHtcbiAgICBsaXN0S2V5OiBzdHJpbmdcbiAgICBsYWJlbDogc3RyaW5nXG4gICAgLyoqIFRoZSBkZXNjcmlwdGlvbiB0byBzaG93IGFkamFjZW50IHRvIHRoZSBsYWJlbCAqL1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nXG4gICAgLyoqIFRoZSBsYWJlbCBmaWVsZCB0byB1c2UgZm9yIHRoaXMgcmVsYXRpb25zaGlwIHdoZW4gc2hvd2luZyB0aGUgc2VsZWN0ICovXG4gICAgbGFiZWxGaWVsZD86IHN0cmluZ1xuICAgIC8qKiBUaGUgR3JhcGhRTCBzZWxlY3Rpb24gdG8gdXNlIGZvciB0aGlzIHJlbGF0aW9uc2hpcCB3aGVuIGh5ZHJhdGluZyAuZGF0YSAqL1xuICAgIHNlbGVjdGlvbj86IHN0cmluZ1xuICB9ICYgKE1hbnkgZXh0ZW5kcyB1bmRlZmluZWQgfCBmYWxzZSA/IHsgbWFueT86IE1hbnkgfSA6IHsgbWFueTogTWFueSB9KSk6IFJlbGF0aW9uc2hpcEZpZWxkPFxuICAgIE1hbnkgZXh0ZW5kcyB0cnVlID8gdHJ1ZSA6IGZhbHNlXG4gID4ge1xuICAgIHJldHVybiB7XG4gICAgICBraW5kOiAncmVsYXRpb25zaGlwJyBhcyBjb25zdCxcbiAgICAgIGxpc3RLZXksXG4gICAgICBsYWJlbCxcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiA/PyBudWxsLFxuICAgICAgbGFiZWxGaWVsZDogbGFiZWxGaWVsZCA/PyBudWxsLFxuICAgICAgc2VsZWN0aW9uOiBzZWxlY3Rpb24gPz8gbnVsbCxcbiAgICAgIG1hbnk6IChtYW55ID8gdHJ1ZSA6IGZhbHNlKSBhcyBhbnksXG4gICAgfVxuICB9LFxuICBhcnJheTxFbGVtZW50RmllbGQgZXh0ZW5kcyBDb21wb25lbnRTY2hlbWE+KFxuICAgIGVsZW1lbnQ6IEVsZW1lbnRGaWVsZCxcbiAgICBvcHRzPzoge1xuICAgICAgaXRlbUxhYmVsPzogKHByb3BzOiBHZW5lcmljUHJldmlld1Byb3BzPEVsZW1lbnRGaWVsZCwgdW5rbm93bj4pID0+IHN0cmluZ1xuICAgICAgbGFiZWw/OiBzdHJpbmdcbiAgICB9XG4gICk6IEFycmF5RmllbGQ8RWxlbWVudEZpZWxkPiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtpbmQ6ICdhcnJheScgYXMgY29uc3QsXG4gICAgICBlbGVtZW50LFxuICAgICAgaXRlbUxhYmVsOiBvcHRzPy5pdGVtTGFiZWwsXG4gICAgICBsYWJlbDogb3B0cz8ubGFiZWwsXG4gICAgfVxuICB9LFxufVxuXG5leHBvcnQgdHlwZSBQcmV2aWV3UHJvcHM8U2NoZW1hIGV4dGVuZHMgQ29tcG9uZW50U2NoZW1hPiA9IEdlbmVyaWNQcmV2aWV3UHJvcHM8U2NoZW1hLCBSZWFjdE5vZGU+XG5cbmV4cG9ydCB0eXBlIFByZXZpZXdQcm9wc0ZvclRvb2xiYXI8U2NoZW1hIGV4dGVuZHMgQ29tcG9uZW50U2NoZW1hPiA9IEdlbmVyaWNQcmV2aWV3UHJvcHM8XG4gIFNjaGVtYSxcbiAgdW5kZWZpbmVkXG4+XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wb25lbnQ8XG4gIFNjaGVtYSBleHRlbmRzIHtcbiAgICBbS2V5IGluIGFueV06IENvbXBvbmVudFNjaGVtYVxuICB9LFxuPihcbiAgb3B0aW9uczoge1xuICAgIC8qKiBUaGUgcHJldmlldyBjb21wb25lbnQgc2hvd24gaW4gdGhlIGVkaXRvciAqL1xuICAgIHByZXZpZXc6IChwcm9wczogUHJldmlld1Byb3BzPE9iamVjdEZpZWxkPFNjaGVtYT4+KSA9PiBSZWFjdEVsZW1lbnQgfCBudWxsXG4gICAgLyoqIFRoZSBzY2hlbWEgZm9yIHRoZSBwcm9wcyB0aGF0IHRoZSBwcmV2aWV3IGNvbXBvbmVudCwgdG9vbGJhciBhbmQgcmVuZGVyZWQgY29tcG9uZW50IHdpbGwgcmVjZWl2ZSAqL1xuICAgIHNjaGVtYTogU2NoZW1hXG4gICAgLyoqIFRoZSBsYWJlbCB0byBzaG93IGluIHRoZSBpbnNlcnQgbWVudSBhbmQgY2hyb21lIGFyb3VuZCB0aGUgYmxvY2sgaWYgY2hyb21lbGVzcyBpcyBmYWxzZSAqL1xuICAgIGxhYmVsOiBzdHJpbmdcbiAgfSAmIChcbiAgICB8IHtcbiAgICAgICAgY2hyb21lbGVzczogdHJ1ZVxuICAgICAgICB0b29sYmFyPzogKHByb3BzOiB7XG4gICAgICAgICAgcHJvcHM6IFByZXZpZXdQcm9wc0ZvclRvb2xiYXI8T2JqZWN0RmllbGQ8U2NoZW1hPj5cbiAgICAgICAgICBvblJlbW92ZSgpOiB2b2lkXG4gICAgICAgIH0pID0+IFJlYWN0RWxlbWVudFxuICAgICAgfVxuICAgIHwge1xuICAgICAgICBjaHJvbWVsZXNzPzogZmFsc2VcbiAgICAgICAgdG9vbGJhcj86IChwcm9wczoge1xuICAgICAgICAgIHByb3BzOiBQcmV2aWV3UHJvcHNGb3JUb29sYmFyPE9iamVjdEZpZWxkPFNjaGVtYT4+XG4gICAgICAgICAgb25TaG93RWRpdE1vZGUoKTogdm9pZFxuICAgICAgICAgIG9uUmVtb3ZlKCk6IHZvaWRcbiAgICAgICAgfSkgPT4gUmVhY3RFbGVtZW50XG4gICAgICB9XG4gIClcbik6IENvbXBvbmVudEJsb2NrPFNjaGVtYT4ge1xuICByZXR1cm4gb3B0aW9ucyBhcyBhbnlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE5vdEVkaXRhYmxlKHsgY2hpbGRyZW4sIC4uLnByb3BzIH06IEhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50Pikge1xuICByZXR1cm4gKFxuICAgIDxzcGFuIHN0eWxlPXt7IHVzZXJTZWxlY3Q6ICdub25lJyB9fSBjb250ZW50RWRpdGFibGU9e2ZhbHNlfSB7Li4ucHJvcHN9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvc3Bhbj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbImciLCJpc1ZhbGlkVVJMIiwibWFrZUludGVnZXJGaWVsZElucHV0IiwibWFrZU11bHRpc2VsZWN0RmllbGRJbnB1dCIsIm1ha2VTZWxlY3RGaWVsZElucHV0IiwibWFrZVVybEZpZWxkSW5wdXQiLCJDaGVja2JveCIsIlRleHQiLCJUZXh0RmllbGQiLCJUZXh0QXJlYSIsImZpZWxkcyIsInRleHQiLCJsYWJlbCIsImRlZmF1bHRWYWx1ZSIsImRpc3BsYXlNb2RlIiwia2luZCIsIklucHV0IiwidmFsdWUiLCJvbkNoYW5nZSIsImF1dG9Gb2N1cyIsIngiLCJvcHRpb25zIiwidW5kZWZpbmVkIiwidmFsaWRhdGUiLCJncmFwaHFsIiwiaW5wdXQiLCJTdHJpbmciLCJvdXRwdXQiLCJmaWVsZCIsInR5cGUiLCJpbnRlZ2VyIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJJbnQiLCJ1cmwiLCJzZWxlY3QiLCJvcHRpb25WYWx1ZXNTZXQiLCJTZXQiLCJtYXAiLCJoYXMiLCJFcnJvciIsInJlc29sdmUiLCJtdWx0aXNlbGVjdCIsInZhbHVlc1RvT3B0aW9uIiwiTWFwIiwiQXJyYXkiLCJpc0FycmF5IiwiZXZlcnkiLCJsaXN0Iiwibm9uTnVsbCIsImNoZWNrYm94IiwiaXNSZWFkT25seSIsImlzU2VsZWN0ZWQiLCJCb29sZWFuIiwiZW1wdHkiLCJjaGlsZCIsInBsYWNlaG9sZGVyIiwiZGl2aWRlcnMiLCJmb3JtYXR0aW5nIiwiYmxvY2tUeXBlcyIsImhlYWRpbmdMZXZlbHMiLCJpbmxpbmVNYXJrcyIsImxpc3RUeXBlcyIsImFsaWdubWVudCIsInNvZnRCcmVha3MiLCJsaW5rcyIsInJlbGF0aW9uc2hpcHMiLCJjb21wb25lbnRCbG9ja3MiLCJvYmplY3QiLCJjb25kaXRpb25hbCIsImRpc2NyaW1pbmFudCIsInZhbHVlcyIsInJlbGF0aW9uc2hpcCIsImxpc3RLZXkiLCJkZXNjcmlwdGlvbiIsImxhYmVsRmllbGQiLCJzZWxlY3Rpb24iLCJtYW55IiwiYXJyYXkiLCJlbGVtZW50Iiwib3B0cyIsIml0ZW1MYWJlbCIsImNvbXBvbmVudCIsIk5vdEVkaXRhYmxlIiwiY2hpbGRyZW4iLCJwcm9wcyIsInNwYW4iLCJzdHlsZSIsInVzZXJTZWxlY3QiLCJjb250ZW50RWRpdGFibGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/component-blocks/api.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx":
/*!******************************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChromefulComponentBlockElement: () => (/* binding */ ChromefulComponentBlockElement)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_trash2Icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/icon/icons/trash2Icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-trash2Icon.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./api */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/api.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/utils.ts\");\n/* harmony import */ var _form_from_preview__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./form-from-preview */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\");\n/* harmony import */ var _keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystar/ui/dialog */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-dialog.js\");\n/* harmony import */ var _keystar_ui_field__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @keystar/ui/field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-field.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_slots__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @keystar/ui/slots */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-slots.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var _utils_hooks__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils-hooks */ \"../../../../packages/fields-document/src/DocumentEditor/utils-hooks.tsx\");\n/* harmony import */ var _preview_props__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./preview-props */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/preview-props.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ChromefulComponentBlockElement(props) {\n    const selected = (0,slate_react__WEBPACK_IMPORTED_MODULE_17__.useSelected)();\n    const isValid = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)({\n        \"ChromefulComponentBlockElement.useMemo[isValid]\": ()=>(0,_utils__WEBPACK_IMPORTED_MODULE_7__.clientSideValidateProp)({\n                kind: 'object',\n                fields: props.componentBlock.schema\n            }, props.elementProps)\n    }[\"ChromefulComponentBlockElement.useMemo[isValid]\"], [\n        props.componentBlock,\n        props.elementProps\n    ]);\n    const [editMode, setEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const onCloseEditMode = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)({\n        \"ChromefulComponentBlockElement.useCallback[onCloseEditMode]\": ()=>{\n            setEditMode(false);\n        }\n    }[\"ChromefulComponentBlockElement.useCallback[onCloseEditMode]\"], []);\n    const onShowEditMode = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)({\n        \"ChromefulComponentBlockElement.useCallback[onShowEditMode]\": ()=>{\n            setEditMode(true);\n        }\n    }[\"ChromefulComponentBlockElement.useCallback[onShowEditMode]\"], []);\n    const ChromefulToolbar = props.componentBlock.toolbar ?? DefaultToolbarWithChrome;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BlockPrimitive, {\n        selected: selected,\n        ...props.attributes,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_11__.Flex, {\n            gap: \"medium\",\n            direction: \"column\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_api__WEBPACK_IMPORTED_MODULE_6__.NotEditable, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_5__.Text, {\n                        casing: \"uppercase\",\n                        color: \"neutralSecondary\",\n                        weight: \"medium\",\n                        size: \"small\",\n                        children: props.componentBlock.label\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                        lineNumber: 74,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                    lineNumber: 73,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, {\n                    children: [\n                        props.renderedBlock,\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChromefulToolbar, {\n                            isValid: isValid,\n                            onRemove: props.onRemove,\n                            props: props.previewProps,\n                            onShowEditMode: onShowEditMode\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                            lineNumber: 80,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_9__.DialogContainer, {\n                            onDismiss: ()=>onCloseEditMode(),\n                            children: (()=>{\n                                if (!editMode) {\n                                    return;\n                                }\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_9__.Dialog, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_5__.Heading, {\n                                            children: [\n                                                \"Edit \",\n                                                props.componentBlock.label\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                                            lineNumber: 93,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FormValue, {\n                                            props: props.previewProps,\n                                            onClose: onCloseEditMode\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                                            lineNumber: 94,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                                    lineNumber: 92,\n                                    columnNumber: 17\n                                }, this);\n                            })()\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                            lineNumber: 86,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                    lineNumber: 78,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n            lineNumber: 72,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n        lineNumber: 71,\n        columnNumber: 5\n    }, this);\n}\n/**\n * Wrap block content, delimiting it from surrounding content, and provide a\n * focus indicator because the cursor may not be present.\n */ const BlockPrimitive = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function BlockPrimitive({ children, selected, ...attributes }, ref) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ...attributes,\n        ref: ref,\n        className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_13__.css)(_utils_hooks__WEBPACK_IMPORTED_MODULE_15__.blockElementSpacing, {\n            position: 'relative',\n            paddingInlineStart: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_13__.tokenSchema.size.space.xlarge,\n            marginBottom: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_13__.tokenSchema.size.space.xlarge,\n            '::before': {\n                display: 'block',\n                content: '\" \"',\n                backgroundColor: selected ? _keystar_ui_style__WEBPACK_IMPORTED_MODULE_13__.tokenSchema.color.alias.borderSelected : _keystar_ui_style__WEBPACK_IMPORTED_MODULE_13__.tokenSchema.color.alias.borderIdle,\n                borderRadius: 4,\n                width: 4,\n                position: 'absolute',\n                left: 0,\n                top: 0,\n                bottom: 0,\n                zIndex: 1\n            }\n        }),\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n        lineNumber: 118,\n        columnNumber: 5\n    }, this);\n});\nfunction DefaultToolbarWithChrome({ onShowEditMode, onRemove, isValid }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_api__WEBPACK_IMPORTED_MODULE_6__.NotEditable, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_11__.Flex, {\n            direction: \"column\",\n            gap: \"medium\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_11__.Flex, {\n                    alignItems: \"center\",\n                    gap: \"regular\",\n                    UNSAFE_style: {\n                        userSelect: 'none'\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.ActionButton, {\n                            onPress: ()=>onShowEditMode(),\n                            children: \"Edit\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                            lineNumber: 161,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__.TooltipTrigger, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.ActionButton, {\n                                    prominence: \"low\",\n                                    onPress: onRemove,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n                                        src: _keystar_ui_icon_icons_trash2Icon__WEBPACK_IMPORTED_MODULE_2__.trash2Icon\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                                        lineNumber: 164,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                                    lineNumber: 163,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__.Tooltip, {\n                                    tone: \"critical\",\n                                    children: \"Delete\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                                    lineNumber: 166,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                            lineNumber: 162,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                    lineNumber: 160,\n                    columnNumber: 9\n                }, this),\n                !isValid && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_field__WEBPACK_IMPORTED_MODULE_10__.FieldMessage, {\n                    children: \"Contains invalid fields. Please edit.\"\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                    lineNumber: 169,\n                    columnNumber: 22\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n            lineNumber: 159,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n        lineNumber: 158,\n        columnNumber: 5\n    }, this);\n}\nfunction FormValue({ onClose, props }) {\n    const formId = (0,react__WEBPACK_IMPORTED_MODULE_3__.useId)();\n    const [forceValidation, setForceValidation] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        \"FormValue.useState\": ()=>(0,_form_from_preview__WEBPACK_IMPORTED_MODULE_8__.previewPropsToValue)(props)\n    }[\"FormValue.useState\"]);\n    const previewProps = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)({\n        \"FormValue.previewProps.useMemo\": ()=>(0,_preview_props__WEBPACK_IMPORTED_MODULE_16__.createGetPreviewProps)(props.schema, setState, {\n                \"FormValue.previewProps.useMemo\": ()=>undefined\n            }[\"FormValue.previewProps.useMemo\"])\n    }[\"FormValue.previewProps.useMemo\"], [\n        props.schema\n    ])(state);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_slots__WEBPACK_IMPORTED_MODULE_12__.Content, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_11__.Flex, {\n                    id: formId,\n                    elementType: \"form\",\n                    onSubmit: (event)=>{\n                        if (event.target !== event.currentTarget) return;\n                        event.preventDefault();\n                        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_7__.clientSideValidateProp)(props.schema, state)) {\n                            setForceValidation(true);\n                        } else {\n                            (0,_form_from_preview__WEBPACK_IMPORTED_MODULE_8__.previewPropsOnChange)(state, props);\n                            onClose();\n                        }\n                    },\n                    direction: \"column\",\n                    gap: \"xxlarge\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_form_from_preview__WEBPACK_IMPORTED_MODULE_8__.FormValueContentFromPreviewProps, {\n                        ...previewProps,\n                        forceValidation: forceValidation\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                        lineNumber: 209,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                    lineNumber: 193,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                lineNumber: 192,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.ButtonGroup, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                        onPress: onClose,\n                        children: \"Cancel\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                        lineNumber: 213,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                        form: formId,\n                        prominence: \"high\",\n                        type: \"submit\",\n                        children: \"Done\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                        lineNumber: 214,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\",\n                lineNumber: 212,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL2Nocm9tZWZ1bC1lbGVtZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVDO0FBQ3VCO0FBV2hEO0FBQ29EO0FBQ0k7QUFDaEI7QUFPeEM7QUFDa0M7QUFNcEI7QUFDZ0M7QUFDWjtBQUNQO0FBQ0U7QUFDUztBQUNTO0FBQ1Q7QUFDRztBQUVoRCxTQUFTOEIsK0JBQStCQyxLQVE5QztJQUNDLE1BQU1DLFdBQVd4Qix5REFBV0E7SUFFNUIsTUFBTXlCLFVBQVUvQiw4Q0FBT0E7MkRBQ3JCLElBQ0VhLDhEQUFzQkEsQ0FDcEI7Z0JBQUVtQixNQUFNO2dCQUFVQyxRQUFRSixNQUFNSyxjQUFjLENBQUNDLE1BQU07WUFBQyxHQUN0RE4sTUFBTU8sWUFBWTswREFHdEI7UUFBQ1AsTUFBTUssY0FBYztRQUFFTCxNQUFNTyxZQUFZO0tBQUM7SUFHNUMsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUdyQywrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNc0Msa0JBQWtCckMsa0RBQVdBO3VFQUFDO1lBQ2xDb0MsWUFBWTtRQUNkO3NFQUFHLEVBQUU7SUFDTCxNQUFNRSxpQkFBaUJ0QyxrREFBV0E7c0VBQUM7WUFDakNvQyxZQUFZO1FBQ2Q7cUVBQUcsRUFBRTtJQUVMLE1BQU1HLG1CQUFtQlosTUFBTUssY0FBYyxDQUFDUSxPQUFPLElBQUlDO0lBQ3pELHFCQUNFLDhEQUFDQztRQUFlZCxVQUFVQTtRQUFXLEdBQUdELE1BQU1nQixVQUFVO2tCQUN0RCw0RUFBQ3pCLHFEQUFJQTtZQUFDMEIsS0FBSTtZQUFTQyxXQUFVOzs4QkFDM0IsOERBQUNuQyw2Q0FBV0E7OEJBQ1YsNEVBQUNELHdEQUFJQTt3QkFBQ3FDLFFBQU87d0JBQVlDLE9BQU07d0JBQW1CQyxRQUFPO3dCQUFTQyxNQUFLO2tDQUNwRXRCLE1BQU1LLGNB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QUV3RDtrREFBVSxJQUFNQzs7eUNBQzFEO1FBQUMvRCxNQUFNTSxNQUFNO0tBQUMsRUFDZHVEO0lBRUYscUJBQ0U7OzBCQUNFLDhEQUFDckUsdURBQU9BOzBCQUNOLDRFQUFDRCxxREFBSUE7b0JBQ0h5RSxJQUFJTjtvQkFDSk8sYUFBWTtvQkFDWkMsVUFBVUMsQ0FBQUE7d0JBQ1IsSUFBSUEsTUFBTUMsTUFBTSxLQUFLRCxNQUFNRSxhQUFhLEVBQUU7d0JBQzFDRixNQUFNRyxjQUFjO3dCQUNwQixJQUFJLENBQUN0Riw4REFBc0JBLENBQUNnQixNQUFNTSxNQUFNLEVBQUV1RCxRQUFROzRCQUNoREQsbUJBQW1CO3dCQUNyQixPQUFPOzRCQUNMMUUsd0VBQW9CQSxDQUFDMkUsT0FBTzdEOzRCQUM1QjZCO3dCQUNGO29CQUNGO29CQUNBWCxXQUFVO29CQUNWRCxLQUFJOzhCQUVKLDRFQUFDaEMsZ0ZBQWdDQTt3QkFBRSxHQUFHeUMsWUFBWTt3QkFBRWlDLGlCQUFpQkE7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBR3pFLDhEQUFDL0UsMkRBQVdBOztrQ0FDViw4REFBQ0Qsc0RBQU1BO3dCQUFDMkUsU0FBU3pCO2tDQUFTOzs7Ozs7a0NBQzFCLDhEQUFDbEQsc0RBQU1BO3dCQUFDNEYsTUFBTWI7d0JBQVFILFlBQVc7d0JBQU9pQixNQUFLO2tDQUFTOzs7Ozs7Ozs7Ozs7OztBQU05RCIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL2NvbXBvbmVudC1ibG9ja3MvY2hyb21lZnVsLWVsZW1lbnQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uJ1xuaW1wb3J0IHsgdHJhc2gySWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvdHJhc2gySWNvbidcbmltcG9ydCB7XG4gIHR5cGUgUmVhY3ROb2RlLFxuICB1c2VNZW1vLFxuICB1c2VTdGF0ZSxcbiAgdXNlQ2FsbGJhY2ssXG4gIEZyYWdtZW50LFxuICBmb3J3YXJkUmVmLFxuICB0eXBlIFByb3BzV2l0aENoaWxkcmVuLFxuICB0eXBlIFJlZixcbiAgdXNlSWQsXG59IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdHlwZSBSZW5kZXJFbGVtZW50UHJvcHMsIHVzZVNlbGVjdGVkIH0gZnJvbSAnc2xhdGUtcmVhY3QnXG5pbXBvcnQgeyBBY3Rpb25CdXR0b24sIEJ1dHRvbiwgQnV0dG9uR3JvdXAgfSBmcm9tICdAa2V5c3Rhci91aS9idXR0b24nXG5pbXBvcnQgeyBIZWFkaW5nLCBUZXh0IH0gZnJvbSAnQGtleXN0YXIvdWkvdHlwb2dyYXBoeSdcbmltcG9ydCB7XG4gIHR5cGUgUHJldmlld1Byb3BzRm9yVG9vbGJhcixcbiAgdHlwZSBPYmplY3RGaWVsZCxcbiAgdHlwZSBDb21wb25lbnRTY2hlbWEsXG4gIHR5cGUgQ29tcG9uZW50QmxvY2ssXG4gIE5vdEVkaXRhYmxlLFxufSBmcm9tICcuL2FwaSdcbmltcG9ydCB7IGNsaWVudFNpZGVWYWxpZGF0ZVByb3AgfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHR5cGUgeyBHZW5lcmljUHJldmlld1Byb3BzIH0gZnJvbSAnLi9hcGknXG5pbXBvcnQge1xuICBGb3JtVmFsdWVDb250ZW50RnJvbVByZXZpZXdQcm9wcyxcbiAgcHJldmlld1Byb3BzT25DaGFuZ2UsXG4gIHByZXZpZXdQcm9wc1RvVmFsdWUsXG59IGZyb20gJy4vZm9ybS1mcm9tLXByZXZpZXcnXG5pbXBvcnQgeyBEaWFsb2dDb250YWluZXIsIERpYWxvZyB9IGZyb20gJ0BrZXlzdGFyL3VpL2RpYWxvZydcbmltcG9ydCB7IEZpZWxkTWVzc2FnZSB9IGZyb20gJ0BrZXlzdGFyL3VpL2ZpZWxkJ1xuaW1wb3J0IHsgRmxleCB9IGZyb20gJ0BrZXlzdGFyL3VpL2xheW91dCdcbmltcG9ydCB7IENvbnRlbnQgfSBmcm9tICdAa2V5c3Rhci91aS9zbG90cydcbmltcG9ydCB7IGNzcywgdG9rZW5TY2hlbWEgfSBmcm9tICdAa2V5c3Rhci91aS9zdHlsZSdcbmltcG9ydCB7IFRvb2x0aXBUcmlnZ2VyLCBUb29sdGlwIH0gZnJvbSAnQGtleXN0YXIvdWkvdG9vbHRpcCdcbmltcG9ydCB7IGJsb2NrRWxlbWVudFNwYWNpbmcgfSBmcm9tICcuLi91dGlscy1ob29rcydcbmltcG9ydCB7IGNyZWF0ZUdldFByZXZpZXdQcm9wcyB9IGZyb20gJy4vcHJldmlldy1wcm9wcydcblxuZXhwb3J0IGZ1bmN0aW9uIENocm9tZWZ1bENvbXBvbmVudEJsb2NrRWxlbWVudChwcm9wczoge1xuICBjaGlsZHJlbjogUmVhY3ROb2RlXG4gIHJlbmRlcmVkQmxvY2s6IFJlYWN0Tm9kZVxuICBjb21wb25lbnRCbG9jazogQ29tcG9uZW50QmxvY2sgJiB7IGNocm9tZWxlc3M/OiBmYWxzZSB9XG4gIHByZXZpZXdQcm9wczogUHJldmlld1Byb3BzRm9yVG9vbGJhcjxPYmplY3RGaWVsZDxSZWNvcmQ8c3RyaW5nLCBDb21wb25lbnRTY2hlbWE+Pj5cbiAgZWxlbWVudFByb3BzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuICBvblJlbW92ZTogKCkgPT4gdm9pZFxuICBhdHRyaWJ1dGVzOiBSZW5kZXJFbGVtZW50UHJvcHNbJ2F0dHJpYnV0ZXMnXVxufSkge1xuICBjb25zdCBzZWxlY3RlZCA9IHVzZVNlbGVjdGVkKClcblxuICBjb25zdCBpc1ZhbGlkID0gdXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgY2xpZW50U2lkZVZhbGlkYXRlUHJvcChcbiAgICAgICAgeyBraW5kOiAnb2JqZWN0JywgZmllbGRzOiBwcm9wcy5jb21wb25lbnRCbG9jay5zY2hlbWEgfSxcbiAgICAgICAgcHJvcHMuZWxlbWVudFByb3BzXG4gICAgICApLFxuXG4gICAgW3Byb3BzLmNvbXBvbmVudEJsb2NrLCBwcm9wcy5lbGVtZW50UHJvcHNdXG4gIClcblxuICBjb25zdCBbZWRpdE1vZGUsIHNldEVkaXRNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBvbkNsb3NlRWRpdE1vZGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0RWRpdE1vZGUoZmFsc2UpXG4gIH0sIFtdKVxuICBjb25zdCBvblNob3dFZGl0TW9kZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRFZGl0TW9kZSh0cnVlKVxuICB9LCBbXSlcblxuICBjb25zdCBDaHJvbWVmdWxUb29sYmFyID0gcHJvcHMuY29tcG9uZW50QmxvY2sudG9vbGJhciA/PyBEZWZhdWx0VG9vbGJhcldpdGhDaHJvbWVcbiAgcmV0dXJuIChcbiAgICA8QmxvY2tQcmltaXRpdmUgc2VsZWN0ZWQ9e3NlbGVjdGVkfSB7Li4ucHJvcHMuYXR0cmlidXRlc30+XG4gICAgICA8RmxleCBnYXA9XCJtZWRpdW1cIiBkaXJlY3Rpb249XCJjb2x1bW5cIj5cbiAgICAgICAgPE5vdEVkaXRhYmxlPlxuICAgICAgICAgIDxUZXh0IGNhc2luZz1cInVwcGVyY2FzZVwiIGNvbG9yPVwibmV1dHJhbFNlY29uZGFyeVwiIHdlaWdodD1cIm1lZGl1bVwiIHNpemU9XCJzbWFsbFwiPlxuICAgICAgICAgICAge3Byb3BzLmNvbXBvbmVudEJsb2NrLmxhYmVsfVxuICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgPC9Ob3RFZGl0YWJsZT5cbiAgICAgICAgPEZyYWdtZW50PlxuICAgICAgICAgIHtwcm9wcy5yZW5kZXJlZEJsb2NrfVxuICAgICAgICAgIDxDaHJvbWVmdWxUb29sYmFyXG4gICAgICAgICAgICBpc1ZhbGlkPXtpc1ZhbGlkfVxuICAgICAgICAgICAgb25SZW1vdmU9e3Byb3BzLm9uUmVtb3ZlfVxuICAgICAgICAgICAgcHJvcHM9e3Byb3BzLnByZXZpZXdQcm9wc31cbiAgICAgICAgICAgIG9uU2hvd0VkaXRNb2RlPXtvblNob3dFZGl0TW9kZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxEaWFsb2dDb250YWluZXIgb25EaXNtaXNzPXsoKSA9PiBvbkNsb3NlRWRpdE1vZGUoKX0+XG4gICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFlZGl0TW9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPERpYWxvZz5cbiAgICAgICAgICAgICAgICAgIDxIZWFkaW5nPkVkaXQge3Byb3BzLmNvbXBvbmVudEJsb2NrLmxhYmVsfTwvSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgIDxGb3JtVmFsdWUgcHJvcHM9e3Byb3BzLnByZXZpZXdQcm9wc30gb25DbG9zZT17b25DbG9zZUVkaXRNb2RlfSAvPlxuICAgICAgICAgICAgICAgIDwvRGlhbG9nPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KSgpfVxuICAgICAgICAgIDwvRGlhbG9nQ29udGFpbmVyPlxuICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgPC9GbGV4PlxuICAgIDwvQmxvY2tQcmltaXRpdmU+XG4gIClcbn1cblxuLyoqXG4gKiBXcmFwIGJsb2NrIGNvbnRlbnQsIGRlbGltaXRpbmcgaXQgZnJvbSBzdXJyb3VuZGluZyBjb250ZW50LCBhbmQgcHJvdmlkZSBhXG4gKiBmb2N1cyBpbmRpY2F0b3IgYmVjYXVzZSB0aGUgY3Vyc29yIG1heSBub3QgYmUgcHJlc2VudC5cbiAqL1xuY29uc3QgQmxvY2tQcmltaXRpdmUgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIEJsb2NrUHJpbWl0aXZlKFxuICB7XG4gICAgY2hpbGRyZW4sXG4gICAgc2VsZWN0ZWQsXG4gICAgLi4uYXR0cmlidXRlc1xuICB9OiBQcm9wc1dpdGhDaGlsZHJlbjxPbWl0PFJlbmRlckVsZW1lbnRQcm9wc1snYXR0cmlidXRlcyddLCAncmVmJz4gJiB7IHNlbGVjdGVkOiBib29sZWFuIH0+LFxuICByZWY6IFJlZjxhbnk+XG4pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICB7Li4uYXR0cmlidXRlc31cbiAgICAgIHJlZj17cmVmfVxuICAgICAgY2xhc3NOYW1lPXtjc3MoYmxvY2tFbGVtZW50U3BhY2luZywge1xuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgcGFkZGluZ0lubGluZVN0YXJ0OiB0b2tlblNjaGVtYS5zaXplLnNwYWNlLnhsYXJnZSxcbiAgICAgICAgbWFyZ2luQm90dG9tOiB0b2tlblNjaGVtYS5zaXplLnNwYWNlLnhsYXJnZSxcblxuICAgICAgICAnOjpiZWZvcmUnOiB7XG4gICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICBjb250ZW50OiAnXCIgXCInLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogc2VsZWN0ZWRcbiAgICAgICAgICAgID8gdG9rZW5TY2hlbWEuY29sb3IuYWxpYXMuYm9yZGVyU2VsZWN0ZWRcbiAgICAgICAgICAgIDogdG9rZW5TY2hlbWEuY29sb3IuYWxpYXMuYm9yZGVySWRsZSxcbiAgICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICAgICAgd2lkdGg6IDQsXG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgIHpJbmRleDogMSxcbiAgICAgICAgfSxcbiAgICAgIH0pfVxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2Rpdj5cbiAgKVxufSlcblxuZnVuY3Rpb24gRGVmYXVsdFRvb2xiYXJXaXRoQ2hyb21lKHtcbiAgb25TaG93RWRpdE1vZGUsXG4gIG9uUmVtb3ZlLFxuICBpc1ZhbGlkLFxufToge1xuICBvblNob3dFZGl0TW9kZSgpOiB2b2lkXG4gIG9uUmVtb3ZlKCk6IHZvaWRcbiAgcHJvcHM6IGFueVxuICBpc1ZhbGlkOiBib29sZWFuXG59KSB7XG4gIHJldHVybiAoXG4gICAgPE5vdEVkaXRhYmxlPlxuICAgICAgPEZsZXggZGlyZWN0aW9uPVwiY29sdW1uXCIgZ2FwPVwibWVkaXVtXCI+XG4gICAgICAgIDxGbGV4IGFsaWduSXRlbXM9XCJjZW50ZXJcIiBnYXA9XCJyZWd1bGFyXCIgVU5TQUZFX3N0eWxlPXt7IHVzZXJTZWxlY3Q6ICdub25lJyB9fT5cbiAgICAgICAgICA8QWN0aW9uQnV0dG9uIG9uUHJlc3M9eygpID0+IG9uU2hvd0VkaXRNb2RlKCl9PkVkaXQ8L0FjdGlvbkJ1dHRvbj5cbiAgICAgICAgICA8VG9vbHRpcFRyaWdnZXI+XG4gICAgICAgICAgICA8QWN0aW9uQnV0dG9uIHByb21pbmVuY2U9XCJsb3dcIiBvblByZXNzPXtvblJlbW92ZX0+XG4gICAgICAgICAgICAgIDxJY29uIHNyYz17dHJhc2gySWNvbn0gLz5cbiAgICAgICAgICAgIDwvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgICAgPFRvb2x0aXAgdG9uZT1cImNyaXRpY2FsXCI+RGVsZXRlPC9Ub29sdGlwPlxuICAgICAgICAgIDwvVG9vbHRpcFRyaWdnZXI+XG4gICAgICAgIDwvRmxleD5cbiAgICAgICAgeyFpc1ZhbGlkICYmIDxGaWVsZE1lc3NhZ2U+Q29udGFpbnMgaW52YWxpZCBmaWVsZHMuIFBsZWFzZSBlZGl0LjwvRmllbGRNZXNzYWdlPn1cbiAgICAgIDwvRmxleD5cbiAgICA8L05vdEVkaXRhYmxlPlxuICApXG59XG5cbmZ1bmN0aW9uIEZvcm1WYWx1ZSh7XG4gIG9uQ2xvc2UsXG4gIHByb3BzLFxufToge1xuICBwcm9wczogR2VuZXJpY1ByZXZpZXdQcm9wczxDb21wb25lbnRTY2hlbWEsIHVua25vd24+XG4gIG9uQ2xvc2UoKTogdm9pZFxufSkge1xuICBjb25zdCBmb3JtSWQgPSB1c2VJZCgpXG4gIGNvbnN0IFtmb3JjZVZhbGlkYXRpb24sIHNldEZvcmNlVmFsaWRhdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSgoKSA9PiBwcmV2aWV3UHJvcHNUb1ZhbHVlKHByb3BzKSlcbiAgY29uc3QgcHJldmlld1Byb3BzID0gdXNlTWVtbyhcbiAgICAoKSA9PiBjcmVhdGVHZXRQcmV2aWV3UHJvcHMocHJvcHMuc2NoZW1hLCBzZXRTdGF0ZSwgKCkgPT4gdW5kZWZpbmVkKSxcbiAgICBbcHJvcHMuc2NoZW1hXVxuICApKHN0YXRlKVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxDb250ZW50PlxuICAgICAgICA8RmxleFxuICAgICAgICAgIGlkPXtmb3JtSWR9XG4gICAgICAgICAgZWxlbWVudFR5cGU9XCJmb3JtXCJcbiAgICAgICAgICBvblN1Ym1pdD17ZXZlbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gZXZlbnQuY3VycmVudFRhcmdldCkgcmV0dXJuXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBpZiAoIWNsaWVudFNpZGVWYWxpZGF0ZVByb3AocHJvcHMuc2NoZW1hLCBzdGF0ZSkpIHtcbiAgICAgICAgICAgICAgc2V0Rm9yY2VWYWxpZGF0aW9uKHRydWUpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcmV2aWV3UHJvcHNPbkNoYW5nZShzdGF0ZSwgcHJvcHMpXG4gICAgICAgICAgICAgIG9uQ2xvc2UoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgICAgZGlyZWN0aW9uPVwiY29sdW1uXCJcbiAgICAgICAgICBnYXA9XCJ4eGxhcmdlXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxGb3JtVmFsdWVDb250ZW50RnJvbVByZXZpZXdQcm9wcyB7Li4ucHJldmlld1Byb3BzfSBmb3JjZVZhbGlkYXRpb249e2ZvcmNlVmFsaWRhdGlvbn0gLz5cbiAgICAgICAgPC9GbGV4PlxuICAgICAgPC9Db250ZW50PlxuICAgICAgPEJ1dHRvbkdyb3VwPlxuICAgICAgICA8QnV0dG9uIG9uUHJlc3M9e29uQ2xvc2V9PkNhbmNlbDwvQnV0dG9uPlxuICAgICAgICA8QnV0dG9uIGZvcm09e2Zvcm1JZH0gcHJvbWluZW5jZT1cImhpZ2hcIiB0eXBlPVwic3VibWl0XCI+XG4gICAgICAgICAgRG9uZVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvQnV0dG9uR3JvdXA+XG4gICAgPC8+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJJY29uIiwidHJhc2gySWNvbiIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwiRnJhZ21lbnQiLCJmb3J3YXJkUmVmIiwidXNlSWQiLCJ1c2VTZWxlY3RlZCIsIkFjdGlvbkJ1dHRvbiIsIkJ1dHRvbiIsIkJ1dHRvbkdyb3VwIiwiSGVhZGluZyIsIlRleHQiLCJOb3RFZGl0YWJsZSIsImNsaWVudFNpZGVWYWxpZGF0ZVByb3AiLCJGb3JtVmFsdWVDb250ZW50RnJvbVByZXZpZXdQcm9wcyIsInByZXZpZXdQcm9wc09uQ2hhbmdlIiwicHJldmlld1Byb3BzVG9WYWx1ZSIsIkRpYWxvZ0NvbnRhaW5lciIsIkRpYWxvZyIsIkZpZWxkTWVzc2FnZSIsIkZsZXgiLCJDb250ZW50IiwiY3NzIiwidG9rZW5TY2hlbWEiLCJUb29sdGlwVHJpZ2dlciIsIlRvb2x0aXAiLCJibG9ja0VsZW1lbnRTcGFjaW5nIiwiY3JlYXRlR2V0UHJldmlld1Byb3BzIiwiQ2hyb21lZnVsQ29tcG9uZW50QmxvY2tFbGVtZW50IiwicHJvcHMiLCJzZWxlY3RlZCIsImlzVmFsaWQiLCJraW5kIiwiZmllbGRzIiwiY29tcG9uZW50QmxvY2siLCJzY2hlbWEiLCJlbGVtZW50UHJvcHMiLCJlZGl0TW9kZSIsInNldEVkaXRNb2RlIiwib25DbG9zZUVkaXRNb2RlIiwib25TaG93RWRpdE1vZGUiLCJDaHJvbWVmdWxUb29sYmFyIiwidG9vbGJhciIsIkRlZmF1bHRUb29sYmFyV2l0aENocm9tZSIsIkJsb2NrUHJpbWl0aXZlIiwiYXR0cmlidXRlcyIsImdhcCIsImRpcmVjdGlvbiIsImNhc2luZyIsImNvbG9yIiwid2VpZ2h0Iiwic2l6ZSIsImxhYmVsIiwicmVuZGVyZWRCbG9jayIsIm9uUmVtb3ZlIiwicHJldmlld1Byb3BzIiwib25EaXNtaXNzIiwiRm9ybVZhbHVlIiwib25DbG9zZSIsImNoaWxkcmVuIiwicmVmIiwiZGl2IiwiY2xhc3NOYW1lIiwicG9zaXRpb24iLCJwYWRkaW5nSW5saW5lU3RhcnQiLCJzcGFjZSIsInhsYXJnZSIsIm1hcmdpbkJvdHRvbSIsImRpc3BsYXkiLCJjb250ZW50IiwiYmFja2dyb3VuZENvbG9yIiwiYWxpYXMiLCJib3JkZXJTZWxlY3RlZCIsImJvcmRlcklkbGUiLCJib3JkZXJSYWRpdXMiLCJ3aWR0aCIsImxlZnQiLCJ0b3AiLCJib3R0b20iLCJ6SW5kZXgiLCJhbGlnbkl0ZW1zIiwiVU5TQUZFX3N0eWxlIiwidXNlclNlbGVjdCIsIm9uUHJlc3MiLCJwcm9taW5lbmNlIiwic3JjIiwidG9uZSIsImZvcm1JZCIsImZvcmNlVmFsaWRhdGlvbiIsInNldEZvcmNlVmFsaWRhdGlvbiIsInN0YXRlIiwic2V0U3RhdGUiLCJ1bmRlZmluZWQiLCJpZCIsImVsZW1lbnRUeXBlIiwib25TdWJtaXQiLCJldmVudCIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm0iLCJ0eXBlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/component-blocks/chromeless-element.tsx":
/*!*******************************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/component-blocks/chromeless-element.tsx ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChromelessComponentBlockElement: () => (/* binding */ ChromelessComponentBlockElement)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_trashIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/icon/icons/trashIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-trashIcon.js\");\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var _primitives_BlockPopover__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../primitives/BlockPopover */ \"../../../../packages/fields-document/src/DocumentEditor/primitives/BlockPopover.tsx\");\n/* harmony import */ var _utils_hooks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils-hooks */ \"../../../../packages/fields-document/src/DocumentEditor/utils-hooks.tsx\");\n\n\n\n\n\n\n\nfunction ChromelessComponentBlockElement(props) {\n    const hasToolbar = props.componentBlock.toolbar !== null;\n    const ChromelessToolbar = props.componentBlock.toolbar ?? DefaultToolbarWithoutChrome;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ...props.attributes,\n        className: _utils_hooks__WEBPACK_IMPORTED_MODULE_6__.blockElementSpacing,\n        children: hasToolbar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_primitives_BlockPopover__WEBPACK_IMPORTED_MODULE_5__.BlockPopoverTrigger, {\n            element: props.element,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: props.renderedBlock\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeless-element.tsx\",\n                    lineNumber: 27,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_primitives_BlockPopover__WEBPACK_IMPORTED_MODULE_5__.BlockPopover, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChromelessToolbar, {\n                        onRemove: props.onRemove,\n                        props: props.previewProps\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeless-element.tsx\",\n                        lineNumber: 29,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeless-element.tsx\",\n                    lineNumber: 28,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeless-element.tsx\",\n            lineNumber: 26,\n            columnNumber: 9\n        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: props.renderedBlock\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeless-element.tsx\",\n            lineNumber: 33,\n            columnNumber: 9\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeless-element.tsx\",\n        lineNumber: 24,\n        columnNumber: 5\n    }, this);\n}\nfunction DefaultToolbarWithoutChrome({ onRemove }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_4__.TooltipTrigger, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_3__.ActionButton, {\n                onPress: onRemove,\n                margin: \"regular\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n                    src: _keystar_ui_icon_icons_trashIcon__WEBPACK_IMPORTED_MODULE_2__.trashIcon\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeless-element.tsx\",\n                    lineNumber: 48,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeless-element.tsx\",\n                lineNumber: 47,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_4__.Tooltip, {\n                tone: \"critical\",\n                children: \"Remove\"\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeless-element.tsx\",\n                lineNumber: 50,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/chromeless-element.tsx\",\n        lineNumber: 46,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL2Nocm9tZWxlc3MtZWxlbWVudC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUF1QztBQUNxQjtBQUlYO0FBQ1k7QUFDaUI7QUFDMUI7QUFHN0MsU0FBU1EsZ0NBQWdDQyxLQU8vQztJQUNDLE1BQU1DLGFBQWFELE1BQU1FLGNBQWMsQ0FBQ0MsT0FBTyxLQUFLO0lBQ3BELE1BQU1DLG9CQUFvQkosTUFBTUUsY0FBYyxDQUFDQyxPQUFPLElBQUlFO0lBRTFELHFCQUNFLDhEQUFDQztRQUFLLEdBQUdOLE1BQU1PLFVBQVU7UUFBRUMsV0FBV1YsNkRBQW1CQTtrQkFDdERHLDJCQUNDLDhEQUFDTCx5RUFBbUJBO1lBQUNhLFNBQVNULE1BQU1TLE9BQU87OzhCQUN6Qyw4REFBQ0g7OEJBQUtOLE1BQU1VLGFBQWE7Ozs7Ozs4QkFDekIsOERBQUNiLGtFQUFZQTs4QkFDWCw0RUFBQ087d0JBQWtCTyxVQUFVWCxNQUFNVyxRQUFRO3dCQUFFWCxPQUFPQSxNQUFNWSxZQUFZOzs7Ozs7Ozs7Ozs7Ozs7O2lDQUkxRSw4REFBQ047c0JBQUtOLE1BQU1VLGFBQWE7Ozs7Ozs7Ozs7O0FBSWpDO0FBRUEsU0FBU0wsNEJBQTRCLEVBQ25DTSxRQUFRLEVBSVQ7SUFDQyxxQkFDRSw4REFBQ2pCLCtEQUFjQTs7MEJBQ2IsOERBQUNELDREQUFZQTtnQkFBQ29CLFNBQVNGO2dCQUFVRyxRQUFPOzBCQUN0Qyw0RUFBQ3ZCLGtEQUFJQTtvQkFBQ3dCLEtBQUt2Qix1RUFBU0E7Ozs7Ozs7Ozs7OzBCQUV0Qiw4REFBQ0csd0RBQU9BO2dCQUFDcUIsTUFBSzswQkFBVzs7Ozs7Ozs7Ozs7O0FBRy9CIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvY29tcG9uZW50LWJsb2Nrcy9jaHJvbWVsZXNzLWVsZW1lbnQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uJ1xuaW1wb3J0IHsgdHJhc2hJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbi9pY29ucy90cmFzaEljb24nXG5pbXBvcnQgeyB0eXBlIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJFbGVtZW50UHJvcHMgfSBmcm9tICdzbGF0ZS1yZWFjdCdcbmltcG9ydCB0eXBlIHsgQ29tcG9uZW50QmxvY2ssIFByZXZpZXdQcm9wc0ZvclRvb2xiYXIsIE9iamVjdEZpZWxkLCBDb21wb25lbnRTY2hlbWEgfSBmcm9tICcuL2FwaSdcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2J1dHRvbidcbmltcG9ydCB7IFRvb2x0aXBUcmlnZ2VyLCBUb29sdGlwIH0gZnJvbSAnQGtleXN0YXIvdWkvdG9vbHRpcCdcbmltcG9ydCB7IEJsb2NrUG9wb3ZlclRyaWdnZXIsIEJsb2NrUG9wb3ZlciB9IGZyb20gJy4uL3ByaW1pdGl2ZXMvQmxvY2tQb3BvdmVyJ1xuaW1wb3J0IHsgYmxvY2tFbGVtZW50U3BhY2luZyB9IGZyb20gJy4uL3V0aWxzLWhvb2tzJ1xuaW1wb3J0IHsgdHlwZSBFbGVtZW50IH0gZnJvbSAnc2xhdGUnXG5cbmV4cG9ydCBmdW5jdGlvbiBDaHJvbWVsZXNzQ29tcG9uZW50QmxvY2tFbGVtZW50KHByb3BzOiB7XG4gIHJlbmRlcmVkQmxvY2s6IFJlYWN0Tm9kZVxuICBjb21wb25lbnRCbG9jazogQ29tcG9uZW50QmxvY2sgJiB7IGNocm9tZWxlc3M6IHRydWUgfVxuICBwcmV2aWV3UHJvcHM6IFByZXZpZXdQcm9wc0ZvclRvb2xiYXI8T2JqZWN0RmllbGQ8UmVjb3JkPHN0cmluZywgQ29tcG9uZW50U2NoZW1hPj4+XG4gIG9uUmVtb3ZlOiAoKSA9PiB2b2lkXG4gIGF0dHJpYnV0ZXM6IFJlbmRlckVsZW1lbnRQcm9wc1snYXR0cmlidXRlcyddXG4gIGVsZW1lbnQ6IEVsZW1lbnRcbn0pIHtcbiAgY29uc3QgaGFzVG9vbGJhciA9IHByb3BzLmNvbXBvbmVudEJsb2NrLnRvb2xiYXIgIT09IG51bGxcbiAgY29uc3QgQ2hyb21lbGVzc1Rvb2xiYXIgPSBwcm9wcy5jb21wb25lbnRCbG9jay50b29sYmFyID8/IERlZmF1bHRUb29sYmFyV2l0aG91dENocm9tZVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiB7Li4ucHJvcHMuYXR0cmlidXRlc30gY2xhc3NOYW1lPXtibG9ja0VsZW1lbnRTcGFjaW5nfT5cbiAgICAgIHtoYXNUb29sYmFyID8gKFxuICAgICAgICA8QmxvY2tQb3BvdmVyVHJpZ2dlciBlbGVtZW50PXtwcm9wcy5lbGVtZW50fT5cbiAgICAgICAgICA8ZGl2Pntwcm9wcy5yZW5kZXJlZEJsb2NrfTwvZGl2PlxuICAgICAgICAgIDxCbG9ja1BvcG92ZXI+XG4gICAgICAgICAgICA8Q2hyb21lbGVzc1Rvb2xiYXIgb25SZW1vdmU9e3Byb3BzLm9uUmVtb3ZlfSBwcm9wcz17cHJvcHMucHJldmlld1Byb3BzfSAvPlxuICAgICAgICAgIDwvQmxvY2tQb3BvdmVyPlxuICAgICAgICA8L0Jsb2NrUG9wb3ZlclRyaWdnZXI+XG4gICAgICApIDogKFxuICAgICAgICA8ZGl2Pntwcm9wcy5yZW5kZXJlZEJsb2NrfTwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5mdW5jdGlvbiBEZWZhdWx0VG9vbGJhcldpdGhvdXRDaHJvbWUoe1xuICBvblJlbW92ZSxcbn06IHtcbiAgb25SZW1vdmUoKTogdm9pZFxuICBwcm9wczogUmVjb3JkPHN0cmluZywgYW55PlxufSkge1xuICByZXR1cm4gKFxuICAgIDxUb29sdGlwVHJpZ2dlcj5cbiAgICAgIDxBY3Rpb25CdXR0b24gb25QcmVzcz17b25SZW1vdmV9IG1hcmdpbj1cInJlZ3VsYXJcIj5cbiAgICAgICAgPEljb24gc3JjPXt0cmFzaEljb259IC8+XG4gICAgICA8L0FjdGlvbkJ1dHRvbj5cbiAgICAgIDxUb29sdGlwIHRvbmU9XCJjcml0aWNhbFwiPlJlbW92ZTwvVG9vbHRpcD5cbiAgICA8L1Rvb2x0aXBUcmlnZ2VyPlxuICApXG59XG4iXSwibmFtZXMiOlsiSWNvbiIsInRyYXNoSWNvbiIsIkFjdGlvbkJ1dHRvbiIsIlRvb2x0aXBUcmlnZ2VyIiwiVG9vbHRpcCIsIkJsb2NrUG9wb3ZlclRyaWdnZXIiLCJCbG9ja1BvcG92ZXIiLCJibG9ja0VsZW1lbnRTcGFjaW5nIiwiQ2hyb21lbGVzc0NvbXBvbmVudEJsb2NrRWxlbWVudCIsInByb3BzIiwiaGFzVG9vbGJhciIsImNvbXBvbmVudEJsb2NrIiwidG9vbGJhciIsIkNocm9tZWxlc3NUb29sYmFyIiwiRGVmYXVsdFRvb2xiYXJXaXRob3V0Q2hyb21lIiwiZGl2IiwiYXR0cmlidXRlcyIsImNsYXNzTmFtZSIsImVsZW1lbnQiLCJyZW5kZXJlZEJsb2NrIiwib25SZW1vdmUiLCJwcmV2aWV3UHJvcHMiLCJvblByZXNzIiwibWFyZ2luIiwic3JjIiwidG9uZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/component-blocks/chromeless-element.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/component-blocks/component-block-render.tsx":
/*!***********************************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/component-blocks/component-block-render.tsx ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChildFieldEditable: () => (/* binding */ ChildFieldEditable),\n/* harmony export */   ChildrenByPathContext: () => (/* binding */ ChildrenByPathContext),\n/* harmony export */   ComponentBlockRender: () => (/* binding */ ComponentBlockRender)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _preview_props__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./preview-props */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/preview-props.ts\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n\n\n\n\n\nconst ChildrenByPathContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createContext({});\nfunction ChildFieldEditable({ path }) {\n    const childrenByPath = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ChildrenByPathContext);\n    const child = childrenByPath[JSON.stringify(path)];\n    if (child === undefined) {\n        return null;\n    }\n    return child;\n}\nfunction ComponentBlockRender({ componentBlock, element, onChange, children }) {\n    const getPreviewProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ComponentBlockRender.useMemo[getPreviewProps]\": ()=>{\n            return (0,_preview_props__WEBPACK_IMPORTED_MODULE_2__.createGetPreviewProps)({\n                kind: 'object',\n                fields: componentBlock.schema\n            }, onChange, {\n                \"ComponentBlockRender.useMemo[getPreviewProps]\": (path)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChildFieldEditable, {\n                        path: path\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/component-block-render.tsx\",\n                        lineNumber: 35,\n                        columnNumber: 15\n                    }, this)\n            }[\"ComponentBlockRender.useMemo[getPreviewProps]\"]);\n        }\n    }[\"ComponentBlockRender.useMemo[getPreviewProps]\"], [\n        onChange,\n        componentBlock\n    ]);\n    const previewProps = getPreviewProps(element.props);\n    const childrenByPath = {};\n    let maybeChild;\n    for (const child of children){\n        const propPath = child.props.children.props.element.propPath;\n        if (propPath === undefined) {\n            maybeChild = child;\n        } else {\n            childrenByPath[JSON.stringify(propPathWithIndiciesToKeys(propPath, element.props))] = child;\n        }\n    }\n    const ComponentBlockPreview = componentBlock.preview;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChildrenByPathContext.Provider, {\n        value: childrenByPath,\n        children: [\n            (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n                \"ComponentBlockRender.useMemo\": ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ComponentBlockPreview, {\n                        ...previewProps\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/component-block-render.tsx\",\n                        lineNumber: 58,\n                        columnNumber: 11\n                    }, this)\n            }[\"ComponentBlockRender.useMemo\"], [\n                previewProps,\n                ComponentBlockPreview\n            ]),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.css)({\n                    caretColor: 'transparent',\n                    '& ::selection': {\n                        backgroundColor: 'transparent'\n                    }\n                }),\n                children: maybeChild\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/component-block-render.tsx\",\n                lineNumber: 62,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/component-block-render.tsx\",\n        lineNumber: 55,\n        columnNumber: 5\n    }, this);\n}\n// note this is written to avoid crashing when the given prop path doesn't exist in the value\n// this is because editor updates happen asynchronously but we have some logic to ensure\n// that updating the props of a component block synchronously updates it\n// (this is primarily to not mess up things like cursors in inputs)\n// this means that sometimes the child elements will be inconsistent with the values\n// so to deal with this, we return a prop path this is \"wrong\" but won't break anything\nfunction propPathWithIndiciesToKeys(propPath, val) {\n    return propPath.map((key)=>{\n        if (typeof key === 'string') {\n            val = val?.[key];\n            return key;\n        }\n        if (!Array.isArray(val)) {\n            val = undefined;\n            return '';\n        }\n        const keys = (0,_preview_props__WEBPACK_IMPORTED_MODULE_2__.getKeysForArrayValue)(val);\n        val = val?.[key];\n        return keys[key];\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL2NvbXBvbmVudC1ibG9jay1yZW5kZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBeUM7QUFDUztBQUcyQjtBQUV0QztBQUVoQyxNQUFNTSxzQ0FBd0JOLDBEQUFtQixDQUErQixDQUFDLEdBQUU7QUFFbkYsU0FBU1EsbUJBQW1CLEVBQUVDLElBQUksRUFBK0I7SUFDdEUsTUFBTUMsaUJBQWlCVCxpREFBVUEsQ0FBQ0s7SUFDbEMsTUFBTUssUUFBUUQsY0FBYyxDQUFDRSxLQUFLQyxTQUFTLENBQUNKLE1BQU07SUFDbEQsSUFBSUUsVUFBVUcsV0FBVztRQUN2QixPQUFPO0lBQ1Q7SUFDQSxPQUFPSDtBQUNUO0FBRU8sU0FBU0kscUJBQXFCLEVBQ25DQyxjQUFjLEVBQ2RDLE9BQU8sRUFDUEMsUUFBUSxFQUNSQyxRQUFRLEVBTVQ7SUFDQyxNQUFNQyxrQkFBa0JsQiw4Q0FBT0E7eURBQUM7WUFDOUIsT0FBT0MscUVBQXFCQSxDQUMxQjtnQkFBRWtCLE1BQU07Z0JBQVVDLFFBQVFOLGVBQWVPLE1BQU07WUFBQyxHQUNoREw7aUVBQ0FULENBQUFBLHFCQUFRLDhEQUFDRDt3QkFBbUJDLE1BQU1BOzs7Ozs7O1FBRXRDO3dEQUFHO1FBQUNTO1FBQVVGO0tBQWU7SUFFN0IsTUFBTVEsZUFBZUosZ0JBQWdCSCxRQUFRUSxLQUFLO0lBRWxELE1BQU1mLGlCQUErQyxDQUFDO0lBQ3RELElBQUlnQjtJQUNKLEtBQUssTUFBTWYsU0FBU1EsU0FBVTtRQUM1QixNQUFNUSxXQUFXaEIsTUFBTWMsS0FBSyxDQUFDTixRQUFRLENBQUNNLEtBQUssQ0FBQ1IsT0FBTyxDQUFDVSxRQUFRO1FBQzVELElBQUlBLGFBQWFiLFdBQVc7WUFDMUJZLGFBQWFmO1FBQ2YsT0FBTztZQUNMRCxjQUFjLENBQUNFLEtBQUtDLFNBQVMsQ0FBQ2UsMkJBQTJCRCxVQUFVVixRQUFRUSxLQUFLLEdBQUcsR0FBR2Q7UUFDeEY7SUFDRjtJQUVBLE1BQU1rQix3QkFBd0JiLGVBQWVjLE9BQU87SUFFcEQscUJBQ0UsOERBQUN4QixzQkFBc0J5QixRQUFRO1FBQUNDLE9BQU90Qjs7WUFDcENSLDhDQUFPQTtnREFDTixrQkFDRSw4REFBQzJCO3dCQUF1QixHQUFHTCxZQUFZOzs7Ozs7K0NBRXpDO2dCQUFDQTtnQkFBY0s7YUFBc0I7MEJBRXZDLDhEQUFDSTtnQkFDQ0MsV0FBVzdCLHNEQUFHQSxDQUFDO29CQUNiOEIsWUFBWTtvQkFDWixpQkFBaUI7d0JBQUVDLGlCQUFpQjtvQkFBYztnQkFDcEQ7MEJBRUNWOzs7Ozs7Ozs7Ozs7QUFJVDtBQUVBLDZGQUE2RjtBQUM3Rix3RkFBd0Y7QUFDeEYsd0VBQXdFO0FBQ3hFLG1FQUFtRTtBQUNuRSxvRkFBb0Y7QUFDcEYsdUZBQXVGO0FBQ3ZGLFNBQVNFLDJCQUEyQkQsUUFBMEIsRUFBRVUsR0FBUTtJQUN0RSxPQUFPVixTQUFTVyxHQUFHLENBQUNDLENBQUFBO1FBQ2xCLElBQUksT0FBT0EsUUFBUSxVQUFVO1lBQzNCRixNQUFNQSxLQUFLLENBQUNFLElBQUk7WUFDaEIsT0FBT0E7UUFDVDtRQUNBLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDSixNQUFNO1lBQ3ZCQSxNQUFNdkI7WUFDTixPQUFPO1FBQ1Q7UUFDQSxNQUFNNEIsT0FBT3RDLG9FQUFvQkEsQ0FBQ2lDO1FBQ2xDQSxNQUFNQSxLQUFLLENBQUNFLElBQUk7UUFDaEIsT0FBT0csSUFBSSxDQUFDSCxJQUFJO0lBQ2xCO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL2NvbXBvbmVudC1ibG9jay1yZW5kZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VNZW1vLCB0eXBlIFJlYWN0RWxlbWVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHR5cGUgeyBFbGVtZW50IH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgdHlwZSB7IENvbXBvbmVudEJsb2NrIH0gZnJvbSAnLi9hcGktc2hhcmVkJ1xuaW1wb3J0IHsgY3JlYXRlR2V0UHJldmlld1Byb3BzLCBnZXRLZXlzRm9yQXJyYXlWYWx1ZSB9IGZyb20gJy4vcHJldmlldy1wcm9wcydcbmltcG9ydCB0eXBlIHsgUmVhZG9ubHlQcm9wUGF0aCB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdAa2V5c3Rhci91aS9zdHlsZSdcblxuZXhwb3J0IGNvbnN0IENoaWxkcmVuQnlQYXRoQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8UmVjb3JkPHN0cmluZywgUmVhY3RFbGVtZW50Pj4oe30pXG5cbmV4cG9ydCBmdW5jdGlvbiBDaGlsZEZpZWxkRWRpdGFibGUoeyBwYXRoIH06IHsgcGF0aDogcmVhZG9ubHkgc3RyaW5nW10gfSkge1xuICBjb25zdCBjaGlsZHJlbkJ5UGF0aCA9IHVzZUNvbnRleHQoQ2hpbGRyZW5CeVBhdGhDb250ZXh0KVxuICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuQnlQYXRoW0pTT04uc3RyaW5naWZ5KHBhdGgpXVxuICBpZiAoY2hpbGQgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgcmV0dXJuIGNoaWxkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDb21wb25lbnRCbG9ja1JlbmRlcih7XG4gIGNvbXBvbmVudEJsb2NrLFxuICBlbGVtZW50LFxuICBvbkNoYW5nZSxcbiAgY2hpbGRyZW4sXG59OiB7XG4gIGVsZW1lbnQ6IEVsZW1lbnQgJiB7IHR5cGU6ICdjb21wb25lbnQtYmxvY2snIH1cbiAgb25DaGFuZ2U6IChjYjogKHByb3BzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHZvaWRcbiAgY29tcG9uZW50QmxvY2s6IENvbXBvbmVudEJsb2NrXG4gIGNoaWxkcmVuOiBhbnlcbn0pIHtcbiAgY29uc3QgZ2V0UHJldmlld1Byb3BzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGNyZWF0ZUdldFByZXZpZXdQcm9wcyhcbiAgICAgIHsga2luZDogJ29iamVjdCcsIGZpZWxkczogY29tcG9uZW50QmxvY2suc2NoZW1hIH0sXG4gICAgICBvbkNoYW5nZSxcbiAgICAgIHBhdGggPT4gPENoaWxkRmllbGRFZGl0YWJsZSBwYXRoPXtwYXRofSAvPlxuICAgIClcbiAgfSwgW29uQ2hhbmdlLCBjb21wb25lbnRCbG9ja10pXG5cbiAgY29uc3QgcHJldmlld1Byb3BzID0gZ2V0UHJldmlld1Byb3BzKGVsZW1lbnQucHJvcHMpXG5cbiAgY29uc3QgY2hpbGRyZW5CeVBhdGg6IFJlY29yZDxzdHJpbmcsIFJlYWN0RWxlbWVudD4gPSB7fVxuICBsZXQgbWF5YmVDaGlsZDogUmVhY3RFbGVtZW50IHwgdW5kZWZpbmVkXG4gIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICBjb25zdCBwcm9wUGF0aCA9IGNoaWxkLnByb3BzLmNoaWxkcmVuLnByb3BzLmVsZW1lbnQucHJvcFBhdGhcbiAgICBpZiAocHJvcFBhdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgbWF5YmVDaGlsZCA9IGNoaWxkXG4gICAgfSBlbHNlIHtcbiAgICAgIGNoaWxkcmVuQnlQYXRoW0pTT04uc3RyaW5naWZ5KHByb3BQYXRoV2l0aEluZGljaWVzVG9LZXlzKHByb3BQYXRoLCBlbGVtZW50LnByb3BzKSldID0gY2hpbGRcbiAgICB9XG4gIH1cblxuICBjb25zdCBDb21wb25lbnRCbG9ja1ByZXZpZXcgPSBjb21wb25lbnRCbG9jay5wcmV2aWV3XG5cbiAgcmV0dXJuIChcbiAgICA8Q2hpbGRyZW5CeVBhdGhDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjaGlsZHJlbkJ5UGF0aH0+XG4gICAgICB7dXNlTWVtbyhcbiAgICAgICAgKCkgPT4gKFxuICAgICAgICAgIDxDb21wb25lbnRCbG9ja1ByZXZpZXcgey4uLnByZXZpZXdQcm9wc30gLz5cbiAgICAgICAgKSxcbiAgICAgICAgW3ByZXZpZXdQcm9wcywgQ29tcG9uZW50QmxvY2tQcmV2aWV3XVxuICAgICAgKX1cbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgICBjYXJldENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICcmIDo6c2VsZWN0aW9uJzogeyBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcgfSxcbiAgICAgICAgfSl9XG4gICAgICA+XG4gICAgICAgIHttYXliZUNoaWxkfVxuICAgICAgPC9zcGFuPlxuICAgIDwvQ2hpbGRyZW5CeVBhdGhDb250ZXh0LlByb3ZpZGVyPlxuICApXG59XG5cbi8vIG5vdGUgdGhpcyBpcyB3cml0dGVuIHRvIGF2b2lkIGNyYXNoaW5nIHdoZW4gdGhlIGdpdmVuIHByb3AgcGF0aCBkb2Vzbid0IGV4aXN0IGluIHRoZSB2YWx1ZVxuLy8gdGhpcyBpcyBiZWNhdXNlIGVkaXRvciB1cGRhdGVzIGhhcHBlbiBhc3luY2hyb25vdXNseSBidXQgd2UgaGF2ZSBzb21lIGxvZ2ljIHRvIGVuc3VyZVxuLy8gdGhhdCB1cGRhdGluZyB0aGUgcHJvcHMgb2YgYSBjb21wb25lbnQgYmxvY2sgc3luY2hyb25vdXNseSB1cGRhdGVzIGl0XG4vLyAodGhpcyBpcyBwcmltYXJpbHkgdG8gbm90IG1lc3MgdXAgdGhpbmdzIGxpa2UgY3Vyc29ycyBpbiBpbnB1dHMpXG4vLyB0aGlzIG1lYW5zIHRoYXQgc29tZXRpbWVzIHRoZSBjaGlsZCBlbGVtZW50cyB3aWxsIGJlIGluY29uc2lzdGVudCB3aXRoIHRoZSB2YWx1ZXNcbi8vIHNvIHRvIGRlYWwgd2l0aCB0aGlzLCB3ZSByZXR1cm4gYSBwcm9wIHBhdGggdGhpcyBpcyBcIndyb25nXCIgYnV0IHdvbid0IGJyZWFrIGFueXRoaW5nXG5mdW5jdGlvbiBwcm9wUGF0aFdpdGhJbmRpY2llc1RvS2V5cyhwcm9wUGF0aDogUmVhZG9ubHlQcm9wUGF0aCwgdmFsOiBhbnkpOiByZWFkb25seSBzdHJpbmdbXSB7XG4gIHJldHVybiBwcm9wUGF0aC5tYXAoa2V5ID0+IHtcbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbCA9IHZhbD8uW2tleV1cbiAgICAgIHJldHVybiBrZXlcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgIHZhbCA9IHVuZGVmaW5lZFxuICAgICAgcmV0dXJuICcnXG4gICAgfVxuICAgIGNvbnN0IGtleXMgPSBnZXRLZXlzRm9yQXJyYXlWYWx1ZSh2YWwpXG4gICAgdmFsID0gdmFsPy5ba2V5XVxuICAgIHJldHVybiBrZXlzW2tleV1cbiAgfSlcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZUNvbnRleHQiLCJ1c2VNZW1vIiwiY3JlYXRlR2V0UHJldmlld1Byb3BzIiwiZ2V0S2V5c0ZvckFycmF5VmFsdWUiLCJjc3MiLCJDaGlsZHJlbkJ5UGF0aENvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwiQ2hpbGRGaWVsZEVkaXRhYmxlIiwicGF0aCIsImNoaWxkcmVuQnlQYXRoIiwiY2hpbGQiLCJKU09OIiwic3RyaW5naWZ5IiwidW5kZWZpbmVkIiwiQ29tcG9uZW50QmxvY2tSZW5kZXIiLCJjb21wb25lbnRCbG9jayIsImVsZW1lbnQiLCJvbkNoYW5nZSIsImNoaWxkcmVuIiwiZ2V0UHJldmlld1Byb3BzIiwia2luZCIsImZpZWxkcyIsInNjaGVtYSIsInByZXZpZXdQcm9wcyIsInByb3BzIiwibWF5YmVDaGlsZCIsInByb3BQYXRoIiwicHJvcFBhdGhXaXRoSW5kaWNpZXNUb0tleXMiLCJDb21wb25lbnRCbG9ja1ByZXZpZXciLCJwcmV2aWV3IiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInNwYW4iLCJjbGFzc05hbWUiLCJjYXJldENvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwidmFsIiwibWFwIiwia2V5IiwiQXJyYXkiLCJpc0FycmF5Iiwia2V5cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/component-blocks/component-block-render.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/component-blocks/fields-ui-empty.tsx":
/*!****************************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/component-blocks/fields-ui-empty.tsx ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Checkbox: () => (/* binding */ Checkbox),\n/* harmony export */   Text: () => (/* binding */ Text),\n/* harmony export */   TextArea: () => (/* binding */ TextArea),\n/* harmony export */   TextField: () => (/* binding */ TextField),\n/* harmony export */   makeIntegerFieldInput: () => (/* binding */ makeIntegerFieldInput),\n/* harmony export */   makeMultiselectFieldInput: () => (/* binding */ makeMultiselectFieldInput),\n/* harmony export */   makeSelectFieldInput: () => (/* binding */ makeSelectFieldInput),\n/* harmony export */   makeUrlFieldInput: () => (/* binding */ makeUrlFieldInput)\n/* harmony export */ });\nfunction throwAlways() {\n    throw new Error('React components from @keystone-6/fields-document/component-blocks cannot be rendered on the server');\n}\nconst TextField = throwAlways, TextArea = throwAlways, Checkbox = throwAlways, Text = throwAlways, makeIntegerFieldInput = ()=>throwAlways, makeSelectFieldInput = ()=>throwAlways, makeUrlFieldInput = ()=>throwAlways, makeMultiselectFieldInput = ()=>throwAlways;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL2ZpZWxkcy11aS1lbXB0eS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxTQUFTQTtJQUNQLE1BQU0sSUFBSUMsTUFDUjtBQUVKO0FBRU8sTUFBTUMsWUFBWUYsYUFDdkJHLFdBQVdILGFBQ1hJLFdBQVdKLGFBQ1hLLE9BQU9MLGFBQ1BNLHdCQUF3QixJQUFNTixhQUM5Qk8sdUJBQXVCLElBQU1QLGFBQzdCUSxvQkFBb0IsSUFBTVIsYUFDMUJTLDRCQUE0QixJQUFNVCxZQUFXIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvY29tcG9uZW50LWJsb2Nrcy9maWVsZHMtdWktZW1wdHkudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHRocm93QWx3YXlzKCk6IG5ldmVyIHtcbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICdSZWFjdCBjb21wb25lbnRzIGZyb20gQGtleXN0b25lLTYvZmllbGRzLWRvY3VtZW50L2NvbXBvbmVudC1ibG9ja3MgY2Fubm90IGJlIHJlbmRlcmVkIG9uIHRoZSBzZXJ2ZXInXG4gIClcbn1cblxuZXhwb3J0IGNvbnN0IFRleHRGaWVsZCA9IHRocm93QWx3YXlzLFxuICBUZXh0QXJlYSA9IHRocm93QWx3YXlzLFxuICBDaGVja2JveCA9IHRocm93QWx3YXlzLFxuICBUZXh0ID0gdGhyb3dBbHdheXMsXG4gIG1ha2VJbnRlZ2VyRmllbGRJbnB1dCA9ICgpID0+IHRocm93QWx3YXlzLFxuICBtYWtlU2VsZWN0RmllbGRJbnB1dCA9ICgpID0+IHRocm93QWx3YXlzLFxuICBtYWtlVXJsRmllbGRJbnB1dCA9ICgpID0+IHRocm93QWx3YXlzLFxuICBtYWtlTXVsdGlzZWxlY3RGaWVsZElucHV0ID0gKCkgPT4gdGhyb3dBbHdheXNcbiJdLCJuYW1lcyI6WyJ0aHJvd0Fsd2F5cyIsIkVycm9yIiwiVGV4dEZpZWxkIiwiVGV4dEFyZWEiLCJDaGVja2JveCIsIlRleHQiLCJtYWtlSW50ZWdlckZpZWxkSW5wdXQiLCJtYWtlU2VsZWN0RmllbGRJbnB1dCIsIm1ha2VVcmxGaWVsZElucHV0IiwibWFrZU11bHRpc2VsZWN0RmllbGRJbnB1dCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/component-blocks/fields-ui-empty.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx":
/*!******************************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FormValueContentFromPreviewProps: () => (/* binding */ FormValueContentFromPreviewProps),\n/* harmony export */   previewPropsOnChange: () => (/* binding */ previewPropsOnChange),\n/* harmony export */   previewPropsToValue: () => (/* binding */ previewPropsToValue)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystone_6_core_admin_ui_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystone-6/core/admin-ui/context */ \"../../../../packages/core/src/admin-ui/context.tsx\");\n/* harmony import */ var _keystone_6_core_admin_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystone-6/core/admin-ui/utils */ \"../../../../packages/core/src/admin-ui/utils/index.ts\");\n/* harmony import */ var _keystone_6_core_fields_types_relationship_views__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystone-6/core/fields/types/relationship/views */ \"../../../../packages/core/src/fields/types/relationship/views/index.tsx\");\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/dialog */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-dialog.js\");\n/* harmony import */ var _keystar_ui_drag_and_drop__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/drag-and-drop */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-drag-and-drop.js\");\n/* harmony import */ var _keystar_ui_field__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-field.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_trash2Icon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystar/ui/icon/icons/trash2Icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-trash2Icon.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_list_view__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @keystar/ui/list-view */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-list-view.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _preview_props__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./preview-props */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/preview-props.ts\");\n/* harmony import */ var _keystar_ui_slots__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @keystar/ui/slots */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-slots.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/utils.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst previewPropsToValueConverter = {\n    child () {\n        return null;\n    },\n    form (props) {\n        return props.value;\n    },\n    array (props) {\n        const values = props.elements.map((x)=>previewPropsToValue(x));\n        (0,_preview_props__WEBPACK_IMPORTED_MODULE_15__.setKeysForArrayValue)(values, props.elements.map((x)=>x.key));\n        return values;\n    },\n    conditional (props) {\n        return {\n            discriminant: props.discriminant,\n            value: previewPropsToValue(props.value)\n        };\n    },\n    object (props) {\n        return Object.fromEntries(Object.entries(props.fields).map(([key, val])=>[\n                key,\n                previewPropsToValue(val)\n            ]));\n    },\n    relationship (props) {\n        return props.value;\n    }\n};\nconst valueToUpdaters = {\n    child () {\n        return undefined;\n    },\n    form (value) {\n        return value;\n    },\n    array (value, schema) {\n        const keys = (0,_preview_props__WEBPACK_IMPORTED_MODULE_15__.getKeysForArrayValue)(value);\n        return value.map((x, i)=>({\n                key: keys[i],\n                value: valueToUpdater(x, schema.element)\n            }));\n    },\n    conditional (value, schema) {\n        return {\n            discriminant: value.discriminant,\n            value: valueToUpdater(value.value, schema.values[value.discriminant.toString()])\n        };\n    },\n    object (value, schema) {\n        return Object.fromEntries(Object.entries(schema.fields).map(([key, schema])=>[\n                key,\n                valueToUpdater(value[key], schema)\n            ]));\n    },\n    relationship (value) {\n        return value;\n    }\n};\nfunction previewPropsToValue(props) {\n    return previewPropsToValueConverter[props.schema.kind](props);\n}\nfunction valueToUpdater(value, schema) {\n    return valueToUpdaters[schema.kind](value, schema);\n}\n// this exists because for props.schema.kind === 'form', ts doesn't narrow props, only props.schema\nfunction isKind(props, kind) {\n    return props.schema.kind === kind;\n}\nfunction previewPropsOnChange(value, props) {\n    // child fields can't be updated through preview props, so we don't do anything here\n    if (isKind(props, 'child')) return;\n    if (isKind(props, 'form') || isKind(props, 'relationship') || isKind(props, 'object') || isKind(props, 'array')) {\n        props.onChange(valueToUpdater(value, props.schema));\n        return;\n    }\n    if (isKind(props, 'conditional')) {\n        const updater = valueToUpdater(value, props.schema);\n        props.onChange(updater.discriminant, updater.value);\n        return;\n    }\n    (0,_utils__WEBPACK_IMPORTED_MODULE_17__.assertNever)(props);\n}\nfunction ArrayFieldPreview(props) {\n    const { elements, onChange, schema } = props;\n    const { label } = schema;\n    const [modalState, setModalState] = (0,react__WEBPACK_IMPORTED_MODULE_14__.useState)('closed');\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_field__WEBPACK_IMPORTED_MODULE_7__.Field, {\n        label: label,\n        labelElementType: \"span\",\n        children: (groupProps)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_10__.VStack, {\n                gap: \"medium\",\n                role: \"group\",\n                minWidth: 0,\n                ...groupProps,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ArrayFieldListView, {\n                        ...props,\n                        \"aria-label\": label ?? '',\n                        onOpenItem: (index)=>{\n                            const element = elements.at(index);\n                            if (!element) return;\n                            setModalState({\n                                index,\n                                value: previewPropsToValue(element),\n                                forceValidation: false\n                            });\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                        lineNumber: 185,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.ActionButton, {\n                        alignSelf: \"start\",\n                        autoFocus: props.autoFocus,\n                        onPress: ()=>{\n                            onChange([\n                                ...elements.map((x)=>({\n                                        key: x.key\n                                    })),\n                                {\n                                    key: undefined\n                                }\n                            ]);\n                        },\n                        children: \"Add\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                        lineNumber: 198,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_5__.DialogContainer, {\n                        onDismiss: ()=>{\n                            setModalState('closed');\n                        },\n                        children: (()=>{\n                            if (props.schema.element.kind === 'child') return;\n                            if (modalState === 'closed') return;\n                            const element = elements.at(modalState.index);\n                            if (!element) return;\n                            const onModalChange = (cb)=>{\n                                setModalState((state)=>{\n                                    if (state === 'closed') return state;\n                                    return {\n                                        index: modalState.index,\n                                        forceValidation: state.forceValidation,\n                                        value: cb(state.value)\n                                    };\n                                });\n                            };\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_5__.Dialog, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_13__.Heading, {\n                                        children: \"Edit item\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                                        lineNumber: 230,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_slots__WEBPACK_IMPORTED_MODULE_16__.Content, {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ArrayFieldItemModalContent, {\n                                            onChange: onModalChange,\n                                            schema: element.schema,\n                                            value: modalState.value\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                                            lineNumber: 232,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                                        lineNumber: 231,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.ButtonGroup, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                                prominence: \"low\",\n                                                onPress: ()=>{\n                                                    setModalState('closed');\n                                                },\n                                                children: \"Cancel\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                                                lineNumber: 239,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                                prominence: \"high\",\n                                                onPress: ()=>{\n                                                    if (!(0,_utils__WEBPACK_IMPORTED_MODULE_17__.clientSideValidateProp)(element.schema, modalState.value)) {\n                                                        setModalState((state)=>({\n                                                                ...state,\n                                                                forceValidation: true\n                                                            }));\n                                                        return;\n                                                    }\n                                                    previewPropsOnChange(modalState.value, element);\n                                                    setModalState('closed');\n                                                },\n                                                children: \"Done\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                                                lineNumber: 247,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                                        lineNumber: 238,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                                lineNumber: 229,\n                                columnNumber: 17\n                            }, this);\n                        })()\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                        lineNumber: 207,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                lineNumber: 184,\n                columnNumber: 9\n            }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n        lineNumber: 182,\n        columnNumber: 5\n    }, this);\n}\nfunction RelationshipFieldPreview(props) {\n    const { autoFocus, onChange, schema, value } = props;\n    const { listKey, label, description, many } = schema;\n    const list = (0,_keystone_6_core_admin_ui_context__WEBPACK_IMPORTED_MODULE_1__.useList)(listKey);\n    const formValue = function() {\n        if (many) {\n            if (value !== null && !('length' in value)) throw TypeError('bad value');\n            const manyValue = value === null ? [] : value.map((x)=>({\n                    id: x.id,\n                    label: x.label || x.id.toString(),\n                    data: x.data,\n                    built: undefined\n                }));\n            return {\n                kind: 'many',\n                id: '',\n                initialValue: manyValue,\n                value: manyValue\n            };\n        }\n        if (value !== null && 'length' in value) throw TypeError('bad value');\n        const oneValue = value ? {\n            id: value.id,\n            label: value.label || value.id.toString(),\n            data: value.data,\n            built: undefined\n        } : null;\n        return {\n            kind: 'one',\n            id: '',\n            initialValue: oneValue,\n            value: oneValue\n        };\n    }();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystone_6_core_fields_types_relationship_views__WEBPACK_IMPORTED_MODULE_3__.Field, {\n        autoFocus: autoFocus,\n        isRequired: false,\n        field: {\n            path: '',\n            label,\n            description,\n            display: 'select',\n            listKey: '',\n            // see relationship controller for these fields\n            refListKey: list.key,\n            many,\n            hideCreate: true,\n            refLabelField: list.labelField,\n            refSearchFields: list.initialSearchFields,\n            filter: list.initialFilter,\n            sort: list.initialSort\n        },\n        onChange: (val)=>{\n            if (val.kind === 'count') return; // shouldnt happen\n            const { value } = val;\n            if (value === null) {\n                onChange(null);\n                return;\n            }\n            if (Array.isArray(value)) {\n                onChange(value.map((x)=>({\n                        id: x.id,\n                        label: x.label\n                    })));\n                return;\n            }\n            onChange({\n                id: value.id,\n                label: value.label\n            });\n        },\n        value: formValue,\n        itemValue: {}\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n        lineNumber: 316,\n        columnNumber: 5\n    }, this);\n}\nfunction FormFieldPreview({ schema, autoFocus, forceValidation, onChange, value }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(schema.Input, {\n        autoFocus: !!autoFocus,\n        value: value,\n        onChange: onChange,\n        forceValidation: !!forceValidation\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n        lineNumber: 364,\n        columnNumber: 5\n    }, this);\n}\nfunction canFieldBeFocused(schema) {\n    if (schema.kind === 'child') return false;\n    if (schema.kind === 'array') return true;\n    if (schema.kind === 'conditional') return true;\n    if (schema.kind === 'form') return true;\n    if (schema.kind === 'relationship') return true;\n    if (schema.kind === 'object') {\n        for (const innerProp of Object.values(schema.fields)){\n            if (canFieldBeFocused(innerProp)) return true;\n        }\n        return false;\n    }\n    (0,_utils__WEBPACK_IMPORTED_MODULE_17__.assertNever)(schema);\n}\nfunction findFocusableObjectFieldKey(schema) {\n    for (const [key, innerProp] of Object.entries(schema.fields)){\n        const childFocusable = canFieldBeFocused(innerProp);\n        if (childFocusable) return key;\n    }\n}\nfunction ObjectFieldPreview({ schema, autoFocus, fields }) {\n    const firstFocusable = autoFocus ? findFocusableObjectFieldKey(schema) : undefined;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_10__.HStack, {\n        gap: \"medium\",\n        paddingTop: \"medium\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystone_6_core_admin_ui_utils__WEBPACK_IMPORTED_MODULE_2__.GroupIndicatorLine, {}, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                lineNumber: 399,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_10__.VStack, {\n                gap: \"xlarge\",\n                flex: true,\n                minWidth: 0,\n                children: [\n                    ...function*() {\n                        for (const [key, propVal] of Object.entries(fields)){\n                            if (!isNonChildFieldPreviewProps(propVal)) continue;\n                            yield /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FormValueContentFromPreviewProps, {\n                                autoFocus: key === firstFocusable,\n                                ...propVal\n                            }, key, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                                lineNumber: 407,\n                                columnNumber: 17\n                            }, this);\n                        }\n                    }()\n                ]\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                lineNumber: 400,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n        lineNumber: 398,\n        columnNumber: 5\n    }, this);\n}\nfunction ConditionalFieldPreview({ schema, autoFocus, discriminant, onChange, value }) {\n    const schemaDiscriminant = schema.discriminant;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_10__.HStack, {\n        gap: \"xlarge\",\n        children: [\n            (0,react__WEBPACK_IMPORTED_MODULE_14__.useMemo)({\n                \"ConditionalFieldPreview.useMemo\": ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(schemaDiscriminant.Input, {\n                        autoFocus: !!autoFocus,\n                        value: discriminant,\n                        onChange: onChange,\n                        forceValidation: false\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                        lineNumber: 433,\n                        columnNumber: 11\n                    }, this)\n            }[\"ConditionalFieldPreview.useMemo\"], [\n                autoFocus,\n                schemaDiscriminant,\n                discriminant,\n                onChange\n            ]),\n            isNonChildFieldPreviewProps(value) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FormValueContentFromPreviewProps, {\n                ...value\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                lineNumber: 442,\n                columnNumber: 46\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n        lineNumber: 430,\n        columnNumber: 5\n    }, this);\n}\nfunction isNonChildFieldPreviewProps(props) {\n    return props.schema.kind !== 'child';\n}\nconst fieldRenderers = {\n    array: ArrayFieldPreview,\n    relationship: RelationshipFieldPreview,\n    child: ()=>null,\n    form: FormFieldPreview,\n    object: ObjectFieldPreview,\n    conditional: ConditionalFieldPreview\n};\nconst FormValueContentFromPreviewProps = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_14__.memo)(function FormValueContentFromPreview(props) {\n    const Comp = fieldRenderers[props.schema.kind];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Comp, {\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n        lineNumber: 478,\n        columnNumber: 10\n    }, this);\n});\nfunction useEventCallback(callback) {\n    const callbackRef = (0,react__WEBPACK_IMPORTED_MODULE_14__.useRef)(callback);\n    const cb = (0,react__WEBPACK_IMPORTED_MODULE_14__.useCallback)({\n        \"useEventCallback.useCallback[cb]\": (...args)=>{\n            return callbackRef.current(...args);\n        }\n    }[\"useEventCallback.useCallback[cb]\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_14__.useEffect)({\n        \"useEventCallback.useEffect\": ()=>{\n            callbackRef.current = callback;\n        }\n    }[\"useEventCallback.useEffect\"]);\n    return cb;\n}\nfunction ArrayFieldListView(props) {\n    const onMove = (keys, target)=>{\n        const targetIndex = props.elements.findIndex((x)=>x.key === target.key);\n        if (targetIndex === -1) return;\n        const allKeys = props.elements.map((x)=>({\n                key: x.key\n            }));\n        const indexToMoveTo = target.dropPosition === 'before' ? targetIndex : targetIndex + 1;\n        const indices = keys.map((key)=>allKeys.findIndex((x)=>x.key === key));\n        props.onChange((0,_keystar_ui_drag_and_drop__WEBPACK_IMPORTED_MODULE_6__.move)(allKeys, indices, indexToMoveTo));\n    };\n    const dragType = (0,react__WEBPACK_IMPORTED_MODULE_14__.useMemo)({\n        \"ArrayFieldListView.useMemo[dragType]\": ()=>Math.random().toString(36)\n    }[\"ArrayFieldListView.useMemo[dragType]\"], []);\n    const { dragAndDropHooks } = (0,_keystar_ui_drag_and_drop__WEBPACK_IMPORTED_MODULE_6__.useDragAndDrop)({\n        getItems (keys) {\n            // Use a drag type so the items can only be reordered within this list\n            // and not dragged elsewhere.\n            return [\n                ...keys\n            ].map({\n                \"ArrayFieldListView.useDragAndDrop\": (key)=>{\n                    key = JSON.stringify(key);\n                    return {\n                        [dragType]: key,\n                        'text/plain': key\n                    };\n                }\n            }[\"ArrayFieldListView.useDragAndDrop\"]);\n        },\n        getAllowedDropOperations () {\n            return [\n                'move',\n                'cancel'\n            ];\n        },\n        async onDrop (e) {\n            if (e.target.type !== 'root' && e.target.dropPosition !== 'on') {\n                let keys = [];\n                for (let item of e.items){\n                    if (item.kind === 'text') {\n                        let key;\n                        if (item.types.has(dragType)) {\n                            key = JSON.parse(await item.getText(dragType));\n                            keys.push(key);\n                        } else if (item.types.has('text/plain')) {\n                            // Fallback for Chrome Android case: https://bugs.chromium.org/p/chromium/issues/detail?id=1293803\n                            // Multiple drag items are contained in a single string so we need to split them out\n                            key = await item.getText('text/plain');\n                            keys = key.split('\\n').map({\n                                \"ArrayFieldListView.useDragAndDrop\": (val)=>val.replaceAll('\"', '')\n                            }[\"ArrayFieldListView.useDragAndDrop\"]);\n                        }\n                    }\n                }\n                onMove(keys, e.target);\n            }\n        },\n        getDropOperation (target) {\n            if (target.type === 'root' || target.dropPosition === 'on') return 'cancel';\n            return 'move';\n        }\n    });\n    const onRemoveKey = useEventCallback({\n        \"ArrayFieldListView.useEventCallback[onRemoveKey]\": (key)=>{\n            props.onChange(props.elements.map({\n                \"ArrayFieldListView.useEventCallback[onRemoveKey]\": (x)=>({\n                        key: x.key\n                    })\n            }[\"ArrayFieldListView.useEventCallback[onRemoveKey]\"]).filter({\n                \"ArrayFieldListView.useEventCallback[onRemoveKey]\": (val)=>val.key !== key\n            }[\"ArrayFieldListView.useEventCallback[onRemoveKey]\"]));\n        }\n    }[\"ArrayFieldListView.useEventCallback[onRemoveKey]\"]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_list_view__WEBPACK_IMPORTED_MODULE_11__.ListView, {\n        \"aria-label\": props['aria-label'],\n        items: props.elements,\n        dragAndDropHooks: dragAndDropHooks,\n        height: props.elements.length ? undefined : 'scale.2000',\n        selectionMode: \"none\",\n        renderEmptyState: arrayFieldEmptyState,\n        onAction: (key)=>{\n            const i = props.elements.findIndex((x)=>x.key === key);\n            if (i === -1) return;\n            props.onOpenItem(i);\n        },\n        children: (item)=>{\n            const label = props.schema.itemLabel?.(item) || `Item ${props.elements.indexOf(item) + 1}`;\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_list_view__WEBPACK_IMPORTED_MODULE_11__.Item, {\n                textValue: label,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_13__.Text, {\n                        children: label\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                        lineNumber: 570,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_12__.TooltipTrigger, {\n                        placement: \"start\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_4__.ActionButton, {\n                                onPress: ()=>onRemoveKey(item.key),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_8__.Icon, {\n                                    src: _keystar_ui_icon_icons_trash2Icon__WEBPACK_IMPORTED_MODULE_9__.trash2Icon\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                                    lineNumber: 573,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                                lineNumber: 572,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_12__.Tooltip, {\n                                children: \"Delete\"\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                                lineNumber: 575,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                        lineNumber: 571,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, item.key, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                lineNumber: 569,\n                columnNumber: 11\n            }, this);\n        }\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n        lineNumber: 553,\n        columnNumber: 5\n    }, this);\n}\nfunction ArrayFieldItemModalContent(props) {\n    const previewProps = (0,react__WEBPACK_IMPORTED_MODULE_14__.useMemo)({\n        \"ArrayFieldItemModalContent.previewProps.useMemo\": ()=>(0,_preview_props__WEBPACK_IMPORTED_MODULE_15__.createGetPreviewProps)(props.schema, props.onChange, {\n                \"ArrayFieldItemModalContent.previewProps.useMemo\": ()=>undefined\n            }[\"ArrayFieldItemModalContent.previewProps.useMemo\"])\n    }[\"ArrayFieldItemModalContent.previewProps.useMemo\"], [\n        props.schema,\n        props.onChange\n    ])(props.value);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FormValueContentFromPreviewProps, {\n        ...previewProps\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n        lineNumber: 593,\n        columnNumber: 10\n    }, this);\n}\nfunction arrayFieldEmptyState() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_10__.VStack, {\n        gap: \"large\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"100%\",\n        padding: \"regular\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_13__.Text, {\n                elementType: \"h3\",\n                align: \"center\",\n                color: \"neutralSecondary\",\n                size: \"large\",\n                weight: \"medium\",\n                children: \"Empty list\"\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                lineNumber: 599,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_13__.Text, {\n                align: \"center\",\n                color: \"neutralTertiary\",\n                children: \"Add the first item to see it here.\"\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n                lineNumber: 602,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\",\n        lineNumber: 598,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL2Zvcm0tZnJvbS1wcmV2aWV3LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkQ7QUFDUztBQUM2QjtBQUUzQjtBQUNWO0FBQ3lCO0FBQzVDO0FBQ0Y7QUFDdUI7QUFDWDtBQUNHO0FBQ087QUFDUDtBQVl4QztBQVk4RDtBQUVqQztBQUNZO0FBQ007QUFVN0QsTUFBTWlDLCtCQUlGO0lBQ0ZDO1FBQ0UsT0FBTztJQUNUO0lBQ0FDLE1BQUtDLEtBQUs7UUFDUixPQUFPQSxNQUFNQyxLQUFLO0lBQ3BCO0lBQ0FDLE9BQU1GLEtBQUs7UUFDVCxNQUFNRyxTQUFTSCxNQUFNSSxRQUFRLENBQUNDLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS0Msb0JBQW9CRDtRQUMzRGQscUVBQW9CQSxDQUNsQlcsUUFDQUgsTUFBTUksUUFBUSxDQUFDQyxHQUFHLENBQUNDLENBQUFBLElBQUtBLEVBQUVFLEdBQUc7UUFFL0IsT0FBT0w7SUFDVDtJQUNBTSxhQUFZVCxLQUFLO1FBQ2YsT0FBTztZQUNMVSxjQUFjVixNQUFNVSxZQUFZO1lBQ2hDVCxPQUFPTSxvQkFBb0JQLE1BQU1DLEtBQUs7UUFDeEM7SUFDRjtJQUNBVSxRQUFPWCxLQUFLO1FBQ1YsT0FBT1ksT0FBT0MsV0FBVyxDQUN2QkQsT0FBT0UsT0FBTyxDQUFDZCxNQUFNZSxNQUFNLEVBQUVWLEdBQUcsQ0FBQyxDQUFDLENBQUNHLEtBQUtRLElBQUksR0FBSztnQkFBQ1I7Z0JBQUtELG9CQUFvQlM7YUFBSztJQUVwRjtJQUNBQyxjQUFhakIsS0FBSztRQUNoQixPQUFPQSxNQUFNQyxLQUFLO0lBQ3BCO0FBQ0Y7QUFFQSxNQUFNaUIsa0JBS0Y7SUFDRnBCO1FBQ0UsT0FBT3FCO0lBQ1Q7SUFDQXBCLE1BQUtFLEtBQUs7UUFDUixPQUFPQTtJQUNUO0lBQ0FDLE9BQU1E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QUNqQyxrREFBSUE7b0NBQUM2SyxLQUFLNUsseUVBQVVBOzs7Ozs7Ozs7OzswQ0FFdkIsOERBQUNLLHlEQUFPQTswQ0FBQzs7Ozs7Ozs7Ozs7OztlQU5Ga0osS0FBS3ZILEdBQUc7Ozs7O1FBVXZCOzs7Ozs7QUFHTjtBQUVBLFNBQVM2QywyQkFBMkJyRCxLQUluQztJQUNDLE1BQU1xSixlQUFlakssK0NBQU9BOzJEQUMxQixJQUFNTSxzRUFBcUJBLENBQUNNLE1BQU1vQixNQUFNLEVBQUVwQixNQUFNNkIsUUFBUTttRUFBRSxJQUFNVjs7MERBQ2hFO1FBQUNuQixNQUFNb0IsTUFBTTtRQUFFcEIsTUFBTTZCLFFBQVE7S0FBQyxFQUM5QjdCLE1BQU1DLEtBQUs7SUFDYixxQkFBTyw4REFBQ2dHO1FBQWtDLEdBQUdvRCxZQUFZOzs7Ozs7QUFDM0Q7QUFFQSxTQUFTUDtJQUNQLHFCQUNFLDhEQUFDcEssdURBQU1BO1FBQUMyRCxLQUFJO1FBQVFpSCxZQUFXO1FBQVNDLGdCQUFlO1FBQVNiLFFBQU87UUFBT2MsU0FBUTs7MEJBQ3BGLDhEQUFDeEsseURBQUlBO2dCQUFDeUssYUFBWTtnQkFBS0MsT0FBTTtnQkFBU0MsT0FBTTtnQkFBbUJDLE1BQUs7Z0JBQVFDLFFBQU87MEJBQVM7Ozs7OzswQkFHNUYsOERBQUM3Syx5REFBSUE7Z0JBQUMwSyxPQUFNO2dCQUFTQyxPQUFNOzBCQUFrQjs7Ozs7Ozs7Ozs7O0FBS25EIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvY29tcG9uZW50LWJsb2Nrcy9mb3JtLWZyb20tcHJldmlldy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTGlzdCB9IGZyb20gJ0BrZXlzdG9uZS02L2NvcmUvYWRtaW4tdWkvY29udGV4dCdcbmltcG9ydCB7IEdyb3VwSW5kaWNhdG9yTGluZSB9IGZyb20gJ0BrZXlzdG9uZS02L2NvcmUvYWRtaW4tdWkvdXRpbHMnXG5pbXBvcnQgeyBGaWVsZCBhcyBSZWxhdGlvbnNoaXBGaWVsZFZpZXcgfSBmcm9tICdAa2V5c3RvbmUtNi9jb3JlL2ZpZWxkcy90eXBlcy9yZWxhdGlvbnNoaXAvdmlld3MnXG5cbmltcG9ydCB7IEFjdGlvbkJ1dHRvbiwgQnV0dG9uLCBCdXR0b25Hcm91cCB9IGZyb20gJ0BrZXlzdGFyL3VpL2J1dHRvbidcbmltcG9ydCB7IERpYWxvZywgRGlhbG9nQ29udGFpbmVyIH0gZnJvbSAnQGtleXN0YXIvdWkvZGlhbG9nJ1xuaW1wb3J0IHsgdHlwZSBJdGVtRHJvcFRhcmdldCwgbW92ZSwgdXNlRHJhZ0FuZERyb3AgfSBmcm9tICdAa2V5c3Rhci91aS9kcmFnLWFuZC1kcm9wJ1xuaW1wb3J0IHsgRmllbGQgfSBmcm9tICdAa2V5c3Rhci91aS9maWVsZCdcbmltcG9ydCB7IEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uJ1xuaW1wb3J0IHsgdHJhc2gySWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvdHJhc2gySWNvbidcbmltcG9ydCB7IEhTdGFjaywgVlN0YWNrIH0gZnJvbSAnQGtleXN0YXIvdWkvbGF5b3V0J1xuaW1wb3J0IHsgSXRlbSwgTGlzdFZpZXcgfSBmcm9tICdAa2V5c3Rhci91aS9saXN0LXZpZXcnXG5pbXBvcnQgeyBUb29sdGlwLCBUb29sdGlwVHJpZ2dlciB9IGZyb20gJ0BrZXlzdGFyL3VpL3Rvb2x0aXAnXG5pbXBvcnQgeyBIZWFkaW5nLCBUZXh0IH0gZnJvbSAnQGtleXN0YXIvdWkvdHlwb2dyYXBoeSdcblxuaW1wb3J0IHtcbiAgdHlwZSBLZXksXG4gIHR5cGUgTWVtb0V4b3RpY0NvbXBvbmVudCxcbiAgdHlwZSBSZWFjdEVsZW1lbnQsXG4gIG1lbW8sXG4gIHVzZUNhbGxiYWNrLFxuICB1c2VFZmZlY3QsXG4gIHVzZU1lbW8sXG4gIHVzZVJlZixcbiAgdXNlU3RhdGUsXG59IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHR5cGUge1xuICBBcnJheUZpZWxkLFxuICBDb21wb25lbnRTY2hlbWEsXG4gIENvbmRpdGlvbmFsRmllbGQsXG4gIEZvcm1GaWVsZCxcbiAgR2VuZXJpY1ByZXZpZXdQcm9wcyxcbiAgSW5pdGlhbE9yVXBkYXRlVmFsdWVGcm9tQ29tcG9uZW50UHJvcEZpZWxkLFxuICBPYmplY3RGaWVsZCxcbiAgUmVsYXRpb25zaGlwRmllbGQsXG4gIFZhbHVlRm9yQ29tcG9uZW50U2NoZW1hLFxufSBmcm9tICcuL2FwaSdcbmltcG9ydCB7IGdldEtleXNGb3JBcnJheVZhbHVlLCBzZXRLZXlzRm9yQXJyYXlWYWx1ZSB9IGZyb20gJy4vcHJldmlldy1wcm9wcydcblxuaW1wb3J0IHsgQ29udGVudCB9IGZyb20gJ0BrZXlzdGFyL3VpL3Nsb3RzJ1xuaW1wb3J0IHsgY3JlYXRlR2V0UHJldmlld1Byb3BzIH0gZnJvbSAnLi9wcmV2aWV3LXByb3BzJ1xuaW1wb3J0IHsgYXNzZXJ0TmV2ZXIsIGNsaWVudFNpZGVWYWxpZGF0ZVByb3AgfSBmcm9tICcuL3V0aWxzJ1xuXG50eXBlIERlZmF1bHRGaWVsZFByb3BzPEtleT4gPSBHZW5lcmljUHJldmlld1Byb3BzPFxuICBFeHRyYWN0PENvbXBvbmVudFNjaGVtYSwgeyBraW5kOiBLZXkgfT4sXG4gIHVua25vd25cbj4gJiB7XG4gIGF1dG9Gb2N1cz86IGJvb2xlYW5cbiAgZm9yY2VWYWxpZGF0aW9uPzogYm9vbGVhblxufVxuXG5jb25zdCBwcmV2aWV3UHJvcHNUb1ZhbHVlQ29udmVydGVyOiB7XG4gIFtLaW5kIGluIENvbXBvbmVudFNjaGVtYVsna2luZCddXTogKFxuICAgIHByb3BzOiBHZW5lcmljUHJldmlld1Byb3BzPEV4dHJhY3Q8Q29tcG9uZW50U2NoZW1hLCB7IGtpbmQ6IEtpbmQgfT4sIHVua25vd24+XG4gICkgPT4gVmFsdWVGb3JDb21wb25lbnRTY2hlbWE8RXh0cmFjdDxDb21wb25lbnRTY2hlbWEsIHsga2luZDogS2luZCB9Pj5cbn0gPSB7XG4gIGNoaWxkKCkge1xuICAgIHJldHVybiBudWxsXG4gIH0sXG4gIGZvcm0ocHJvcHMpIHtcbiAgICByZXR1cm4gcHJvcHMudmFsdWVcbiAgfSxcbiAgYXJyYXkocHJvcHMpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSBwcm9wcy5lbGVtZW50cy5tYXAoeCA9PiBwcmV2aWV3UHJvcHNUb1ZhbHVlKHgpKVxuICAgIHNldEtleXNGb3JBcnJheVZhbHVlKFxuICAgICAgdmFsdWVzLFxuICAgICAgcHJvcHMuZWxlbWVudHMubWFwKHggPT4geC5rZXkpXG4gICAgKVxuICAgIHJldHVybiB2YWx1ZXNcbiAgfSxcbiAgY29uZGl0aW9uYWwocHJvcHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGlzY3JpbWluYW50OiBwcm9wcy5kaXNjcmltaW5hbnQsXG4gICAgICB2YWx1ZTogcHJldmlld1Byb3BzVG9WYWx1ZShwcm9wcy52YWx1ZSksXG4gICAgfVxuICB9LFxuICBvYmplY3QocHJvcHMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgT2JqZWN0LmVudHJpZXMocHJvcHMuZmllbGRzKS5tYXAoKFtrZXksIHZhbF0pID0+IFtrZXksIHByZXZpZXdQcm9wc1RvVmFsdWUodmFsKV0pXG4gICAgKVxuICB9LFxuICByZWxhdGlvbnNoaXAocHJvcHMpIHtcbiAgICByZXR1cm4gcHJvcHMudmFsdWVcbiAgfSxcbn1cblxuY29uc3QgdmFsdWVUb1VwZGF0ZXJzOiB7XG4gIFtLaW5kIGluIENvbXBvbmVudFNjaGVtYVsna2luZCddXTogKFxuICAgIHZhbHVlOiBWYWx1ZUZvckNvbXBvbmVudFNjaGVtYTxFeHRyYWN0PENvbXBvbmVudFNjaGVtYSwgeyBraW5kOiBLaW5kIH0+PixcbiAgICBzY2hlbWE6IEV4dHJhY3Q8Q29tcG9uZW50U2NoZW1hLCB7IGtpbmQ6IEtpbmQgfT5cbiAgKSA9PiBJbml0aWFsT3JVcGRhdGVWYWx1ZUZyb21Db21wb25lbnRQcm9wRmllbGQ8RXh0cmFjdDxDb21wb25lbnRTY2hlbWEsIHsga2luZDogS2luZCB9Pj5cbn0gPSB7XG4gIGNoaWxkKCkge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfSxcbiAgZm9ybSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZVxuICB9LFxuICBhcnJheSh2YWx1ZSwgc2NoZW1hKSB7XG4gICAgY29uc3Qga2V5cyA9IGdldEtleXNGb3JBcnJheVZhbHVlKHZhbHVlKVxuICAgIHJldHVybiB2YWx1ZS5tYXAoKHgsIGkpID0+ICh7XG4gICAgICBrZXk6IGtleXNbaV0sXG4gICAgICB2YWx1ZTogdmFsdWVUb1VwZGF0ZXIoeCwgc2NoZW1hLmVsZW1lbnQpLFxuICAgIH0pKVxuICB9LFxuICBjb25kaXRpb25hbCh2YWx1ZSwgc2NoZW1hKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRpc2NyaW1pbmFudDogdmFsdWUuZGlzY3JpbWluYW50LFxuICAgICAgdmFsdWU6IHZhbHVlVG9VcGRhdGVyKHZhbHVlLnZhbHVlLCBzY2hlbWEudmFsdWVzW3ZhbHVlLmRpc2NyaW1pbmFudC50b1N0cmluZygpXSksXG4gICAgfVxuICB9LFxuICBvYmplY3QodmFsdWUsIHNjaGVtYSkge1xuICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBPYmplY3QuZW50cmllcyhzY2hlbWEuZmllbGRzKS5tYXAoKFtrZXksIHNjaGVtYV0pID0+IFtcbiAgICAgICAga2V5LFxuICAgICAgICB2YWx1ZVRvVXBkYXRlcih2YWx1ZVtrZXldLCBzY2hlbWEpLFxuICAgICAgXSlcbiAgICApXG4gIH0sXG4gIHJlbGF0aW9uc2hpcCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZVxuICB9LFxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJldmlld1Byb3BzVG9WYWx1ZTxTY2hlbWEgZXh0ZW5kcyBDb21wb25lbnRTY2hlbWE+KFxuICBwcm9wczogR2VuZXJpY1ByZXZpZXdQcm9wczxDb21wb25lbnRTY2hlbWEsIHVua25vd24+XG4pOiBWYWx1ZUZvckNvbXBvbmVudFNjaGVtYTxTY2hlbWE+IHtcbiAgcmV0dXJuIChwcmV2aWV3UHJvcHNUb1ZhbHVlQ29udmVydGVyW3Byb3BzLnNjaGVtYS5raW5kXSBhcyBhbnkpKHByb3BzKVxufVxuXG5mdW5jdGlvbiB2YWx1ZVRvVXBkYXRlcjxTY2hlbWEgZXh0ZW5kcyBDb21wb25lbnRTY2hlbWE+KFxuICB2YWx1ZTogVmFsdWVGb3JDb21wb25lbnRTY2hlbWE8U2NoZW1hPixcbiAgc2NoZW1hOiBDb21wb25lbnRTY2hlbWFcbik6IEluaXRpYWxPclVwZGF0ZVZhbHVlRnJvbUNvbXBvbmVudFByb3BGaWVsZDxTY2hlbWE+IHtcbiAgcmV0dXJuICh2YWx1ZVRvVXBkYXRlcnNbc2NoZW1hLmtpbmRdIGFzIGFueSkodmFsdWUsIHNjaGVtYSlcbn1cblxuLy8gdGhpcyBleGlzdHMgYmVjYXVzZSBmb3IgcHJvcHMuc2NoZW1hLmtpbmQgPT09ICdmb3JtJywgdHMgZG9lc24ndCBuYXJyb3cgcHJvcHMsIG9ubHkgcHJvcHMuc2NoZW1hXG5mdW5jdGlvbiBpc0tpbmQ8S2luZCBleHRlbmRzIENvbXBvbmVudFNjaGVtYVsna2luZCddPihcbiAgcHJvcHM6IEdlbmVyaWNQcmV2aWV3UHJvcHM8Q29tcG9uZW50U2NoZW1hLCB1bmtub3duPixcbiAga2luZDogS2luZFxuKTogcHJvcHMgaXMgR2VuZXJpY1ByZXZpZXdQcm9wczxFeHRyYWN0PENvbXBvbmVudFNjaGVtYSwgeyBraW5kOiBLaW5kIH0+LCB1bmtub3duPiB7XG4gIHJldHVybiBwcm9wcy5zY2hlbWEua2luZCA9PT0ga2luZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJldmlld1Byb3BzT25DaGFuZ2U8U2NoZW1hIGV4dGVuZHMgQ29tcG9uZW50U2NoZW1hPihcbiAgdmFsdWU6IFZhbHVlRm9yQ29tcG9uZW50U2NoZW1hPFNjaGVtYT4sXG4gIHByb3BzOiBHZW5lcmljUHJldmlld1Byb3BzPENvbXBvbmVudFNjaGVtYSwgdW5rbm93bj5cbikge1xuICAvLyBjaGlsZCBmaWVsZHMgY2FuJ3QgYmUgdXBkYXRlZCB0aHJvdWdoIHByZXZpZXcgcHJvcHMsIHNvIHdlIGRvbid0IGRvIGFueXRoaW5nIGhlcmVcbiAgaWYgKGlzS2luZChwcm9wcywgJ2NoaWxkJykpIHJldHVyblxuICBpZiAoXG4gICAgaXNLaW5kKHByb3BzLCAnZm9ybScpIHx8XG4gICAgaXNLaW5kKHByb3BzLCAncmVsYXRpb25zaGlwJykgfHxcbiAgICBpc0tpbmQocHJvcHMsICdvYmplY3QnKSB8fFxuICAgIGlzS2luZChwcm9wcywgJ2FycmF5JylcbiAgKSB7XG4gICAgcHJvcHMub25DaGFuZ2UodmFsdWVUb1VwZGF0ZXIodmFsdWUsIHByb3BzLnNjaGVtYSkpXG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKGlzS2luZChwcm9wcywgJ2NvbmRpdGlvbmFsJykpIHtcbiAgICBjb25zdCB1cGRhdGVyID0gdmFsdWVUb1VwZGF0ZXIodmFsdWUsIHByb3BzLnNjaGVtYSlcbiAgICBwcm9wcy5vbkNoYW5nZSh1cGRhdGVyLmRpc2NyaW1pbmFudCwgdXBkYXRlci52YWx1ZSlcbiAgICByZXR1cm5cbiAgfVxuICBhc3NlcnROZXZlcihwcm9wcylcbn1cblxuZnVuY3Rpb24gQXJyYXlGaWVsZFByZXZpZXcocHJvcHM6IERlZmF1bHRGaWVsZFByb3BzPCdhcnJheSc+KSB7XG4gIGNvbnN0IHsgZWxlbWVudHMsIG9uQ2hhbmdlLCBzY2hlbWEgfSA9IHByb3BzXG4gIGNvbnN0IHsgbGFiZWwgfSA9IHNjaGVtYVxuICBjb25zdCBbbW9kYWxTdGF0ZSwgc2V0TW9kYWxTdGF0ZV0gPSB1c2VTdGF0ZTxcbiAgICB8IHtcbiAgICAgICAgaW5kZXg6IG51bWJlclxuICAgICAgICB2YWx1ZTogdW5rbm93blxuICAgICAgICBmb3JjZVZhbGlkYXRpb246IGJvb2xlYW5cbiAgICAgIH1cbiAgICB8ICdjbG9zZWQnXG4gID4oJ2Nsb3NlZCcpXG5cbiAgcmV0dXJuIChcbiAgICA8RmllbGQgbGFiZWw9e2xhYmVsfSBsYWJlbEVsZW1lbnRUeXBlPVwic3BhblwiPlxuICAgICAge2dyb3VwUHJvcHMgPT4gKFxuICAgICAgICA8VlN0YWNrIGdhcD1cIm1lZGl1bVwiIHJvbGU9XCJncm91cFwiIG1pbldpZHRoPXswfSB7Li4uZ3JvdXBQcm9wc30+XG4gICAgICAgICAgPEFycmF5RmllbGRMaXN0Vmlld1xuICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgYXJpYS1sYWJlbD17bGFiZWwgPz8gJyd9XG4gICAgICAgICAgICBvbk9wZW5JdGVtPXtpbmRleCA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50cy5hdChpbmRleClcbiAgICAgICAgICAgICAgaWYgKCFlbGVtZW50KSByZXR1cm5cbiAgICAgICAgICAgICAgc2V0TW9kYWxTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHByZXZpZXdQcm9wc1RvVmFsdWUoZWxlbWVudCksXG4gICAgICAgICAgICAgICAgZm9yY2VWYWxpZGF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8QWN0aW9uQnV0dG9uXG4gICAgICAgICAgICBhbGlnblNlbGY9XCJzdGFydFwiXG4gICAgICAgICAgICBhdXRvRm9jdXM9e3Byb3BzLmF1dG9Gb2N1c31cbiAgICAgICAgICAgIG9uUHJlc3M9eygpID0+IHtcbiAgICAgICAgICAgICAgb25DaGFuZ2UoWy4uLmVsZW1lbnRzLm1hcCh4ID0+ICh7IGtleTogeC5rZXkgfSkpLCB7IGtleTogdW5kZWZpbmVkIH1dKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBBZGRcbiAgICAgICAgICA8L0FjdGlvbkJ1dHRvbj5cbiAgICAgICAgICA8RGlhbG9nQ29udGFpbmVyXG4gICAgICAgICAgICBvbkRpc21pc3M9eygpID0+IHtcbiAgICAgICAgICAgICAgc2V0TW9kYWxTdGF0ZSgnY2xvc2VkJylcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChwcm9wcy5zY2hlbWEuZWxlbWVudC5raW5kID09PSAnY2hpbGQnKSByZXR1cm5cbiAgICAgICAgICAgICAgaWYgKG1vZGFsU3RhdGUgPT09ICdjbG9zZWQnKSByZXR1cm5cbiAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzLmF0KG1vZGFsU3RhdGUuaW5kZXgpXG4gICAgICAgICAgICAgIGlmICghZWxlbWVudCkgcmV0dXJuXG4gICAgICAgICAgICAgIGNvbnN0IG9uTW9kYWxDaGFuZ2UgPSAoY2I6ICh2YWx1ZTogdW5rbm93bikgPT4gdW5rbm93bikgPT4ge1xuICAgICAgICAgICAgICAgIHNldE1vZGFsU3RhdGUoc3RhdGUgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSAnY2xvc2VkJykgcmV0dXJuIHN0YXRlXG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpbmRleDogbW9kYWxTdGF0ZS5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgZm9yY2VWYWxpZGF0aW9uOiBzdGF0ZS5mb3JjZVZhbGlkYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjYihzdGF0ZS52YWx1ZSksXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPERpYWxvZz5cbiAgICAgICAgICAgICAgICAgIDxIZWFkaW5nPkVkaXQgaXRlbTwvSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgIDxDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICA8QXJyYXlGaWVsZEl0ZW1Nb2RhbENvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17b25Nb2RhbENoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICBzY2hlbWE9e2VsZW1lbnQuc2NoZW1hIGFzIGFueSAvKiBUT0RPIEZJWE1FICovfVxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXttb2RhbFN0YXRlLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Db250ZW50PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvbkdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgcHJvbWluZW5jZT1cImxvd1wiXG4gICAgICAgICAgICAgICAgICAgICAgb25QcmVzcz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TW9kYWxTdGF0ZSgnY2xvc2VkJylcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgcHJvbWluZW5jZT1cImhpZ2hcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uUHJlc3M9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2xpZW50U2lkZVZhbGlkYXRlUHJvcChlbGVtZW50LnNjaGVtYSwgbW9kYWxTdGF0ZS52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0TW9kYWxTdGF0ZShzdGF0ZSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihzdGF0ZSBhcyBhbnkpIC8qIFRPRE8gRklYTUUgKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VWYWxpZGF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aWV3UHJvcHNPbkNoYW5nZShtb2RhbFN0YXRlLnZhbHVlLCBlbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TW9kYWxTdGF0ZSgnY2xvc2VkJylcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgRG9uZVxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uR3JvdXA+XG4gICAgICAgICAgICAgICAgPC9EaWFsb2c+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgPC9EaWFsb2dDb250YWluZXI+XG4gICAgICAgIDwvVlN0YWNrPlxuICAgICAgKX1cbiAgICA8L0ZpZWxkPlxuICApXG59XG5cbmZ1bmN0aW9uIFJlbGF0aW9uc2hpcEZpZWxkUHJldmlldyhwcm9wczogRGVmYXVsdEZpZWxkUHJvcHM8J3JlbGF0aW9uc2hpcCc+KSB7XG4gIGNvbnN0IHsgYXV0b0ZvY3VzLCBvbkNoYW5nZSwgc2NoZW1hLCB2YWx1ZSB9ID0gcHJvcHNcbiAgY29uc3QgeyBsaXN0S2V5LCBsYWJlbCwgZGVzY3JpcHRpb24sIG1hbnkgfSA9IHNjaGVtYVxuICBjb25zdCBsaXN0ID0gdXNlTGlzdChsaXN0S2V5KVxuICBjb25zdCBmb3JtVmFsdWUgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmIChtYW55KSB7XG4gICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgISgnbGVuZ3RoJyBpbiB2YWx1ZSkpIHRocm93IFR5cGVFcnJvcignYmFkIHZhbHVlJylcbiAgICAgIGNvbnN0IG1hbnlWYWx1ZSA9XG4gICAgICAgIHZhbHVlID09PSBudWxsXG4gICAgICAgICAgPyBbXVxuICAgICAgICAgIDogdmFsdWUubWFwKHggPT4gKHtcbiAgICAgICAgICAgICAgaWQ6IHguaWQsXG4gICAgICAgICAgICAgIGxhYmVsOiB4LmxhYmVsIHx8IHguaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgZGF0YTogeC5kYXRhLFxuICAgICAgICAgICAgICBidWlsdDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSkpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiAnbWFueScgYXMgY29uc3QsXG4gICAgICAgIGlkOiAnJywgLy8gdW51c2VkXG4gICAgICAgIGluaXRpYWxWYWx1ZTogbWFueVZhbHVlLFxuICAgICAgICB2YWx1ZTogbWFueVZhbHVlLFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiAnbGVuZ3RoJyBpbiB2YWx1ZSkgdGhyb3cgVHlwZUVycm9yKCdiYWQgdmFsdWUnKVxuICAgIGNvbnN0IG9uZVZhbHVlID0gdmFsdWVcbiAgICAgID8ge1xuICAgICAgICAgIGlkOiB2YWx1ZS5pZCxcbiAgICAgICAgICBsYWJlbDogdmFsdWUubGFiZWwgfHwgdmFsdWUuaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICBkYXRhOiB2YWx1ZS5kYXRhLFxuICAgICAgICAgIGJ1aWx0OiB1bmRlZmluZWQsXG4gICAgICAgIH1cbiAgICAgIDogbnVsbFxuICAgIHJldHVybiB7XG4gICAgICBraW5kOiAnb25lJyBhcyBjb25zdCxcbiAgICAgIGlkOiAnJywgLy8gdW51c2VkXG4gICAgICBpbml0aWFsVmFsdWU6IG9uZVZhbHVlLFxuICAgICAgdmFsdWU6IG9uZVZhbHVlLFxuICAgIH1cbiAgfSkoKVxuXG4gIHJldHVybiAoXG4gICAgPFJlbGF0aW9uc2hpcEZpZWxkVmlld1xuICAgICAgYXV0b0ZvY3VzPXthdXRvRm9jdXN9XG4gICAgICBpc1JlcXVpcmVkPXtmYWxzZX1cbiAgICAgIGZpZWxkPXtcbiAgICAgICAge1xuICAgICAgICAgIHBhdGg6ICcnLCAvLyB1bnVzZWRcbiAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICBkaXNwbGF5OiAnc2VsZWN0JyxcbiAgICAgICAgICBsaXN0S2V5OiAnJywgLy8gdW51c2VkXG5cbiAgICAgICAgICAvLyBzZWUgcmVsYXRpb25zaGlwIGNvbnRyb2xsZXIgZm9yIHRoZXNlIGZpZWxkc1xuICAgICAgICAgIHJlZkxpc3RLZXk6IGxpc3Qua2V5LFxuICAgICAgICAgIG1hbnksXG4gICAgICAgICAgaGlkZUNyZWF0ZTogdHJ1ZSxcbiAgICAgICAgICByZWZMYWJlbEZpZWxkOiBsaXN0LmxhYmVsRmllbGQsXG4gICAgICAgICAgcmVmU2VhcmNoRmllbGRzOiBsaXN0LmluaXRpYWxTZWFyY2hGaWVsZHMsXG4gICAgICAgICAgZmlsdGVyOiBsaXN0LmluaXRpYWxGaWx0ZXIgYXMgYW55LFxuICAgICAgICAgIHNvcnQ6IGxpc3QuaW5pdGlhbFNvcnQsXG4gICAgICAgIH0gYXMgYW55XG4gICAgICB9XG4gICAgICBvbkNoYW5nZT17dmFsID0+IHtcbiAgICAgICAgaWYgKHZhbC5raW5kID09PSAnY291bnQnKSByZXR1cm4gLy8gc2hvdWxkbnQgaGFwcGVuXG4gICAgICAgIGNvbnN0IHsgdmFsdWUgfSA9IHZhbFxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICBvbkNoYW5nZShudWxsKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIG9uQ2hhbmdlKHZhbHVlLm1hcCh4ID0+ICh7IGlkOiB4LmlkLCBsYWJlbDogeC5sYWJlbCB9KSkpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgb25DaGFuZ2UoeyBpZDogdmFsdWUuaWQsIGxhYmVsOiB2YWx1ZS5sYWJlbCB9KVxuICAgICAgfX1cbiAgICAgIHZhbHVlPXtmb3JtVmFsdWV9XG4gICAgICBpdGVtVmFsdWU9e3t9fVxuICAgIC8+XG4gIClcbn1cblxuZnVuY3Rpb24gRm9ybUZpZWxkUHJldmlldyh7XG4gIHNjaGVtYSxcbiAgYXV0b0ZvY3VzLFxuICBmb3JjZVZhbGlkYXRpb24sXG4gIG9uQ2hhbmdlLFxuICB2YWx1ZSxcbn06IERlZmF1bHRGaWVsZFByb3BzPCdmb3JtJz4pIHtcbiAgcmV0dXJuIChcbiAgICA8c2NoZW1hLklucHV0XG4gICAgICBhdXRvRm9jdXM9eyEhYXV0b0ZvY3VzfVxuICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgZm9yY2VWYWxpZGF0aW9uPXshIWZvcmNlVmFsaWRhdGlvbn1cbiAgICAvPlxuICApXG59XG5cbmZ1bmN0aW9uIGNhbkZpZWxkQmVGb2N1c2VkKHNjaGVtYTogQ29tcG9uZW50U2NoZW1hKTogYm9vbGVhbiB7XG4gIGlmIChzY2hlbWEua2luZCA9PT0gJ2NoaWxkJykgcmV0dXJuIGZhbHNlXG4gIGlmIChzY2hlbWEua2luZCA9PT0gJ2FycmF5JykgcmV0dXJuIHRydWVcbiAgaWYgKHNjaGVtYS5raW5kID09PSAnY29uZGl0aW9uYWwnKSByZXR1cm4gdHJ1ZVxuICBpZiAoc2NoZW1hLmtpbmQgPT09ICdmb3JtJykgcmV0dXJuIHRydWVcbiAgaWYgKHNjaGVtYS5raW5kID09PSAncmVsYXRpb25zaGlwJykgcmV0dXJuIHRydWVcbiAgaWYgKHNjaGVtYS5raW5kID09PSAnb2JqZWN0Jykge1xuICAgIGZvciAoY29uc3QgaW5uZXJQcm9wIG9mIE9iamVjdC52YWx1ZXMoc2NoZW1hLmZpZWxkcykpIHtcbiAgICAgIGlmIChjYW5GaWVsZEJlRm9jdXNlZChpbm5lclByb3ApKSByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBhc3NlcnROZXZlcihzY2hlbWEpXG59XG5cbmZ1bmN0aW9uIGZpbmRGb2N1c2FibGVPYmplY3RGaWVsZEtleShzY2hlbWE6IE9iamVjdEZpZWxkKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgZm9yIChjb25zdCBba2V5LCBpbm5lclByb3BdIG9mIE9iamVjdC5lbnRyaWVzKHNjaGVtYS5maWVsZHMpKSB7XG4gICAgY29uc3QgY2hpbGRGb2N1c2FibGUgPSBjYW5GaWVsZEJlRm9jdXNlZChpbm5lclByb3ApXG4gICAgaWYgKGNoaWxkRm9jdXNhYmxlKSByZXR1cm4ga2V5XG4gIH1cbn1cblxuZnVuY3Rpb24gT2JqZWN0RmllbGRQcmV2aWV3KHsgc2NoZW1hLCBhdXRvRm9jdXMsIGZpZWxkcyB9OiBEZWZhdWx0RmllbGRQcm9wczwnb2JqZWN0Jz4pIHtcbiAgY29uc3QgZmlyc3RGb2N1c2FibGUgPSBhdXRvRm9jdXMgPyBmaW5kRm9jdXNhYmxlT2JqZWN0RmllbGRLZXkoc2NoZW1hKSA6IHVuZGVmaW5lZFxuICByZXR1cm4gKFxuICAgIDxIU3RhY2sgZ2FwPVwibWVkaXVtXCIgcGFkZGluZ1RvcD1cIm1lZGl1bVwiPlxuICAgICAgPEdyb3VwSW5kaWNhdG9yTGluZSAvPlxuICAgICAgPFZTdGFjayBnYXA9XCJ4bGFyZ2VcIiBmbGV4IG1pbldpZHRoPXswfT5cbiAgICAgICAge1tcbiAgICAgICAgICAuLi4oZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgcHJvcFZhbF0gb2YgT2JqZWN0LmVudHJpZXMoZmllbGRzKSkge1xuICAgICAgICAgICAgICBpZiAoIWlzTm9uQ2hpbGRGaWVsZFByZXZpZXdQcm9wcyhwcm9wVmFsKSkgY29udGludWVcblxuICAgICAgICAgICAgICB5aWVsZCAoXG4gICAgICAgICAgICAgICAgPEZvcm1WYWx1ZUNvbnRlbnRGcm9tUHJldmlld1Byb3BzXG4gICAgICAgICAgICAgICAgICBhdXRvRm9jdXM9e2tleSA9PT0gZmlyc3RGb2N1c2FibGV9XG4gICAgICAgICAgICAgICAgICBrZXk9e2tleX1cbiAgICAgICAgICAgICAgICAgIHsuLi5wcm9wVmFsfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSgpLFxuICAgICAgICBdfVxuICAgICAgPC9WU3RhY2s+XG4gICAgPC9IU3RhY2s+XG4gIClcbn1cblxuZnVuY3Rpb24gQ29uZGl0aW9uYWxGaWVsZFByZXZpZXcoe1xuICBzY2hlbWEsXG4gIGF1dG9Gb2N1cyxcbiAgZGlzY3JpbWluYW50LFxuICBvbkNoYW5nZSxcbiAgdmFsdWUsXG59OiBEZWZhdWx0RmllbGRQcm9wczwnY29uZGl0aW9uYWwnPikge1xuICBjb25zdCBzY2hlbWFEaXNjcmltaW5hbnQgPSBzY2hlbWEuZGlzY3JpbWluYW50IGFzIEZvcm1GaWVsZDxzdHJpbmcgfCBib29sZWFuLCB1bmtub3duPlxuICByZXR1cm4gKFxuICAgIDxIU3RhY2sgZ2FwPVwieGxhcmdlXCI+XG4gICAgICB7dXNlTWVtbyhcbiAgICAgICAgKCkgPT4gKFxuICAgICAgICAgIDxzY2hlbWFEaXNjcmltaW5hbnQuSW5wdXRcbiAgICAgICAgICAgIGF1dG9Gb2N1cz17ISFhdXRvRm9jdXN9XG4gICAgICAgICAgICB2YWx1ZT17ZGlzY3JpbWluYW50fVxuICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgICAgZm9yY2VWYWxpZGF0aW9uPXtmYWxzZX1cbiAgICAgICAgICAvPlxuICAgICAgICApLFxuICAgICAgICBbYXV0b0ZvY3VzLCBzY2hlbWFEaXNjcmltaW5hbnQsIGRpc2NyaW1pbmFudCwgb25DaGFuZ2VdXG4gICAgICApfVxuICAgICAge2lzTm9uQ2hpbGRGaWVsZFByZXZpZXdQcm9wcyh2YWx1ZSkgJiYgPEZvcm1WYWx1ZUNvbnRlbnRGcm9tUHJldmlld1Byb3BzIHsuLi52YWx1ZX0gLz59XG4gICAgPC9IU3RhY2s+XG4gIClcbn1cblxuZXhwb3J0IHR5cGUgTm9uQ2hpbGRGaWVsZENvbXBvbmVudFNjaGVtYSA9XG4gIHwgRm9ybUZpZWxkPGFueSwgYW55PlxuICB8IE9iamVjdEZpZWxkXG4gIHwgQ29uZGl0aW9uYWxGaWVsZDxGb3JtRmllbGQ8YW55LCBhbnk+LCB7IFtrZXk6IHN0cmluZ106IENvbXBvbmVudFNjaGVtYSB9PlxuICB8IFJlbGF0aW9uc2hpcEZpZWxkPGJvb2xlYW4+XG4gIHwgQXJyYXlGaWVsZDxDb21wb25lbnRTY2hlbWE+XG5cbmZ1bmN0aW9uIGlzTm9uQ2hpbGRGaWVsZFByZXZpZXdQcm9wcyhcbiAgcHJvcHM6IEdlbmVyaWNQcmV2aWV3UHJvcHM8Q29tcG9uZW50U2NoZW1hLCB1bmtub3duPlxuKTogcHJvcHMgaXMgR2VuZXJpY1ByZXZpZXdQcm9wczxOb25DaGlsZEZpZWxkQ29tcG9uZW50U2NoZW1hLCB1bmtub3duPiB7XG4gIHJldHVybiBwcm9wcy5zY2hlbWEua2luZCAhPT0gJ2NoaWxkJ1xufVxuXG5jb25zdCBmaWVsZFJlbmRlcmVycyA9IHtcbiAgYXJyYXk6IEFycmF5RmllbGRQcmV2aWV3LFxuICByZWxhdGlvbnNoaXA6IFJlbGF0aW9uc2hpcEZpZWxkUHJldmlldyxcbiAgY2hpbGQ6ICgpID0+IG51bGwsXG4gIGZvcm06IEZvcm1GaWVsZFByZXZpZXcsXG4gIG9iamVjdDogT2JqZWN0RmllbGRQcmV2aWV3LFxuICBjb25kaXRpb25hbDogQ29uZGl0aW9uYWxGaWVsZFByZXZpZXcsXG59XG5cbmV4cG9ydCBjb25zdCBGb3JtVmFsdWVDb250ZW50RnJvbVByZXZpZXdQcm9wczogTWVtb0V4b3RpY0NvbXBvbmVudDxcbiAgKFxuICAgIHByb3BzOiBHZW5lcmljUHJldmlld1Byb3BzPENvbXBvbmVudFNjaGVtYSwgdW5rbm93bj4gJiB7XG4gICAgICBhdXRvRm9jdXM/OiBib29sZWFuXG4gICAgICBmb3JjZVZhbGlkYXRpb24/OiBib29sZWFuXG4gICAgfVxuICApID0+IFJlYWN0RWxlbWVudFxuPiA9IG1lbW8oZnVuY3Rpb24gRm9ybVZhbHVlQ29udGVudEZyb21QcmV2aWV3KHByb3BzKSB7XG4gIGNvbnN0IENvbXAgPSBmaWVsZFJlbmRlcmVyc1twcm9wcy5zY2hlbWEua2luZF1cbiAgcmV0dXJuIDxDb21wIHsuLi4ocHJvcHMgYXMgYW55KX0gLz5cbn0pXG5cbmZ1bmN0aW9uIHVzZUV2ZW50Q2FsbGJhY2s8RnVuYyBleHRlbmRzICguLi5hcmdzOiBhbnkpID0+IGFueT4oY2FsbGJhY2s6IEZ1bmMpOiBGdW5jIHtcbiAgY29uc3QgY2FsbGJhY2tSZWYgPSB1c2VSZWYoY2FsbGJhY2spXG4gIGNvbnN0IGNiID0gdXNlQ2FsbGJhY2soKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgcmV0dXJuIGNhbGxiYWNrUmVmLmN1cnJlbnQoLi4uYXJncylcbiAgfSwgW10pXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2FsbGJhY2tSZWYuY3VycmVudCA9IGNhbGxiYWNrXG4gIH0pXG4gIHJldHVybiBjYiBhcyBhbnlcbn1cblxuZnVuY3Rpb24gQXJyYXlGaWVsZExpc3RWaWV3PEVsZW1lbnQgZXh0ZW5kcyBDb21wb25lbnRTY2hlbWE+KFxuICBwcm9wczogR2VuZXJpY1ByZXZpZXdQcm9wczxBcnJheUZpZWxkPEVsZW1lbnQ+LCB1bmtub3duPiAmIHtcbiAgICAnYXJpYS1sYWJlbCc6IHN0cmluZ1xuICAgIG9uT3Blbkl0ZW06IChpbmRleDogbnVtYmVyKSA9PiB2b2lkXG4gIH1cbikge1xuICBjb25zdCBvbk1vdmUgPSAoa2V5czogS2V5W10sIHRhcmdldDogSXRlbURyb3BUYXJnZXQpID0+IHtcbiAgICBjb25zdCB0YXJnZXRJbmRleCA9IHByb3BzLmVsZW1lbnRzLmZpbmRJbmRleCh4ID0+IHgua2V5ID09PSB0YXJnZXQua2V5KVxuICAgIGlmICh0YXJnZXRJbmRleCA9PT0gLTEpIHJldHVyblxuICAgIGNvbnN0IGFsbEtleXMgPSBwcm9wcy5lbGVtZW50cy5tYXAoeCA9PiAoeyBrZXk6IHgua2V5IH0pKVxuICAgIGNvbnN0IGluZGV4VG9Nb3ZlVG8gPSB0YXJnZXQuZHJvcFBvc2l0aW9uID09PSAnYmVmb3JlJyA/IHRhcmdldEluZGV4IDogdGFyZ2V0SW5kZXggKyAxXG4gICAgY29uc3QgaW5kaWNlcyA9IGtleXMubWFwKGtleSA9PiBhbGxLZXlzLmZpbmRJbmRleCh4ID0+IHgua2V5ID09PSBrZXkpKVxuICAgIHByb3BzLm9uQ2hhbmdlKG1vdmUoYWxsS2V5cywgaW5kaWNlcywgaW5kZXhUb01vdmVUbykpXG4gIH1cblxuICBjb25zdCBkcmFnVHlwZSA9IHVzZU1lbW8oKCkgPT4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNiksIFtdKVxuICBjb25zdCB7IGRyYWdBbmREcm9wSG9va3MgfSA9IHVzZURyYWdBbmREcm9wKHtcbiAgICBnZXRJdGVtcyhrZXlzKSB7XG4gICAgICAvLyBVc2UgYSBkcmFnIHR5cGUgc28gdGhlIGl0ZW1zIGNhbiBvbmx5IGJlIHJlb3JkZXJlZCB3aXRoaW4gdGhpcyBsaXN0XG4gICAgICAvLyBhbmQgbm90IGRyYWdnZWQgZWxzZXdoZXJlLlxuICAgICAgcmV0dXJuIFsuLi5rZXlzXS5tYXAoa2V5ID0+IHtcbiAgICAgICAga2V5ID0gSlNPTi5zdHJpbmdpZnkoa2V5KVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIFtkcmFnVHlwZV06IGtleSxcbiAgICAgICAgICAndGV4dC9wbGFpbic6IGtleSxcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9LFxuICAgIGdldEFsbG93ZWREcm9wT3BlcmF0aW9ucygpIHtcbiAgICAgIHJldHVybiBbJ21vdmUnLCAnY2FuY2VsJ11cbiAgICB9LFxuICAgIGFzeW5jIG9uRHJvcChlKSB7XG4gICAgICBpZiAoZS50YXJnZXQudHlwZSAhPT0gJ3Jvb3QnICYmIGUudGFyZ2V0LmRyb3BQb3NpdGlvbiAhPT0gJ29uJykge1xuICAgICAgICBsZXQga2V5cyA9IFtdXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgZS5pdGVtcykge1xuICAgICAgICAgIGlmIChpdGVtLmtpbmQgPT09ICd0ZXh0Jykge1xuICAgICAgICAgICAgbGV0IGtleVxuICAgICAgICAgICAgaWYgKGl0ZW0udHlwZXMuaGFzKGRyYWdUeXBlKSkge1xuICAgICAgICAgICAgICBrZXkgPSBKU09OLnBhcnNlKGF3YWl0IGl0ZW0uZ2V0VGV4dChkcmFnVHlwZSkpXG4gICAgICAgICAgICAgIGtleXMucHVzaChrZXkpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZXMuaGFzKCd0ZXh0L3BsYWluJykpIHtcbiAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgZm9yIENocm9tZSBBbmRyb2lkIGNhc2U6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTEyOTM4MDNcbiAgICAgICAgICAgICAgLy8gTXVsdGlwbGUgZHJhZyBpdGVtcyBhcmUgY29udGFpbmVkIGluIGEgc2luZ2xlIHN0cmluZyBzbyB3ZSBuZWVkIHRvIHNwbGl0IHRoZW0gb3V0XG4gICAgICAgICAgICAgIGtleSA9IGF3YWl0IGl0ZW0uZ2V0VGV4dCgndGV4dC9wbGFpbicpXG4gICAgICAgICAgICAgIGtleXMgPSBrZXkuc3BsaXQoJ1xcbicpLm1hcCh2YWwgPT4gdmFsLnJlcGxhY2VBbGwoJ1wiJywgJycpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvbk1vdmUoa2V5cywgZS50YXJnZXQpXG4gICAgICB9XG4gICAgfSxcbiAgICBnZXREcm9wT3BlcmF0aW9uKHRhcmdldCkge1xuICAgICAgaWYgKHRhcmdldC50eXBlID09PSAncm9vdCcgfHwgdGFyZ2V0LmRyb3BQb3NpdGlvbiA9PT0gJ29uJykgcmV0dXJuICdjYW5jZWwnXG4gICAgICByZXR1cm4gJ21vdmUnXG4gICAgfSxcbiAgfSlcbiAgY29uc3Qgb25SZW1vdmVLZXkgPSB1c2VFdmVudENhbGxiYWNrKChrZXk6IHN0cmluZykgPT4ge1xuICAgIHByb3BzLm9uQ2hhbmdlKHByb3BzLmVsZW1lbnRzLm1hcCh4ID0+ICh7IGtleTogeC5rZXkgfSkpLmZpbHRlcih2YWwgPT4gdmFsLmtleSAhPT0ga2V5KSlcbiAgfSlcblxuICByZXR1cm4gKFxuICAgIDxMaXN0Vmlld1xuICAgICAgYXJpYS1sYWJlbD17cHJvcHNbJ2FyaWEtbGFiZWwnXX1cbiAgICAgIGl0ZW1zPXtwcm9wcy5lbGVtZW50c31cbiAgICAgIGRyYWdBbmREcm9wSG9va3M9e2RyYWdBbmREcm9wSG9va3N9XG4gICAgICBoZWlnaHQ9e3Byb3BzLmVsZW1lbnRzLmxlbmd0aCA/IHVuZGVmaW5lZCA6ICdzY2FsZS4yMDAwJ31cbiAgICAgIHNlbGVjdGlvbk1vZGU9XCJub25lXCJcbiAgICAgIHJlbmRlckVtcHR5U3RhdGU9e2FycmF5RmllbGRFbXB0eVN0YXRlfVxuICAgICAgb25BY3Rpb249e2tleSA9PiB7XG4gICAgICAgIGNvbnN0IGkgPSBwcm9wcy5lbGVtZW50cy5maW5kSW5kZXgoeCA9PiB4LmtleSA9PT0ga2V5KVxuICAgICAgICBpZiAoaSA9PT0gLTEpIHJldHVyblxuICAgICAgICBwcm9wcy5vbk9wZW5JdGVtKGkpXG4gICAgICB9fVxuICAgID5cbiAgICAgIHtpdGVtID0+IHtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBwcm9wcy5zY2hlbWEuaXRlbUxhYmVsPy4oaXRlbSkgfHwgYEl0ZW0gJHtwcm9wcy5lbGVtZW50cy5pbmRleE9mKGl0ZW0pICsgMX1gXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEl0ZW0ga2V5PXtpdGVtLmtleX0gdGV4dFZhbHVlPXtsYWJlbH0+XG4gICAgICAgICAgICA8VGV4dD57bGFiZWx9PC9UZXh0PlxuICAgICAgICAgICAgPFRvb2x0aXBUcmlnZ2VyIHBsYWNlbWVudD1cInN0YXJ0XCI+XG4gICAgICAgICAgICAgIDxBY3Rpb25CdXR0b24gb25QcmVzcz17KCkgPT4gb25SZW1vdmVLZXkoaXRlbS5rZXkpfT5cbiAgICAgICAgICAgICAgICA8SWNvbiBzcmM9e3RyYXNoMkljb259IC8+XG4gICAgICAgICAgICAgIDwvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgICAgICA8VG9vbHRpcD5EZWxldGU8L1Rvb2x0aXA+XG4gICAgICAgICAgICA8L1Rvb2x0aXBUcmlnZ2VyPlxuICAgICAgICAgIDwvSXRlbT5cbiAgICAgICAgKVxuICAgICAgfX1cbiAgICA8L0xpc3RWaWV3PlxuICApXG59XG5cbmZ1bmN0aW9uIEFycmF5RmllbGRJdGVtTW9kYWxDb250ZW50KHByb3BzOiB7XG4gIHNjaGVtYTogTm9uQ2hpbGRGaWVsZENvbXBvbmVudFNjaGVtYVxuICB2YWx1ZTogdW5rbm93blxuICBvbkNoYW5nZTogKGNiOiAodmFsdWU6IHVua25vd24pID0+IHVua25vd24pID0+IHZvaWRcbn0pIHtcbiAgY29uc3QgcHJldmlld1Byb3BzID0gdXNlTWVtbyhcbiAgICAoKSA9PiBjcmVhdGVHZXRQcmV2aWV3UHJvcHMocHJvcHMuc2NoZW1hLCBwcm9wcy5vbkNoYW5nZSwgKCkgPT4gdW5kZWZpbmVkKSxcbiAgICBbcHJvcHMuc2NoZW1hLCBwcm9wcy5vbkNoYW5nZV1cbiAgKShwcm9wcy52YWx1ZSlcbiAgcmV0dXJuIDxGb3JtVmFsdWVDb250ZW50RnJvbVByZXZpZXdQcm9wcyB7Li4ucHJldmlld1Byb3BzfSAvPlxufVxuXG5mdW5jdGlvbiBhcnJheUZpZWxkRW1wdHlTdGF0ZSgpIHtcbiAgcmV0dXJuIChcbiAgICA8VlN0YWNrIGdhcD1cImxhcmdlXCIgYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnlDb250ZW50PVwiY2VudGVyXCIgaGVpZ2h0PVwiMTAwJVwiIHBhZGRpbmc9XCJyZWd1bGFyXCI+XG4gICAgICA8VGV4dCBlbGVtZW50VHlwZT1cImgzXCIgYWxpZ249XCJjZW50ZXJcIiBjb2xvcj1cIm5ldXRyYWxTZWNvbmRhcnlcIiBzaXplPVwibGFyZ2VcIiB3ZWlnaHQ9XCJtZWRpdW1cIj5cbiAgICAgICAgRW1wdHkgbGlzdFxuICAgICAgPC9UZXh0PlxuICAgICAgPFRleHQgYWxpZ249XCJjZW50ZXJcIiBjb2xvcj1cIm5ldXRyYWxUZXJ0aWFyeVwiPlxuICAgICAgICBBZGQgdGhlIGZpcnN0IGl0ZW0gdG8gc2VlIGl0IGhlcmUuXG4gICAgICA8L1RleHQ+XG4gICAgPC9WU3RhY2s+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VMaXN0IiwiR3JvdXBJbmRpY2F0b3JMaW5lIiwiRmllbGQiLCJSZWxhdGlvbnNoaXBGaWVsZFZpZXciLCJBY3Rpb25CdXR0b24iLCJCdXR0b24iLCJCdXR0b25Hcm91cCIsIkRpYWxvZyIsIkRpYWxvZ0NvbnRhaW5lciIsIm1vdmUiLCJ1c2VEcmFnQW5kRHJvcCIsIkljb24iLCJ0cmFzaDJJY29uIiwiSFN0YWNrIiwiVlN0YWNrIiwiSXRlbSIsIkxpc3RWaWV3IiwiVG9vbHRpcCIsIlRvb2x0aXBUcmlnZ2VyIiwiSGVhZGluZyIsIlRleHQiLCJtZW1vIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJnZXRLZXlzRm9yQXJyYXlWYWx1ZSIsInNldEtleXNGb3JBcnJheVZhbHVlIiwiQ29udGVudCIsImNyZWF0ZUdldFByZXZpZXdQcm9wcyIsImFzc2VydE5ldmVyIiwiY2xpZW50U2lkZVZhbGlkYXRlUHJvcCIsInByZXZpZXdQcm9wc1RvVmFsdWVDb252ZXJ0ZXIiLCJjaGlsZCIsImZvcm0iLCJwcm9wcyIsInZhbHVlIiwiYXJyYXkiLCJ2YWx1ZXMiLCJlbGVtZW50cyIsIm1hcCIsIngiLCJwcmV2aWV3UHJvcHNUb1ZhbHVlIiwia2V5IiwiY29uZGl0aW9uYWwiLCJkaXNjcmltaW5hbnQiLCJvYmplY3QiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJmaWVsZHMiLCJ2YWwiLCJyZWxhdGlvbnNoaXAiLCJ2YWx1ZVRvVXBkYXRlcnMiLCJ1bmRlZmluZWQiLCJzY2hlbWEiLCJrZXlzIiwiaSIsInZhbHVlVG9VcGRhdGVyIiwiZWxlbWVudCIsInRvU3RyaW5nIiwia2luZCIsImlzS2luZCIsInByZXZpZXdQcm9wc09uQ2hhbmdlIiwib25DaGFuZ2UiLCJ1cGRhdGVyIiwiQXJyYXlGaWVsZFByZXZpZXciLCJsYWJlbCIsIm1vZGFsU3RhdGUiLCJzZXRNb2RhbFN0YXRlIiwibGFiZWxFbGVtZW50VHlwZSIsImdyb3VwUHJvcHMiLCJnYXAiLCJyb2xlIiwibWluV2lkdGgiLCJBcnJheUZpZWxkTGlzdFZpZXciLCJhcmlhLWxhYmVsIiwib25PcGVuSXRlbSIsImluZGV4IiwiYXQiLCJmb3JjZVZhbGlkYXRpb24iLCJhbGlnblNlbGYiLCJhdXRvRm9jdXMiLCJvblByZXNzIiwib25EaXNtaXNzIiwib25Nb2RhbENoYW5nZSIsImNiIiwic3RhdGUiLCJBcnJheUZpZWxkSXRlbU1vZGFsQ29udGVudCIsInByb21pbmVuY2UiLCJSZWxhdGlvbnNoaXBGaWVsZFByZXZpZXciLCJsaXN0S2V5IiwiZGVzY3JpcHRpb24iLCJtYW55IiwibGlzdCIsImZvcm1WYWx1ZSIsIlR5cGVFcnJvciIsIm1hbnlWYWx1ZSIsImlkIiwiZGF0YSIsImJ1aWx0IiwiaW5pdGlhbFZhbHVlIiwib25lVmFsdWUiLCJpc1JlcXVpcmVkIiwiZmllbGQiLCJwYXRoIiwiZGlzcGxheSIsInJlZkxpc3RLZXkiLCJoaWRlQ3JlYXRlIiwicmVmTGFiZWxGaWVsZCIsImxhYmVsRmllbGQiLCJyZWZTZWFyY2hGaWVsZHMiLCJpbml0aWFsU2VhcmNoRmllbGRzIiwiZmlsdGVyIiwiaW5pdGlhbEZpbHRlciIsInNvcnQiLCJpbml0aWFsU29ydCIsIkFycmF5IiwiaXNBcnJheSIsIml0ZW1WYWx1ZSIsIkZvcm1GaWVsZFByZXZpZXciLCJJbnB1dCIsImNhbkZpZWxkQmVGb2N1c2VkIiwiaW5uZXJQcm9wIiwiZmluZEZvY3VzYWJsZU9iamVjdEZpZWxkS2V5IiwiY2hpbGRGb2N1c2FibGUiLCJPYmplY3RGaWVsZFByZXZpZXciLCJmaXJzdEZvY3VzYWJsZSIsInBhZGRpbmdUb3AiLCJmbGV4IiwicHJvcFZhbCIsImlzTm9uQ2hpbGRGaWVsZFByZXZpZXdQcm9wcyIsIkZvcm1WYWx1ZUNvbnRlbnRGcm9tUHJldmlld1Byb3BzIiwiQ29uZGl0aW9uYWxGaWVsZFByZXZpZXciLCJzY2hlbWFEaXNjcmltaW5hbnQiLCJmaWVsZFJlbmRlcmVycyIsIkZvcm1WYWx1ZUNvbnRlbnRGcm9tUHJldmlldyIsIkNvbXAiLCJ1c2VFdmVudENhbGxiYWNrIiwiY2FsbGJhY2siLCJjYWxsYmFja1JlZiIsImFyZ3MiLCJjdXJyZW50Iiwib25Nb3ZlIiwidGFyZ2V0IiwidGFyZ2V0SW5kZXgiLCJmaW5kSW5kZXgiLCJhbGxLZXlzIiwiaW5kZXhUb01vdmVUbyIsImRyb3BQb3NpdGlvbiIsImluZGljZXMiLCJkcmFnVHlwZSIsIk1hdGgiLCJyYW5kb20iLCJkcmFnQW5kRHJvcEhvb2tzIiwiZ2V0SXRlbXMiLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0QWxsb3dlZERyb3BPcGVyYXRpb25zIiwib25Ecm9wIiwiZSIsInR5cGUiLCJpdGVtIiwiaXRlbXMiLCJ0eXBlcyIsImhhcyIsInBhcnNlIiwiZ2V0VGV4dCIsInB1c2giLCJzcGxpdCIsInJlcGxhY2VBbGwiLCJnZXREcm9wT3BlcmF0aW9uIiwib25SZW1vdmVLZXkiLCJoZWlnaHQiLCJsZW5ndGgiLCJzZWxlY3Rpb25Nb2RlIiwicmVuZGVyRW1wdHlTdGF0ZSIsImFycmF5RmllbGRFbXB0eVN0YXRlIiwib25BY3Rpb24iLCJpdGVtTGFiZWwiLCJpbmRleE9mIiwidGV4dFZhbHVlIiwicGxhY2VtZW50Iiwic3JjIiwicHJldmlld1Byb3BzIiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwicGFkZGluZyIsImVsZW1lbnRUeXBlIiwiYWxpZ24iLCJjb2xvciIsInNpemUiLCJ3ZWlnaHQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/component-blocks/form-from-preview.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/component-blocks/index.tsx":
/*!******************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/component-blocks/index.tsx ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ComponentBlockContext: () => (/* binding */ ComponentBlockContext),\n/* harmony export */   ComponentBlocksElement: () => (/* binding */ ComponentBlocksElement),\n/* harmony export */   ComponentInlineProp: () => (/* binding */ ComponentInlineProp),\n/* harmony export */   insertComponentBlock: () => (/* binding */ insertComponentBlock),\n/* harmony export */   withComponentBlocks: () => (/* reexport safe */ _with_component_blocks__WEBPACK_IMPORTED_MODULE_11__.withComponentBlocks)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n/* harmony import */ var _utils_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils-hooks */ \"../../../../packages/fields-document/src/DocumentEditor/utils-hooks.tsx\");\n/* harmony import */ var _initial_values__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./initial-values */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/initial-values.ts\");\n/* harmony import */ var _preview_props__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./preview-props */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/preview-props.ts\");\n/* harmony import */ var _update_element__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./update-element */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/update-element.ts\");\n/* harmony import */ var _component_block_render__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./component-block-render */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/component-block-render.tsx\");\n/* harmony import */ var _chromeful_element__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chromeful-element */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/chromeful-element.tsx\");\n/* harmony import */ var _chromeless_element__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chromeless-element */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/chromeless-element.tsx\");\n/* harmony import */ var _with_component_blocks__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./with-component-blocks */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/with-component-blocks.tsx\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst ComponentBlockContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({});\nfunction ComponentInlineProp(props) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        ...props.attributes,\n        children: props.children\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/index.tsx\",\n        lineNumber: 26,\n        columnNumber: 10\n    }, this);\n}\nfunction insertComponentBlock(editor, componentBlocks, componentBlock) {\n    const node = (0,_initial_values__WEBPACK_IMPORTED_MODULE_5__.getInitialValue)(componentBlock, componentBlocks[componentBlock]);\n    (0,_utils__WEBPACK_IMPORTED_MODULE_3__.insertNodesButReplaceIfSelectionIsAtEmptyParagraphOrHeading)(editor, node);\n    const componentBlockEntry = slate__WEBPACK_IMPORTED_MODULE_12__.Editor.above(editor, {\n        match: (node)=>node.type === 'component-block'\n    });\n    if (componentBlockEntry) {\n        const start = slate__WEBPACK_IMPORTED_MODULE_12__.Editor.start(editor, componentBlockEntry[1]);\n        slate__WEBPACK_IMPORTED_MODULE_12__.Transforms.setSelection(editor, {\n            anchor: start,\n            focus: start\n        });\n    }\n}\nfunction ComponentBlocksElement({ attributes, children, element: __elementToGetPath }) {\n    const editor = (0,slate_react__WEBPACK_IMPORTED_MODULE_13__.useSlateStatic)();\n    const [currentElement, setElement] = (0,_utils_hooks__WEBPACK_IMPORTED_MODULE_4__.useElementWithSetNodes)(editor, __elementToGetPath);\n    const blockComponents = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ComponentBlockContext);\n    const componentBlock = blockComponents[currentElement.component];\n    const elementToGetPathRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        __elementToGetPath,\n        currentElement\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ComponentBlocksElement.useEffect\": ()=>{\n            elementToGetPathRef.current = {\n                __elementToGetPath,\n                currentElement\n            };\n        }\n    }[\"ComponentBlocksElement.useEffect\"]);\n    const onRemove = (0,_utils_hooks__WEBPACK_IMPORTED_MODULE_4__.useEventCallback)({\n        \"ComponentBlocksElement.useEventCallback[onRemove]\": ()=>{\n            const path = slate_react__WEBPACK_IMPORTED_MODULE_13__.ReactEditor.findPath(editor, __elementToGetPath);\n            slate__WEBPACK_IMPORTED_MODULE_12__.Transforms.removeNodes(editor, {\n                at: path\n            });\n        }\n    }[\"ComponentBlocksElement.useEventCallback[onRemove]\"]);\n    const onPropsChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"ComponentBlocksElement.useCallback[onPropsChange]\": (cb)=>{\n            const prevProps = elementToGetPathRef.current.currentElement.props;\n            (0,_update_element__WEBPACK_IMPORTED_MODULE_7__.updateComponentBlockElementProps)(editor, componentBlock, prevProps, cb(prevProps), slate_react__WEBPACK_IMPORTED_MODULE_13__.ReactEditor.findPath(editor, elementToGetPathRef.current.__elementToGetPath), setElement);\n        }\n    }[\"ComponentBlocksElement.useCallback[onPropsChange]\"], [\n        setElement,\n        componentBlock,\n        editor\n    ]);\n    const getToolbarPreviewProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ComponentBlocksElement.useMemo[getToolbarPreviewProps]\": ()=>{\n            if (!componentBlock) {\n                return ({\n                    \"ComponentBlocksElement.useMemo[getToolbarPreviewProps]\": ()=>{\n                        throw new Error('expected component block to exist when called');\n                    }\n                })[\"ComponentBlocksElement.useMemo[getToolbarPreviewProps]\"];\n            }\n            return (0,_preview_props__WEBPACK_IMPORTED_MODULE_6__.createGetPreviewProps)({\n                kind: 'object',\n                fields: componentBlock.schema\n            }, onPropsChange, {\n                \"ComponentBlocksElement.useMemo[getToolbarPreviewProps]\": ()=>undefined\n            }[\"ComponentBlocksElement.useMemo[getToolbarPreviewProps]\"]);\n        }\n    }[\"ComponentBlocksElement.useMemo[getToolbarPreviewProps]\"], [\n        componentBlock,\n        onPropsChange\n    ]);\n    if (!componentBlock) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.css)({\n                border: 'red 4px solid',\n                padding: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.tokenSchema.size.space.medium\n            }),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                    contentEditable: false,\n                    className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_2__.css)({\n                        userSelect: 'none'\n                    }),\n                    children: `The block \"${currentElement.component}\" no longer exists.\n\nProps:\n\n${JSON.stringify(currentElement.props, null, 2)}\n\nContent:`\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/index.tsx\",\n                    lineNumber: 99,\n                    columnNumber: 9\n                }, this),\n                children\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/index.tsx\",\n            lineNumber: 98,\n            columnNumber: 7\n        }, this);\n    }\n    const toolbarPreviewProps = getToolbarPreviewProps(currentElement.props);\n    const renderedBlock = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_component_block_render__WEBPACK_IMPORTED_MODULE_8__.ComponentBlockRender, {\n        children: children,\n        componentBlock: componentBlock,\n        element: currentElement,\n        onChange: onPropsChange\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/index.tsx\",\n        lineNumber: 116,\n        columnNumber: 5\n    }, this);\n    return componentBlock.chromeless ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chromeless_element__WEBPACK_IMPORTED_MODULE_10__.ChromelessComponentBlockElement, {\n        attributes: attributes,\n        renderedBlock: renderedBlock,\n        componentBlock: componentBlock,\n        onRemove: onRemove,\n        element: __elementToGetPath,\n        previewProps: toolbarPreviewProps\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/index.tsx\",\n        lineNumber: 125,\n        columnNumber: 5\n    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chromeful_element__WEBPACK_IMPORTED_MODULE_9__.ChromefulComponentBlockElement, {\n        attributes: attributes,\n        children: children,\n        componentBlock: componentBlock,\n        onRemove: onRemove,\n        previewProps: toolbarPreviewProps,\n        renderedBlock: renderedBlock,\n        elementProps: currentElement.props\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/component-blocks/index.tsx\",\n        lineNumber: 134,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL2luZGV4LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBGO0FBQ2hEO0FBS3RCO0FBRWdDO0FBR2tDO0FBQ2I7QUFDdkI7QUFDSztBQUNZO0FBQ0o7QUFDSztBQUNFO0FBRVQ7QUFFdEQsTUFBTXVCLHNDQUF3QnZCLG9EQUFhQSxDQUFpQyxDQUFDLEdBQUU7QUFFL0UsU0FBU3dCLG9CQUFvQkMsS0FBeUI7SUFDM0QscUJBQU8sOERBQUNDO1FBQU0sR0FBR0QsTUFBTUUsVUFBVTtrQkFBR0YsTUFBTUcsUUFBUTs7Ozs7O0FBQ3BEO0FBRU8sU0FBU0MscUJBQ2RDLE1BQWMsRUFDZEMsZUFBK0MsRUFDL0NDLGNBQXNCO0lBRXRCLE1BQU1DLE9BQU9qQixnRUFBZUEsQ0FBQ2dCLGdCQUFnQkQsZUFBZSxDQUFDQyxlQUFlO0lBQzVFbkIsbUdBQTJEQSxDQUFDaUIsUUFBUUc7SUFFcEUsTUFBTUMsc0JBQXNCNUIsMENBQU1BLENBQUM2QixLQUFLLENBQUNMLFFBQVE7UUFDL0NNLE9BQU9ILENBQUFBLE9BQVFBLEtBQUtJLElBQUksS0FBSztJQUMvQjtJQUVBLElBQUlILHFCQUFxQjtRQUN2QixNQUFNSSxRQUFRaEMsMENBQU1BLENBQUNnQyxLQUFLLENBQUNSLFFBQVFJLG1CQUFtQixDQUFDLEVBQUU7UUFDekQzQiw4Q0FBVUEsQ0FBQ2dDLFlBQVksQ0FBQ1QsUUFBUTtZQUFFVSxRQUFRRjtZQUFPRyxPQUFPSDtRQUFNO0lBQ2hFO0FBQ0Y7QUFFTyxTQUFTSSx1QkFBdUIsRUFDckNmLFVBQVUsRUFDVkMsUUFBUSxFQUNSZSxTQUFTQyxrQkFBa0IsRUFDbUM7SUFDOUQsTUFBTWQsU0FBU3BCLDREQUFlQTtJQUM5QixNQUFNLENBQUNtQyxnQkFBZ0JDLFdBQVcsR0FBR2hDLG9FQUFzQkEsQ0FBQ2dCLFFBQVFjO0lBQ3BFLE1BQU1HLGtCQUFrQjlDLGlEQUFVQSxDQUFDc0I7SUFDbkMsTUFBTVMsaUJBQWlCZSxlQUFlLENBQUNGLGVBQWVHLFNBQVMsQ0FBQztJQUVoRSxNQUFNQyxzQkFBc0I1Qyw2Q0FBTUEsQ0FBQztRQUFFdUM7UUFBb0JDO0lBQWU7SUFFeEV6QyxnREFBU0E7NENBQUM7WUFDUjZDLG9CQUFvQkMsT0FBTyxHQUFHO2dCQUFFTjtnQkFBb0JDO1lBQWU7UUFDckU7O0lBRUEsTUFBTU0sV0FBV3BDLDhEQUFnQkE7NkRBQUM7WUFDaEMsTUFBTXFDLE9BQU81QyxxREFBV0EsQ0FBQzZDLFFBQVEsQ0FBQ3ZCLFFBQVFjO1lBQzFDckMsOENBQVVBLENBQUMrQyxXQUFXLENBQUN4QixRQUFRO2dCQUFFeUIsSUFBSUg7WUFBSztRQUM1Qzs7SUFFQSxNQUFNSSxnQkFBZ0JyRCxrREFBV0E7NkRBQy9CLENBQUNzRDtZQUNDLE1BQU1DLFlBQVlULG9CQUFvQkMsT0FBTyxDQUFDTCxjQUFjLENBQUNwQixLQUFLO1lBQ2xFUCxpRkFBZ0NBLENBQzlCWSxRQUNBRSxnQkFDQTBCLFdBQ0FELEdBQUdDLFlBQ0hsRCxxREFBV0EsQ0FBQzZDLFFBQVEsQ0FBQ3ZCLFFBQVFtQixvQkFBb0JDLE9BQU8sQ0FBQ04sa0JBQWtCLEdBQzNFRTtRQUVKOzREQUNBO1FBQUNBO1FBQVlkO1FBQWdCRjtLQUFPO0lBR3RDLE1BQU02Qix5QkFBeUJ6RCw4Q0FBT0E7a0VBQUM7WUFDckMsSUFBSSxDQUFDOEIsZ0JBQWdCO2dCQUNuQjs4RUFBTzt3QkFDTCxNQUFNLElBQUk0QixNQUFNO29CQUNsQjs7WUFDRjtZQUNBLE9BQU8zQyxxRUFBcUJBLENBQzFCO2dCQUFFNEMsTUFBTTtnQkFBVUMsUUFBUTlCLGVBQWUrQixNQUFNO1lBQUMsR0FDaERQOzBFQUNBLElBQU1ROztRQUVWO2lFQUFHO1FBQUNoQztRQUFnQndCO0tBQWM7SUFFbEMsSUFBSSxDQUFDeEIsZ0JBQWdCO1FBQ25CLHFCQUNFLDhEQUFDaUM7WUFBSUMsV0FBV3ZELHNEQUFHQSxDQUFDO2dCQUFFd0QsUUFBUTtnQkFBaUJDLFNBQVN4RCwwREFBV0EsQ0FBQ3lELElBQUksQ0FBQ0MsS0FBSyxDQUFDQyxNQUFNO1lBQUM7OzhCQUNwRiw4REFBQ0M7b0JBQUlDLGlCQUFpQjtvQkFBT1AsV0FBV3ZELHNEQUFHQSxDQUFDO3dCQUFFK0QsWUFBWTtvQkFBTzs4QkFDOUQsQ0FBQyxXQUFXLEVBQUU3QixlQUFlRyxTQUFTLENBQUM7Ozs7QUFJbEQsRUFBRTJCLEtBQUtDLFNBQVMsQ0FBQy9CLGVBQWVwQixLQUFLLEVBQUUsTUFBTSxHQUFHOztRQUV4QyxDQUFDOzs7Ozs7Z0JBRUFHOzs7Ozs7O0lBR1A7SUFFQSxNQUFNaUQsc0JBQXNCbEIsdUJBQXVCZCxlQUFlcEIsS0FBSztJQUV2RSxNQUFNcUQsOEJBQ0osOERBQUMzRCx5RUFBb0JBO1FBQ25CUyxVQUFVQTtRQUNWSSxnQkFBZ0JBO1FBQ2hCVyxTQUFTRTtRQUNUa0MsVUFBVXZCOzs7Ozs7SUFJZCxPQUFPeEIsZUFBZWdELFVBQVUsaUJBQzlCLDhEQUFDM0QsaUZBQStCQTtRQUM5Qk0sWUFBWUE7UUFDWm1ELGVBQWVBO1FBQ2Y5QyxnQkFBZ0JBO1FBQ2hCbUIsVUFBVUE7UUFDVlIsU0FBU0M7UUFDVHFDLGNBQWNKOzs7Ozs2QkFHaEIsOERBQUN6RCw4RUFBOEJBO1FBQzdCTyxZQUFZQTtRQUNaQyxVQUFVQTtRQUNWSSxnQkFBZ0JBO1FBQ2hCbUIsVUFBVUE7UUFDVjhCLGNBQWNKO1FBQ2RDLGVBQWVBO1FBQ2ZJLGNBQWNyQyxlQUFlcEIsS0FBSzs7Ozs7O0FBR3hDIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvY29tcG9uZW50LWJsb2Nrcy9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlTWVtbywgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBFZGl0b3IsIFRyYW5zZm9ybXMgfSBmcm9tICdzbGF0ZSdcbmltcG9ydCB7XG4gIHR5cGUgUmVuZGVyRWxlbWVudFByb3BzLFxuICBSZWFjdEVkaXRvcixcbiAgdXNlU2xhdGVTdGF0aWMgYXMgdXNlU3RhdGljRWRpdG9yLFxufSBmcm9tICdzbGF0ZS1yZWFjdCdcblxuaW1wb3J0IHsgY3NzLCB0b2tlblNjaGVtYSB9IGZyb20gJ0BrZXlzdGFyL3VpL3N0eWxlJ1xuXG5pbXBvcnQgeyB0eXBlIENvbXBvbmVudEJsb2NrIH0gZnJvbSAnLi9hcGktc2hhcmVkJ1xuaW1wb3J0IHsgaW5zZXJ0Tm9kZXNCdXRSZXBsYWNlSWZTZWxlY3Rpb25Jc0F0RW1wdHlQYXJhZ3JhcGhPckhlYWRpbmcgfSBmcm9tICcuLi91dGlscydcbmltcG9ydCB7IHVzZUVsZW1lbnRXaXRoU2V0Tm9kZXMsIHVzZUV2ZW50Q2FsbGJhY2sgfSBmcm9tICcuLi91dGlscy1ob29rcydcbmltcG9ydCB7IGdldEluaXRpYWxWYWx1ZSB9IGZyb20gJy4vaW5pdGlhbC12YWx1ZXMnXG5pbXBvcnQgeyBjcmVhdGVHZXRQcmV2aWV3UHJvcHMgfSBmcm9tICcuL3ByZXZpZXctcHJvcHMnXG5pbXBvcnQgeyB1cGRhdGVDb21wb25lbnRCbG9ja0VsZW1lbnRQcm9wcyB9IGZyb20gJy4vdXBkYXRlLWVsZW1lbnQnXG5pbXBvcnQgeyBDb21wb25lbnRCbG9ja1JlbmRlciB9IGZyb20gJy4vY29tcG9uZW50LWJsb2NrLXJlbmRlcidcbmltcG9ydCB7IENocm9tZWZ1bENvbXBvbmVudEJsb2NrRWxlbWVudCB9IGZyb20gJy4vY2hyb21lZnVsLWVsZW1lbnQnXG5pbXBvcnQgeyBDaHJvbWVsZXNzQ29tcG9uZW50QmxvY2tFbGVtZW50IH0gZnJvbSAnLi9jaHJvbWVsZXNzLWVsZW1lbnQnXG5cbmV4cG9ydCB7IHdpdGhDb21wb25lbnRCbG9ja3MgfSBmcm9tICcuL3dpdGgtY29tcG9uZW50LWJsb2NrcydcblxuZXhwb3J0IGNvbnN0IENvbXBvbmVudEJsb2NrQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8UmVjb3JkPHN0cmluZywgQ29tcG9uZW50QmxvY2s+Pih7fSlcblxuZXhwb3J0IGZ1bmN0aW9uIENvbXBvbmVudElubGluZVByb3AocHJvcHM6IFJlbmRlckVsZW1lbnRQcm9wcykge1xuICByZXR1cm4gPHNwYW4gey4uLnByb3BzLmF0dHJpYnV0ZXN9Pntwcm9wcy5jaGlsZHJlbn08L3NwYW4+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRDb21wb25lbnRCbG9jayhcbiAgZWRpdG9yOiBFZGl0b3IsXG4gIGNvbXBvbmVudEJsb2NrczogUmVjb3JkPHN0cmluZywgQ29tcG9uZW50QmxvY2s+LFxuICBjb21wb25lbnRCbG9jazogc3RyaW5nXG4pIHtcbiAgY29uc3Qgbm9kZSA9IGdldEluaXRpYWxWYWx1ZShjb21wb25lbnRCbG9jaywgY29tcG9uZW50QmxvY2tzW2NvbXBvbmVudEJsb2NrXSlcbiAgaW5zZXJ0Tm9kZXNCdXRSZXBsYWNlSWZTZWxlY3Rpb25Jc0F0RW1wdHlQYXJhZ3JhcGhPckhlYWRpbmcoZWRpdG9yLCBub2RlKVxuXG4gIGNvbnN0IGNvbXBvbmVudEJsb2NrRW50cnkgPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgbWF0Y2g6IG5vZGUgPT4gbm9kZS50eXBlID09PSAnY29tcG9uZW50LWJsb2NrJyxcbiAgfSlcblxuICBpZiAoY29tcG9uZW50QmxvY2tFbnRyeSkge1xuICAgIGNvbnN0IHN0YXJ0ID0gRWRpdG9yLnN0YXJ0KGVkaXRvciwgY29tcG9uZW50QmxvY2tFbnRyeVsxXSlcbiAgICBUcmFuc2Zvcm1zLnNldFNlbGVjdGlvbihlZGl0b3IsIHsgYW5jaG9yOiBzdGFydCwgZm9jdXM6IHN0YXJ0IH0pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENvbXBvbmVudEJsb2Nrc0VsZW1lbnQoe1xuICBhdHRyaWJ1dGVzLFxuICBjaGlsZHJlbixcbiAgZWxlbWVudDogX19lbGVtZW50VG9HZXRQYXRoLFxufTogUmVuZGVyRWxlbWVudFByb3BzICYgeyBlbGVtZW50OiB7IHR5cGU6ICdjb21wb25lbnQtYmxvY2snIH0gfSkge1xuICBjb25zdCBlZGl0b3IgPSB1c2VTdGF0aWNFZGl0b3IoKVxuICBjb25zdCBbY3VycmVudEVsZW1lbnQsIHNldEVsZW1lbnRdID0gdXNlRWxlbWVudFdpdGhTZXROb2RlcyhlZGl0b3IsIF9fZWxlbWVudFRvR2V0UGF0aClcbiAgY29uc3QgYmxvY2tDb21wb25lbnRzID0gdXNlQ29udGV4dChDb21wb25lbnRCbG9ja0NvbnRleHQpIVxuICBjb25zdCBjb21wb25lbnRCbG9jayA9IGJsb2NrQ29tcG9uZW50c1tjdXJyZW50RWxlbWVudC5jb21wb25lbnRdIGFzIENvbXBvbmVudEJsb2NrIHwgdW5kZWZpbmVkXG5cbiAgY29uc3QgZWxlbWVudFRvR2V0UGF0aFJlZiA9IHVzZVJlZih7IF9fZWxlbWVudFRvR2V0UGF0aCwgY3VycmVudEVsZW1lbnQgfSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGVsZW1lbnRUb0dldFBhdGhSZWYuY3VycmVudCA9IHsgX19lbGVtZW50VG9HZXRQYXRoLCBjdXJyZW50RWxlbWVudCB9XG4gIH0pXG5cbiAgY29uc3Qgb25SZW1vdmUgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBwYXRoID0gUmVhY3RFZGl0b3IuZmluZFBhdGgoZWRpdG9yLCBfX2VsZW1lbnRUb0dldFBhdGgpXG4gICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHsgYXQ6IHBhdGggfSlcbiAgfSlcblxuICBjb25zdCBvblByb3BzQ2hhbmdlID0gdXNlQ2FsbGJhY2soXG4gICAgKGNiOiAocHJldlByb3BzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4gUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHtcbiAgICAgIGNvbnN0IHByZXZQcm9wcyA9IGVsZW1lbnRUb0dldFBhdGhSZWYuY3VycmVudC5jdXJyZW50RWxlbWVudC5wcm9wc1xuICAgICAgdXBkYXRlQ29tcG9uZW50QmxvY2tFbGVtZW50UHJvcHMoXG4gICAgICAgIGVkaXRvcixcbiAgICAgICAgY29tcG9uZW50QmxvY2shLFxuICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgIGNiKHByZXZQcm9wcyksXG4gICAgICAgIFJlYWN0RWRpdG9yLmZpbmRQYXRoKGVkaXRvciwgZWxlbWVudFRvR2V0UGF0aFJlZi5jdXJyZW50Ll9fZWxlbWVudFRvR2V0UGF0aCksXG4gICAgICAgIHNldEVsZW1lbnRcbiAgICAgIClcbiAgICB9LFxuICAgIFtzZXRFbGVtZW50LCBjb21wb25lbnRCbG9jaywgZWRpdG9yXVxuICApXG5cbiAgY29uc3QgZ2V0VG9vbGJhclByZXZpZXdQcm9wcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghY29tcG9uZW50QmxvY2spIHtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgY29tcG9uZW50IGJsb2NrIHRvIGV4aXN0IHdoZW4gY2FsbGVkJylcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUdldFByZXZpZXdQcm9wcyhcbiAgICAgIHsga2luZDogJ29iamVjdCcsIGZpZWxkczogY29tcG9uZW50QmxvY2suc2NoZW1hIH0sXG4gICAgICBvblByb3BzQ2hhbmdlLFxuICAgICAgKCkgPT4gdW5kZWZpbmVkXG4gICAgKVxuICB9LCBbY29tcG9uZW50QmxvY2ssIG9uUHJvcHNDaGFuZ2VdKVxuXG4gIGlmICghY29tcG9uZW50QmxvY2spIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2Nzcyh7IGJvcmRlcjogJ3JlZCA0cHggc29saWQnLCBwYWRkaW5nOiB0b2tlblNjaGVtYS5zaXplLnNwYWNlLm1lZGl1bSB9KX0+XG4gICAgICAgIDxwcmUgY29udGVudEVkaXRhYmxlPXtmYWxzZX0gY2xhc3NOYW1lPXtjc3MoeyB1c2VyU2VsZWN0OiAnbm9uZScgfSl9PlxuICAgICAgICAgIHtgVGhlIGJsb2NrIFwiJHtjdXJyZW50RWxlbWVudC5jb21wb25lbnR9XCIgbm8gbG9uZ2VyIGV4aXN0cy5cblxuUHJvcHM6XG5cbiR7SlNPTi5zdHJpbmdpZnkoY3VycmVudEVsZW1lbnQucHJvcHMsIG51bGwsIDIpfVxuXG5Db250ZW50OmB9XG4gICAgICAgIDwvcHJlPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICBjb25zdCB0b29sYmFyUHJldmlld1Byb3BzID0gZ2V0VG9vbGJhclByZXZpZXdQcm9wcyhjdXJyZW50RWxlbWVudC5wcm9wcylcblxuICBjb25zdCByZW5kZXJlZEJsb2NrID0gKFxuICAgIDxDb21wb25lbnRCbG9ja1JlbmRlclxuICAgICAgY2hpbGRyZW49e2NoaWxkcmVufVxuICAgICAgY29tcG9uZW50QmxvY2s9e2NvbXBvbmVudEJsb2NrfVxuICAgICAgZWxlbWVudD17Y3VycmVudEVsZW1lbnR9XG4gICAgICBvbkNoYW5nZT17b25Qcm9wc0NoYW5nZX1cbiAgICAvPlxuICApXG5cbiAgcmV0dXJuIGNvbXBvbmVudEJsb2NrLmNocm9tZWxlc3MgPyAoXG4gICAgPENocm9tZWxlc3NDb21wb25lbnRCbG9ja0VsZW1lbnRcbiAgICAgIGF0dHJpYnV0ZXM9e2F0dHJpYnV0ZXN9XG4gICAgICByZW5kZXJlZEJsb2NrPXtyZW5kZXJlZEJsb2NrfVxuICAgICAgY29tcG9uZW50QmxvY2s9e2NvbXBvbmVudEJsb2NrfVxuICAgICAgb25SZW1vdmU9e29uUmVtb3ZlfVxuICAgICAgZWxlbWVudD17X19lbGVtZW50VG9HZXRQYXRofVxuICAgICAgcHJldmlld1Byb3BzPXt0b29sYmFyUHJldmlld1Byb3BzfVxuICAgIC8+XG4gICkgOiAoXG4gICAgPENocm9tZWZ1bENvbXBvbmVudEJsb2NrRWxlbWVudFxuICAgICAgYXR0cmlidXRlcz17YXR0cmlidXRlc31cbiAgICAgIGNoaWxkcmVuPXtjaGlsZHJlbn1cbiAgICAgIGNvbXBvbmVudEJsb2NrPXtjb21wb25lbnRCbG9ja31cbiAgICAgIG9uUmVtb3ZlPXtvblJlbW92ZX1cbiAgICAgIHByZXZpZXdQcm9wcz17dG9vbGJhclByZXZpZXdQcm9wc31cbiAgICAgIHJlbmRlcmVkQmxvY2s9e3JlbmRlcmVkQmxvY2t9XG4gICAgICBlbGVtZW50UHJvcHM9e2N1cnJlbnRFbGVtZW50LnByb3BzfVxuICAgIC8+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZU1lbW8iLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkVkaXRvciIsIlRyYW5zZm9ybXMiLCJSZWFjdEVkaXRvciIsInVzZVNsYXRlU3RhdGljIiwidXNlU3RhdGljRWRpdG9yIiwiY3NzIiwidG9rZW5TY2hlbWEiLCJpbnNlcnROb2Rlc0J1dFJlcGxhY2VJZlNlbGVjdGlvbklzQXRFbXB0eVBhcmFncmFwaE9ySGVhZGluZyIsInVzZUVsZW1lbnRXaXRoU2V0Tm9kZXMiLCJ1c2VFdmVudENhbGxiYWNrIiwiZ2V0SW5pdGlhbFZhbHVlIiwiY3JlYXRlR2V0UHJldmlld1Byb3BzIiwidXBkYXRlQ29tcG9uZW50QmxvY2tFbGVtZW50UHJvcHMiLCJDb21wb25lbnRCbG9ja1JlbmRlciIsIkNocm9tZWZ1bENvbXBvbmVudEJsb2NrRWxlbWVudCIsIkNocm9tZWxlc3NDb21wb25lbnRCbG9ja0VsZW1lbnQiLCJ3aXRoQ29tcG9uZW50QmxvY2tzIiwiQ29tcG9uZW50QmxvY2tDb250ZXh0IiwiQ29tcG9uZW50SW5saW5lUHJvcCIsInByb3BzIiwic3BhbiIsImF0dHJpYnV0ZXMiLCJjaGlsZHJlbiIsImluc2VydENvbXBvbmVudEJsb2NrIiwiZWRpdG9yIiwiY29tcG9uZW50QmxvY2tzIiwiY29tcG9uZW50QmxvY2siLCJub2RlIiwiY29tcG9uZW50QmxvY2tFbnRyeSIsImFib3ZlIiwibWF0Y2giLCJ0eXBlIiwic3RhcnQiLCJzZXRTZWxlY3Rpb24iLCJhbmNob3IiLCJmb2N1cyIsIkNvbXBvbmVudEJsb2Nrc0VsZW1lbnQiLCJlbGVtZW50IiwiX19lbGVtZW50VG9HZXRQYXRoIiwiY3VycmVudEVsZW1lbnQiLCJzZXRFbGVtZW50IiwiYmxvY2tDb21wb25lbnRzIiwiY29tcG9uZW50IiwiZWxlbWVudFRvR2V0UGF0aFJlZiIsImN1cnJlbnQiLCJvblJlbW92ZSIsInBhdGgiLCJmaW5kUGF0aCIsInJlbW92ZU5vZGVzIiwiYXQiLCJvblByb3BzQ2hhbmdlIiwiY2IiLCJwcmV2UHJvcHMiLCJnZXRUb29sYmFyUHJldmlld1Byb3BzIiwiRXJyb3IiLCJraW5kIiwiZmllbGRzIiwic2NoZW1hIiwidW5kZWZpbmVkIiwiZGl2IiwiY2xhc3NOYW1lIiwiYm9yZGVyIiwicGFkZGluZyIsInNpemUiLCJzcGFjZSIsIm1lZGl1bSIsInByZSIsImNvbnRlbnRFZGl0YWJsZSIsInVzZXJTZWxlY3QiLCJKU09OIiwic3RyaW5naWZ5IiwidG9vbGJhclByZXZpZXdQcm9wcyIsInJlbmRlcmVkQmxvY2siLCJvbkNoYW5nZSIsImNocm9tZWxlc3MiLCJwcmV2aWV3UHJvcHMiLCJlbGVtZW50UHJvcHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/component-blocks/index.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/component-blocks/initial-values.ts":
/*!**************************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/component-blocks/initial-values.ts ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getInitialPropsValue: () => (/* binding */ getInitialPropsValue),\n/* harmony export */   getInitialPropsValueFromInitializer: () => (/* binding */ getInitialPropsValueFromInitializer),\n/* harmony export */   getInitialValue: () => (/* binding */ getInitialValue),\n/* harmony export */   updateValue: () => (/* binding */ updateValue)\n/* harmony export */ });\n/* harmony import */ var _preview_props__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./preview-props */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/preview-props.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/utils.ts\");\n\n\nfunction getInitialValue(type, componentBlock) {\n    const props = getInitialPropsValue({\n        kind: 'object',\n        fields: componentBlock.schema\n    });\n    return {\n        type: 'component-block',\n        component: type,\n        props,\n        children: (0,_utils__WEBPACK_IMPORTED_MODULE_1__.findChildPropPaths)(props, componentBlock.schema).map((x)=>({\n                type: `component-${x.options.kind}-prop`,\n                propPath: x.path,\n                children: [\n                    x.options.kind === 'block' ? {\n                        type: 'paragraph',\n                        children: [\n                            {\n                                text: ''\n                            }\n                        ]\n                    } : {\n                        text: ''\n                    }\n                ]\n            }))\n    };\n}\nfunction getInitialPropsValue(schema) {\n    switch(schema.kind){\n        case 'form':\n            return schema.defaultValue;\n        case 'child':\n            return null;\n        case 'relationship':\n            return schema.many ? [] : null;\n        case 'conditional':\n            {\n                const defaultValue = schema.discriminant.defaultValue;\n                return {\n                    discriminant: defaultValue,\n                    value: getInitialPropsValue(schema.values[defaultValue.toString()])\n                };\n            }\n        case 'object':\n            {\n                const obj = {};\n                for (const key of Object.keys(schema.fields)){\n                    obj[key] = getInitialPropsValue(schema.fields[key]);\n                }\n                return obj;\n            }\n        case 'array':\n            return [];\n    }\n    (0,_utils__WEBPACK_IMPORTED_MODULE_1__.assertNever)(schema);\n}\nfunction getInitialPropsValueFromInitializer(schema, initializer) {\n    switch(schema.kind){\n        case 'form':\n            return initializer === undefined ? schema.defaultValue : initializer;\n        case 'child':\n            return null;\n        case 'relationship':\n            return initializer === undefined ? schema.many ? [] : null : initializer;\n        case 'conditional':\n            {\n                const defaultValue = initializer === undefined ? schema.discriminant.defaultValue : initializer.discriminant;\n                return {\n                    discriminant: defaultValue,\n                    value: getInitialPropsValueFromInitializer(schema.values[defaultValue.toString()], initializer === undefined ? undefined : initializer.value)\n                };\n            }\n        case 'object':\n            {\n                const obj = {};\n                for (const key of Object.keys(schema.fields)){\n                    obj[key] = getInitialPropsValueFromInitializer(schema.fields[key], initializer === undefined ? undefined : initializer[key]);\n                }\n                return obj;\n            }\n        case 'array':\n            {\n                return (initializer ?? []).map((x)=>getInitialPropsValueFromInitializer(schema.element, x.value));\n            }\n    }\n    (0,_utils__WEBPACK_IMPORTED_MODULE_1__.assertNever)(schema);\n}\nfunction updateValue(schema, currentValue, updater) {\n    if (updater === undefined) return currentValue;\n    switch(schema.kind){\n        case 'relationship':\n            return updater;\n        case 'form':\n            return updater;\n        case 'child':\n            return null;\n        case 'conditional':\n            {\n                return {\n                    discriminant: updater.discriminant,\n                    value: updater.discriminant === currentValue.discriminant ? updateValue(schema.values[updater.discriminant.toString()], currentValue.value, updater.value) : getInitialPropsValueFromInitializer(schema.values[updater.discriminant.toString()], updater.value)\n                };\n            }\n        case 'object':\n            {\n                const obj = {};\n                for (const key of Object.keys(schema.fields)){\n                    obj[key] = updateValue(schema.fields[key], currentValue[key], updater[key]);\n                }\n                return obj;\n            }\n        case 'array':\n            {\n                const currentArrVal = currentValue;\n                const newVal = updater;\n                const uniqueKeys = new Set();\n                for (const x of newVal){\n                    if (x.key !== undefined) {\n                        if (uniqueKeys.has(x.key)) {\n                            throw new Error('Array elements must have unique keys');\n                        }\n                        uniqueKeys.add(x.key);\n                    }\n                }\n                const keys = newVal.map((x)=>{\n                    if (x.key !== undefined) return x.key;\n                    let elementKey = (0,_preview_props__WEBPACK_IMPORTED_MODULE_0__.getNewArrayElementKey)();\n                    // just in case someone gives a key that is above our counter\n                    while(uniqueKeys.has(elementKey)){\n                        elementKey = (0,_preview_props__WEBPACK_IMPORTED_MODULE_0__.getNewArrayElementKey)();\n                    }\n                    uniqueKeys.add(elementKey);\n                    return elementKey;\n                });\n                const prevKeys = (0,_preview_props__WEBPACK_IMPORTED_MODULE_0__.getKeysForArrayValue)(currentArrVal);\n                const prevValuesByKey = new Map(currentArrVal.map((value, i)=>{\n                    return [\n                        prevKeys[i],\n                        value\n                    ];\n                }));\n                const val = newVal.map((x, i)=>{\n                    const id = keys[i];\n                    if (prevValuesByKey.has(id)) {\n                        return updateValue(schema.element, prevValuesByKey.get(id), x.value);\n                    }\n                    return getInitialPropsValueFromInitializer(schema.element, x.value);\n                });\n                (0,_preview_props__WEBPACK_IMPORTED_MODULE_0__.setKeysForArrayValue)(val, keys);\n                return val;\n            }\n    }\n    (0,_utils__WEBPACK_IMPORTED_MODULE_1__.assertNever)(schema);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL2luaXRpYWwtdmFsdWVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUNtRztBQUMxQztBQUVsRCxTQUFTSyxnQkFBZ0JDLElBQVksRUFBRUMsY0FBOEI7SUFDMUUsTUFBTUMsUUFBUUMscUJBQXFCO1FBQUVDLE1BQU07UUFBVUMsUUFBUUosZUFBZUssTUFBTTtJQUFDO0lBQ25GLE9BQU87UUFDTE4sTUFBTTtRQUNOTyxXQUFXUDtRQUNYRTtRQUNBTSxVQUFVViwwREFBa0JBLENBQUNJLE9BQU9ELGVBQWVLLE1BQU0sRUFBRUcsR0FBRyxDQUFDQyxDQUFBQSxJQUFNO2dCQUNuRVYsTUFBTSxDQUFDLFVBQVUsRUFBRVUsRUFBRUMsT0FBTyxDQUFDUCxJQUFJLENBQUMsS0FBSyxDQUFDO2dCQUN4Q1EsVUFBVUYsRUFBRUcsSUFBSTtnQkFDaEJMLFVBQVU7b0JBQ1JFLEVBQUVDLE9BQU8sQ0FBQ1AsSUFBSSxLQUFLLFVBQ2Y7d0JBQUVKLE1BQU07d0JBQXNCUSxVQUFVOzRCQUFDO2dDQUFFTSxNQUFNOzRCQUFHO3lCQUFFO29CQUFDLElBQ3ZEO3dCQUFFQSxNQUFNO29CQUFHO2lCQUNoQjtZQUNIO0lBQ0Y7QUFDRjtBQUVPLFNBQVNYLHFCQUFxQkcsTUFBdUI7SUFDMUQsT0FBUUEsT0FBT0YsSUFBSTtRQUNqQixLQUFLO1lBQ0gsT0FBT0UsT0FBT1MsWUFBWTtRQUM1QixLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPVCxPQUFPVSxJQUFJLEdBQUcsRUFBRSxHQUFHO1FBQzVCLEtBQUs7WUFBZTtnQkFDbEIsTUFBTUQsZUFBZVQsT0FBT1csWUFBWSxDQUFDRixZQUFZO2dCQUNyRCxPQUFPO29CQUNMRSxjQUFjRjtvQkFDZEcsT0FBT2YscUJBQXFCRyxPQUFPYSxNQUFNLENBQUNKLGFBQWFLLFFBQVEsR0FBRztnQkFDcEU7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QS9DLG1EQUFXQSxDQUFDUztBQUNkIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvY29tcG9uZW50LWJsb2Nrcy9pbml0aWFsLXZhbHVlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIENvbXBvbmVudFNjaGVtYSwgdHlwZSBDb21wb25lbnRCbG9jayB9IGZyb20gJy4vYXBpLXNoYXJlZCdcbmltcG9ydCB7IGdldEtleXNGb3JBcnJheVZhbHVlLCBnZXROZXdBcnJheUVsZW1lbnRLZXksIHNldEtleXNGb3JBcnJheVZhbHVlIH0gZnJvbSAnLi9wcmV2aWV3LXByb3BzJ1xuaW1wb3J0IHsgYXNzZXJ0TmV2ZXIsIGZpbmRDaGlsZFByb3BQYXRocyB9IGZyb20gJy4vdXRpbHMnXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbml0aWFsVmFsdWUodHlwZTogc3RyaW5nLCBjb21wb25lbnRCbG9jazogQ29tcG9uZW50QmxvY2spIHtcbiAgY29uc3QgcHJvcHMgPSBnZXRJbml0aWFsUHJvcHNWYWx1ZSh7IGtpbmQ6ICdvYmplY3QnLCBmaWVsZHM6IGNvbXBvbmVudEJsb2NrLnNjaGVtYSB9KVxuICByZXR1cm4ge1xuICAgIHR5cGU6ICdjb21wb25lbnQtYmxvY2snIGFzIGNvbnN0LFxuICAgIGNvbXBvbmVudDogdHlwZSxcbiAgICBwcm9wcyxcbiAgICBjaGlsZHJlbjogZmluZENoaWxkUHJvcFBhdGhzKHByb3BzLCBjb21wb25lbnRCbG9jay5zY2hlbWEpLm1hcCh4ID0+ICh7XG4gICAgICB0eXBlOiBgY29tcG9uZW50LSR7eC5vcHRpb25zLmtpbmR9LXByb3BgIGFzIGNvbnN0LFxuICAgICAgcHJvcFBhdGg6IHgucGF0aCxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIHgub3B0aW9ucy5raW5kID09PSAnYmxvY2snXG4gICAgICAgICAgPyB7IHR5cGU6ICdwYXJhZ3JhcGgnIGFzIGNvbnN0LCBjaGlsZHJlbjogW3sgdGV4dDogJycgfV0gfVxuICAgICAgICAgIDogeyB0ZXh0OiAnJyB9LFxuICAgICAgXSxcbiAgICB9KSksXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEluaXRpYWxQcm9wc1ZhbHVlKHNjaGVtYTogQ29tcG9uZW50U2NoZW1hKTogYW55IHtcbiAgc3dpdGNoIChzY2hlbWEua2luZCkge1xuICAgIGNhc2UgJ2Zvcm0nOlxuICAgICAgcmV0dXJuIHNjaGVtYS5kZWZhdWx0VmFsdWVcbiAgICBjYXNlICdjaGlsZCc6XG4gICAgICByZXR1cm4gbnVsbFxuICAgIGNhc2UgJ3JlbGF0aW9uc2hpcCc6XG4gICAgICByZXR1cm4gc2NoZW1hLm1hbnkgPyBbXSA6IG51bGxcbiAgICBjYXNlICdjb25kaXRpb25hbCc6IHtcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHNjaGVtYS5kaXNjcmltaW5hbnQuZGVmYXVsdFZhbHVlXG4gICAgICByZXR1cm4ge1xuICAgICAgICBkaXNjcmltaW5hbnQ6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgdmFsdWU6IGdldEluaXRpYWxQcm9wc1ZhbHVlKHNjaGVtYS52YWx1ZXNbZGVmYXVsdFZhbHVlLnRvU3RyaW5nKCldKSxcbiAgICAgIH1cbiAgICB9XG4gICAgY2FzZSAnb2JqZWN0Jzoge1xuICAgICAgY29uc3Qgb2JqOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge31cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHNjaGVtYS5maWVsZHMpKSB7XG4gICAgICAgIG9ialtrZXldID0gZ2V0SW5pdGlhbFByb3BzVmFsdWUoc2NoZW1hLmZpZWxkc1trZXldKVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialxuICAgIH1cbiAgICBjYXNlICdhcnJheSc6XG4gICAgICByZXR1cm4gW11cbiAgfVxuICBhc3NlcnROZXZlcihzY2hlbWEpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbml0aWFsUHJvcHNWYWx1ZUZyb21Jbml0aWFsaXplcihcbiAgc2NoZW1hOiBDb21wb25lbnRTY2hlbWEsXG4gIGluaXRpYWxpemVyOiBhbnlcbik6IGFueSB7XG4gIHN3aXRjaCAoc2NoZW1hLmtpbmQpIHtcbiAgICBjYXNlICdmb3JtJzpcbiAgICAgIHJldHVybiBpbml0aWFsaXplciA9PT0gdW5kZWZpbmVkID8gc2NoZW1hLmRlZmF1bHRWYWx1ZSA6IGluaXRpYWxpemVyXG4gICAgY2FzZSAnY2hpbGQnOlxuICAgICAgcmV0dXJuIG51bGxcbiAgICBjYXNlICdyZWxhdGlvbnNoaXAnOlxuICAgICAgcmV0dXJuIGluaXRpYWxpemVyID09PSB1bmRlZmluZWQgPyAoc2NoZW1hLm1hbnkgPyBbXSA6IG51bGwpIDogaW5pdGlhbGl6ZXJcbiAgICBjYXNlICdjb25kaXRpb25hbCc6IHtcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9XG4gICAgICAgIGluaXRpYWxpemVyID09PSB1bmRlZmluZWQgPyBzY2hlbWEuZGlzY3JpbWluYW50LmRlZmF1bHRWYWx1ZSA6IGluaXRpYWxpemVyLmRpc2NyaW1pbmFudFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGlzY3JpbWluYW50OiBkZWZhdWx0VmFsdWUsXG4gICAgICAgIHZhbHVlOiBnZXRJbml0aWFsUHJvcHNWYWx1ZUZyb21Jbml0aWFsaXplcihcbiAgICAgICAgICBzY2hlbWEudmFsdWVzW2RlZmF1bHRWYWx1ZS50b1N0cmluZygpXSxcbiAgICAgICAgICBpbml0aWFsaXplciA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogaW5pdGlhbGl6ZXIudmFsdWVcbiAgICAgICAgKSxcbiAgICAgIH1cbiAgICB9XG4gICAgY2FzZSAnb2JqZWN0Jzoge1xuICAgICAgY29uc3Qgb2JqOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge31cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHNjaGVtYS5maWVsZHMpKSB7XG4gICAgICAgIG9ialtrZXldID0gZ2V0SW5pdGlhbFByb3BzVmFsdWVGcm9tSW5pdGlhbGl6ZXIoXG4gICAgICAgICAgc2NoZW1hLmZpZWxkc1trZXldLFxuICAgICAgICAgIGluaXRpYWxpemVyID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBpbml0aWFsaXplcltrZXldXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmpcbiAgICB9XG4gICAgY2FzZSAnYXJyYXknOiB7XG4gICAgICByZXR1cm4gKChpbml0aWFsaXplciA/PyBbXSkgYXMgeyB2YWx1ZT86IHVua25vd24gfVtdKS5tYXAoeCA9PlxuICAgICAgICBnZXRJbml0aWFsUHJvcHNWYWx1ZUZyb21Jbml0aWFsaXplcihzY2hlbWEuZWxlbWVudCwgeC52YWx1ZSlcbiAgICAgIClcbiAgICB9XG4gIH1cbiAgYXNzZXJ0TmV2ZXIoc2NoZW1hKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVmFsdWUoc2NoZW1hOiBDb21wb25lbnRTY2hlbWEsIGN1cnJlbnRWYWx1ZTogYW55LCB1cGRhdGVyOiBhbnkpOiBhbnkge1xuICBpZiAodXBkYXRlciA9PT0gdW5kZWZpbmVkKSByZXR1cm4gY3VycmVudFZhbHVlXG5cbiAgc3dpdGNoIChzY2hlbWEua2luZCkge1xuICAgIGNhc2UgJ3JlbGF0aW9uc2hpcCc6XG4gICAgICByZXR1cm4gdXBkYXRlclxuICAgIGNhc2UgJ2Zvcm0nOlxuICAgICAgcmV0dXJuIHVwZGF0ZXJcbiAgICBjYXNlICdjaGlsZCc6XG4gICAgICByZXR1cm4gbnVsbFxuICAgIGNhc2UgJ2NvbmRpdGlvbmFsJzoge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGlzY3JpbWluYW50OiB1cGRhdGVyLmRpc2NyaW1pbmFudCxcbiAgICAgICAgdmFsdWU6XG4gICAgICAgICAgdXBkYXRlci5kaXNjcmltaW5hbnQgPT09IGN1cnJlbnRWYWx1ZS5kaXNjcmltaW5hbnRcbiAgICAgICAgICAgID8gdXBkYXRlVmFsdWUoXG4gICAgICAgICAgICAgICAgc2NoZW1hLnZhbHVlc1t1cGRhdGVyLmRpc2NyaW1pbmFudC50b1N0cmluZygpXSxcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUudmFsdWUsXG4gICAgICAgICAgICAgICAgdXBkYXRlci52YWx1ZVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IGdldEluaXRpYWxQcm9wc1ZhbHVlRnJvbUluaXRpYWxpemVyKFxuICAgICAgICAgICAgICAgIHNjaGVtYS52YWx1ZXNbdXBkYXRlci5kaXNjcmltaW5hbnQudG9TdHJpbmcoKV0sXG4gICAgICAgICAgICAgICAgdXBkYXRlci52YWx1ZVxuICAgICAgICAgICAgICApLFxuICAgICAgfVxuICAgIH1cbiAgICBjYXNlICdvYmplY3QnOiB7XG4gICAgICBjb25zdCBvYmo6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fVxuICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoc2NoZW1hLmZpZWxkcykpIHtcbiAgICAgICAgb2JqW2tleV0gPSB1cGRhdGVWYWx1ZShzY2hlbWEuZmllbGRzW2tleV0sIGN1cnJlbnRWYWx1ZVtrZXldLCB1cGRhdGVyW2tleV0pXG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqXG4gICAgfVxuICAgIGNhc2UgJ2FycmF5Jzoge1xuICAgICAgY29uc3QgY3VycmVudEFyclZhbCA9IGN1cnJlbnRWYWx1ZSBhcyB1bmtub3duW11cbiAgICAgIGNvbnN0IG5ld1ZhbCA9IHVwZGF0ZXIgYXMgeyBrZXk6IHN0cmluZyB8IHVuZGVmaW5lZDsgdmFsdWU6IHVua25vd24gfVtdXG4gICAgICBjb25zdCB1bmlxdWVLZXlzID0gbmV3IFNldCgpXG4gICAgICBmb3IgKGNvbnN0IHggb2YgbmV3VmFsKSB7XG4gICAgICAgIGlmICh4LmtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHVuaXF1ZUtleXMuaGFzKHgua2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcnJheSBlbGVtZW50cyBtdXN0IGhhdmUgdW5pcXVlIGtleXMnKVxuICAgICAgICAgIH1cbiAgICAgICAgICB1bmlxdWVLZXlzLmFkZCh4LmtleSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qga2V5cyA9IG5ld1ZhbC5tYXAoeCA9PiB7XG4gICAgICAgIGlmICh4LmtleSAhPT0gdW5kZWZpbmVkKSByZXR1cm4geC5rZXlcbiAgICAgICAgbGV0IGVsZW1lbnRLZXkgPSBnZXROZXdBcnJheUVsZW1lbnRLZXkoKVxuICAgICAgICAvLyBqdXN0IGluIGNhc2Ugc29tZW9uZSBnaXZlcyBhIGtleSB0aGF0IGlzIGFib3ZlIG91ciBjb3VudGVyXG4gICAgICAgIHdoaWxlICh1bmlxdWVLZXlzLmhhcyhlbGVtZW50S2V5KSkge1xuICAgICAgICAgIGVsZW1lbnRLZXkgPSBnZXROZXdBcnJheUVsZW1lbnRLZXkoKVxuICAgICAgICB9XG4gICAgICAgIHVuaXF1ZUtleXMuYWRkKGVsZW1lbnRLZXkpXG4gICAgICAgIHJldHVybiBlbGVtZW50S2V5XG4gICAgICB9KVxuICAgICAgY29uc3QgcHJldktleXMgPSBnZXRLZXlzRm9yQXJyYXlWYWx1ZShjdXJyZW50QXJyVmFsKVxuICAgICAgY29uc3QgcHJldlZhbHVlc0J5S2V5ID0gbmV3IE1hcChcbiAgICAgICAgY3VycmVudEFyclZhbC5tYXAoKHZhbHVlLCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFtwcmV2S2V5c1tpXSwgdmFsdWVdXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICBjb25zdCB2YWwgPSBuZXdWYWwubWFwKCh4LCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0ga2V5c1tpXVxuICAgICAgICBpZiAocHJldlZhbHVlc0J5S2V5LmhhcyhpZCkpIHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlVmFsdWUoc2NoZW1hLmVsZW1lbnQsIHByZXZWYWx1ZXNCeUtleS5nZXQoaWQpLCB4LnZhbHVlKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZXRJbml0aWFsUHJvcHNWYWx1ZUZyb21Jbml0aWFsaXplcihzY2hlbWEuZWxlbWVudCwgeC52YWx1ZSlcbiAgICAgIH0pXG4gICAgICBzZXRLZXlzRm9yQXJyYXlWYWx1ZSh2YWwsIGtleXMpXG4gICAgICByZXR1cm4gdmFsXG4gICAgfVxuICB9XG4gIGFzc2VydE5ldmVyKHNjaGVtYSlcbn1cbiJdLCJuYW1lcyI6WyJnZXRLZXlzRm9yQXJyYXlWYWx1ZSIsImdldE5ld0FycmF5RWxlbWVudEtleSIsInNldEtleXNGb3JBcnJheVZhbHVlIiwiYXNzZXJ0TmV2ZXIiLCJmaW5kQ2hpbGRQcm9wUGF0aHMiLCJnZXRJbml0aWFsVmFsdWUiLCJ0eXBlIiwiY29tcG9uZW50QmxvY2siLCJwcm9wcyIsImdldEluaXRpYWxQcm9wc1ZhbHVlIiwia2luZCIsImZpZWxkcyIsInNjaGVtYSIsImNvbXBvbmVudCIsImNoaWxkcmVuIiwibWFwIiwieCIsIm9wdGlvbnMiLCJwcm9wUGF0aCIsInBhdGgiLCJ0ZXh0IiwiZGVmYXVsdFZhbHVlIiwibWFueSIsImRpc2NyaW1pbmFudCIsInZhbHVlIiwidmFsdWVzIiwidG9TdHJpbmciLCJvYmoiLCJrZXkiLCJPYmplY3QiLCJrZXlzIiwiZ2V0SW5pdGlhbFByb3BzVmFsdWVGcm9tSW5pdGlhbGl6ZXIiLCJpbml0aWFsaXplciIsInVuZGVmaW5lZCIsImVsZW1lbnQiLCJ1cGRhdGVWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsInVwZGF0ZXIiLCJjdXJyZW50QXJyVmFsIiwibmV3VmFsIiwidW5pcXVlS2V5cyIsIlNldCIsImhhcyIsIkVycm9yIiwiYWRkIiwiZWxlbWVudEtleSIsInByZXZLZXlzIiwicHJldlZhbHVlc0J5S2V5IiwiTWFwIiwiaSIsInZhbCIsImlkIiwiZ2V0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/component-blocks/initial-values.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/component-blocks/preview-props.ts":
/*!*************************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/component-blocks/preview-props.ts ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGetPreviewProps: () => (/* binding */ createGetPreviewProps),\n/* harmony export */   getKeysForArrayValue: () => (/* binding */ getKeysForArrayValue),\n/* harmony export */   getNewArrayElementKey: () => (/* binding */ getNewArrayElementKey),\n/* harmony export */   setKeysForArrayValue: () => (/* binding */ setKeysForArrayValue)\n/* harmony export */ });\n/* harmony import */ var _initial_values__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./initial-values */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/initial-values.ts\");\n\nconst arrayValuesToElementKeys = new WeakMap();\nlet counter = 0;\nfunction getKeysForArrayValue(value) {\n    if (!arrayValuesToElementKeys.has(value)) {\n        arrayValuesToElementKeys.set(value, Array.from({\n            length: value.length\n        }, getNewArrayElementKey));\n    }\n    return arrayValuesToElementKeys.get(value);\n}\nfunction setKeysForArrayValue(value, elementIds) {\n    arrayValuesToElementKeys.set(value, elementIds);\n}\nfunction getNewArrayElementKey() {\n    return (counter++).toString();\n}\nfunction castToMemoizedInfoForSchema(val) {\n    return val;\n}\nfunction getOrInsert(map, key, val) {\n    if (!map.has(key)) map.set(key, val(key));\n    return map.get(key);\n}\nfunction createGetPreviewProps(rootSchema, rootOnChange, getChildFieldElement) {\n    const memoizedInfoForSchema = castToMemoizedInfoForSchema({\n        form (schema, onChange) {\n            return (newVal)=>onChange(()=>newVal);\n        },\n        array (schema, onChange) {\n            return {\n                rawOnChange: onChange,\n                inner: new Map(),\n                onChange (updater) {\n                    onChange((value)=>(0,_initial_values__WEBPACK_IMPORTED_MODULE_0__.updateValue)(schema, value, updater));\n                }\n            };\n        },\n        child () {},\n        conditional (schema, onChange) {\n            return {\n                onChange: (discriminant, value)=>onChange((v)=>(0,_initial_values__WEBPACK_IMPORTED_MODULE_0__.updateValue)(schema, v, {\n                            discriminant,\n                            value\n                        })),\n                onChangeForValue: (cb)=>onChange((v)=>({\n                            discriminant: v.discriminant,\n                            value: cb(v.value)\n                        }))\n            };\n        },\n        object (schema, onChange) {\n            return {\n                onChange: (updater)=>{\n                    onChange((value)=>(0,_initial_values__WEBPACK_IMPORTED_MODULE_0__.updateValue)(schema, value, updater));\n                },\n                innerOnChanges: Object.fromEntries(Object.keys(schema.fields).map((key)=>{\n                    return [\n                        key,\n                        (newVal)=>{\n                            onChange((v)=>({\n                                    ...v,\n                                    [key]: newVal(v[key])\n                                }));\n                        }\n                    ];\n                }))\n            };\n        },\n        relationship (schema, onChange) {\n            return (newVal)=>onChange(()=>newVal);\n        }\n    });\n    const previewPropsFactories = {\n        form (schema, value, onChange) {\n            return {\n                value: value,\n                onChange,\n                options: schema.options,\n                schema: schema\n            };\n        },\n        child (schema, value, onChange, path) {\n            return {\n                element: getChildFieldElement(path),\n                schema: schema\n            };\n        },\n        object (schema, value, memoized, path, getInnerProp) {\n            const fields = {};\n            for (const key of Object.keys(schema.fields)){\n                fields[key] = getInnerProp(schema.fields[key], value[key], memoized.innerOnChanges[key], key);\n            }\n            const previewProps = {\n                fields,\n                onChange: memoized.onChange,\n                schema: schema\n            };\n            return previewProps;\n        },\n        array (schema, value, memoized, path, getInnerProp) {\n            if (!Array.isArray(value)) throw new TypeError('Expected array');\n            const arrayValue = value;\n            const keys = getKeysForArrayValue(arrayValue);\n            const unusedKeys = new Set([\n                ...keys\n            ]);\n            const props = {\n                elements: arrayValue.map((val, i)=>{\n                    const key = keys[i];\n                    unusedKeys.delete(key);\n                    const element = getOrInsert(memoized.inner, key, ()=>{\n                        const onChange = (val)=>{\n                            memoized.rawOnChange((prev)=>{\n                                const keys = getKeysForArrayValue(prev);\n                                const index = keys.indexOf(key);\n                                const newValue = [\n                                    ...prev\n                                ];\n                                newValue[index] = val(newValue[index]);\n                                setKeysForArrayValue(newValue, keys);\n                                return newValue;\n                            });\n                        };\n                        const element = getInnerProp(schema.element, val, onChange, key);\n                        return {\n                            element,\n                            elementWithKey: {\n                                ...element,\n                                key\n                            },\n                            onChange\n                        };\n                    });\n                    const currentInnerProp = getInnerProp(schema.element, val, element.onChange, key);\n                    if (element.element !== currentInnerProp) {\n                        element.element = currentInnerProp;\n                        element.elementWithKey = {\n                            ...currentInnerProp,\n                            key\n                        };\n                    }\n                    return element.elementWithKey;\n                }),\n                schema: schema,\n                onChange: memoized.onChange\n            };\n            for (const key of unusedKeys){\n                memoized.inner.delete(key);\n            }\n            return props;\n        },\n        relationship (schema, value, onChange) {\n            const props = {\n                value: value,\n                onChange,\n                schema: schema\n            };\n            return props;\n        },\n        conditional (schema, value, memoized, path, getInnerProp) {\n            const props = {\n                discriminant: value.discriminant,\n                onChange: memoized.onChange,\n                options: schema.discriminant.options,\n                value: getInnerProp(schema.values[value.discriminant.toString()], value.value, memoized.onChangeForValue, 'value'),\n                schema: schema\n            };\n            return props;\n        }\n    };\n    function getPreviewPropsForProp(schema, value, memoedThing, path, getInnerProp) {\n        return previewPropsFactories[schema.kind](schema, value, memoedThing, path, getInnerProp);\n    }\n    function getInitialMemoState(schema, value, onChange, path) {\n        const innerState = new Map();\n        const memoizedInfo = memoizedInfoForSchema[schema.kind](schema, onChange);\n        const state = {\n            value,\n            inner: innerState,\n            props: getPreviewPropsForProp(schema, value, memoizedInfo, path, (schema, value, onChange, key)=>{\n                const state = getInitialMemoState(schema, value, onChange, path.concat(key));\n                innerState.set(key, state);\n                return state.props;\n            }),\n            schema: schema,\n            cached: memoizedInfo\n        };\n        return state;\n    }\n    function getUpToDateProps(schema, value, onChange, memoState, path) {\n        if (memoState.schema !== schema) {\n            Object.assign(memoState, getInitialMemoState(schema, value, onChange, path));\n            return memoState.props;\n        }\n        if (memoState.value === value) {\n            return memoState.props;\n        }\n        memoState.value = value;\n        const unusedKeys = new Set(memoState.inner.keys());\n        memoState.props = getPreviewPropsForProp(schema, value, memoState.cached, path, (schema, value, onChange, innerMemoStateKey)=>{\n            unusedKeys.delete(innerMemoStateKey);\n            if (!memoState.inner.has(innerMemoStateKey)) {\n                const innerState = getInitialMemoState(schema, value, onChange, path.concat(innerMemoStateKey));\n                memoState.inner.set(innerMemoStateKey, innerState);\n                return innerState.props;\n            }\n            return getUpToDateProps(schema, value, onChange, memoState.inner.get(innerMemoStateKey), path.concat(innerMemoStateKey));\n        });\n        for (const key of unusedKeys){\n            memoState.inner.delete(key);\n        }\n        return memoState.props;\n    }\n    let memoState;\n    return (value)=>{\n        if (memoState === undefined) {\n            memoState = getInitialMemoState(rootSchema, value, rootOnChange, []);\n            return memoState.props;\n        }\n        return getUpToDateProps(rootSchema, value, rootOnChange, memoState, []);\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL3ByZXZpZXctcHJvcHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFZOEM7QUFFOUMsTUFBTUMsMkJBQTJCLElBQUlDO0FBRXJDLElBQUlDLFVBQVU7QUFFUCxTQUFTQyxxQkFBcUJDLEtBQXlCO0lBQzVELElBQUksQ0FBQ0oseUJBQXlCSyxHQUFHLENBQUNELFFBQVE7UUFDeENKLHlCQUF5Qk0sR0FBRyxDQUFDRixPQUFPRyxNQUFNQyxJQUFJLENBQUM7WUFBRUMsUUFBUUwsTUFBTUssTUFBTTtRQUFDLEdBQUdDO0lBQzNFO0lBQ0EsT0FBT1YseUJBQXlCVyxHQUFHLENBQUNQO0FBQ3RDO0FBRU8sU0FBU1EscUJBQXFCUixLQUF5QixFQUFFUyxVQUE2QjtJQUMzRmIseUJBQXlCTSxHQUFHLENBQUNGLE9BQU9TO0FBQ3RDO0FBRU8sU0FBU0g7SUFDZCxPQUFPLENBQUNSLFNBQVEsRUFBR1ksUUFBUTtBQUM3QjtBQUVBLFNBQVNDLDRCQVdQQyxHQUFNO0lBQ04sT0FBT0E7QUFDVDtBQVFBLFNBQVNDLFlBQWtCQyxHQUFxQixFQUFFQyxHQUFNLEVBQUVILEdBQWtCO0lBQzFFLElBQUksQ0FBQ0UsSUFBSWIsR0FBRyxDQUFDYyxNQUFNRCxJQUFJWixHQUFHLENBQUNhLEtBQUtILElBQUlHO0lBQ3BDLE9BQU9ELElBQUlQLEdBQUcsQ0FBQ1E7QUFDakI7QUFFTyxTQUFTQyxzQkFDZEMsVUFBa0IsRUFDbEJDLFlBRVMsRUFDVEMsb0JBQW9FO0lBRXBFLE1BQU1DLHdCQUF3QlQsNEJBQTRCO1FBQ3hEVSxNQUFLQyxNQUFNLEVBQUVDLFFBQVE7WUFDbkIsT0FBTyxDQUFDQyxTQUFvQkQsU0FBUyxJQUFNQztRQUM3QztRQUNBQyxPQUFNSCxNQUFNLEVBQUVDLFFBQVE7WUFDcEIsT0FBTztnQkFDTEcsYUFBYUg7Z0JBQ2JJLE9BQU8sSUFBSUM7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LFVBQVVyQixLQUFLO0lBQ3hCO0lBVUEsSUFBSXFCO0lBRUosT0FBTyxDQUNMNUU7UUFFQSxJQUFJNEUsY0FBY0csV0FBVztZQUMzQkgsWUFBWVAsb0JBQW9CcEQsWUFBWWpCLE9BQU9rQixjQUFjLEVBQUU7WUFDbkUsT0FBTzBELFVBQVVyQixLQUFLO1FBQ3hCO1FBQ0EsT0FBT29CLGlCQUFpQjFELFlBQVlqQixPQUFPa0IsY0FBYzBELFdBQVcsRUFBRTtJQUN4RTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvY29tcG9uZW50LWJsb2Nrcy9wcmV2aWV3LXByb3BzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHtcbiAgQXJyYXlGaWVsZCxcbiAgQ29tcG9uZW50U2NoZW1hLFxuICBDb25kaXRpb25hbEZpZWxkLFxuICBWYWx1ZUZvckNvbXBvbmVudFNjaGVtYSxcbiAgRm9ybUZpZWxkLFxuICBGb3JtRmllbGRWYWx1ZSxcbiAgSHlkcmF0ZWRSZWxhdGlvbnNoaXBEYXRhLFxuICBPYmplY3RGaWVsZCxcbiAgUmVsYXRpb25zaGlwRmllbGQsXG4gIEdlbmVyaWNQcmV2aWV3UHJvcHMsXG59IGZyb20gJy4vYXBpLXNoYXJlZCdcbmltcG9ydCB7IHVwZGF0ZVZhbHVlIH0gZnJvbSAnLi9pbml0aWFsLXZhbHVlcydcblxuY29uc3QgYXJyYXlWYWx1ZXNUb0VsZW1lbnRLZXlzID0gbmV3IFdlYWtNYXA8cmVhZG9ubHkgdW5rbm93bltdLCByZWFkb25seSBzdHJpbmdbXT4oKVxuXG5sZXQgY291bnRlciA9IDBcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEtleXNGb3JBcnJheVZhbHVlKHZhbHVlOiByZWFkb25seSB1bmtub3duW10pIHtcbiAgaWYgKCFhcnJheVZhbHVlc1RvRWxlbWVudEtleXMuaGFzKHZhbHVlKSkge1xuICAgIGFycmF5VmFsdWVzVG9FbGVtZW50S2V5cy5zZXQodmFsdWUsIEFycmF5LmZyb20oeyBsZW5ndGg6IHZhbHVlLmxlbmd0aCB9LCBnZXROZXdBcnJheUVsZW1lbnRLZXkpKVxuICB9XG4gIHJldHVybiBhcnJheVZhbHVlc1RvRWxlbWVudEtleXMuZ2V0KHZhbHVlKSFcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEtleXNGb3JBcnJheVZhbHVlKHZhbHVlOiByZWFkb25seSB1bmtub3duW10sIGVsZW1lbnRJZHM6IHJlYWRvbmx5IHN0cmluZ1tdKSB7XG4gIGFycmF5VmFsdWVzVG9FbGVtZW50S2V5cy5zZXQodmFsdWUsIGVsZW1lbnRJZHMpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROZXdBcnJheUVsZW1lbnRLZXkoKSB7XG4gIHJldHVybiAoY291bnRlcisrKS50b1N0cmluZygpXG59XG5cbmZ1bmN0aW9uIGNhc3RUb01lbW9pemVkSW5mb0ZvclNjaGVtYTxcbiAgVCBleHRlbmRzIHtcbiAgICBbS2luZCBpbiBDb21wb25lbnRTY2hlbWFbJ2tpbmQnXV06IChcbiAgICAgIHNjaGVtYTogRXh0cmFjdDxDb21wb25lbnRTY2hlbWEsIHsga2luZDogS2luZCB9PixcbiAgICAgIG9uQ2hhbmdlOiAoXG4gICAgICAgIGNiOiAoXG4gICAgICAgICAgcHJldlZhbDogVmFsdWVGb3JDb21wb25lbnRTY2hlbWE8RXh0cmFjdDxDb21wb25lbnRTY2hlbWEsIHsga2luZDogS2luZCB9Pj5cbiAgICAgICAgKSA9PiBWYWx1ZUZvckNvbXBvbmVudFNjaGVtYTxFeHRyYWN0PENvbXBvbmVudFNjaGVtYSwgeyBraW5kOiBLaW5kIH0+PlxuICAgICAgKSA9PiB2b2lkXG4gICAgKSA9PiB1bmtub3duXG4gIH0sXG4+KHZhbDogVCk6IFQge1xuICByZXR1cm4gdmFsXG59XG5cbnR5cGUgR2VuZXJhbE1hcDxLLCBWPiA9IHtcbiAgaGFzKGtleTogSyk6IGJvb2xlYW5cbiAgZ2V0KGtleTogSyk6IFYgfCB1bmRlZmluZWRcbiAgc2V0KGtleTogSywgdmFsdWU6IFYpOiB2b2lkXG59XG5cbmZ1bmN0aW9uIGdldE9ySW5zZXJ0PEssIFY+KG1hcDogR2VuZXJhbE1hcDxLLCBWPiwga2V5OiBLLCB2YWw6IChrZXk6IEspID0+IFYpOiBWIHtcbiAgaWYgKCFtYXAuaGFzKGtleSkpIG1hcC5zZXQoa2V5LCB2YWwoa2V5KSlcbiAgcmV0dXJuIG1hcC5nZXQoa2V5KSFcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdldFByZXZpZXdQcm9wczxTY2hlbWEgZXh0ZW5kcyBDb21wb25lbnRTY2hlbWEsIENoaWxkRmllbGRFbGVtZW50PihcbiAgcm9vdFNjaGVtYTogU2NoZW1hLFxuICByb290T25DaGFuZ2U6IChcbiAgICBjYjogKHZhbDogVmFsdWVGb3JDb21wb25lbnRTY2hlbWE8U2NoZW1hPikgPT4gVmFsdWVGb3JDb21wb25lbnRTY2hlbWE8U2NoZW1hPlxuICApID0+IHZvaWQsXG4gIGdldENoaWxkRmllbGRFbGVtZW50OiAocGF0aDogcmVhZG9ubHkgc3RyaW5nW10pID0+IENoaWxkRmllbGRFbGVtZW50XG4pOiAodmFsdWU6IFZhbHVlRm9yQ29tcG9uZW50U2NoZW1hPFNjaGVtYT4pID0+IEdlbmVyaWNQcmV2aWV3UHJvcHM8U2NoZW1hLCBDaGlsZEZpZWxkRWxlbWVudD4ge1xuICBjb25zdCBtZW1vaXplZEluZm9Gb3JTY2hlbWEgPSBjYXN0VG9NZW1vaXplZEluZm9Gb3JTY2hlbWEoe1xuICAgIGZvcm0oc2NoZW1hLCBvbkNoYW5nZSkge1xuICAgICAgcmV0dXJuIChuZXdWYWw6IHVua25vd24pID0+IG9uQ2hhbmdlKCgpID0+IG5ld1ZhbClcbiAgICB9LFxuICAgIGFycmF5KHNjaGVtYSwgb25DaGFuZ2UpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJhd09uQ2hhbmdlOiBvbkNoYW5nZSxcbiAgICAgICAgaW5uZXI6IG5ldyBNYXA8XG4gICAgICAgICAgc3RyaW5nLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG9uQ2hhbmdlOiAoY2I6ICh2YWw6IHVua25vd24pID0+IHVua25vd24pID0+IHZvaWRcbiAgICAgICAgICAgIGVsZW1lbnRXaXRoS2V5OiB7IGtleTogc3RyaW5nIH0gJiBHZW5lcmljUHJldmlld1Byb3BzPFxuICAgICAgICAgICAgICBDb21wb25lbnRTY2hlbWEsXG4gICAgICAgICAgICAgIENoaWxkRmllbGRFbGVtZW50XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICBlbGVtZW50OiBHZW5lcmljUHJldmlld1Byb3BzPENvbXBvbmVudFNjaGVtYSwgQ2hpbGRGaWVsZEVsZW1lbnQ+XG4gICAgICAgICAgfVxuICAgICAgICA+KCksXG4gICAgICAgIG9uQ2hhbmdlKHVwZGF0ZXI6IHJlYWRvbmx5IHsga2V5OiBzdHJpbmcgfCB1bmRlZmluZWQ7IHZhbHVlPzogdW5rbm93biB9W10pIHtcbiAgICAgICAgICBvbkNoYW5nZSh2YWx1ZSA9PiB1cGRhdGVWYWx1ZShzY2hlbWEsIHZhbHVlLCB1cGRhdGVyKSlcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9LFxuICAgIGNoaWxkKCkge30sXG4gICAgY29uZGl0aW9uYWwoc2NoZW1hLCBvbkNoYW5nZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb25DaGFuZ2U6IChkaXNjcmltaW5hbnQ6IHN0cmluZyB8IGJvb2xlYW4sIHZhbHVlPzogdW5rbm93bikgPT5cbiAgICAgICAgICBvbkNoYW5nZSh2ID0+IHVwZGF0ZVZhbHVlKHNjaGVtYSwgdiwgeyBkaXNjcmltaW5hbnQsIHZhbHVlIH0pKSxcbiAgICAgICAgb25DaGFuZ2VGb3JWYWx1ZTogKGNiOiAocHJldlZhbDogdW5rbm93bikgPT4gdW5rbm93bikgPT5cbiAgICAgICAgICBvbkNoYW5nZSh2ID0+ICh7IGRpc2NyaW1pbmFudDogdi5kaXNjcmltaW5hbnQsIHZhbHVlOiBjYih2LnZhbHVlKSB9KSksXG4gICAgICB9XG4gICAgfSxcbiAgICBvYmplY3Qoc2NoZW1hLCBvbkNoYW5nZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb25DaGFuZ2U6ICh1cGRhdGVyOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4ge1xuICAgICAgICAgIG9uQ2hhbmdlKHZhbHVlID0+IHVwZGF0ZVZhbHVlKHNjaGVtYSwgdmFsdWUsIHVwZGF0ZXIpKVxuICAgICAgICB9LFxuICAgICAgICBpbm5lck9uQ2hhbmdlczogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgIE9iamVjdC5rZXlzKHNjaGVtYS5maWVsZHMpLm1hcChrZXkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAobmV3VmFsOiAocHJldlZhbDogdW5rbm93bikgPT4gdW5rbm93bikgPT4ge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHYgPT4gKHsgLi4udiwgW2tleV06IG5ld1ZhbCh2W2tleV0pIH0pKVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0pXG4gICAgICAgICksXG4gICAgICB9XG4gICAgfSxcbiAgICByZWxhdGlvbnNoaXAoc2NoZW1hLCBvbkNoYW5nZSkge1xuICAgICAgcmV0dXJuIChuZXdWYWw6IEh5ZHJhdGVkUmVsYXRpb25zaGlwRGF0YSB8IHJlYWRvbmx5IEh5ZHJhdGVkUmVsYXRpb25zaGlwRGF0YVtdIHwgbnVsbCkgPT5cbiAgICAgICAgb25DaGFuZ2UoKCkgPT4gbmV3VmFsKVxuICAgIH0sXG4gIH0pXG5cbiAgY29uc3QgcHJldmlld1Byb3BzRmFjdG9yaWVzOiB7XG4gICAgW0tpbmQgaW4gQ29tcG9uZW50U2NoZW1hWydraW5kJ11dOiAoXG4gICAgICBzY2hlbWE6IEV4dHJhY3Q8Q29tcG9uZW50U2NoZW1hLCB7IGtpbmQ6IEtpbmQgfT4sXG4gICAgICB2YWx1ZTogVmFsdWVGb3JDb21wb25lbnRTY2hlbWE8RXh0cmFjdDxDb21wb25lbnRTY2hlbWEsIHsga2luZDogS2luZCB9Pj4sXG4gICAgICBtZW1vaXplZDogUmV0dXJuVHlwZTwodHlwZW9mIG1lbW9pemVkSW5mb0ZvclNjaGVtYSlbS2luZF0+LFxuICAgICAgcGF0aDogcmVhZG9ubHkgc3RyaW5nW10sXG4gICAgICBnZXRJbm5lclByb3A6IDxGaWVsZCBleHRlbmRzIENvbXBvbmVudFNjaGVtYT4oXG4gICAgICAgIHNjaGVtYTogRmllbGQsXG4gICAgICAgIHZhbHVlOiBWYWx1ZUZvckNvbXBvbmVudFNjaGVtYTxGaWVsZD4sXG4gICAgICAgIG9uQ2hhbmdlOiAoXG4gICAgICAgICAgY2I6IChwcmV2VmFsOiBWYWx1ZUZvckNvbXBvbmVudFNjaGVtYTxGaWVsZD4pID0+IFZhbHVlRm9yQ29tcG9uZW50U2NoZW1hPEZpZWxkPlxuICAgICAgICApID0+IHZvaWQsXG4gICAgICAgIGtleTogc3RyaW5nXG4gICAgICApID0+IEdlbmVyaWNQcmV2aWV3UHJvcHM8RmllbGQsIENoaWxkRmllbGRFbGVtZW50PlxuICAgICkgPT4gR2VuZXJpY1ByZXZpZXdQcm9wczxFeHRyYWN0PENvbXBvbmVudFNjaGVtYSwgeyBraW5kOiBLaW5kIH0+LCBDaGlsZEZpZWxkRWxlbWVudD5cbiAgfSA9IHtcbiAgICBmb3JtKHNjaGVtYSwgdmFsdWUsIG9uQ2hhbmdlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdmFsdWUgYXMgRm9ybUZpZWxkVmFsdWUsXG4gICAgICAgIG9uQ2hhbmdlLFxuICAgICAgICBvcHRpb25zOiBzY2hlbWEub3B0aW9ucyxcbiAgICAgICAgc2NoZW1hOiBzY2hlbWEsXG4gICAgICB9XG4gICAgfSxcbiAgICBjaGlsZChzY2hlbWEsIHZhbHVlLCBvbkNoYW5nZSwgcGF0aCkge1xuICAgICAgcmV0dXJuIHsgZWxlbWVudDogZ2V0Q2hpbGRGaWVsZEVsZW1lbnQocGF0aCksIHNjaGVtYTogc2NoZW1hIH1cbiAgICB9LFxuICAgIG9iamVjdChzY2hlbWEsIHZhbHVlLCBtZW1vaXplZCwgcGF0aCwgZ2V0SW5uZXJQcm9wKSB7XG4gICAgICBjb25zdCBmaWVsZHM6IFJlY29yZDxzdHJpbmcsIEdlbmVyaWNQcmV2aWV3UHJvcHM8Q29tcG9uZW50U2NoZW1hLCBDaGlsZEZpZWxkRWxlbWVudD4+ID0ge31cblxuICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoc2NoZW1hLmZpZWxkcykpIHtcbiAgICAgICAgZmllbGRzW2tleV0gPSBnZXRJbm5lclByb3AoXG4gICAgICAgICAgc2NoZW1hLmZpZWxkc1trZXldLFxuICAgICAgICAgIHZhbHVlW2tleV0sXG4gICAgICAgICAgbWVtb2l6ZWQuaW5uZXJPbkNoYW5nZXNba2V5XSxcbiAgICAgICAgICBrZXlcbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBwcmV2aWV3UHJvcHM6IEdlbmVyaWNQcmV2aWV3UHJvcHM8XG4gICAgICAgIE9iamVjdEZpZWxkPFJlY29yZDxzdHJpbmcsIENvbXBvbmVudFNjaGVtYT4+LFxuICAgICAgICBDaGlsZEZpZWxkRWxlbWVudFxuICAgICAgPiA9IHtcbiAgICAgICAgZmllbGRzLFxuICAgICAgICBvbkNoYW5nZTogbWVtb2l6ZWQub25DaGFuZ2UsXG4gICAgICAgIHNjaGVtYTogc2NoZW1hLFxuICAgICAgfVxuICAgICAgcmV0dXJuIHByZXZpZXdQcm9wc1xuICAgIH0sXG4gICAgYXJyYXkoc2NoZW1hLCB2YWx1ZSwgbWVtb2l6ZWQsIHBhdGgsIGdldElubmVyUHJvcCkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYXJyYXknKVxuICAgICAgY29uc3QgYXJyYXlWYWx1ZSA9IHZhbHVlIGFzIHJlYWRvbmx5IHVua25vd25bXVxuICAgICAgY29uc3Qga2V5cyA9IGdldEtleXNGb3JBcnJheVZhbHVlKGFycmF5VmFsdWUpXG4gICAgICBjb25zdCB1bnVzZWRLZXlzID0gbmV3IFNldChbLi4ua2V5c10pXG5cbiAgICAgIGNvbnN0IHByb3BzOiBHZW5lcmljUHJldmlld1Byb3BzPEFycmF5RmllbGQ8Q29tcG9uZW50U2NoZW1hPiwgQ2hpbGRGaWVsZEVsZW1lbnQ+ID0ge1xuICAgICAgICBlbGVtZW50czogYXJyYXlWYWx1ZS5tYXAoKHZhbCwgaSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV1cbiAgICAgICAgICB1bnVzZWRLZXlzLmRlbGV0ZShrZXkpXG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldE9ySW5zZXJ0KG1lbW9pemVkLmlubmVyLCBrZXksICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9uQ2hhbmdlID0gKHZhbDogKHZhbDogdW5rbm93bikgPT4gdW5rbm93bikgPT4ge1xuICAgICAgICAgICAgICBtZW1vaXplZC5yYXdPbkNoYW5nZShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlzID0gZ2V0S2V5c0ZvckFycmF5VmFsdWUocHJldiBhcyByZWFkb25seSB1bmtub3duW10pXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBrZXlzLmluZGV4T2Yoa2V5KVxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gWy4uLihwcmV2IGFzIHJlYWRvbmx5IHVua25vd25bXSldXG4gICAgICAgICAgICAgICAgbmV3VmFsdWVbaW5kZXhdID0gdmFsKG5ld1ZhbHVlW2luZGV4XSlcbiAgICAgICAgICAgICAgICBzZXRLZXlzRm9yQXJyYXlWYWx1ZShuZXdWYWx1ZSwga2V5cylcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3VmFsdWVcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRJbm5lclByb3Aoc2NoZW1hLmVsZW1lbnQsIHZhbCwgb25DaGFuZ2UsIGtleSlcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICAgIGVsZW1lbnRXaXRoS2V5OiB7XG4gICAgICAgICAgICAgICAgLi4uZWxlbWVudCxcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG9uQ2hhbmdlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgY29uc3QgY3VycmVudElubmVyUHJvcCA9IGdldElubmVyUHJvcChzY2hlbWEuZWxlbWVudCwgdmFsLCBlbGVtZW50Lm9uQ2hhbmdlLCBrZXkpXG4gICAgICAgICAgaWYgKGVsZW1lbnQuZWxlbWVudCAhPT0gY3VycmVudElubmVyUHJvcCkge1xuICAgICAgICAgICAgZWxlbWVudC5lbGVtZW50ID0gY3VycmVudElubmVyUHJvcFxuICAgICAgICAgICAgZWxlbWVudC5lbGVtZW50V2l0aEtleSA9IHtcbiAgICAgICAgICAgICAgLi4uY3VycmVudElubmVyUHJvcCxcbiAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5lbGVtZW50V2l0aEtleVxuICAgICAgICB9KSxcbiAgICAgICAgc2NoZW1hOiBzY2hlbWEsXG4gICAgICAgIG9uQ2hhbmdlOiBtZW1vaXplZC5vbkNoYW5nZSxcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIHVudXNlZEtleXMpIHtcbiAgICAgICAgbWVtb2l6ZWQuaW5uZXIuZGVsZXRlKGtleSlcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wc1xuICAgIH0sXG4gICAgcmVsYXRpb25zaGlwKHNjaGVtYSwgdmFsdWUsIG9uQ2hhbmdlKSB7XG4gICAgICBjb25zdCBwcm9wczogR2VuZXJpY1ByZXZpZXdQcm9wczxSZWxhdGlvbnNoaXBGaWVsZDxib29sZWFuPiwgQ2hpbGRGaWVsZEVsZW1lbnQ+ID0ge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIG9uQ2hhbmdlLFxuICAgICAgICBzY2hlbWE6IHNjaGVtYSxcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wc1xuICAgIH0sXG4gICAgY29uZGl0aW9uYWwoc2NoZW1hLCB2YWx1ZSwgbWVtb2l6ZWQsIHBhdGgsIGdldElubmVyUHJvcCkge1xuICAgICAgY29uc3QgcHJvcHM6IEdlbmVyaWNQcmV2aWV3UHJvcHM8XG4gICAgICAgIENvbmRpdGlvbmFsRmllbGQ8Rm9ybUZpZWxkPHN0cmluZyB8IGJvb2xlYW4sIHVua25vd24+LCB7IFtrZXk6IHN0cmluZ106IENvbXBvbmVudFNjaGVtYSB9PixcbiAgICAgICAgQ2hpbGRGaWVsZEVsZW1lbnRcbiAgICAgID4gPSB7XG4gICAgICAgIGRpc2NyaW1pbmFudDogdmFsdWUuZGlzY3JpbWluYW50IGFzIGFueSxcbiAgICAgICAgb25DaGFuZ2U6IG1lbW9pemVkLm9uQ2hhbmdlLFxuICAgICAgICBvcHRpb25zOiBzY2hlbWEuZGlzY3JpbWluYW50Lm9wdGlvbnMsXG4gICAgICAgIHZhbHVlOiBnZXRJbm5lclByb3AoXG4gICAgICAgICAgc2NoZW1hLnZhbHVlc1t2YWx1ZS5kaXNjcmltaW5hbnQudG9TdHJpbmcoKV0sXG4gICAgICAgICAgdmFsdWUudmFsdWUsXG4gICAgICAgICAgbWVtb2l6ZWQub25DaGFuZ2VGb3JWYWx1ZSxcbiAgICAgICAgICAndmFsdWUnXG4gICAgICAgICksXG4gICAgICAgIHNjaGVtYTogc2NoZW1hLFxuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BzXG4gICAgfSxcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFByZXZpZXdQcm9wc0ZvclByb3A8U2NoZW1hIGV4dGVuZHMgQ29tcG9uZW50U2NoZW1hPihcbiAgICBzY2hlbWE6IFNjaGVtYSxcbiAgICB2YWx1ZTogdW5rbm93bixcbiAgICBtZW1vZWRUaGluZzogeyBfX21lbW9pemVkVGhpbmc6IHRydWUgfSxcbiAgICBwYXRoOiByZWFkb25seSBzdHJpbmdbXSxcbiAgICBnZXRJbm5lclByb3A6IDxGaWVsZCBleHRlbmRzIENvbXBvbmVudFNjaGVtYT4oXG4gICAgICBzY2hlbWE6IEZpZWxkLFxuICAgICAgdmFsdWU6IFZhbHVlRm9yQ29tcG9uZW50U2NoZW1hPEZpZWxkPixcbiAgICAgIG9uQ2hhbmdlOiAoXG4gICAgICAgIGNiOiAocHJldlZhbDogVmFsdWVGb3JDb21wb25lbnRTY2hlbWE8RmllbGQ+KSA9PiBWYWx1ZUZvckNvbXBvbmVudFNjaGVtYTxGaWVsZD5cbiAgICAgICkgPT4gdm9pZCxcbiAgICAgIGtleTogc3RyaW5nXG4gICAgKSA9PiBHZW5lcmljUHJldmlld1Byb3BzPEZpZWxkLCBDaGlsZEZpZWxkRWxlbWVudD5cbiAgKTogR2VuZXJpY1ByZXZpZXdQcm9wczxTY2hlbWEsIENoaWxkRmllbGRFbGVtZW50PiB7XG4gICAgcmV0dXJuIHByZXZpZXdQcm9wc0ZhY3Rvcmllc1tzY2hlbWEua2luZF0oXG4gICAgICBzY2hlbWEgYXMgYW55LFxuICAgICAgdmFsdWUsXG4gICAgICBtZW1vZWRUaGluZyBhcyBhbnksXG4gICAgICBwYXRoLFxuICAgICAgZ2V0SW5uZXJQcm9wXG4gICAgKSBhcyBhbnlcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEluaXRpYWxNZW1vU3RhdGU8U2NoZW1hIGV4dGVuZHMgQ29tcG9uZW50U2NoZW1hPihcbiAgICBzY2hlbWE6IFNjaGVtYSxcbiAgICB2YWx1ZTogVmFsdWVGb3JDb21wb25lbnRTY2hlbWE8U2NoZW1hPixcbiAgICBvbkNoYW5nZTogKFxuICAgICAgY2I6ICh2YWw6IFZhbHVlRm9yQ29tcG9uZW50U2NoZW1hPFNjaGVtYT4pID0+IFZhbHVlRm9yQ29tcG9uZW50U2NoZW1hPFNjaGVtYT5cbiAgICApID0+IHZvaWQsXG4gICAgcGF0aDogcmVhZG9ubHkgc3RyaW5nW11cbiAgKTogTWVtb1N0YXRlPFNjaGVtYT4ge1xuICAgIGNvbnN0IGlubmVyU3RhdGUgPSBuZXcgTWFwPHN0cmluZywgTWVtb1N0YXRlPENvbXBvbmVudFNjaGVtYT4+KClcbiAgICBjb25zdCBtZW1vaXplZEluZm8gPSAoXG4gICAgICBtZW1vaXplZEluZm9Gb3JTY2hlbWFbc2NoZW1hLmtpbmRdIGFzIChcbiAgICAgICAgc2NoZW1hOiBDb21wb25lbnRTY2hlbWEsXG4gICAgICAgIG9uQ2hhbmdlOiAoXG4gICAgICAgICAgY2I6ICh2YWw6IFZhbHVlRm9yQ29tcG9uZW50U2NoZW1hPFNjaGVtYT4pID0+IFZhbHVlRm9yQ29tcG9uZW50U2NoZW1hPFNjaGVtYT5cbiAgICAgICAgKSA9PiB2b2lkXG4gICAgICApID0+IGFueVxuICAgICkoc2NoZW1hLCBvbkNoYW5nZSlcbiAgICBjb25zdCBzdGF0ZTogTWVtb1N0YXRlPENvbXBvbmVudFNjaGVtYT4gPSB7XG4gICAgICB2YWx1ZSxcbiAgICAgIGlubmVyOiBpbm5lclN0YXRlLFxuICAgICAgcHJvcHM6IGdldFByZXZpZXdQcm9wc0ZvclByb3AoXG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG1lbW9pemVkSW5mbyxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgKHNjaGVtYSwgdmFsdWUsIG9uQ2hhbmdlLCBrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCBzdGF0ZSA9IGdldEluaXRpYWxNZW1vU3RhdGUoc2NoZW1hLCB2YWx1ZSwgb25DaGFuZ2UsIHBhdGguY29uY2F0KGtleSkpXG4gICAgICAgICAgaW5uZXJTdGF0ZS5zZXQoa2V5LCBzdGF0ZSlcbiAgICAgICAgICByZXR1cm4gc3RhdGUucHJvcHNcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIHNjaGVtYTogc2NoZW1hLFxuICAgICAgY2FjaGVkOiBtZW1vaXplZEluZm8sXG4gICAgfVxuICAgIHJldHVybiBzdGF0ZSBhcyBNZW1vU3RhdGU8U2NoZW1hPlxuICB9XG4gIGZ1bmN0aW9uIGdldFVwVG9EYXRlUHJvcHM8U2NoZW1hIGV4dGVuZHMgQ29tcG9uZW50U2NoZW1hPihcbiAgICBzY2hlbWE6IFNjaGVtYSxcbiAgICB2YWx1ZTogVmFsdWVGb3JDb21wb25lbnRTY2hlbWE8U2NoZW1hPixcbiAgICBvbkNoYW5nZTogKFxuICAgICAgY2I6ICh2YWw6IFZhbHVlRm9yQ29tcG9uZW50U2NoZW1hPFNjaGVtYT4pID0+IFZhbHVlRm9yQ29tcG9uZW50U2NoZW1hPFNjaGVtYT5cbiAgICApID0+IHZvaWQsXG4gICAgbWVtb1N0YXRlOiBNZW1vU3RhdGU8U2NoZW1hPixcbiAgICBwYXRoOiByZWFkb25seSBzdHJpbmdbXVxuICApOiBHZW5lcmljUHJldmlld1Byb3BzPFNjaGVtYSwgQ2hpbGRGaWVsZEVsZW1lbnQ+IHtcbiAgICBpZiAobWVtb1N0YXRlLnNjaGVtYSAhPT0gc2NoZW1hKSB7XG4gICAgICBPYmplY3QuYXNzaWduKG1lbW9TdGF0ZSwgZ2V0SW5pdGlhbE1lbW9TdGF0ZShzY2hlbWEsIHZhbHVlLCBvbkNoYW5nZSwgcGF0aCkpXG4gICAgICByZXR1cm4gbWVtb1N0YXRlLnByb3BzXG4gICAgfVxuICAgIGlmIChtZW1vU3RhdGUudmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gbWVtb1N0YXRlLnByb3BzXG4gICAgfVxuICAgIG1lbW9TdGF0ZS52YWx1ZSA9IHZhbHVlXG4gICAgY29uc3QgdW51c2VkS2V5cyA9IG5ldyBTZXQobWVtb1N0YXRlLmlubmVyLmtleXMoKSlcbiAgICBtZW1vU3RhdGUucHJvcHMgPSBnZXRQcmV2aWV3UHJvcHNGb3JQcm9wKFxuICAgICAgc2NoZW1hLFxuICAgICAgdmFsdWUsXG4gICAgICBtZW1vU3RhdGUuY2FjaGVkIGFzIGFueSxcbiAgICAgIHBhdGgsXG4gICAgICAoc2NoZW1hLCB2YWx1ZSwgb25DaGFuZ2UsIGlubmVyTWVtb1N0YXRlS2V5KSA9PiB7XG4gICAgICAgIHVudXNlZEtleXMuZGVsZXRlKGlubmVyTWVtb1N0YXRlS2V5KVxuICAgICAgICBpZiAoIW1lbW9TdGF0ZS5pbm5lci5oYXMoaW5uZXJNZW1vU3RhdGVLZXkpKSB7XG4gICAgICAgICAgY29uc3QgaW5uZXJTdGF0ZSA9IGdldEluaXRpYWxNZW1vU3RhdGUoXG4gICAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG9uQ2hhbmdlLFxuICAgICAgICAgICAgcGF0aC5jb25jYXQoaW5uZXJNZW1vU3RhdGVLZXkpXG4gICAgICAgICAgKVxuICAgICAgICAgIG1lbW9TdGF0ZS5pbm5lci5zZXQoaW5uZXJNZW1vU3RhdGVLZXksIGlubmVyU3RhdGUpXG4gICAgICAgICAgcmV0dXJuIGlubmVyU3RhdGUucHJvcHNcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0VXBUb0RhdGVQcm9wczx0eXBlb2Ygc2NoZW1hPihcbiAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgb25DaGFuZ2UsXG4gICAgICAgICAgbWVtb1N0YXRlLmlubmVyLmdldChpbm5lck1lbW9TdGF0ZUtleSkgYXMgTWVtb1N0YXRlPHR5cGVvZiBzY2hlbWE+LFxuICAgICAgICAgIHBhdGguY29uY2F0KGlubmVyTWVtb1N0YXRlS2V5KVxuICAgICAgICApXG4gICAgICB9XG4gICAgKVxuICAgIGZvciAoY29uc3Qga2V5IG9mIHVudXNlZEtleXMpIHtcbiAgICAgIG1lbW9TdGF0ZS5pbm5lci5kZWxldGUoa2V5KVxuICAgIH1cbiAgICByZXR1cm4gbWVtb1N0YXRlLnByb3BzXG4gIH1cblxuICB0eXBlIE1lbW9TdGF0ZTxTY2hlbWEgZXh0ZW5kcyBDb21wb25lbnRTY2hlbWE+ID0ge1xuICAgIHByb3BzOiBHZW5lcmljUHJldmlld1Byb3BzPFNjaGVtYSwgQ2hpbGRGaWVsZEVsZW1lbnQ+XG4gICAgdmFsdWU6IHVua25vd25cbiAgICBzY2hlbWE6IFNjaGVtYVxuICAgIGNhY2hlZDogUmV0dXJuVHlwZTwodHlwZW9mIG1lbW9pemVkSW5mb0ZvclNjaGVtYSlbU2NoZW1hWydraW5kJ11dPlxuICAgIGlubmVyOiBNYXA8c3RyaW5nLCBNZW1vU3RhdGU8Q29tcG9uZW50U2NoZW1hPj5cbiAgfVxuXG4gIGxldCBtZW1vU3RhdGU6IE1lbW9TdGF0ZTxTY2hlbWE+XG5cbiAgcmV0dXJuIChcbiAgICB2YWx1ZTogVmFsdWVGb3JDb21wb25lbnRTY2hlbWE8U2NoZW1hPlxuICApOiBHZW5lcmljUHJldmlld1Byb3BzPFNjaGVtYSwgQ2hpbGRGaWVsZEVsZW1lbnQ+ID0+IHtcbiAgICBpZiAobWVtb1N0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG1lbW9TdGF0ZSA9IGdldEluaXRpYWxNZW1vU3RhdGUocm9vdFNjaGVtYSwgdmFsdWUsIHJvb3RPbkNoYW5nZSwgW10pXG4gICAgICByZXR1cm4gbWVtb1N0YXRlLnByb3BzXG4gICAgfVxuICAgIHJldHVybiBnZXRVcFRvRGF0ZVByb3BzKHJvb3RTY2hlbWEsIHZhbHVlLCByb290T25DaGFuZ2UsIG1lbW9TdGF0ZSwgW10pXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJ1cGRhdGVWYWx1ZSIsImFycmF5VmFsdWVzVG9FbGVtZW50S2V5cyIsIldlYWtNYXAiLCJjb3VudGVyIiwiZ2V0S2V5c0ZvckFycmF5VmFsdWUiLCJ2YWx1ZSIsImhhcyIsInNldCIsIkFycmF5IiwiZnJvbSIsImxlbmd0aCIsImdldE5ld0FycmF5RWxlbWVudEtleSIsImdldCIsInNldEtleXNGb3JBcnJheVZhbHVlIiwiZWxlbWVudElkcyIsInRvU3RyaW5nIiwiY2FzdFRvTWVtb2l6ZWRJbmZvRm9yU2NoZW1hIiwidmFsIiwiZ2V0T3JJbnNlcnQiLCJtYXAiLCJrZXkiLCJjcmVhdGVHZXRQcmV2aWV3UHJvcHMiLCJyb290U2NoZW1hIiwicm9vdE9uQ2hhbmdlIiwiZ2V0Q2hpbGRGaWVsZEVsZW1lbnQiLCJtZW1vaXplZEluZm9Gb3JTY2hlbWEiLCJmb3JtIiwic2NoZW1hIiwib25DaGFuZ2UiLCJuZXdWYWwiLCJhcnJheSIsInJhd09uQ2hhbmdlIiwiaW5uZXIiLCJNYXAiLCJ1cGRhdGVyIiwiY2hpbGQiLCJjb25kaXRpb25hbCIsImRpc2NyaW1pbmFudCIsInYiLCJvbkNoYW5nZUZvclZhbHVlIiwiY2IiLCJvYmplY3QiLCJpbm5lck9uQ2hhbmdlcyIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwia2V5cyIsImZpZWxkcyIsInJlbGF0aW9uc2hpcCIsInByZXZpZXdQcm9wc0ZhY3RvcmllcyIsIm9wdGlvbnMiLCJwYXRoIiwiZWxlbWVudCIsIm1lbW9pemVkIiwiZ2V0SW5uZXJQcm9wIiwicHJldmlld1Byb3BzIiwiaXNBcnJheSIsIlR5cGVFcnJvciIsImFycmF5VmFsdWUiLCJ1bnVzZWRLZXlzIiwiU2V0IiwicHJvcHMiLCJlbGVtZW50cyIsImkiLCJkZWxldGUiLCJwcmV2IiwiaW5kZXgiLCJpbmRleE9mIiwibmV3VmFsdWUiLCJlbGVtZW50V2l0aEtleSIsImN1cnJlbnRJbm5lclByb3AiLCJ2YWx1ZXMiLCJnZXRQcmV2aWV3UHJvcHNGb3JQcm9wIiwibWVtb2VkVGhpbmciLCJraW5kIiwiZ2V0SW5pdGlhbE1lbW9TdGF0ZSIsImlubmVyU3RhdGUiLCJtZW1vaXplZEluZm8iLCJzdGF0ZSIsImNvbmNhdCIsImNhY2hlZCIsImdldFVwVG9EYXRlUHJvcHMiLCJtZW1vU3RhdGUiLCJhc3NpZ24iLCJpbm5lck1lbW9TdGF0ZUtleSIsInVuZGVmaW5lZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/component-blocks/preview-props.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/component-blocks/update-element.ts":
/*!**************************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/component-blocks/update-element.ts ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateComponentBlockElementProps: () => (/* binding */ updateComponentBlockElementProps)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _document_features_normalization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../document-features-normalization */ \"../../../../packages/fields-document/src/DocumentEditor/document-features-normalization.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n/* harmony import */ var _initial_values__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./initial-values */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/initial-values.ts\");\n/* harmony import */ var _preview_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./preview-props */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/preview-props.ts\");\n\n\n\n\n\nfunction updateComponentBlockElementProps(editor, componentBlock, prevProps, newProps, basePath, setElement) {\n    slate__WEBPACK_IMPORTED_MODULE_4__.Editor.withoutNormalizing(editor, ()=>{\n        setElement({\n            props: newProps\n        });\n        const childPropPaths = findChildPropPathsWithPrevious(newProps, prevProps, {\n            kind: 'object',\n            fields: componentBlock.schema\n        }, [], [], []);\n        const getNode = ()=>slate__WEBPACK_IMPORTED_MODULE_4__.Node.get(editor, basePath);\n        const elementForChildren = getNode();\n        if (childPropPaths.length === 0) {\n            const indexes = elementForChildren.children.map((_, i)=>i).reverse();\n            for (const idx of indexes){\n                slate__WEBPACK_IMPORTED_MODULE_4__.Transforms.removeNodes(editor, {\n                    at: [\n                        ...basePath,\n                        idx\n                    ]\n                });\n            }\n            slate__WEBPACK_IMPORTED_MODULE_4__.Transforms.insertNodes(editor, {\n                type: 'component-inline-prop',\n                propPath: undefined,\n                children: [\n                    {\n                        text: ''\n                    }\n                ]\n            }, {\n                at: [\n                    ...basePath,\n                    0\n                ]\n            });\n            return;\n        }\n        const initialPropPathsToEditorPath = new Map();\n        for (const [idx, node] of elementForChildren.children.entries()){\n            (0,_utils__WEBPACK_IMPORTED_MODULE_1__.assert)(node.type === 'component-block-prop' || node.type === 'component-inline-prop');\n            initialPropPathsToEditorPath.set(node.propPath === undefined ? undefined : JSON.stringify(node.propPath), idx);\n        }\n        const childrenLeftToAdd = new Set(childPropPaths);\n        for (const childProp of childPropPaths){\n            if (childProp.prevPath === undefined) {\n                continue;\n            }\n            const stringifiedPath = JSON.stringify(childProp.prevPath);\n            const idxInChildren = initialPropPathsToEditorPath.get(stringifiedPath);\n            if (idxInChildren !== undefined) {\n                const prevNode = elementForChildren.children[idxInChildren];\n                (0,_utils__WEBPACK_IMPORTED_MODULE_1__.assert)(prevNode.propPath !== undefined);\n                if (!(0,_document_features_normalization__WEBPACK_IMPORTED_MODULE_0__.areArraysEqual)(childProp.path, prevNode.propPath)) {\n                    slate__WEBPACK_IMPORTED_MODULE_4__.Transforms.setNodes(editor, {\n                        propPath: childProp.path\n                    }, {\n                        at: [\n                            ...basePath,\n                            idxInChildren\n                        ]\n                    });\n                }\n                childrenLeftToAdd.delete(childProp);\n                initialPropPathsToEditorPath.delete(stringifiedPath);\n            }\n        }\n        let newIdx = getNode().children.length;\n        for (const childProp of childrenLeftToAdd){\n            slate__WEBPACK_IMPORTED_MODULE_4__.Transforms.insertNodes(editor, {\n                type: `component-${childProp.options.kind}-prop`,\n                propPath: childProp.path,\n                children: [\n                    childProp.options.kind === 'block' ? {\n                        type: 'paragraph',\n                        children: [\n                            {\n                                text: ''\n                            }\n                        ]\n                    } : {\n                        text: ''\n                    }\n                ]\n            }, {\n                at: [\n                    ...basePath,\n                    newIdx\n                ]\n            });\n            newIdx++;\n        }\n        const pathsToRemove = [];\n        for (const [, idxInChildren] of initialPropPathsToEditorPath){\n            pathsToRemove.push(slate__WEBPACK_IMPORTED_MODULE_4__.Editor.pathRef(editor, [\n                ...basePath,\n                idxInChildren\n            ]));\n        }\n        for (const pathRef of pathsToRemove){\n            const path = pathRef.unref();\n            (0,_utils__WEBPACK_IMPORTED_MODULE_1__.assert)(path !== null);\n            slate__WEBPACK_IMPORTED_MODULE_4__.Transforms.removeNodes(editor, {\n                at: path\n            });\n        }\n        const propPathsToExpectedIndexes = new Map();\n        for (const [idx, thing] of childPropPaths.entries()){\n            propPathsToExpectedIndexes.set(JSON.stringify(thing.path), idx);\n        }\n        outer: while(true){\n            for (const [idx, childNode] of getNode().children.entries()){\n                (0,_utils__WEBPACK_IMPORTED_MODULE_1__.assert)(childNode.type === 'component-block-prop' || childNode.type === 'component-inline-prop');\n                const expectedIndex = propPathsToExpectedIndexes.get(JSON.stringify(childNode.propPath));\n                (0,_utils__WEBPACK_IMPORTED_MODULE_1__.assert)(expectedIndex !== undefined);\n                if (idx === expectedIndex) continue;\n                slate__WEBPACK_IMPORTED_MODULE_4__.Transforms.moveNodes(editor, {\n                    at: [\n                        ...basePath,\n                        idx\n                    ],\n                    to: [\n                        ...basePath,\n                        expectedIndex\n                    ]\n                });\n                continue outer;\n            }\n            break;\n        }\n    });\n}\nfunction findChildPropPathsWithPrevious(value, prevValue, schema, newPath, prevPath, pathWithKeys) {\n    switch(schema.kind){\n        case 'form':\n            return [];\n        case 'relationship':\n            return [];\n        case 'child':\n            return [\n                {\n                    path: newPath,\n                    prevPath,\n                    options: schema.options\n                }\n            ];\n        case 'conditional':\n            {\n                const hasChangedDiscriminant = value.discriminant === prevValue.discriminant;\n                return findChildPropPathsWithPrevious(value.value, hasChangedDiscriminant ? prevValue.value : (0,_initial_values__WEBPACK_IMPORTED_MODULE_2__.getInitialPropsValue)(schema.values[value.discriminant]), schema.values[value.discriminant], newPath.concat('value'), hasChangedDiscriminant ? undefined : prevPath?.concat('value'), hasChangedDiscriminant ? undefined : pathWithKeys?.concat('value'));\n            }\n        case 'object':\n            {\n                const paths = [];\n                for (const key of Object.keys(schema.fields)){\n                    paths.push(...findChildPropPathsWithPrevious(value[key], prevValue[key], schema.fields[key], newPath.concat(key), prevPath?.concat(key), pathWithKeys?.concat(key)));\n                }\n                return paths;\n            }\n        case 'array':\n            {\n                const paths = [];\n                const prevKeys = (0,_preview_props__WEBPACK_IMPORTED_MODULE_3__.getKeysForArrayValue)(prevValue);\n                const keys = (0,_preview_props__WEBPACK_IMPORTED_MODULE_3__.getKeysForArrayValue)(value);\n                for (const [i, val] of value.entries()){\n                    const key = keys[i];\n                    const prevIdx = prevKeys.indexOf(key);\n                    let prevVal;\n                    if (prevIdx === -1) {\n                        prevVal = (0,_initial_values__WEBPACK_IMPORTED_MODULE_2__.getInitialPropsValue)(schema.element);\n                    } else {\n                        prevVal = prevValue[prevIdx];\n                    }\n                    paths.push(...findChildPropPathsWithPrevious(val, prevVal, schema.element, newPath.concat(i), prevIdx === -1 ? undefined : prevPath?.concat(prevIdx), prevIdx === -1 ? undefined : pathWithKeys?.concat(key)));\n                }\n                return paths;\n            }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL3VwZGF0ZS1lbGVtZW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF1RjtBQUNwQjtBQUNsQztBQUVzQjtBQUNEO0FBRy9DLFNBQVNPLGlDQUNkQyxNQUFjLEVBQ2RDLGNBQThCLEVBQzlCQyxTQUFrQyxFQUNsQ0MsUUFBaUMsRUFDakNDLFFBQWMsRUFDZEMsVUFBd0U7SUFFeEViLHlDQUFNQSxDQUFDYyxrQkFBa0IsQ0FBQ04sUUFBUTtRQUNoQ0ssV0FBVztZQUFFRSxPQUFPSjtRQUFTO1FBRTdCLE1BQU1LLGlCQUFpQkMsK0JBQ3JCTixVQUNBRCxXQUNBO1lBQUVRLE1BQU07WUFBVUMsUUFBUVYsZUFBZVcsTUFBTTtRQUFDLEdBQ2hELEVBQUUsRUFDRixFQUFFLEVBQ0YsRUFBRTtRQUdKLE1BQU1DLFVBQVUsSUFBTW5CLHVDQUFJQSxDQUFDb0IsR0FBRyxDQUFDZCxRQUFRSTtRQUV2QyxNQUFNVyxxQkFBcUJGO1FBRTNCLElBQUlMLGVBQWVRLE1BQU0sS0FBSyxHQUFHO1lBQy9CLE1BQU1DLFVBQVVGLG1CQUFtQkcsUUFBUSxDQUFDQyxHQUFHLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUEsR0FBR0MsT0FBTztZQUNwRSxLQUFLLE1BQU1DLE9BQU9OLFFBQVM7Z0JBQ3pCeEIsNkNBQVVBLENBQUMrQixXQUFXLENBQUN4QixRQUFRO29CQUM3QnlCLElBQUk7MkJBQUlyQjt3QkFBVW1CO3FCQUFJO2dCQUN4QjtZQUNGO1lBQ0E5Qiw2Q0FBVUEsQ0FBQ2lDLFdBQVcsQ0FDcEIxQixRQUNBO2dCQUFFMkIsTUFBTTtnQkFBeUJDLFVBQVVDO2dCQUFXWCxVQUFVO29CQUFDO3dCQUFFWSxNQUFNO29CQUFHO2lCQUFFO1lBQUMsR0FDL0U7Z0JBQUVMLElBQUk7dUJBQUlyQjtvQkFBVTtpQkFBRTtZQUFDO1lBRXpCO1FBQ0Y7UUFFQSxNQUFN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aWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL2NvbXBvbmVudC1ibG9ja3MvdXBkYXRlLWVsZW1lbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWRpdG9yLCB0eXBlIEVsZW1lbnQsIHR5cGUgUGF0aCwgVHJhbnNmb3JtcywgTm9kZSwgdHlwZSBQYXRoUmVmIH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgeyBhcmVBcnJheXNFcXVhbCB9IGZyb20gJy4uL2RvY3VtZW50LWZlYXR1cmVzLW5vcm1hbGl6YXRpb24nXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICcuLi91dGlscydcbmltcG9ydCB7IHR5cGUgQ2hpbGRGaWVsZCwgdHlwZSBDb21wb25lbnRCbG9jaywgdHlwZSBDb21wb25lbnRTY2hlbWEgfSBmcm9tICcuL2FwaSdcbmltcG9ydCB7IGdldEluaXRpYWxQcm9wc1ZhbHVlIH0gZnJvbSAnLi9pbml0aWFsLXZhbHVlcydcbmltcG9ydCB7IGdldEtleXNGb3JBcnJheVZhbHVlIH0gZnJvbSAnLi9wcmV2aWV3LXByb3BzJ1xuaW1wb3J0IHsgdHlwZSBSZWFkb25seVByb3BQYXRoIH0gZnJvbSAnLi91dGlscydcblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudEJsb2NrRWxlbWVudFByb3BzKFxuICBlZGl0b3I6IEVkaXRvcixcbiAgY29tcG9uZW50QmxvY2s6IENvbXBvbmVudEJsb2NrLFxuICBwcmV2UHJvcHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICBuZXdQcm9wczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4gIGJhc2VQYXRoOiBQYXRoLFxuICBzZXRFbGVtZW50OiAocGFydGlhbEVsZW1lbnQ6IHsgcHJvcHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IH0pID0+IHZvaWRcbikge1xuICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgKCkgPT4ge1xuICAgIHNldEVsZW1lbnQoeyBwcm9wczogbmV3UHJvcHMgfSlcblxuICAgIGNvbnN0IGNoaWxkUHJvcFBhdGhzID0gZmluZENoaWxkUHJvcFBhdGhzV2l0aFByZXZpb3VzKFxuICAgICAgbmV3UHJvcHMsXG4gICAgICBwcmV2UHJvcHMsXG4gICAgICB7IGtpbmQ6ICdvYmplY3QnLCBmaWVsZHM6IGNvbXBvbmVudEJsb2NrLnNjaGVtYSB9LFxuICAgICAgW10sXG4gICAgICBbXSxcbiAgICAgIFtdXG4gICAgKVxuXG4gICAgY29uc3QgZ2V0Tm9kZSA9ICgpID0+IE5vZGUuZ2V0KGVkaXRvciwgYmFzZVBhdGgpIGFzIEVsZW1lbnRcblxuICAgIGNvbnN0IGVsZW1lbnRGb3JDaGlsZHJlbiA9IGdldE5vZGUoKVxuXG4gICAgaWYgKGNoaWxkUHJvcFBhdGhzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgaW5kZXhlcyA9IGVsZW1lbnRGb3JDaGlsZHJlbi5jaGlsZHJlbi5tYXAoKF8sIGkpID0+IGkpLnJldmVyc2UoKVxuICAgICAgZm9yIChjb25zdCBpZHggb2YgaW5kZXhlcykge1xuICAgICAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgIGF0OiBbLi4uYmFzZVBhdGgsIGlkeF0sXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKFxuICAgICAgICBlZGl0b3IsXG4gICAgICAgIHsgdHlwZTogJ2NvbXBvbmVudC1pbmxpbmUtcHJvcCcsIHByb3BQYXRoOiB1bmRlZmluZWQsIGNoaWxkcmVuOiBbeyB0ZXh0OiAnJyB9XSB9LFxuICAgICAgICB7IGF0OiBbLi4uYmFzZVBhdGgsIDBdIH1cbiAgICAgIClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGluaXRpYWxQcm9wUGF0aHNUb0VkaXRvclBhdGggPSBuZXcgTWFwPHVuZGVmaW5lZCB8IHN0cmluZywgbnVtYmVyPigpXG4gICAgZm9yIChjb25zdCBbaWR4LCBub2RlXSBvZiBlbGVtZW50Rm9yQ2hpbGRyZW4uY2hpbGRyZW4uZW50cmllcygpKSB7XG4gICAgICBhc3NlcnQobm9kZS50eXBlID09PSAnY29tcG9uZW50LWJsb2NrLXByb3AnIHx8IG5vZGUudHlwZSA9PT0gJ2NvbXBvbmVudC1pbmxpbmUtcHJvcCcpXG4gICAgICBpbml0aWFsUHJvcFBhdGhzVG9FZGl0b3JQYXRoLnNldChcbiAgICAgICAgbm9kZS5wcm9wUGF0aCA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogSlNPTi5zdHJpbmdpZnkobm9kZS5wcm9wUGF0aCksXG4gICAgICAgIGlkeFxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IGNoaWxkcmVuTGVmdFRvQWRkID0gbmV3IFNldChjaGlsZFByb3BQYXRocylcbiAgICBmb3IgKGNvbnN0IGNoaWxkUHJvcCBvZiBjaGlsZFByb3BQYXRocykge1xuICAgICAgaWYgKGNoaWxkUHJvcC5wcmV2UGF0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN0cmluZ2lmaWVkUGF0aCA9IEpTT04uc3RyaW5naWZ5KGNoaWxkUHJvcC5wcmV2UGF0aClcbiAgICAgIGNvbnN0IGlkeEluQ2hpbGRyZW4gPSBpbml0aWFsUHJvcFBhdGhzVG9FZGl0b3JQYXRoLmdldChzdHJpbmdpZmllZFBhdGgpXG4gICAgICBpZiAoaWR4SW5DaGlsZHJlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHR5cGUgQ2hpbGRQcm9wID0gRWxlbWVudCAmIHsgdHlwZTogJ2NvbXBvbmVudC1pbmxpbmUtcHJvcCcgfCAnY29tcG9uZW50LWJsb2NrLXByb3AnIH1cbiAgICAgICAgY29uc3QgcHJldk5vZGUgPSBlbGVtZW50Rm9yQ2hpbGRyZW4uY2hpbGRyZW5baWR4SW5DaGlsZHJlbl0gYXMgQ2hpbGRQcm9wXG4gICAgICAgIGFzc2VydChwcmV2Tm9kZS5wcm9wUGF0aCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICBpZiAoIWFyZUFycmF5c0VxdWFsKGNoaWxkUHJvcC5wYXRoLCBwcmV2Tm9kZS5wcm9wUGF0aCkpIHtcbiAgICAgICAgICBUcmFuc2Zvcm1zLnNldE5vZGVzKFxuICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgeyBwcm9wUGF0aDogY2hpbGRQcm9wLnBhdGggfSxcbiAgICAgICAgICAgIHsgYXQ6IFsuLi5iYXNlUGF0aCwgaWR4SW5DaGlsZHJlbl0gfVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBjaGlsZHJlbkxlZnRUb0FkZC5kZWxldGUoY2hpbGRQcm9wKVxuICAgICAgICBpbml0aWFsUHJvcFBhdGhzVG9FZGl0b3JQYXRoLmRlbGV0ZShzdHJpbmdpZmllZFBhdGgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IG5ld0lkeCA9IGdldE5vZGUoKS5jaGlsZHJlbi5sZW5ndGhcbiAgICBmb3IgKGNvbnN0IGNoaWxkUHJvcCBvZiBjaGlsZHJlbkxlZnRUb0FkZCkge1xuICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhcbiAgICAgICAgZWRpdG9yLFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogYGNvbXBvbmVudC0ke2NoaWxkUHJvcC5vcHRpb25zLmtpbmR9LXByb3BgLFxuICAgICAgICAgIHByb3BQYXRoOiBjaGlsZFByb3AucGF0aCxcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgY2hpbGRQcm9wLm9wdGlvbnMua2luZCA9PT0gJ2Jsb2NrJ1xuICAgICAgICAgICAgICA/IHsgdHlwZTogJ3BhcmFncmFwaCcsIGNoaWxkcmVuOiBbeyB0ZXh0OiAnJyB9XSB9XG4gICAgICAgICAgICAgIDogeyB0ZXh0OiAnJyB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIHsgYXQ6IFsuLi5iYXNlUGF0aCwgbmV3SWR4XSB9XG4gICAgICApXG4gICAgICBuZXdJZHgrK1xuICAgIH1cblxuICAgIGNvbnN0IHBhdGhzVG9SZW1vdmU6IFBhdGhSZWZbXSA9IFtdXG4gICAgZm9yIChjb25zdCBbLCBpZHhJbkNoaWxkcmVuXSBvZiBpbml0aWFsUHJvcFBhdGhzVG9FZGl0b3JQYXRoKSB7XG4gICAgICBwYXRoc1RvUmVtb3ZlLnB1c2goRWRpdG9yLnBhdGhSZWYoZWRpdG9yLCBbLi4uYmFzZVBhdGgsIGlkeEluQ2hpbGRyZW5dKSlcbiAgICB9XG4gICAgZm9yIChjb25zdCBwYXRoUmVmIG9mIHBhdGhzVG9SZW1vdmUpIHtcbiAgICAgIGNvbnN0IHBhdGggPSBwYXRoUmVmLnVucmVmKClcbiAgICAgIGFzc2VydChwYXRoICE9PSBudWxsKVxuICAgICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHsgYXQ6IHBhdGggfSlcbiAgICB9XG5cbiAgICBjb25zdCBwcm9wUGF0aHNUb0V4cGVjdGVkSW5kZXhlcyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KClcbiAgICBmb3IgKGNvbnN0IFtpZHgsIHRoaW5nXSBvZiBjaGlsZFByb3BQYXRocy5lbnRyaWVzKCkpIHtcbiAgICAgIHByb3BQYXRoc1RvRXhwZWN0ZWRJbmRleGVzLnNldChKU09OLnN0cmluZ2lmeSh0aGluZy5wYXRoKSwgaWR4KVxuICAgIH1cblxuICAgIG91dGVyOiB3aGlsZSAodHJ1ZSkge1xuICAgICAgZm9yIChjb25zdCBbaWR4LCBjaGlsZE5vZGVdIG9mIGdldE5vZGUoKS5jaGlsZHJlbi5lbnRyaWVzKCkpIHtcbiAgICAgICAgYXNzZXJ0KFxuICAgICAgICAgIGNoaWxkTm9kZS50eXBlID09PSAnY29tcG9uZW50LWJsb2NrLXByb3AnIHx8IGNoaWxkTm9kZS50eXBlID09PSAnY29tcG9uZW50LWlubGluZS1wcm9wJ1xuICAgICAgICApXG4gICAgICAgIGNvbnN0IGV4cGVjdGVkSW5kZXggPSBwcm9wUGF0aHNUb0V4cGVjdGVkSW5kZXhlcy5nZXQoSlNPTi5zdHJpbmdpZnkoY2hpbGROb2RlLnByb3BQYXRoKSlcbiAgICAgICAgYXNzZXJ0KGV4cGVjdGVkSW5kZXggIT09IHVuZGVmaW5lZClcbiAgICAgICAgaWYgKGlkeCA9PT0gZXhwZWN0ZWRJbmRleCkgY29udGludWVcblxuICAgICAgICBUcmFuc2Zvcm1zLm1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBhdDogWy4uLmJhc2VQYXRoLCBpZHhdLFxuICAgICAgICAgIHRvOiBbLi4uYmFzZVBhdGgsIGV4cGVjdGVkSW5kZXhdLFxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIHN0YXJ0IHRoZSBmb3ItbG9vcCBhZ2FpblxuICAgICAgICBjb250aW51ZSBvdXRlclxuICAgICAgfVxuXG4gICAgICBicmVha1xuICAgIH1cbiAgfSlcbn1cblxudHlwZSBDaGlsZFByb3BQYXRoV2l0aFByZXZpb3VzID0ge1xuICBwcmV2UGF0aDogUmVhZG9ubHlQcm9wUGF0aCB8IHVuZGVmaW5lZFxuICBwYXRoOiBSZWFkb25seVByb3BQYXRoXG4gIG9wdGlvbnM6IENoaWxkRmllbGRbJ29wdGlvbnMnXVxufVxuXG5mdW5jdGlvbiBmaW5kQ2hpbGRQcm9wUGF0aHNXaXRoUHJldmlvdXMoXG4gIHZhbHVlOiBhbnksXG4gIHByZXZWYWx1ZTogYW55LFxuICBzY2hlbWE6IENvbXBvbmVudFNjaGVtYSxcbiAgbmV3UGF0aDogUmVhZG9ubHlQcm9wUGF0aCxcbiAgcHJldlBhdGg6IFJlYWRvbmx5UHJvcFBhdGggfCB1bmRlZmluZWQsXG4gIHBhdGhXaXRoS2V5czogcmVhZG9ubHkgc3RyaW5nW10gfCB1bmRlZmluZWRcbik6IENoaWxkUHJvcFBhdGhXaXRoUHJldmlvdXNbXSB7XG4gIHN3aXRjaCAoc2NoZW1hLmtpbmQpIHtcbiAgICBjYXNlICdmb3JtJzpcbiAgICAgIHJldHVybiBbXVxuICAgIGNhc2UgJ3JlbGF0aW9uc2hpcCc6XG4gICAgICByZXR1cm4gW11cbiAgICBjYXNlICdjaGlsZCc6XG4gICAgICByZXR1cm4gW3sgcGF0aDogbmV3UGF0aCwgcHJldlBhdGgsIG9wdGlvbnM6IHNjaGVtYS5vcHRpb25zIH1dXG4gICAgY2FzZSAnY29uZGl0aW9uYWwnOiB7XG4gICAgICBjb25zdCBoYXNDaGFuZ2VkRGlzY3JpbWluYW50ID0gdmFsdWUuZGlzY3JpbWluYW50ID09PSBwcmV2VmFsdWUuZGlzY3JpbWluYW50XG4gICAgICByZXR1cm4gZmluZENoaWxkUHJvcFBhdGhzV2l0aFByZXZpb3VzKFxuICAgICAgICB2YWx1ZS52YWx1ZSxcbiAgICAgICAgaGFzQ2hhbmdlZERpc2NyaW1pbmFudFxuICAgICAgICAgID8gcHJldlZhbHVlLnZhbHVlXG4gICAgICAgICAgOiBnZXRJbml0aWFsUHJvcHNWYWx1ZShzY2hlbWEudmFsdWVzW3ZhbHVlLmRpc2NyaW1pbmFudF0pLFxuICAgICAgICBzY2hlbWEudmFsdWVzW3ZhbHVlLmRpc2NyaW1pbmFudF0sXG4gICAgICAgIG5ld1BhdGguY29uY2F0KCd2YWx1ZScpLFxuICAgICAgICBoYXNDaGFuZ2VkRGlzY3JpbWluYW50ID8gdW5kZWZpbmVkIDogcHJldlBhdGg/LmNvbmNhdCgndmFsdWUnKSxcbiAgICAgICAgaGFzQ2hhbmdlZERpc2NyaW1pbmFudCA/IHVuZGVmaW5lZCA6IHBhdGhXaXRoS2V5cz8uY29uY2F0KCd2YWx1ZScpXG4gICAgICApXG4gICAgfVxuICAgIGNhc2UgJ29iamVjdCc6IHtcbiAgICAgIGNvbnN0IHBhdGhzOiBDaGlsZFByb3BQYXRoV2l0aFByZXZpb3VzW10gPSBbXVxuICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoc2NoZW1hLmZpZWxkcykpIHtcbiAgICAgICAgcGF0aHMucHVzaChcbiAgICAgICAgICAuLi5maW5kQ2hpbGRQcm9wUGF0aHNXaXRoUHJldmlvdXMoXG4gICAgICAgICAgICB2YWx1ZVtrZXldLFxuICAgICAgICAgICAgcHJldlZhbHVlW2tleV0sXG4gICAgICAgICAgICBzY2hlbWEuZmllbGRzW2tleV0sXG4gICAgICAgICAgICBuZXdQYXRoLmNvbmNhdChrZXkpLFxuICAgICAgICAgICAgcHJldlBhdGg/LmNvbmNhdChrZXkpLFxuICAgICAgICAgICAgcGF0aFdpdGhLZXlzPy5jb25jYXQoa2V5KVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHBhdGhzXG4gICAgfVxuICAgIGNhc2UgJ2FycmF5Jzoge1xuICAgICAgY29uc3QgcGF0aHM6IENoaWxkUHJvcFBhdGhXaXRoUHJldmlvdXNbXSA9IFtdXG4gICAgICBjb25zdCBwcmV2S2V5cyA9IGdldEtleXNGb3JBcnJheVZhbHVlKHByZXZWYWx1ZSlcbiAgICAgIGNvbnN0IGtleXMgPSBnZXRLZXlzRm9yQXJyYXlWYWx1ZSh2YWx1ZSlcbiAgICAgIGZvciAoY29uc3QgW2ksIHZhbF0gb2YgKHZhbHVlIGFzIHVua25vd25bXSkuZW50cmllcygpKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV1cbiAgICAgICAgY29uc3QgcHJldklkeCA9IHByZXZLZXlzLmluZGV4T2Yoa2V5KVxuICAgICAgICBsZXQgcHJldlZhbFxuICAgICAgICBpZiAocHJldklkeCA9PT0gLTEpIHtcbiAgICAgICAgICBwcmV2VmFsID0gZ2V0SW5pdGlhbFByb3BzVmFsdWUoc2NoZW1hLmVsZW1lbnQpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJldlZhbCA9IHByZXZWYWx1ZVtwcmV2SWR4XVxuICAgICAgICB9XG4gICAgICAgIHBhdGhzLnB1c2goXG4gICAgICAgICAgLi4uZmluZENoaWxkUHJvcFBhdGhzV2l0aFByZXZpb3VzKFxuICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgcHJldlZhbCxcbiAgICAgICAgICAgIHNjaGVtYS5lbGVtZW50LFxuICAgICAgICAgICAgbmV3UGF0aC5jb25jYXQoaSksXG4gICAgICAgICAgICBwcmV2SWR4ID09PSAtMSA/IHVuZGVmaW5lZCA6IHByZXZQYXRoPy5jb25jYXQocHJldklkeCksXG4gICAgICAgICAgICBwcmV2SWR4ID09PSAtMSA/IHVuZGVmaW5lZCA6IHBhdGhXaXRoS2V5cz8uY29uY2F0KGtleSlcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXRoc1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIkVkaXRvciIsIlRyYW5zZm9ybXMiLCJOb2RlIiwiYXJlQXJyYXlzRXF1YWwiLCJhc3NlcnQiLCJnZXRJbml0aWFsUHJvcHNWYWx1ZSIsImdldEtleXNGb3JBcnJheVZhbHVlIiwidXBkYXRlQ29tcG9uZW50QmxvY2tFbGVtZW50UHJvcHMiLCJlZGl0b3IiLCJjb21wb25lbnRCbG9jayIsInByZXZQcm9wcyIsIm5ld1Byb3BzIiwiYmFzZVBhdGgiLCJzZXRFbGVtZW50Iiwid2l0aG91dE5vcm1hbGl6aW5nIiwicHJvcHMiLCJjaGlsZFByb3BQYXRocyIsImZpbmRDaGlsZFByb3BQYXRoc1dpdGhQcmV2aW91cyIsImtpbmQiLCJmaWVsZHMiLCJzY2hlbWEiLCJnZXROb2RlIiwiZ2V0IiwiZWxlbWVudEZvckNoaWxkcmVuIiwibGVuZ3RoIiwiaW5kZXhlcyIsImNoaWxkcmVuIiwibWFwIiwiXyIsImkiLCJyZXZlcnNlIiwiaWR4IiwicmVtb3ZlTm9kZXMiLCJhdCIsImluc2VydE5vZGVzIiwidHlwZSIsInByb3BQYXRoIiwidW5kZWZpbmVkIiwidGV4dCIsImluaXRpYWxQcm9wUGF0aHNUb0VkaXRvclBhdGgiLCJNYXAiLCJub2RlIiwiZW50cmllcyIsInNldCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjaGlsZHJlbkxlZnRUb0FkZCIsIlNldCIsImNoaWxkUHJvcCIsInByZXZQYXRoIiwic3RyaW5naWZpZWRQYXRoIiwiaWR4SW5DaGlsZHJlbiIsInByZXZOb2RlIiwicGF0aCIsInNldE5vZGVzIiwiZGVsZXRlIiwibmV3SWR4Iiwib3B0aW9ucyIsInBhdGhzVG9SZW1vdmUiLCJwdXNoIiwicGF0aFJlZiIsInVucmVmIiwicHJvcFBhdGhzVG9FeHBlY3RlZEluZGV4ZXMiLCJ0aGluZyIsIm91dGVyIiwiY2hpbGROb2RlIiwiZXhwZWN0ZWRJbmRleCIsIm1vdmVOb2RlcyIsInRvIiwidmFsdWUiLCJwcmV2VmFsdWUiLCJuZXdQYXRoIiwicGF0aFdpdGhLZXlzIiwiaGFzQ2hhbmdlZERpc2NyaW1pbmFudCIsImRpc2NyaW1pbmFudCIsInZhbHVlcyIsImNvbmNhdCIsInBhdGhzIiwia2V5IiwiT2JqZWN0Iiwia2V5cyIsInByZXZLZXlzIiwidmFsIiwicHJldklkeCIsImluZGV4T2YiLCJwcmV2VmFsIiwiZWxlbWVudCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/component-blocks/update-element.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/component-blocks/utils.ts":
/*!*****************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/component-blocks/utils.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertNever: () => (/* binding */ assertNever),\n/* harmony export */   clientSideValidateProp: () => (/* binding */ clientSideValidateProp),\n/* harmony export */   findChildPropPaths: () => (/* binding */ findChildPropPaths),\n/* harmony export */   findChildPropPathsForProp: () => (/* binding */ findChildPropPathsForProp),\n/* harmony export */   getAncestorSchemas: () => (/* binding */ getAncestorSchemas),\n/* harmony export */   getDocumentFeaturesForChildField: () => (/* binding */ getDocumentFeaturesForChildField),\n/* harmony export */   getPlaceholderTextForPropPath: () => (/* binding */ getPlaceholderTextForPropPath),\n/* harmony export */   getSchemaAtPropPath: () => (/* binding */ getSchemaAtPropPath),\n/* harmony export */   getValueAtPropPath: () => (/* binding */ getValueAtPropPath),\n/* harmony export */   replaceValueAtPropPath: () => (/* binding */ replaceValueAtPropPath),\n/* harmony export */   traverseProps: () => (/* binding */ traverseProps)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n/* harmony import */ var _preview_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./preview-props */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/preview-props.ts\");\n\n\nfunction findChildPropPathsForProp(value, schema, path) {\n    switch(schema.kind){\n        case 'form':\n        case 'relationship':\n            return [];\n        case 'child':\n            return [\n                {\n                    path: path,\n                    options: schema.options\n                }\n            ];\n        case 'conditional':\n            return findChildPropPathsForProp(value.value, schema.values[value.discriminant], path.concat('value'));\n        case 'object':\n            {\n                const paths = [];\n                Object.keys(schema.fields).forEach((key)=>{\n                    paths.push(...findChildPropPathsForProp(value[key], schema.fields[key], path.concat(key)));\n                });\n                return paths;\n            }\n        case 'array':\n            {\n                const paths = [];\n                value.forEach((val, i)=>{\n                    paths.push(...findChildPropPathsForProp(val, schema.element, path.concat(i)));\n                });\n                return paths;\n            }\n    }\n}\nfunction findChildPropPaths(value, props) {\n    const propPaths = findChildPropPathsForProp(value, {\n        kind: 'object',\n        fields: props\n    }, []);\n    if (propPaths.length) return propPaths;\n    return [\n        {\n            path: undefined,\n            options: {\n                kind: 'inline',\n                placeholder: ''\n            }\n        }\n    ];\n}\nfunction assertNever(arg) {\n    throw new Error('expected to never be called but received: ' + JSON.stringify(arg));\n}\nfunction getDocumentFeaturesForChildField(editorDocumentFeatures, options) {\n    // an important note for this: normalization based on document features\n    // is done based on the document features returned here\n    // and the editor document features\n    // so the result for any given child prop will be the things that are\n    // allowed by both these document features\n    // AND the editor document features\n    const inlineMarksFromOptions = options.formatting?.inlineMarks;\n    const inlineMarks = inlineMarksFromOptions === 'inherit' ? 'inherit' : Object.fromEntries(Object.keys(editorDocumentFeatures.formatting.inlineMarks).map((mark)=>{\n        return [\n            mark,\n            !!(inlineMarksFromOptions || {})[mark]\n        ];\n    }));\n    if (options.kind === 'inline') {\n        return {\n            kind: 'inline',\n            inlineMarks,\n            documentFeatures: {\n                links: options.links === 'inherit',\n                relationships: options.relationships === 'inherit'\n            },\n            softBreaks: options.formatting?.softBreaks === 'inherit'\n        };\n    }\n    return {\n        kind: 'block',\n        inlineMarks,\n        softBreaks: options.formatting?.softBreaks === 'inherit',\n        documentFeatures: {\n            layouts: [],\n            dividers: options.dividers === 'inherit' ? editorDocumentFeatures.dividers : false,\n            formatting: {\n                alignment: options.formatting?.alignment === 'inherit' ? editorDocumentFeatures.formatting.alignment : {\n                    center: false,\n                    end: false\n                },\n                blockTypes: options.formatting?.blockTypes === 'inherit' ? editorDocumentFeatures.formatting.blockTypes : {\n                    blockquote: false,\n                    code: false\n                },\n                headingLevels: options.formatting?.headingLevels === 'inherit' ? editorDocumentFeatures.formatting.headingLevels : options.formatting?.headingLevels || [],\n                listTypes: options.formatting?.listTypes === 'inherit' ? editorDocumentFeatures.formatting.listTypes : {\n                    ordered: false,\n                    unordered: false\n                }\n            },\n            links: options.links === 'inherit',\n            relationships: options.relationships === 'inherit'\n        },\n        componentBlocks: options.componentBlocks === 'inherit'\n    };\n}\nfunction getSchemaAtPropPathInner(path, value, schema) {\n    // because we're checking the length here\n    // the non-null asserts on shift below are fine\n    if (path.length === 0) return schema;\n    if (schema.kind === 'child' || schema.kind === 'form' || schema.kind === 'relationship') return;\n    if (schema.kind === 'conditional') {\n        const key = path.shift();\n        if (key === 'discriminant') return getSchemaAtPropPathInner(path, value.discriminant, schema.discriminant);\n        if (key === 'value') {\n            const propVal = schema.values[value.discriminant];\n            return getSchemaAtPropPathInner(path, value.value, propVal);\n        }\n        return;\n    }\n    if (schema.kind === 'object') {\n        const key = path.shift();\n        return getSchemaAtPropPathInner(path, value[key], schema.fields[key]);\n    }\n    if (schema.kind === 'array') {\n        const index = path.shift();\n        return getSchemaAtPropPathInner(path, value[index], schema.element);\n    }\n    assertNever(schema);\n}\nfunction getSchemaAtPropPath(path, value, props) {\n    return getSchemaAtPropPathInner([\n        ...path\n    ], value, {\n        kind: 'object',\n        fields: props\n    });\n}\nfunction clientSideValidateProp(schema, value) {\n    if (schema.kind === 'child') return true;\n    if (schema.kind === 'relationship') return true;\n    if (schema.kind === 'form') return schema.validate(value);\n    if (typeof value !== 'object') return false;\n    if (value === null) return false;\n    switch(schema.kind){\n        case 'conditional':\n            {\n                if (!('discriminant' in value) || !('value' in value)) return false;\n                if (!schema.discriminant.validate(value.discriminant)) return false;\n                return clientSideValidateProp(schema.values[// not actually gonna always be a string but just let property access do the coercion\n                value.discriminant], value.value);\n            }\n        case 'object':\n            {\n                for (const [key, childProp] of Object.entries(schema.fields)){\n                    if (!clientSideValidateProp(childProp, value[key])) return false;\n                }\n                return true;\n            }\n        case 'array':\n            {\n                if (!Array.isArray(value)) return false;\n                for (const innerVal of value){\n                    if (!clientSideValidateProp(schema.element, innerVal)) return false;\n                }\n                return true;\n            }\n    }\n}\nfunction getAncestorSchemas(rootSchema, path, value) {\n    const ancestors = [];\n    const currentPath = [\n        ...path\n    ];\n    let currentProp = rootSchema;\n    let currentValue = value;\n    while(currentPath.length){\n        ancestors.push(currentProp);\n        const key = currentPath.shift()// this code only runs when path.length is truthy so this non-null assertion is fine\n        ;\n        if (currentProp.kind === 'array') {\n            currentProp = currentProp.element;\n            currentValue = currentValue[key];\n        } else if (currentProp.kind === 'conditional') {\n            currentProp = currentProp.values[value.discriminant];\n            currentValue = currentValue.value;\n        } else if (currentProp.kind === 'object') {\n            currentValue = currentValue[key];\n            currentProp = currentProp.fields[key];\n        } else if (currentProp.kind === 'child' || currentProp.kind === 'form' || currentProp.kind === 'relationship') {\n            throw new Error(`unexpected prop \"${key}\"`);\n        } else {\n            assertNever(currentProp);\n        }\n    }\n    return ancestors;\n}\nfunction getValueAtPropPath(value, inputPath) {\n    const path = [\n        ...inputPath\n    ];\n    while(path.length){\n        const key = path.shift();\n        value = value[key];\n    }\n    return value;\n}\nfunction traverseProps(schema, value, visitor, path = []) {\n    if (schema.kind === 'form' || schema.kind === 'relationship' || schema.kind === 'child') {\n        visitor(schema, value, path);\n        return;\n    }\n    if (schema.kind === 'object') {\n        for (const [key, childProp] of Object.entries(schema.fields)){\n            traverseProps(childProp, value[key], visitor, [\n                ...path,\n                key\n            ]);\n        }\n        visitor(schema, value, path);\n        return;\n    }\n    if (schema.kind === 'array') {\n        for (const [idx, val] of value.entries()){\n            traverseProps(schema.element, val, visitor, path.concat(idx));\n        }\n        return visitor(schema, value, path);\n    }\n    if (schema.kind === 'conditional') {\n        const discriminant = value.discriminant;\n        visitor(schema, discriminant, path.concat('discriminant'));\n        traverseProps(schema.values[discriminant.toString()], value.value, visitor, path.concat('value'));\n        visitor(schema, value, path);\n        return;\n    }\n    assertNever(schema);\n}\nfunction replaceValueAtPropPath(schema, value, newValue, path) {\n    if (path.length === 0) return newValue;\n    const [key, ...newPath] = path;\n    if (schema.kind === 'object') {\n        return {\n            ...value,\n            [key]: replaceValueAtPropPath(schema.fields[key], value[key], newValue, newPath)\n        };\n    }\n    if (schema.kind === 'conditional') {\n        const conditionalValue = value;\n        // replaceValueAtPropPath should not be used to only update the discriminant of a conditional field\n        // if you want to update the discriminant of a conditional field, replace the value of the whole conditional field\n        (0,_utils__WEBPACK_IMPORTED_MODULE_0__.assert)(key === 'value');\n        return {\n            discriminant: conditionalValue.discriminant,\n            value: replaceValueAtPropPath(schema.values[key], conditionalValue.value, newValue, newPath)\n        };\n    }\n    if (schema.kind === 'array') {\n        const prevVal = value;\n        const newVal = [\n            ...prevVal\n        ];\n        (0,_preview_props__WEBPACK_IMPORTED_MODULE_1__.setKeysForArrayValue)(newVal, (0,_preview_props__WEBPACK_IMPORTED_MODULE_1__.getKeysForArrayValue)(prevVal));\n        newVal[key] = replaceValueAtPropPath(schema.element, newVal[key], newValue, newPath);\n        return newVal;\n    }\n    // we should never reach here since form, relationship or child fields don't contain other fields\n    // so the only thing that can happen to them is to be replaced which happens at the start of this function when path.length === 0\n    (0,_utils__WEBPACK_IMPORTED_MODULE_0__.assert)(schema.kind !== 'form' && schema.kind !== 'relationship' && schema.kind !== 'child');\n    assertNever(schema);\n}\nfunction getPlaceholderTextForPropPath(propPath, fields, formProps) {\n    const field = getSchemaAtPropPath(propPath, formProps, fields);\n    if (field?.kind === 'child') return field.options.placeholder;\n    return '';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL3V0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFNEM7QUFFZ0M7QUFJckUsU0FBU0csMEJBQ2RDLEtBQVUsRUFDVkMsTUFBdUIsRUFDdkJDLElBQXNCO0lBRXRCLE9BQVFELE9BQU9FLElBQUk7UUFDakIsS0FBSztRQUNMLEtBQUs7WUFDSCxPQUFPLEVBQUU7UUFDWCxLQUFLO1lBQ0gsT0FBTztnQkFBQztvQkFBRUQsTUFBTUE7b0JBQU1FLFNBQVNILE9BQU9HLE9BQU87Z0JBQUM7YUFBRTtRQUNsRCxLQUFLO1lBQ0gsT0FBT0wsMEJBQ0xDLE1BQU1BLEtBQUssRUFDWEMsT0FBT0ksTUFBTSxDQUFDTCxNQUFNTSxZQUFZLENBQUMsRUFDakNKLEtBQUtLLE1BQU0sQ0FBQztRQUVoQixLQUFLO1lBQVU7Z0JBQ2IsTUFBTUMsUUFBc0MsRUFBRTtnQkFDOUNDLE9BQU9DLElBQUksQ0FBQ1QsT0FBT1UsTUFBTSxFQUFFQyxPQUFPLENBQUNDLENBQUFBO29CQUNqQ0wsTUFBTU0sSUFBSSxJQUFJZiwwQkFBMEJDLEtBQUssQ0FBQ2EsSUFBSSxFQUFFWixPQUFPVSxNQUFNLENBQUNFLElBQUksRUFBRVgsS0FBS0ssTUFBTSxDQUFDTTtnQkFDdEY7Z0JBQ0EsT0FBT0w7WUFDVDtRQUNBLEtBQUs7WUFBUztnQkFDWixNQUFNQSxRQUFzQyxFQUFFO2dCQUM1Q1IsTUFBZ0JZLE9BQU8sQ0FBQyxDQUFDRyxLQUFLQztvQkFDOUJSLE1BQU1NLElBQUksSUFBSWYsMEJBQTBCZ0IsS0FBS2QsT0FBT2dCLE9BQU8sRUFBRWYsS0FBS0ssTUFBTSxDQUFDUztnQkFDM0U7Z0JBQ0EsT0FBT1I7WUFDVDtJQUNGO0FBQ0Y7QUFFTyxTQUFTVSxtQkFDZGxCLEtBQTBCLEVBQzFCbUIsS0FBc0M7SUFFdEMsTUFBTUMsWUFBWXJCLDBCQUEwQkMs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QUFrSDtRQUNsSEosOENBQU1BLENBQUNpQixRQUFRO1FBQ2YsT0FBTztZQUNMUCxjQUFjMkUsaUJBQWlCM0UsWUFBWTtZQUMzQ04sT0FBTzhFLHVCQUF1QjdFLE9BQU9JLE1BQU0sQ0FBQ1EsSUFBSSxFQUFFb0UsaUJBQWlCakYsS0FBSyxFQUFFK0UsVUFBVUM7UUFDdEY7SUFDRjtJQUVBLElBQUkvRSxPQUFPRSxJQUFJLEtBQUssU0FBUztRQUMzQixNQUFNK0UsVUFBVWxGO1FBQ2hCLE1BQU1tRixTQUFTO2VBQUlEO1NBQVE7UUFDM0JwRixvRUFBb0JBLENBQUNxRixRQUFRdEYsb0VBQW9CQSxDQUFDcUY7UUFDbERDLE1BQU0sQ0FBQ3RFLElBQWMsR0FBR2lFLHVCQUN0QjdFLE9BQU9nQixPQUFPLEVBQ2RrRSxNQUFNLENBQUN0RSxJQUFjLEVBQ3JCa0UsVUFDQUM7UUFFRixPQUFPRztJQUNUO0lBRUEsaUdBQWlHO0lBQ2pHLGlJQUFpSTtJQUNqSXZGLDhDQUFNQSxDQUFDSyxPQUFPRSxJQUFJLEtBQUssVUFBVUYsT0FBT0UsSUFBSSxLQUFLLGtCQUFrQkYsT0FBT0UsSUFBSSxLQUFLO0lBRW5GcUIsWUFBWXZCO0FBQ2Q7QUFFTyxTQUFTbUYsOEJBQ2RDLFFBQTBCLEVBQzFCMUUsTUFBdUMsRUFDdkMyRSxTQUE4QjtJQUU5QixNQUFNQyxRQUFRN0Isb0JBQW9CMkIsVUFBVUMsV0FBVzNFO0lBQ3ZELElBQUk0RSxPQUFPcEYsU0FBUyxTQUFTLE9BQU9vRixNQUFNbkYsT0FBTyxDQUFDbUIsV0FBVztJQUM3RCxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL3V0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgRG9jdW1lbnRGZWF0dXJlcyB9IGZyb20gJy4uLy4uL3ZpZXdzLXNoYXJlZCdcbmltcG9ydCB0eXBlIHsgRG9jdW1lbnRGZWF0dXJlc0Zvck5vcm1hbGl6YXRpb24gfSBmcm9tICcuLi9kb2N1bWVudC1mZWF0dXJlcy1ub3JtYWxpemF0aW9uJ1xuaW1wb3J0IHsgdHlwZSBNYXJrLCBhc3NlcnQgfSBmcm9tICcuLi91dGlscydcbmltcG9ydCB0eXBlIHsgQ29tcG9uZW50U2NoZW1hLCBDaGlsZEZpZWxkIH0gZnJvbSAnLi9hcGktc2hhcmVkJ1xuaW1wb3J0IHsgZ2V0S2V5c0ZvckFycmF5VmFsdWUsIHNldEtleXNGb3JBcnJheVZhbHVlIH0gZnJvbSAnLi9wcmV2aWV3LXByb3BzJ1xuXG50eXBlIFBhdGhUb0NoaWxkRmllbGRXaXRoT3B0aW9uID0geyBwYXRoOiBSZWFkb25seVByb3BQYXRoOyBvcHRpb25zOiBDaGlsZEZpZWxkWydvcHRpb25zJ10gfVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZENoaWxkUHJvcFBhdGhzRm9yUHJvcChcbiAgdmFsdWU6IGFueSxcbiAgc2NoZW1hOiBDb21wb25lbnRTY2hlbWEsXG4gIHBhdGg6IFJlYWRvbmx5UHJvcFBhdGhcbik6IFBhdGhUb0NoaWxkRmllbGRXaXRoT3B0aW9uW10ge1xuICBzd2l0Y2ggKHNjaGVtYS5raW5kKSB7XG4gICAgY2FzZSAnZm9ybSc6XG4gICAgY2FzZSAncmVsYXRpb25zaGlwJzpcbiAgICAgIHJldHVybiBbXVxuICAgIGNhc2UgJ2NoaWxkJzpcbiAgICAgIHJldHVybiBbeyBwYXRoOiBwYXRoLCBvcHRpb25zOiBzY2hlbWEub3B0aW9ucyB9XVxuICAgIGNhc2UgJ2NvbmRpdGlvbmFsJzpcbiAgICAgIHJldHVybiBmaW5kQ2hpbGRQcm9wUGF0aHNGb3JQcm9wKFxuICAgICAgICB2YWx1ZS52YWx1ZSxcbiAgICAgICAgc2NoZW1hLnZhbHVlc1t2YWx1ZS5kaXNjcmltaW5hbnRdLFxuICAgICAgICBwYXRoLmNvbmNhdCgndmFsdWUnKVxuICAgICAgKVxuICAgIGNhc2UgJ29iamVjdCc6IHtcbiAgICAgIGNvbnN0IHBhdGhzOiBQYXRoVG9DaGlsZEZpZWxkV2l0aE9wdGlvbltdID0gW11cbiAgICAgIE9iamVjdC5rZXlzKHNjaGVtYS5maWVsZHMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgcGF0aHMucHVzaCguLi5maW5kQ2hpbGRQcm9wUGF0aHNGb3JQcm9wKHZhbHVlW2tleV0sIHNjaGVtYS5maWVsZHNba2V5XSwgcGF0aC5jb25jYXQoa2V5KSkpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHBhdGhzXG4gICAgfVxuICAgIGNhc2UgJ2FycmF5Jzoge1xuICAgICAgY29uc3QgcGF0aHM6IFBhdGhUb0NoaWxkRmllbGRXaXRoT3B0aW9uW10gPSBbXVxuICAgICAgOyh2YWx1ZSBhcyBhbnlbXSkuZm9yRWFjaCgodmFsLCBpKSA9PiB7XG4gICAgICAgIHBhdGhzLnB1c2goLi4uZmluZENoaWxkUHJvcFBhdGhzRm9yUHJvcCh2YWwsIHNjaGVtYS5lbGVtZW50LCBwYXRoLmNvbmNhdChpKSkpXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHBhdGhzXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kQ2hpbGRQcm9wUGF0aHMoXG4gIHZhbHVlOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICBwcm9wczogUmVjb3JkPHN0cmluZywgQ29tcG9uZW50U2NoZW1hPlxuKTogeyBwYXRoOiBSZWFkb25seVByb3BQYXRoIHwgdW5kZWZpbmVkOyBvcHRpb25zOiBDaGlsZEZpZWxkWydvcHRpb25zJ10gfVtdIHtcbiAgY29uc3QgcHJvcFBhdGhzID0gZmluZENoaWxkUHJvcFBhdGhzRm9yUHJvcCh2YWx1ZSwgeyBraW5kOiAnb2JqZWN0JywgZmllbGRzOiBwcm9wcyB9LCBbXSlcbiAgaWYgKHByb3BQYXRocy5sZW5ndGgpIHJldHVybiBwcm9wUGF0aHNcblxuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIHBhdGg6IHVuZGVmaW5lZCxcbiAgICAgIG9wdGlvbnM6IHsga2luZDogJ2lubGluZScsIHBsYWNlaG9sZGVyOiAnJyB9LFxuICAgIH0sXG4gIF1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE5ldmVyKGFyZzogbmV2ZXIpOiBuZXZlciB7XG4gIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgdG8gbmV2ZXIgYmUgY2FsbGVkIGJ1dCByZWNlaXZlZDogJyArIEpTT04uc3RyaW5naWZ5KGFyZykpXG59XG5cbmV4cG9ydCB0eXBlIERvY3VtZW50RmVhdHVyZXNGb3JDaGlsZEZpZWxkID1cbiAgfCB7XG4gICAgICBraW5kOiAnaW5saW5lJ1xuICAgICAgaW5saW5lTWFya3M6ICdpbmhlcml0JyB8IERvY3VtZW50RmVhdHVyZXNbJ2Zvcm1hdHRpbmcnXVsnaW5saW5lTWFya3MnXVxuICAgICAgZG9jdW1lbnRGZWF0dXJlczoge1xuICAgICAgICBsaW5rczogYm9vbGVhblxuICAgICAgICByZWxhdGlvbnNoaXBzOiBib29sZWFuXG4gICAgICB9XG4gICAgICBzb2Z0QnJlYWtzOiBib29sZWFuXG4gICAgfVxuICB8IHtcbiAgICAgIGtpbmQ6ICdibG9jaydcbiAgICAgIGlubGluZU1hcmtzOiAnaW5oZXJpdCcgfCBEb2N1bWVudEZlYXR1cmVzWydmb3JtYXR0aW5nJ11bJ2lubGluZU1hcmtzJ11cbiAgICAgIHNvZnRCcmVha3M6IGJvb2xlYW5cbiAgICAgIGNvbXBvbmVudEJsb2NrczogYm9vbGVhblxuICAgICAgZG9jdW1lbnRGZWF0dXJlczogRG9jdW1lbnRGZWF0dXJlc0Zvck5vcm1hbGl6YXRpb25cbiAgICB9XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREb2N1bWVudEZlYXR1cmVzRm9yQ2hpbGRGaWVsZChcbiAgZWRpdG9yRG9jdW1lbnRGZWF0dXJlczogRG9jdW1lbnRGZWF0dXJlcyxcbiAgb3B0aW9uczogQ2hpbGRGaWVsZFsnb3B0aW9ucyddXG4pOiBEb2N1bWVudEZlYXR1cmVzRm9yQ2hpbGRGaWVsZCB7XG4gIC8vIGFuIGltcG9ydGFudCBub3RlIGZvciB0aGlzOiBub3JtYWxpemF0aW9uIGJhc2VkIG9uIGRvY3VtZW50IGZlYXR1cmVzXG4gIC8vIGlzIGRvbmUgYmFzZWQgb24gdGhlIGRvY3VtZW50IGZlYXR1cmVzIHJldHVybmVkIGhlcmVcbiAgLy8gYW5kIHRoZSBlZGl0b3IgZG9jdW1lbnQgZmVhdHVyZXNcbiAgLy8gc28gdGhlIHJlc3VsdCBmb3IgYW55IGdpdmVuIGNoaWxkIHByb3Agd2lsbCBiZSB0aGUgdGhpbmdzIHRoYXQgYXJlXG4gIC8vIGFsbG93ZWQgYnkgYm90aCB0aGVzZSBkb2N1bWVudCBmZWF0dXJlc1xuICAvLyBBTkQgdGhlIGVkaXRvciBkb2N1bWVudCBmZWF0dXJlc1xuICBjb25zdCBpbmxpbmVNYXJrc0Zyb21PcHRpb25zID0gb3B0aW9ucy5mb3JtYXR0aW5nPy5pbmxpbmVNYXJrc1xuXG4gIGNvbnN0IGlubGluZU1hcmtzID1cbiAgICBpbmxpbmVNYXJrc0Zyb21PcHRpb25zID09PSAnaW5oZXJpdCdcbiAgICAgID8gJ2luaGVyaXQnXG4gICAgICA6IChPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgT2JqZWN0LmtleXMoZWRpdG9yRG9jdW1lbnRGZWF0dXJlcy5mb3JtYXR0aW5nLmlubGluZU1hcmtzKS5tYXAobWFyayA9PiB7XG4gICAgICAgICAgICByZXR1cm4gW21hcmsgYXMgTWFyaywgISEoaW5saW5lTWFya3NGcm9tT3B0aW9ucyB8fCB7fSlbbWFyayBhcyBNYXJrXV1cbiAgICAgICAgICB9KVxuICAgICAgICApIGFzIFJlY29yZDxNYXJrLCBib29sZWFuPilcbiAgaWYgKG9wdGlvbnMua2luZCA9PT0gJ2lubGluZScpIHtcbiAgICByZXR1cm4ge1xuICAgICAga2luZDogJ2lubGluZScsXG4gICAgICBpbmxpbmVNYXJrcyxcbiAgICAgIGRvY3VtZW50RmVhdHVyZXM6IHtcbiAgICAgICAgbGlua3M6IG9wdGlvbnMubGlua3MgPT09ICdpbmhlcml0JyxcbiAgICAgICAgcmVsYXRpb25zaGlwczogb3B0aW9ucy5yZWxhdGlvbnNoaXBzID09PSAnaW5oZXJpdCcsXG4gICAgICB9LFxuICAgICAgc29mdEJyZWFrczogb3B0aW9ucy5mb3JtYXR0aW5nPy5zb2Z0QnJlYWtzID09PSAnaW5oZXJpdCcsXG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAga2luZDogJ2Jsb2NrJyxcbiAgICBpbmxpbmVNYXJrcyxcbiAgICBzb2Z0QnJlYWtzOiBvcHRpb25zLmZvcm1hdHRpbmc/LnNvZnRCcmVha3MgPT09ICdpbmhlcml0JyxcbiAgICBkb2N1bWVudEZlYXR1cmVzOiB7XG4gICAgICBsYXlvdXRzOiBbXSxcbiAgICAgIGRpdmlkZXJzOiBvcHRpb25zLmRpdmlkZXJzID09PSAnaW5oZXJpdCcgPyBlZGl0b3JEb2N1bWVudEZlYXR1cmVzLmRpdmlkZXJzIDogZmFsc2UsXG4gICAgICBmb3JtYXR0aW5nOiB7XG4gICAgICAgIGFsaWdubWVudDpcbiAgICAgICAgICBvcHRpb25zLmZvcm1hdHRpbmc/LmFsaWdubWVudCA9PT0gJ2luaGVyaXQnXG4gICAgICAgICAgICA/IGVkaXRvckRvY3VtZW50RmVhdHVyZXMuZm9ybWF0dGluZy5hbGlnbm1lbnRcbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIGNlbnRlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgZW5kOiBmYWxzZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgYmxvY2tUeXBlczpcbiAgICAgICAgICBvcHRpb25zLmZvcm1hdHRpbmc/LmJsb2NrVHlwZXMgPT09ICdpbmhlcml0J1xuICAgICAgICAgICAgPyBlZGl0b3JEb2N1bWVudEZlYXR1cmVzLmZvcm1hdHRpbmcuYmxvY2tUeXBlc1xuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgYmxvY2txdW90ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29kZTogZmFsc2UsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgIGhlYWRpbmdMZXZlbHM6XG4gICAgICAgICAgb3B0aW9ucy5mb3JtYXR0aW5nPy5oZWFkaW5nTGV2ZWxzID09PSAnaW5oZXJpdCdcbiAgICAgICAgICAgID8gZWRpdG9yRG9jdW1lbnRGZWF0dXJlcy5mb3JtYXR0aW5nLmhlYWRpbmdMZXZlbHNcbiAgICAgICAgICAgIDogb3B0aW9ucy5mb3JtYXR0aW5nPy5oZWFkaW5nTGV2ZWxzIHx8IFtdLFxuICAgICAgICBsaXN0VHlwZXM6XG4gICAgICAgICAgb3B0aW9ucy5mb3JtYXR0aW5nPy5saXN0VHlwZXMgPT09ICdpbmhlcml0J1xuICAgICAgICAgICAgPyBlZGl0b3JEb2N1bWVudEZlYXR1cmVzLmZvcm1hdHRpbmcubGlzdFR5cGVzXG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICBvcmRlcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB1bm9yZGVyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGxpbmtzOiBvcHRpb25zLmxpbmtzID09PSAnaW5oZXJpdCcsXG4gICAgICByZWxhdGlvbnNoaXBzOiBvcHRpb25zLnJlbGF0aW9uc2hpcHMgPT09ICdpbmhlcml0JyxcbiAgICB9LFxuICAgIGNvbXBvbmVudEJsb2Nrczogb3B0aW9ucy5jb21wb25lbnRCbG9ja3MgPT09ICdpbmhlcml0JyxcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTY2hlbWFBdFByb3BQYXRoSW5uZXIoXG4gIHBhdGg6IChzdHJpbmcgfCBudW1iZXIpW10sXG4gIHZhbHVlOiB1bmtub3duLFxuICBzY2hlbWE6IENvbXBvbmVudFNjaGVtYVxuKTogdW5kZWZpbmVkIHwgQ29tcG9uZW50U2NoZW1hIHtcbiAgLy8gYmVjYXVzZSB3ZSdyZSBjaGVja2luZyB0aGUgbGVuZ3RoIGhlcmVcbiAgLy8gdGhlIG5vbi1udWxsIGFzc2VydHMgb24gc2hpZnQgYmVsb3cgYXJlIGZpbmVcbiAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSByZXR1cm4gc2NoZW1hXG4gIGlmIChzY2hlbWEua2luZCA9PT0gJ2NoaWxkJyB8fCBzY2hlbWEua2luZCA9PT0gJ2Zvcm0nIHx8IHNjaGVtYS5raW5kID09PSAncmVsYXRpb25zaGlwJykgcmV0dXJuXG4gIGlmIChzY2hlbWEua2luZCA9PT0gJ2NvbmRpdGlvbmFsJykge1xuICAgIGNvbnN0IGtleSA9IHBhdGguc2hpZnQoKVxuICAgIGlmIChrZXkgPT09ICdkaXNjcmltaW5hbnQnKVxuICAgICAgcmV0dXJuIGdldFNjaGVtYUF0UHJvcFBhdGhJbm5lcihwYXRoLCAodmFsdWUgYXMgYW55KS5kaXNjcmltaW5hbnQsIHNjaGVtYS5kaXNjcmltaW5hbnQpXG4gICAgaWYgKGtleSA9PT0gJ3ZhbHVlJykge1xuICAgICAgY29uc3QgcHJvcFZhbCA9IHNjaGVtYS52YWx1ZXNbKHZhbHVlIGFzIGFueSkuZGlzY3JpbWluYW50XVxuICAgICAgcmV0dXJuIGdldFNjaGVtYUF0UHJvcFBhdGhJbm5lcihwYXRoLCAodmFsdWUgYXMgYW55KS52YWx1ZSwgcHJvcFZhbClcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKHNjaGVtYS5raW5kID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IGtleSA9IHBhdGguc2hpZnQoKSFcbiAgICByZXR1cm4gZ2V0U2NoZW1hQXRQcm9wUGF0aElubmVyKHBhdGgsICh2YWx1ZSBhcyBhbnkpW2tleV0sIHNjaGVtYS5maWVsZHNba2V5XSlcbiAgfVxuICBpZiAoc2NoZW1hLmtpbmQgPT09ICdhcnJheScpIHtcbiAgICBjb25zdCBpbmRleCA9IHBhdGguc2hpZnQoKSFcbiAgICByZXR1cm4gZ2V0U2NoZW1hQXRQcm9wUGF0aElubmVyKHBhdGgsICh2YWx1ZSBhcyBhbnkpW2luZGV4XSwgc2NoZW1hLmVsZW1lbnQpXG4gIH1cbiAgYXNzZXJ0TmV2ZXIoc2NoZW1hKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NoZW1hQXRQcm9wUGF0aChcbiAgcGF0aDogUmVhZG9ubHlQcm9wUGF0aCxcbiAgdmFsdWU6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuICBwcm9wczogUmVjb3JkPHN0cmluZywgQ29tcG9uZW50U2NoZW1hPlxuKTogdW5kZWZpbmVkIHwgQ29tcG9uZW50U2NoZW1hIHtcbiAgcmV0dXJuIGdldFNjaGVtYUF0UHJvcFBhdGhJbm5lcihbLi4ucGF0aF0sIHZhbHVlLCB7XG4gICAga2luZDogJ29iamVjdCcsXG4gICAgZmllbGRzOiBwcm9wcyxcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsaWVudFNpZGVWYWxpZGF0ZVByb3Aoc2NoZW1hOiBDb21wb25lbnRTY2hlbWEsIHZhbHVlOiB1bmtub3duKTogYm9vbGVhbiB7XG4gIGlmIChzY2hlbWEua2luZCA9PT0gJ2NoaWxkJykgcmV0dXJuIHRydWVcbiAgaWYgKHNjaGVtYS5raW5kID09PSAncmVsYXRpb25zaGlwJykgcmV0dXJuIHRydWVcbiAgaWYgKHNjaGVtYS5raW5kID09PSAnZm9ybScpIHJldHVybiBzY2hlbWEudmFsaWRhdGUodmFsdWUpXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKSByZXR1cm4gZmFsc2VcbiAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gZmFsc2VcbiAgc3dpdGNoIChzY2hlbWEua2luZCkge1xuICAgIGNhc2UgJ2NvbmRpdGlvbmFsJzoge1xuICAgICAgaWYgKCEoJ2Rpc2NyaW1pbmFudCcgaW4gdmFsdWUpIHx8ICEoJ3ZhbHVlJyBpbiB2YWx1ZSkpIHJldHVybiBmYWxzZVxuICAgICAgaWYgKCFzY2hlbWEuZGlzY3JpbWluYW50LnZhbGlkYXRlKHZhbHVlLmRpc2NyaW1pbmFudCkpIHJldHVybiBmYWxzZVxuICAgICAgcmV0dXJuIGNsaWVudFNpZGVWYWxpZGF0ZVByb3AoXG4gICAgICAgIHNjaGVtYS52YWx1ZXNbXG4gICAgICAgICAgLy8gbm90IGFjdHVhbGx5IGdvbm5hIGFsd2F5cyBiZSBhIHN0cmluZyBidXQganVzdCBsZXQgcHJvcGVydHkgYWNjZXNzIGRvIHRoZSBjb2VyY2lvblxuICAgICAgICAgIHZhbHVlLmRpc2NyaW1pbmFudCBhcyBzdHJpbmdcbiAgICAgICAgXSxcbiAgICAgICAgdmFsdWUudmFsdWVcbiAgICAgIClcbiAgICB9XG4gICAgY2FzZSAnb2JqZWN0Jzoge1xuICAgICAgZm9yIChjb25zdCBba2V5LCBjaGlsZFByb3BdIG9mIE9iamVjdC5lbnRyaWVzKHNjaGVtYS5maWVsZHMpKSB7XG4gICAgICAgIGlmICghY2xpZW50U2lkZVZhbGlkYXRlUHJvcChjaGlsZFByb3AsICh2YWx1ZSBhcyBhbnkpW2tleV0pKSByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIGNhc2UgJ2FycmF5Jzoge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkgcmV0dXJuIGZhbHNlXG4gICAgICBmb3IgKGNvbnN0IGlubmVyVmFsIG9mIHZhbHVlKSB7XG4gICAgICAgIGlmICghY2xpZW50U2lkZVZhbGlkYXRlUHJvcChzY2hlbWEuZWxlbWVudCwgaW5uZXJWYWwpKSByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbmNlc3RvclNjaGVtYXMoXG4gIHJvb3RTY2hlbWE6IENvbXBvbmVudFNjaGVtYSxcbiAgcGF0aDogUmVhZG9ubHlQcm9wUGF0aCxcbiAgdmFsdWU6IHVua25vd25cbikge1xuICBjb25zdCBhbmNlc3RvcnM6IENvbXBvbmVudFNjaGVtYVtdID0gW11cbiAgY29uc3QgY3VycmVudFBhdGggPSBbLi4ucGF0aF1cbiAgbGV0IGN1cnJlbnRQcm9wID0gcm9vdFNjaGVtYVxuICBsZXQgY3VycmVudFZhbHVlID0gdmFsdWVcbiAgd2hpbGUgKGN1cnJlbnRQYXRoLmxlbmd0aCkge1xuICAgIGFuY2VzdG9ycy5wdXNoKGN1cnJlbnRQcm9wKVxuICAgIGNvbnN0IGtleSA9IGN1cnJlbnRQYXRoLnNoaWZ0KCkhIC8vIHRoaXMgY29kZSBvbmx5IHJ1bnMgd2hlbiBwYXRoLmxlbmd0aCBpcyB0cnV0aHkgc28gdGhpcyBub24tbnVsbCBhc3NlcnRpb24gaXMgZmluZVxuICAgIGlmIChjdXJyZW50UHJvcC5raW5kID09PSAnYXJyYXknKSB7XG4gICAgICBjdXJyZW50UHJvcCA9IGN1cnJlbnRQcm9wLmVsZW1lbnRcbiAgICAgIGN1cnJlbnRWYWx1ZSA9IChjdXJyZW50VmFsdWUgYXMgYW55KVtrZXldXG4gICAgfSBlbHNlIGlmIChjdXJyZW50UHJvcC5raW5kID09PSAnY29uZGl0aW9uYWwnKSB7XG4gICAgICBjdXJyZW50UHJvcCA9IGN1cnJlbnRQcm9wLnZhbHVlc1sodmFsdWUgYXMgYW55KS5kaXNjcmltaW5hbnRdXG4gICAgICBjdXJyZW50VmFsdWUgPSAoY3VycmVudFZhbHVlIGFzIGFueSkudmFsdWVcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRQcm9wLmtpbmQgPT09ICdvYmplY3QnKSB7XG4gICAgICBjdXJyZW50VmFsdWUgPSAoY3VycmVudFZhbHVlIGFzIGFueSlba2V5XVxuICAgICAgY3VycmVudFByb3AgPSBjdXJyZW50UHJvcC5maWVsZHNba2V5XVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICBjdXJyZW50UHJvcC5raW5kID09PSAnY2hpbGQnIHx8XG4gICAgICBjdXJyZW50UHJvcC5raW5kID09PSAnZm9ybScgfHxcbiAgICAgIGN1cnJlbnRQcm9wLmtpbmQgPT09ICdyZWxhdGlvbnNoaXAnXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHVuZXhwZWN0ZWQgcHJvcCBcIiR7a2V5fVwiYClcbiAgICB9IGVsc2Uge1xuICAgICAgYXNzZXJ0TmV2ZXIoY3VycmVudFByb3ApXG4gICAgfVxuICB9XG4gIHJldHVybiBhbmNlc3RvcnNcbn1cblxuZXhwb3J0IHR5cGUgUmVhZG9ubHlQcm9wUGF0aCA9IHJlYWRvbmx5IChzdHJpbmcgfCBudW1iZXIpW11cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlQXRQcm9wUGF0aCh2YWx1ZTogdW5rbm93biwgaW5wdXRQYXRoOiBSZWFkb25seVByb3BQYXRoKSB7XG4gIGNvbnN0IHBhdGggPSBbLi4uaW5wdXRQYXRoXVxuICB3aGlsZSAocGF0aC5sZW5ndGgpIHtcbiAgICBjb25zdCBrZXkgPSBwYXRoLnNoaWZ0KCkhXG4gICAgdmFsdWUgPSAodmFsdWUgYXMgYW55KVtrZXldXG4gIH1cbiAgcmV0dXJuIHZhbHVlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmF2ZXJzZVByb3BzKFxuICBzY2hlbWE6IENvbXBvbmVudFNjaGVtYSxcbiAgdmFsdWU6IHVua25vd24sXG4gIHZpc2l0b3I6IChzY2hlbWE6IENvbXBvbmVudFNjaGVtYSwgdmFsdWU6IHVua25vd24sIHBhdGg6IFJlYWRvbmx5UHJvcFBhdGgpID0+IHZvaWQsXG4gIHBhdGg6IFJlYWRvbmx5UHJvcFBhdGggPSBbXVxuKSB7XG4gIGlmIChzY2hlbWEua2luZCA9PT0gJ2Zvcm0nIHx8IHNjaGVtYS5raW5kID09PSAncmVsYXRpb25zaGlwJyB8fCBzY2hlbWEua2luZCA9PT0gJ2NoaWxkJykge1xuICAgIHZpc2l0b3Ioc2NoZW1hLCB2YWx1ZSwgcGF0aClcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoc2NoZW1hLmtpbmQgPT09ICdvYmplY3QnKSB7XG4gICAgZm9yIChjb25zdCBba2V5LCBjaGlsZFByb3BdIG9mIE9iamVjdC5lbnRyaWVzKHNjaGVtYS5maWVsZHMpKSB7XG4gICAgICB0cmF2ZXJzZVByb3BzKGNoaWxkUHJvcCwgKHZhbHVlIGFzIGFueSlba2V5XSwgdmlzaXRvciwgWy4uLnBhdGgsIGtleV0pXG4gICAgfVxuICAgIHZpc2l0b3Ioc2NoZW1hLCB2YWx1ZSwgcGF0aClcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoc2NoZW1hLmtpbmQgPT09ICdhcnJheScpIHtcbiAgICBmb3IgKGNvbnN0IFtpZHgsIHZhbF0gb2YgKHZhbHVlIGFzIHVua25vd25bXSkuZW50cmllcygpKSB7XG4gICAgICB0cmF2ZXJzZVByb3BzKHNjaGVtYS5lbGVtZW50LCB2YWwsIHZpc2l0b3IsIHBhdGguY29uY2F0KGlkeCkpXG4gICAgfVxuICAgIHJldHVybiB2aXNpdG9yKHNjaGVtYSwgdmFsdWUsIHBhdGgpXG4gIH1cbiAgaWYgKHNjaGVtYS5raW5kID09PSAnY29uZGl0aW9uYWwnKSB7XG4gICAgY29uc3QgZGlzY3JpbWluYW50OiBzdHJpbmcgfCBib29sZWFuID0gKHZhbHVlIGFzIGFueSkuZGlzY3JpbWluYW50XG4gICAgdmlzaXRvcihzY2hlbWEsIGRpc2NyaW1pbmFudCwgcGF0aC5jb25jYXQoJ2Rpc2NyaW1pbmFudCcpKVxuICAgIHRyYXZlcnNlUHJvcHMoXG4gICAgICBzY2hlbWEudmFsdWVzW2Rpc2NyaW1pbmFudC50b1N0cmluZygpXSxcbiAgICAgICh2YWx1ZSBhcyBhbnkpLnZhbHVlLFxuICAgICAgdmlzaXRvcixcbiAgICAgIHBhdGguY29uY2F0KCd2YWx1ZScpXG4gICAgKVxuICAgIHZpc2l0b3Ioc2NoZW1hLCB2YWx1ZSwgcGF0aClcbiAgICByZXR1cm5cbiAgfVxuICBhc3NlcnROZXZlcihzY2hlbWEpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBsYWNlVmFsdWVBdFByb3BQYXRoKFxuICBzY2hlbWE6IENvbXBvbmVudFNjaGVtYSxcbiAgdmFsdWU6IHVua25vd24sXG4gIG5ld1ZhbHVlOiB1bmtub3duLFxuICBwYXRoOiBSZWFkb25seVByb3BQYXRoXG4pOiB1bmtub3duIHtcbiAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSByZXR1cm4gbmV3VmFsdWVcblxuICBjb25zdCBba2V5LCAuLi5uZXdQYXRoXSA9IHBhdGhcblxuICBpZiAoc2NoZW1hLmtpbmQgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLih2YWx1ZSBhcyBhbnkpLFxuICAgICAgW2tleV06IHJlcGxhY2VWYWx1ZUF0UHJvcFBhdGgoc2NoZW1hLmZpZWxkc1trZXldLCAodmFsdWUgYXMgYW55KVtrZXldLCBuZXdWYWx1ZSwgbmV3UGF0aCksXG4gICAgfVxuICB9XG5cbiAgaWYgKHNjaGVtYS5raW5kID09PSAnY29uZGl0aW9uYWwnKSB7XG4gICAgY29uc3QgY29uZGl0aW9uYWxWYWx1ZSA9IHZhbHVlIGFzIHsgZGlzY3JpbWluYW50OiBzdHJpbmcgfCBib29sZWFuOyB2YWx1ZTogdW5rbm93biB9XG4gICAgLy8gcmVwbGFjZVZhbHVlQXRQcm9wUGF0aCBzaG91bGQgbm90IGJlIHVzZWQgdG8gb25seSB1cGRhdGUgdGhlIGRpc2NyaW1pbmFudCBvZiBhIGNvbmRpdGlvbmFsIGZpZWxkXG4gICAgLy8gaWYgeW91IHdhbnQgdG8gdXBkYXRlIHRoZSBkaXNjcmltaW5hbnQgb2YgYSBjb25kaXRpb25hbCBmaWVsZCwgcmVwbGFjZSB0aGUgdmFsdWUgb2YgdGhlIHdob2xlIGNvbmRpdGlvbmFsIGZpZWxkXG4gICAgYXNzZXJ0KGtleSA9PT0gJ3ZhbHVlJylcbiAgICByZXR1cm4ge1xuICAgICAgZGlzY3JpbWluYW50OiBjb25kaXRpb25hbFZhbHVlLmRpc2NyaW1pbmFudCxcbiAgICAgIHZhbHVlOiByZXBsYWNlVmFsdWVBdFByb3BQYXRoKHNjaGVtYS52YWx1ZXNba2V5XSwgY29uZGl0aW9uYWxWYWx1ZS52YWx1ZSwgbmV3VmFsdWUsIG5ld1BhdGgpLFxuICAgIH1cbiAgfVxuXG4gIGlmIChzY2hlbWEua2luZCA9PT0gJ2FycmF5Jykge1xuICAgIGNvbnN0IHByZXZWYWwgPSB2YWx1ZSBhcyB1bmtub3duW11cbiAgICBjb25zdCBuZXdWYWwgPSBbLi4ucHJldlZhbF1cbiAgICBzZXRLZXlzRm9yQXJyYXlWYWx1ZShuZXdWYWwsIGdldEtleXNGb3JBcnJheVZhbHVlKHByZXZWYWwpKVxuICAgIG5ld1ZhbFtrZXkgYXMgbnVtYmVyXSA9IHJlcGxhY2VWYWx1ZUF0UHJvcFBhdGgoXG4gICAgICBzY2hlbWEuZWxlbWVudCxcbiAgICAgIG5ld1ZhbFtrZXkgYXMgbnVtYmVyXSxcbiAgICAgIG5ld1ZhbHVlLFxuICAgICAgbmV3UGF0aFxuICAgIClcbiAgICByZXR1cm4gbmV3VmFsXG4gIH1cblxuICAvLyB3ZSBzaG91bGQgbmV2ZXIgcmVhY2ggaGVyZSBzaW5jZSBmb3JtLCByZWxhdGlvbnNoaXAgb3IgY2hpbGQgZmllbGRzIGRvbid0IGNvbnRhaW4gb3RoZXIgZmllbGRzXG4gIC8vIHNvIHRoZSBvbmx5IHRoaW5nIHRoYXQgY2FuIGhhcHBlbiB0byB0aGVtIGlzIHRvIGJlIHJlcGxhY2VkIHdoaWNoIGhhcHBlbnMgYXQgdGhlIHN0YXJ0IG9mIHRoaXMgZnVuY3Rpb24gd2hlbiBwYXRoLmxlbmd0aCA9PT0gMFxuICBhc3NlcnQoc2NoZW1hLmtpbmQgIT09ICdmb3JtJyAmJiBzY2hlbWEua2luZCAhPT0gJ3JlbGF0aW9uc2hpcCcgJiYgc2NoZW1hLmtpbmQgIT09ICdjaGlsZCcpXG5cbiAgYXNzZXJ0TmV2ZXIoc2NoZW1hKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGxhY2Vob2xkZXJUZXh0Rm9yUHJvcFBhdGgoXG4gIHByb3BQYXRoOiBSZWFkb25seVByb3BQYXRoLFxuICBmaWVsZHM6IFJlY29yZDxzdHJpbmcsIENvbXBvbmVudFNjaGVtYT4sXG4gIGZvcm1Qcm9wczogUmVjb3JkPHN0cmluZywgYW55PlxuKTogc3RyaW5nIHtcbiAgY29uc3QgZmllbGQgPSBnZXRTY2hlbWFBdFByb3BQYXRoKHByb3BQYXRoLCBmb3JtUHJvcHMsIGZpZWxkcylcbiAgaWYgKGZpZWxkPy5raW5kID09PSAnY2hpbGQnKSByZXR1cm4gZmllbGQub3B0aW9ucy5wbGFjZWhvbGRlclxuICByZXR1cm4gJydcbn1cbiJdLCJuYW1lcyI6WyJhc3NlcnQiLCJnZXRLZXlzRm9yQXJyYXlWYWx1ZSIsInNldEtleXNGb3JBcnJheVZhbHVlIiwiZmluZENoaWxkUHJvcFBhdGhzRm9yUHJvcCIsInZhbHVlIiwic2NoZW1hIiwicGF0aCIsImtpbmQiLCJvcHRpb25zIiwidmFsdWVzIiwiZGlzY3JpbWluYW50IiwiY29uY2F0IiwicGF0aHMiLCJPYmplY3QiLCJrZXlzIiwiZmllbGRzIiwiZm9yRWFjaCIsImtleSIsInB1c2giLCJ2YWwiLCJpIiwiZWxlbWVudCIsImZpbmRDaGlsZFByb3BQYXRocyIsInByb3BzIiwicHJvcFBhdGhzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwicGxhY2Vob2xkZXIiLCJhc3NlcnROZXZlciIsImFyZyIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldERvY3VtZW50RmVhdHVyZXNGb3JDaGlsZEZpZWxkIiwiZWRpdG9yRG9jdW1lbnRGZWF0dXJlcyIsImlubGluZU1hcmtzRnJvbU9wdGlvbnMiLCJmb3JtYXR0aW5nIiwiaW5saW5lTWFya3MiLCJmcm9tRW50cmllcyIsIm1hcCIsIm1hcmsiLCJkb2N1bWVudEZlYXR1cmVzIiwibGlua3MiLCJyZWxhdGlvbnNoaXBzIiwic29mdEJyZWFrcyIsImxheW91dHMiLCJkaXZpZGVycyIsImFsaWdubWVudCIsImNlbnRlciIsImVuZCIsImJsb2NrVHlwZXMiLCJibG9ja3F1b3RlIiwiY29kZSIsImhlYWRpbmdMZXZlbHMiLCJsaXN0VHlwZXMiLCJvcmRlcmVkIiwidW5vcmRlcmVkIiwiY29tcG9uZW50QmxvY2tzIiwiZ2V0U2NoZW1hQXRQcm9wUGF0aElubmVyIiwic2hpZnQiLCJwcm9wVmFsIiwiaW5kZXgiLCJnZXRTY2hlbWFBdFByb3BQYXRoIiwiY2xpZW50U2lkZVZhbGlkYXRlUHJvcCIsInZhbGlkYXRlIiwiY2hpbGRQcm9wIiwiZW50cmllcyIsIkFycmF5IiwiaXNBcnJheSIsImlubmVyVmFsIiwiZ2V0QW5jZXN0b3JTY2hlbWFzIiwicm9vdFNjaGVtYSIsImFuY2VzdG9ycyIsImN1cnJlbnRQYXRoIiwiY3VycmVudFByb3AiLCJjdXJyZW50VmFsdWUiLCJnZXRWYWx1ZUF0UHJvcFBhdGgiLCJpbnB1dFBhdGgiLCJ0cmF2ZXJzZVByb3BzIiwidmlzaXRvciIsImlkeCIsInRvU3RyaW5nIiwicmVwbGFjZVZhbHVlQXRQcm9wUGF0aCIsIm5ld1ZhbHVlIiwibmV3UGF0aCIsImNvbmRpdGlvbmFsVmFsdWUiLCJwcmV2VmFsIiwibmV3VmFsIiwiZ2V0UGxhY2Vob2xkZXJUZXh0Rm9yUHJvcFBhdGgiLCJwcm9wUGF0aCIsImZvcm1Qcm9wcyIsImZpZWxkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/component-blocks/utils.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/component-blocks/with-component-blocks.tsx":
/*!**********************************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/component-blocks/with-component-blocks.tsx ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withComponentBlocks: () => (/* binding */ withComponentBlocks)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _emotion_weak_memoize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/weak-memoize */ \"../../../../node_modules/.pnpm/@emotion+weak-memoize@0.4.0/node_modules/@emotion/weak-memoize/dist/emotion-weak-memoize.esm.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n/* harmony import */ var _document_features_normalization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../document-features-normalization */ \"../../../../packages/fields-document/src/DocumentEditor/document-features-normalization.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/utils.ts\");\n/* harmony import */ var _initial_values__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./initial-values */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/initial-values.ts\");\n/* harmony import */ var _preview_props__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./preview-props */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/preview-props.ts\");\n\n\n\n\n\n\n\nfunction getAncestorComponentBlock(editor) {\n    if (editor.selection) {\n        const ancestorEntry = slate__WEBPACK_IMPORTED_MODULE_6__.Editor.above(editor, {\n            match: (node)=>slate__WEBPACK_IMPORTED_MODULE_6__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_6__.Editor.isBlock(editor, node) && node.type !== 'paragraph'\n        });\n        if (ancestorEntry && (ancestorEntry[0].type === 'component-block-prop' || ancestorEntry[0].type === 'component-inline-prop')) {\n            return {\n                isInside: true,\n                componentBlock: slate__WEBPACK_IMPORTED_MODULE_6__.Editor.parent(editor, ancestorEntry[1]),\n                prop: ancestorEntry\n            };\n        }\n    }\n    return {\n        isInside: false\n    };\n}\nconst alreadyNormalizedThings = new WeakMap();\nfunction normalizeNodeWithinComponentProp([node, path], editor, fieldOptions, relationships) {\n    let alreadyNormalizedNodes = alreadyNormalizedThings.get(fieldOptions);\n    if (!alreadyNormalizedNodes) {\n        alreadyNormalizedNodes = new WeakSet();\n        alreadyNormalizedThings.set(fieldOptions, alreadyNormalizedNodes);\n    }\n    if (alreadyNormalizedNodes.has(node)) return false;\n    let didNormalization = false;\n    if (fieldOptions.inlineMarks !== 'inherit' && slate__WEBPACK_IMPORTED_MODULE_6__.Text.isText(node)) {\n        didNormalization = (0,_document_features_normalization__WEBPACK_IMPORTED_MODULE_2__.normalizeTextBasedOnInlineMarksAndSoftBreaks)([\n            node,\n            path\n        ], editor, fieldOptions.inlineMarks, fieldOptions.softBreaks);\n    }\n    if (slate__WEBPACK_IMPORTED_MODULE_6__.Element.isElement(node)) {\n        for (const [i, child] of node.children.entries()){\n            if (normalizeNodeWithinComponentProp([\n                child,\n                [\n                    ...path,\n                    i\n                ]\n            ], editor, fieldOptions, relationships)) {\n                return true;\n            }\n        }\n        if (fieldOptions.kind === 'block') {\n            if (node.type === 'component-block') {\n                if (!fieldOptions.componentBlocks) {\n                    slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.unwrapNodes(editor, {\n                        at: path\n                    });\n                    didNormalization = true;\n                }\n            } else {\n                didNormalization = (0,_document_features_normalization__WEBPACK_IMPORTED_MODULE_2__.normalizeElementBasedOnDocumentFeatures)([\n                    node,\n                    path\n                ], editor, fieldOptions.documentFeatures, relationships);\n            }\n        } else {\n            didNormalization = (0,_document_features_normalization__WEBPACK_IMPORTED_MODULE_2__.normalizeInlineBasedOnLinksAndRelationships)([\n                node,\n                path\n            ], editor, fieldOptions.documentFeatures.links, fieldOptions.documentFeatures.relationships, relationships);\n        }\n    }\n    if (didNormalization === false) {\n        alreadyNormalizedNodes.add(node);\n    }\n    return didNormalization;\n}\nfunction canSchemaContainChildField(rootSchema) {\n    const queue = new Set([\n        rootSchema\n    ]);\n    for (const schema of queue){\n        if (schema.kind === 'form' || schema.kind === 'relationship') continue;\n        if (schema.kind === 'child') return true;\n        if (schema.kind === 'array') {\n            queue.add(schema.element);\n            continue;\n        }\n        if (schema.kind === 'object') {\n            for (const innerProp of Object.values(schema.fields)){\n                queue.add(innerProp);\n            }\n            continue;\n        }\n        if (schema.kind === 'conditional') {\n            for (const innerProp of Object.values(schema.values)){\n                queue.add(innerProp);\n            }\n            continue;\n        }\n        (0,_utils__WEBPACK_IMPORTED_MODULE_3__.assertNever)(schema);\n    }\n    return false;\n}\nfunction doesSchemaOnlyEverContainASingleChildField(rootSchema) {\n    const queue = new Set([\n        rootSchema\n    ]);\n    let hasFoundChildField = false;\n    for (const schema of queue){\n        if (schema.kind === 'form' || schema.kind === 'relationship') continue;\n        if (schema.kind === 'child') {\n            if (hasFoundChildField) return false;\n            hasFoundChildField = true;\n            continue;\n        }\n        if (schema.kind === 'array') {\n            if (canSchemaContainChildField(schema.element)) return false;\n            continue;\n        }\n        if (schema.kind === 'object') {\n            for (const innerProp of Object.values(schema.fields)){\n                queue.add(innerProp);\n            }\n            continue;\n        }\n        if (schema.kind === 'conditional') {\n            for (const innerProp of Object.values(schema.values)){\n                queue.add(innerProp);\n            }\n            continue;\n        }\n        (0,_utils__WEBPACK_IMPORTED_MODULE_3__.assertNever)(schema);\n    }\n    return hasFoundChildField;\n}\nfunction findArrayFieldsWithSingleChildField(schema, value) {\n    const propPaths = [];\n    (0,_utils__WEBPACK_IMPORTED_MODULE_3__.traverseProps)(schema, value, (schema, value, path)=>{\n        if (schema.kind === 'array' && doesSchemaOnlyEverContainASingleChildField(schema.element)) {\n            propPaths.push([\n                path,\n                schema\n            ]);\n        }\n    });\n    return propPaths;\n}\nfunction isEmptyChildFieldNode(element) {\n    const firstChild = element.children[0];\n    return element.children.length === 1 && (element.type === 'component-inline-prop' && firstChild.type === undefined && firstChild.text === '' || element.type === 'component-block-prop' && firstChild.type === 'paragraph' && firstChild.children.length === 1 && firstChild.children[0].type === undefined && firstChild.children[0].text === '');\n}\nfunction withComponentBlocks(blockComponents, editorDocumentFeatures, relationships, editor) {\n    // note that conflicts between the editor document features\n    // and the child field document features are dealt with elsewhere\n    const memoizedGetDocumentFeaturesForChildField = (0,_emotion_weak_memoize__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((options)=>{\n        return (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getDocumentFeaturesForChildField)(editorDocumentFeatures, options);\n    });\n    const { normalizeNode, deleteBackward, insertBreak } = editor;\n    editor.deleteBackward = (unit)=>{\n        if (editor.selection) {\n            const ancestorComponentBlock = getAncestorComponentBlock(editor);\n            if (ancestorComponentBlock.isInside && slate__WEBPACK_IMPORTED_MODULE_6__.Range.isCollapsed(editor.selection) && slate__WEBPACK_IMPORTED_MODULE_6__.Editor.isStart(editor, editor.selection.anchor, ancestorComponentBlock.prop[1]) && ancestorComponentBlock.prop[1][ancestorComponentBlock.prop[1].length - 1] === 0) {\n                slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.unwrapNodes(editor, {\n                    at: ancestorComponentBlock.componentBlock[1]\n                });\n                return;\n            }\n        }\n        deleteBackward(unit);\n    };\n    editor.insertBreak = ()=>{\n        const ancestorComponentBlock = getAncestorComponentBlock(editor);\n        if (editor.selection && ancestorComponentBlock.isInside) {\n            const { prop: [componentPropNode, componentPropPath], componentBlock: [componentBlockNode, componentBlockPath] } = ancestorComponentBlock;\n            const isLastProp = componentPropPath[componentPropPath.length - 1] === componentBlockNode.children.length - 1;\n            if (componentPropNode.type === 'component-block-prop') {\n                const [[paragraphNode, paragraphPath]] = slate__WEBPACK_IMPORTED_MODULE_6__.Editor.nodes(editor, {\n                    match: (node)=>node.type === 'paragraph'\n                });\n                const isLastParagraph = paragraphPath[paragraphPath.length - 1] === componentPropNode.children.length - 1;\n                if (slate__WEBPACK_IMPORTED_MODULE_6__.Node.string(paragraphNode) === '' && isLastParagraph) {\n                    if (isLastProp) {\n                        slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.moveNodes(editor, {\n                            at: paragraphPath,\n                            to: slate__WEBPACK_IMPORTED_MODULE_6__.Path.next(ancestorComponentBlock.componentBlock[1])\n                        });\n                    } else {\n                        slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.move(editor, {\n                            distance: 1,\n                            unit: 'line'\n                        });\n                        slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.removeNodes(editor, {\n                            at: paragraphPath\n                        });\n                    }\n                    return;\n                }\n            }\n            if (componentPropNode.type === 'component-inline-prop') {\n                slate__WEBPACK_IMPORTED_MODULE_6__.Editor.withoutNormalizing(editor, ()=>{\n                    const componentBlock = blockComponents[componentBlockNode.component];\n                    if (componentPropNode.propPath !== undefined && componentBlock !== undefined) {\n                        const rootSchema = {\n                            kind: 'object',\n                            fields: componentBlock.schema\n                        };\n                        const ancestorFields = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getAncestorSchemas)(rootSchema, componentPropNode.propPath, componentBlockNode.props);\n                        const idx = [\n                            ...ancestorFields\n                        ].reverse().findIndex((item)=>item.kind === 'array');\n                        if (idx !== -1) {\n                            const arrayFieldIdx = ancestorFields.length - 1 - idx;\n                            const arrayField = ancestorFields[arrayFieldIdx];\n                            (0,_utils__WEBPACK_IMPORTED_MODULE_1__.assert)(arrayField.kind === 'array');\n                            const val = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getValueAtPropPath)(componentBlockNode.props, componentPropNode.propPath.slice(0, arrayFieldIdx));\n                            if (doesSchemaOnlyEverContainASingleChildField(arrayField.element)) {\n                                if (slate__WEBPACK_IMPORTED_MODULE_6__.Node.string(componentPropNode) === '' && val.length - 1 === componentPropNode.propPath[arrayFieldIdx]) {\n                                    slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.removeNodes(editor, {\n                                        at: componentPropPath\n                                    });\n                                    if (isLastProp) {\n                                        slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.insertNodes(editor, {\n                                            type: 'paragraph',\n                                            children: [\n                                                {\n                                                    text: ''\n                                                }\n                                            ]\n                                        }, {\n                                            at: slate__WEBPACK_IMPORTED_MODULE_6__.Path.next(componentBlockPath)\n                                        });\n                                        slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.select(editor, slate__WEBPACK_IMPORTED_MODULE_6__.Path.next(componentBlockPath));\n                                    } else {\n                                        slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.move(editor, {\n                                            distance: 1,\n                                            unit: 'line'\n                                        });\n                                    }\n                                } else {\n                                    insertBreak();\n                                }\n                                return;\n                            }\n                        }\n                    }\n                    slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.splitNodes(editor, {\n                        always: true\n                    });\n                    const splitNodePath = slate__WEBPACK_IMPORTED_MODULE_6__.Path.next(componentPropPath);\n                    if (isLastProp) {\n                        slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.moveNodes(editor, {\n                            at: splitNodePath,\n                            to: slate__WEBPACK_IMPORTED_MODULE_6__.Path.next(componentBlockPath)\n                        });\n                    } else {\n                        (0,_utils__WEBPACK_IMPORTED_MODULE_1__.moveChildren)(editor, splitNodePath, [\n                            ...slate__WEBPACK_IMPORTED_MODULE_6__.Path.next(splitNodePath),\n                            0\n                        ]);\n                        slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.removeNodes(editor, {\n                            at: splitNodePath\n                        });\n                    }\n                });\n                return;\n            }\n        }\n        insertBreak();\n    };\n    editor.normalizeNode = (entry)=>{\n        const [node, path] = entry;\n        if (node.type === 'component-inline-prop' && !node.propPath && (node.children.length !== 1 || !slate__WEBPACK_IMPORTED_MODULE_6__.Text.isText(node.children[0]) || node.children[0].text !== '')) {\n            slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.removeNodes(editor, {\n                at: path\n            });\n            return;\n        }\n        if (node.type === 'component-block') {\n            const componentBlock = blockComponents[node.component];\n            if (componentBlock) {\n                const rootSchema = {\n                    kind: 'object',\n                    fields: componentBlock.schema\n                };\n                const updatedProps = addMissingFields(node.props, rootSchema);\n                if (updatedProps !== node.props) {\n                    slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.setNodes(editor, {\n                        props: updatedProps\n                    }, {\n                        at: path\n                    });\n                    return;\n                }\n                for (const [propPath, arrayField] of findArrayFieldsWithSingleChildField(rootSchema, node.props)){\n                    if (node.children.length === 1 && node.children[0].type === 'component-inline-prop' && node.children[0].propPath === undefined) {\n                        break;\n                    }\n                    const nodesWithin = [];\n                    for (const [idx, childNode] of node.children.entries()){\n                        if ((childNode.type === 'component-block-prop' || childNode.type === 'component-inline-prop') && childNode.propPath !== undefined) {\n                            const subPath = childNode.propPath.concat();\n                            while(subPath.length){\n                                if (typeof subPath.pop() === 'number') break;\n                            }\n                            if ((0,_document_features_normalization__WEBPACK_IMPORTED_MODULE_2__.areArraysEqual)(propPath, subPath)) {\n                                nodesWithin.push([\n                                    idx,\n                                    childNode\n                                ]);\n                            }\n                        }\n                    }\n                    const arrVal = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getValueAtPropPath)(node.props, propPath);\n                    const prevKeys = (0,_preview_props__WEBPACK_IMPORTED_MODULE_5__.getKeysForArrayValue)(arrVal);\n                    const prevKeysSet = new Set(prevKeys);\n                    const alreadyUsedIndicies = new Set();\n                    const newVal = [];\n                    const newKeys = [];\n                    const getNewKey = ()=>{\n                        let key = (0,_preview_props__WEBPACK_IMPORTED_MODULE_5__.getNewArrayElementKey)();\n                        while(prevKeysSet.has(key)){\n                            key = (0,_preview_props__WEBPACK_IMPORTED_MODULE_5__.getNewArrayElementKey)();\n                        }\n                        return key;\n                    };\n                    for (const [, node] of nodesWithin){\n                        const idxFromValue = node.propPath[propPath.length];\n                        (0,_utils__WEBPACK_IMPORTED_MODULE_1__.assert)(typeof idxFromValue === 'number');\n                        if (arrVal.length <= idxFromValue || alreadyUsedIndicies.has(idxFromValue) && isEmptyChildFieldNode(node)) {\n                            newVal.push((0,_initial_values__WEBPACK_IMPORTED_MODULE_4__.getInitialPropsValue)(arrayField.element));\n                            newKeys.push(getNewKey());\n                        } else {\n                            alreadyUsedIndicies.add(idxFromValue);\n                            newVal.push(arrVal[idxFromValue]);\n                            newKeys.push(alreadyUsedIndicies.has(idxFromValue) ? getNewKey() : prevKeys[idxFromValue]);\n                        }\n                    }\n                    (0,_preview_props__WEBPACK_IMPORTED_MODULE_5__.setKeysForArrayValue)(newVal, newKeys);\n                    if (!(0,_document_features_normalization__WEBPACK_IMPORTED_MODULE_2__.areArraysEqual)(arrVal, newVal)) {\n                        const transformedProps = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.replaceValueAtPropPath)(rootSchema, node.props, newVal, propPath);\n                        slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.setNodes(editor, {\n                            props: transformedProps\n                        }, {\n                            at: path\n                        });\n                        for (const [idx, [idxInChildrenOfBlock, nodeWithin]] of nodesWithin.entries()){\n                            const newPropPath = [\n                                ...nodeWithin.propPath\n                            ];\n                            newPropPath[propPath.length] = idx;\n                            slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.setNodes(editor, {\n                                propPath: newPropPath\n                            }, {\n                                at: [\n                                    ...path,\n                                    idxInChildrenOfBlock\n                                ]\n                            });\n                        }\n                        return;\n                    }\n                }\n                const missingKeys = new Map((0,_utils__WEBPACK_IMPORTED_MODULE_3__.findChildPropPaths)(node.props, componentBlock.schema).map((x)=>[\n                        JSON.stringify(x.path),\n                        x.options.kind\n                    ]));\n                node.children.forEach((node)=>{\n                    (0,_utils__WEBPACK_IMPORTED_MODULE_1__.assert)(node.type === 'component-block-prop' || node.type === 'component-inline-prop');\n                    missingKeys.delete(JSON.stringify(node.propPath));\n                });\n                if (missingKeys.size) {\n                    slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.insertNodes(editor, [\n                        ...missingKeys\n                    ].map(([prop, kind])=>({\n                            type: `component-${kind}-prop`,\n                            propPath: prop ? JSON.parse(prop) : prop,\n                            children: [\n                                {\n                                    text: ''\n                                }\n                            ]\n                        })), {\n                        at: [\n                            ...path,\n                            node.children.length\n                        ]\n                    });\n                    return;\n                }\n                const foundProps = new Set();\n                const stringifiedInlinePropPaths = {};\n                (0,_utils__WEBPACK_IMPORTED_MODULE_3__.findChildPropPaths)(node.props, blockComponents[node.component].schema).forEach((x, index)=>{\n                    stringifiedInlinePropPaths[JSON.stringify(x.path)] = {\n                        options: x.options,\n                        index\n                    };\n                });\n                for (const [index, childNode] of node.children.entries()){\n                    if (// children that are not these will be handled by\n                    // the generic allowedChildren normalization\n                    childNode.type !== 'component-inline-prop' && childNode.type !== 'component-block-prop') {\n                        continue;\n                    }\n                    const childPath = [\n                        ...path,\n                        index\n                    ];\n                    const stringifiedPropPath = JSON.stringify(childNode.propPath);\n                    if (stringifiedInlinePropPaths[stringifiedPropPath] === undefined) {\n                        slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.removeNodes(editor, {\n                            at: childPath\n                        });\n                        return;\n                    }\n                    if (foundProps.has(stringifiedPropPath)) {\n                        slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.removeNodes(editor, {\n                            at: childPath\n                        });\n                        return;\n                    }\n                    foundProps.add(stringifiedPropPath);\n                    const propInfo = stringifiedInlinePropPaths[stringifiedPropPath];\n                    const expectedIndex = propInfo.index;\n                    if (index !== expectedIndex) {\n                        slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.moveNodes(editor, {\n                            at: childPath,\n                            to: [\n                                ...path,\n                                expectedIndex\n                            ]\n                        });\n                        return;\n                    }\n                    const expectedChildNodeType = `component-${propInfo.options.kind}-prop`;\n                    if (childNode.type !== expectedChildNodeType) {\n                        slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.setNodes(editor, {\n                            type: expectedChildNodeType\n                        }, {\n                            at: childPath\n                        });\n                        return;\n                    }\n                    const documentFeatures = memoizedGetDocumentFeaturesForChildField(propInfo.options);\n                    if (normalizeNodeWithinComponentProp([\n                        childNode,\n                        childPath\n                    ], editor, documentFeatures, relationships)) {\n                        return;\n                    }\n                }\n            }\n        }\n        normalizeNode(entry);\n    };\n    return editor;\n}\n// the only thing that this will fix is a new field being added to an object field, nothing else.\nfunction addMissingFields(value, schema) {\n    if (schema.kind === 'child' || schema.kind === 'form' || schema.kind === 'relationship') {\n        return value;\n    }\n    if (schema.kind === 'conditional') {\n        const conditionalValue = value;\n        const updatedInnerValue = addMissingFields(conditionalValue.value, schema.values[conditionalValue.discriminant.toString()]);\n        if (updatedInnerValue === conditionalValue.value) {\n            return value;\n        }\n        return {\n            discriminant: conditionalValue.discriminant,\n            value: updatedInnerValue\n        };\n    }\n    if (schema.kind === 'array') {\n        const arrValue = value;\n        const newArrValue = arrValue.map((x)=>addMissingFields(x, schema.element));\n        if ((0,_document_features_normalization__WEBPACK_IMPORTED_MODULE_2__.areArraysEqual)(arrValue, newArrValue)) {\n            return value;\n        }\n        return newArrValue;\n    }\n    if (schema.kind === 'object') {\n        const objectValue = value;\n        let hasChanged = false;\n        const newObjectValue = {};\n        for (const [key, innerSchema] of Object.entries(schema.fields)){\n            const innerValue = objectValue[key];\n            if (innerValue === undefined) {\n                hasChanged = true;\n                newObjectValue[key] = (0,_initial_values__WEBPACK_IMPORTED_MODULE_4__.getInitialPropsValue)(innerSchema);\n                continue;\n            }\n            const newInnerValue = addMissingFields(innerValue, innerSchema);\n            if (newInnerValue !== innerValue) {\n                hasChanged = true;\n            }\n            newObjectValue[key] = newInnerValue;\n        }\n        if (hasChanged) {\n            return newObjectValue;\n        }\n        return value;\n    }\n    (0,_utils__WEBPACK_IMPORTED_MODULE_3__.assertNever)(schema);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL3dpdGgtY29tcG9uZW50LWJsb2Nrcy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBNEY7QUFFN0M7QUFFQTtBQU9KO0FBWTNCO0FBQ3VDO0FBQzRDO0FBRW5HLFNBQVN5QiwwQkFBMEJDLE1BQWM7SUFDL0MsSUFBSUEsT0FBT0MsU0FBUyxFQUFFO1FBQ3BCLE1BQU1DLGdCQUFnQjVCLHlDQUFNQSxDQUFDNkIsS0FBSyxDQUFDSCxRQUFRO1lBQ3pDSSxPQUFPQyxDQUFBQSxPQUNMOUIsMENBQU9BLENBQUMrQixTQUFTLENBQUNELFNBQVMvQix5Q0FBTUEsQ0FBQ2lDLE9BQU8sQ0FBQ1AsUUFBUUssU0FBU0EsS0FBS0csSUFBSSxLQUFLO1FBQzdFO1FBQ0EsSUFDRU4saUJBQ0NBLENBQUFBLGFBQWEsQ0FBQyxFQUFFLENBQUNNLElBQUksS0FBSywwQkFDekJOLGFBQWEsQ0FBQyxFQUFFLENBQUNNLElBQUksS0FBSyx1QkFBc0IsR0FDbEQ7WUFDQSxPQUFPO2dCQUNMQyxVQUFVO2dCQUNWQyxnQkFBZ0JwQyx5Q0FBTUEsQ0FBQ3FDLE1BQU0sQ0FBQ1gsUUFBUUUsYUFBYSxDQUFDLEVBQUU7Z0JBR3REVSxNQUFNVjtZQUdSO1FBQ0Y7SUFDRjtJQUNBLE9BQU87UUFBRU8sVUFBVTtJQUFNO0FBQzNCO0FBRUEsTUFBTUksMEJBQWlGLElBQUlDO0FBRTNGLFNBQVNDLGlDQUNQLENBQUNWLE1BQU1XLEtBQWdCLEVBQ3ZCaEIsTUFBYyxFQUNkaUIsWUFBMkMsRUFDM0NDLGFBQTRCO0lBRTVCLElBQUlDLHlCQUF5Qk4sd0JBQXdCTyxHQUFHLENBQUNIO0lBQ3pELElBQUksQ0FBQ0Usd0JBQXdCO1FBQzNCQSx5QkFBeUIsSUFBSUU7UUFDN0JSLHdCQUF3QlMsR0FBRyxDQUFDTCxjQUFjRTtJQUM1QztJQUNBLElBQUlBLHVCQUF1QkksR0FB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QUdoSSxxRUFBb0JBLENBQUNpSztnQkFDM0M7WUFDRjtZQUNBLE1BQU1FLGdCQUFnQmpELGlCQUFpQmdELFlBQXVDRDtZQUM5RSxJQUFJRSxrQkFBa0JELFlBQVk7Z0JBQ2hDSCxhQUFhO1lBQ2Y7WUFDQUMsY0FBYyxDQUFDaEMsSUFBSSxHQUFHbUM7UUFDeEI7UUFDQSxJQUFJSixZQUFZO1lBQ2QsT0FBT0M7UUFDVDtRQUNBLE9BQU92RztJQUNUO0lBQ0FoRSxtREFBV0EsQ0FBQ3VEO0FBQ2QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9jb21wb25lbnQtYmxvY2tzL3dpdGgtY29tcG9uZW50LWJsb2Nrcy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBOb2RlRW50cnksIEVkaXRvciwgRWxlbWVudCwgVHJhbnNmb3JtcywgUmFuZ2UsIFBhdGgsIE5vZGUsIFRleHQgfSBmcm9tICdzbGF0ZSdcblxuaW1wb3J0IHdlYWtNZW1vaXplIGZyb20gJ0BlbW90aW9uL3dlYWstbWVtb2l6ZSdcbmltcG9ydCB0eXBlIHsgQXJyYXlGaWVsZCwgQ2hpbGRGaWVsZCwgQ29tcG9uZW50QmxvY2ssIENvbXBvbmVudFNjaGVtYSB9IGZyb20gJy4vYXBpLXNoYXJlZCdcbmltcG9ydCB7IGFzc2VydCwgbW92ZUNoaWxkcmVuIH0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgdHlwZSB7IERvY3VtZW50RmVhdHVyZXMgfSBmcm9tICcuLi8uLi92aWV3cy1zaGFyZWQnXG5pbXBvcnQge1xuICBhcmVBcnJheXNFcXVhbCxcbiAgbm9ybWFsaXplRWxlbWVudEJhc2VkT25Eb2N1bWVudEZlYXR1cmVzLFxuICBub3JtYWxpemVJbmxpbmVCYXNlZE9uTGlua3NBbmRSZWxhdGlvbnNoaXBzLFxuICBub3JtYWxpemVUZXh0QmFzZWRPbklubGluZU1hcmtzQW5kU29mdEJyZWFrcyxcbn0gZnJvbSAnLi4vZG9jdW1lbnQtZmVhdHVyZXMtbm9ybWFsaXphdGlvbidcbmltcG9ydCB0eXBlIHsgUmVsYXRpb25zaGlwcyB9IGZyb20gJy4uL3JlbGF0aW9uc2hpcC1zaGFyZWQnXG5pbXBvcnQge1xuICB0eXBlIERvY3VtZW50RmVhdHVyZXNGb3JDaGlsZEZpZWxkLFxuICB0eXBlIFJlYWRvbmx5UHJvcFBhdGgsXG4gIGFzc2VydE5ldmVyLFxuICBmaW5kQ2hpbGRQcm9wUGF0aHMsXG4gIGdldEFuY2VzdG9yU2NoZW1hcyxcbiAgZ2V0RG9jdW1lbnRGZWF0dXJlc0ZvckNoaWxkRmllbGQsXG4gIGdldFZhbHVlQXRQcm9wUGF0aCxcbiAgcmVwbGFjZVZhbHVlQXRQcm9wUGF0aCxcbiAgdHJhdmVyc2VQcm9wcyxcbn0gZnJvbSAnLi91dGlscydcbmltcG9ydCB7IGdldEluaXRpYWxQcm9wc1ZhbHVlIH0gZnJvbSAnLi9pbml0aWFsLXZhbHVlcydcbmltcG9ydCB7IGdldEtleXNGb3JBcnJheVZhbHVlLCBnZXROZXdBcnJheUVsZW1lbnRLZXksIHNldEtleXNGb3JBcnJheVZhbHVlIH0gZnJvbSAnLi9wcmV2aWV3LXByb3BzJ1xuXG5mdW5jdGlvbiBnZXRBbmNlc3RvckNvbXBvbmVudEJsb2NrKGVkaXRvcjogRWRpdG9yKSB7XG4gIGlmIChlZGl0b3Iuc2VsZWN0aW9uKSB7XG4gICAgY29uc3QgYW5jZXN0b3JFbnRyeSA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICAgIG1hdGNoOiBub2RlID0+XG4gICAgICAgIEVsZW1lbnQuaXNFbGVtZW50KG5vZGUpICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbm9kZSkgJiYgbm9kZS50eXBlICE9PSAncGFyYWdyYXBoJyxcbiAgICB9KVxuICAgIGlmIChcbiAgICAgIGFuY2VzdG9yRW50cnkgJiZcbiAgICAgIChhbmNlc3RvckVudHJ5WzBdLnR5cGUgPT09ICdjb21wb25lbnQtYmxvY2stcHJvcCcgfHxcbiAgICAgICAgYW5jZXN0b3JFbnRyeVswXS50eXBlID09PSAnY29tcG9uZW50LWlubGluZS1wcm9wJylcbiAgICApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzSW5zaWRlOiB0cnVlLFxuICAgICAgICBjb21wb25lbnRCbG9jazogRWRpdG9yLnBhcmVudChlZGl0b3IsIGFuY2VzdG9yRW50cnlbMV0pIGFzIE5vZGVFbnRyeTxcbiAgICAgICAgICBFbGVtZW50ICYgeyB0eXBlOiAnY29tcG9uZW50LWJsb2NrJyB9XG4gICAgICAgID4sXG4gICAgICAgIHByb3A6IGFuY2VzdG9yRW50cnkgYXMgTm9kZUVudHJ5PFxuICAgICAgICAgIEVsZW1lbnQgJiB7IHR5cGU6ICdjb21wb25lbnQtaW5saW5lLXByb3AnIHwgJ2NvbXBvbmVudC1ibG9jay1wcm9wJyB9XG4gICAgICAgID4sXG4gICAgICB9IGFzIGNvbnN0XG4gICAgfVxuICB9XG4gIHJldHVybiB7IGlzSW5zaWRlOiBmYWxzZSB9IGFzIGNvbnN0XG59XG5cbmNvbnN0IGFscmVhZHlOb3JtYWxpemVkVGhpbmdzOiBXZWFrTWFwPERvY3VtZW50RmVhdHVyZXNGb3JDaGlsZEZpZWxkLCBXZWFrU2V0PE5vZGU+PiA9IG5ldyBXZWFrTWFwKClcblxuZnVuY3Rpb24gbm9ybWFsaXplTm9kZVdpdGhpbkNvbXBvbmVudFByb3AoXG4gIFtub2RlLCBwYXRoXTogTm9kZUVudHJ5LFxuICBlZGl0b3I6IEVkaXRvcixcbiAgZmllbGRPcHRpb25zOiBEb2N1bWVudEZlYXR1cmVzRm9yQ2hpbGRGaWVsZCxcbiAgcmVsYXRpb25zaGlwczogUmVsYXRpb25zaGlwc1xuKTogYm9vbGVhbiB7XG4gIGxldCBhbHJlYWR5Tm9ybWFsaXplZE5vZGVzID0gYWxyZWFkeU5vcm1hbGl6ZWRUaGluZ3MuZ2V0KGZpZWxkT3B0aW9ucylcbiAgaWYgKCFhbHJlYWR5Tm9ybWFsaXplZE5vZGVzKSB7XG4gICAgYWxyZWFkeU5vcm1hbGl6ZWROb2RlcyA9IG5ldyBXZWFrU2V0KClcbiAgICBhbHJlYWR5Tm9ybWFsaXplZFRoaW5ncy5zZXQoZmllbGRPcHRpb25zLCBhbHJlYWR5Tm9ybWFsaXplZE5vZGVzKVxuICB9XG4gIGlmIChhbHJlYWR5Tm9ybWFsaXplZE5vZGVzLmhhcyhub2RlKSkgcmV0dXJuIGZhbHNlXG5cbiAgbGV0IGRpZE5vcm1hbGl6YXRpb24gPSBmYWxzZVxuICBpZiAoZmllbGRPcHRpb25zLmlubGluZU1hcmtzICE9PSAnaW5oZXJpdCcgJiYgVGV4dC5pc1RleHQobm9kZSkpIHtcbiAgICBkaWROb3JtYWxpemF0aW9uID0gbm9ybWFsaXplVGV4dEJhc2VkT25JbmxpbmVNYXJrc0FuZFNvZnRCcmVha3MoXG4gICAgICBbbm9kZSwgcGF0aF0sXG4gICAgICBlZGl0b3IsXG4gICAgICBmaWVsZE9wdGlvbnMuaW5saW5lTWFya3MsXG4gICAgICBmaWVsZE9wdGlvbnMuc29mdEJyZWFrc1xuICAgIClcbiAgfVxuICBpZiAoRWxlbWVudC5pc0VsZW1lbnQobm9kZSkpIHtcbiAgICBmb3IgKGNvbnN0IFtpLCBjaGlsZF0gb2Ygbm9kZS5jaGlsZHJlbi5lbnRyaWVzKCkpIHtcbiAgICAgIGlmIChcbiAgICAgICAgbm9ybWFsaXplTm9kZVdpdGhpbkNvbXBvbmVudFByb3AoW2NoaWxkLCBbLi4ucGF0aCwgaV1dLCBlZGl0b3IsIGZpZWxkT3B0aW9ucywgcmVsYXRpb25zaGlwcylcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmaWVsZE9wdGlvbnMua2luZCA9PT0gJ2Jsb2NrJykge1xuICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ2NvbXBvbmVudC1ibG9jaycpIHtcbiAgICAgICAgaWYgKCFmaWVsZE9wdGlvbnMuY29tcG9uZW50QmxvY2tzKSB7XG4gICAgICAgICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHsgYXQ6IHBhdGggfSlcbiAgICAgICAgICBkaWROb3JtYWxpemF0aW9uID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaWROb3JtYWxpemF0aW9uID0gbm9ybWFsaXplRWxlbWVudEJhc2VkT25Eb2N1bWVudEZlYXR1cmVzKFxuICAgICAgICAgIFtub2RlLCBwYXRoXSxcbiAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgZmllbGRPcHRpb25zLmRvY3VtZW50RmVhdHVyZXMsXG4gICAgICAgICAgcmVsYXRpb25zaGlwc1xuICAgICAgICApXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpZE5vcm1hbGl6YXRpb24gPSBub3JtYWxpemVJbmxpbmVCYXNlZE9uTGlua3NBbmRSZWxhdGlvbnNoaXBzKFxuICAgICAgICBbbm9kZSwgcGF0aF0sXG4gICAgICAgIGVkaXRvcixcbiAgICAgICAgZmllbGRPcHRpb25zLmRvY3VtZW50RmVhdHVyZXMubGlua3MsXG4gICAgICAgIGZpZWxkT3B0aW9ucy5kb2N1bWVudEZlYXR1cmVzLnJlbGF0aW9uc2hpcHMsXG4gICAgICAgIHJlbGF0aW9uc2hpcHNcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICBpZiAoZGlkTm9ybWFsaXphdGlvbiA9PT0gZmFsc2UpIHtcbiAgICBhbHJlYWR5Tm9ybWFsaXplZE5vZGVzLmFkZChub2RlKVxuICB9XG4gIHJldHVybiBkaWROb3JtYWxpemF0aW9uXG59XG5cbmZ1bmN0aW9uIGNhblNjaGVtYUNvbnRhaW5DaGlsZEZpZWxkKHJvb3RTY2hlbWE6IENvbXBvbmVudFNjaGVtYSkge1xuICBjb25zdCBxdWV1ZSA9IG5ldyBTZXQ8Q29tcG9uZW50U2NoZW1hPihbcm9vdFNjaGVtYV0pXG4gIGZvciAoY29uc3Qgc2NoZW1hIG9mIHF1ZXVlKSB7XG4gICAgaWYgKHNjaGVtYS5raW5kID09PSAnZm9ybScgfHwgc2NoZW1hLmtpbmQgPT09ICdyZWxhdGlvbnNoaXAnKSBjb250aW51ZVxuICAgIGlmIChzY2hlbWEua2luZCA9PT0gJ2NoaWxkJykgcmV0dXJuIHRydWVcbiAgICBpZiAoc2NoZW1hLmtpbmQgPT09ICdhcnJheScpIHtcbiAgICAgIHF1ZXVlLmFkZChzY2hlbWEuZWxlbWVudClcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgaWYgKHNjaGVtYS5raW5kID09PSAnb2JqZWN0Jykge1xuICAgICAgZm9yIChjb25zdCBpbm5lclByb3Agb2YgT2JqZWN0LnZhbHVlcyhzY2hlbWEuZmllbGRzKSkge1xuICAgICAgICBxdWV1ZS5hZGQoaW5uZXJQcm9wKVxuICAgICAgfVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBpZiAoc2NoZW1hLmtpbmQgPT09ICdjb25kaXRpb25hbCcpIHtcbiAgICAgIGZvciAoY29uc3QgaW5uZXJQcm9wIG9mIE9iamVjdC52YWx1ZXMoc2NoZW1hLnZhbHVlcykpIHtcbiAgICAgICAgcXVldWUuYWRkKGlubmVyUHJvcClcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgYXNzZXJ0TmV2ZXIoc2NoZW1hKVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBkb2VzU2NoZW1hT25seUV2ZXJDb250YWluQVNpbmdsZUNoaWxkRmllbGQocm9vdFNjaGVtYTogQ29tcG9uZW50U2NoZW1hKTogYm9vbGVhbiB7XG4gIGNvbnN0IHF1ZXVlID0gbmV3IFNldDxDb21wb25lbnRTY2hlbWE+KFtyb290U2NoZW1hXSlcbiAgbGV0IGhhc0ZvdW5kQ2hpbGRGaWVsZCA9IGZhbHNlXG4gIGZvciAoY29uc3Qgc2NoZW1hIG9mIHF1ZXVlKSB7XG4gICAgaWYgKHNjaGVtYS5raW5kID09PSAnZm9ybScgfHwgc2NoZW1hLmtpbmQgPT09ICdyZWxhdGlvbnNoaXAnKSBjb250aW51ZVxuICAgIGlmIChzY2hlbWEua2luZCA9PT0gJ2NoaWxkJykge1xuICAgICAgaWYgKGhhc0ZvdW5kQ2hpbGRGaWVsZCkgcmV0dXJuIGZhbHNlXG4gICAgICBoYXNGb3VuZENoaWxkRmllbGQgPSB0cnVlXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGlmIChzY2hlbWEua2luZCA9PT0gJ2FycmF5Jykge1xuICAgICAgaWYgKGNhblNjaGVtYUNvbnRhaW5DaGlsZEZpZWxkKHNjaGVtYS5lbGVtZW50KSkgcmV0dXJuIGZhbHNlXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGlmIChzY2hlbWEua2luZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZvciAoY29uc3QgaW5uZXJQcm9wIG9mIE9iamVjdC52YWx1ZXMoc2NoZW1hLmZpZWxkcykpIHtcbiAgICAgICAgcXVldWUuYWRkKGlubmVyUHJvcClcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgaWYgKHNjaGVtYS5raW5kID09PSAnY29uZGl0aW9uYWwnKSB7XG4gICAgICBmb3IgKGNvbnN0IGlubmVyUHJvcCBvZiBPYmplY3QudmFsdWVzKHNjaGVtYS52YWx1ZXMpKSB7XG4gICAgICAgIHF1ZXVlLmFkZChpbm5lclByb3ApXG4gICAgICB9XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGFzc2VydE5ldmVyKHNjaGVtYSlcbiAgfVxuICByZXR1cm4gaGFzRm91bmRDaGlsZEZpZWxkXG59XG5cbmZ1bmN0aW9uIGZpbmRBcnJheUZpZWxkc1dpdGhTaW5nbGVDaGlsZEZpZWxkKHNjaGVtYTogQ29tcG9uZW50U2NoZW1hLCB2YWx1ZTogdW5rbm93bikge1xuICBjb25zdCBwcm9wUGF0aHM6IFtSZWFkb25seVByb3BQYXRoLCBBcnJheUZpZWxkPENvbXBvbmVudFNjaGVtYT5dW10gPSBbXVxuICB0cmF2ZXJzZVByb3BzKHNjaGVtYSwgdmFsdWUsIChzY2hlbWEsIHZhbHVlLCBwYXRoKSA9PiB7XG4gICAgaWYgKHNjaGVtYS5raW5kID09PSAnYXJyYXknICYmIGRvZXNTY2hlbWFPbmx5RXZlckNvbnRhaW5BU2luZ2xlQ2hpbGRGaWVsZChzY2hlbWEuZWxlbWVudCkpIHtcbiAgICAgIHByb3BQYXRocy5wdXNoKFtwYXRoLCBzY2hlbWFdKVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHByb3BQYXRoc1xufVxuXG5mdW5jdGlvbiBpc0VtcHR5Q2hpbGRGaWVsZE5vZGUoXG4gIGVsZW1lbnQ6IEVsZW1lbnQgJiAoeyB0eXBlOiAnY29tcG9uZW50LWJsb2NrLXByb3AnIH0gfCB7IHR5cGU6ICdjb21wb25lbnQtaW5saW5lLXByb3AnIH0pXG4pIHtcbiAgY29uc3QgZmlyc3RDaGlsZCA9IGVsZW1lbnQuY2hpbGRyZW5bMF1cbiAgcmV0dXJuIChcbiAgICBlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJlxuICAgICgoZWxlbWVudC50eXBlID09PSAnY29tcG9uZW50LWlubGluZS1wcm9wJyAmJlxuICAgICAgZmlyc3RDaGlsZC50eXBlID09PSB1bmRlZmluZWQgJiZcbiAgICAgIGZpcnN0Q2hpbGQudGV4dCA9PT0gJycpIHx8XG4gICAgICAoZWxlbWVudC50eXBlID09PSAnY29tcG9uZW50LWJsb2NrLXByb3AnICYmXG4gICAgICAgIGZpcnN0Q2hpbGQudHlwZSA9PT0gJ3BhcmFncmFwaCcgJiZcbiAgICAgICAgZmlyc3RDaGlsZC5jaGlsZHJlbi5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgZmlyc3RDaGlsZC5jaGlsZHJlblswXS50eXBlID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgZmlyc3RDaGlsZC5jaGlsZHJlblswXS50ZXh0ID09PSAnJykpXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhDb21wb25lbnRCbG9ja3MoXG4gIGJsb2NrQ29tcG9uZW50czogUmVjb3JkPHN0cmluZywgQ29tcG9uZW50QmxvY2sgfCB1bmRlZmluZWQ+LFxuICBlZGl0b3JEb2N1bWVudEZlYXR1cmVzOiBEb2N1bWVudEZlYXR1cmVzLFxuICByZWxhdGlvbnNoaXBzOiBSZWxhdGlvbnNoaXBzLFxuICBlZGl0b3I6IEVkaXRvclxuKTogRWRpdG9yIHtcbiAgLy8gbm90ZSB0aGF0IGNvbmZsaWN0cyBiZXR3ZWVuIHRoZSBlZGl0b3IgZG9jdW1lbnQgZmVhdHVyZXNcbiAgLy8gYW5kIHRoZSBjaGlsZCBmaWVsZCBkb2N1bWVudCBmZWF0dXJlcyBhcmUgZGVhbHQgd2l0aCBlbHNld2hlcmVcbiAgY29uc3QgbWVtb2l6ZWRHZXREb2N1bWVudEZlYXR1cmVzRm9yQ2hpbGRGaWVsZCA9IHdlYWtNZW1vaXplKFxuICAgIChvcHRpb25zOiBDaGlsZEZpZWxkWydvcHRpb25zJ10pOiBEb2N1bWVudEZlYXR1cmVzRm9yQ2hpbGRGaWVsZCA9PiB7XG4gICAgICByZXR1cm4gZ2V0RG9jdW1lbnRGZWF0dXJlc0ZvckNoaWxkRmllbGQoZWRpdG9yRG9jdW1lbnRGZWF0dXJlcywgb3B0aW9ucylcbiAgICB9XG4gIClcbiAgY29uc3QgeyBub3JtYWxpemVOb2RlLCBkZWxldGVCYWNrd2FyZCwgaW5zZXJ0QnJlYWsgfSA9IGVkaXRvclxuICBlZGl0b3IuZGVsZXRlQmFja3dhcmQgPSB1bml0ID0+IHtcbiAgICBpZiAoZWRpdG9yLnNlbGVjdGlvbikge1xuICAgICAgY29uc3QgYW5jZXN0b3JDb21wb25lbnRCbG9jayA9IGdldEFuY2VzdG9yQ29tcG9uZW50QmxvY2soZWRpdG9yKVxuICAgICAgaWYgKFxuICAgICAgICBhbmNlc3RvckNvbXBvbmVudEJsb2NrLmlzSW5zaWRlICYmXG4gICAgICAgIFJhbmdlLmlzQ29sbGFwc2VkKGVkaXRvci5zZWxlY3Rpb24pICYmXG4gICAgICAgIEVkaXRvci5pc1N0YXJ0KGVkaXRvciwgZWRpdG9yLnNlbGVjdGlvbi5hbmNob3IsIGFuY2VzdG9yQ29tcG9uZW50QmxvY2sucHJvcFsxXSkgJiZcbiAgICAgICAgYW5jZXN0b3JDb21wb25lbnRCbG9jay5wcm9wWzFdW2FuY2VzdG9yQ29tcG9uZW50QmxvY2sucHJvcFsxXS5sZW5ndGggLSAxXSA9PT0gMFxuICAgICAgKSB7XG4gICAgICAgIFRyYW5zZm9ybXMudW53cmFwTm9kZXMoZWRpdG9yLCB7IGF0OiBhbmNlc3RvckNvbXBvbmVudEJsb2NrLmNvbXBvbmVudEJsb2NrWzFdIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cbiAgICBkZWxldGVCYWNrd2FyZCh1bml0KVxuICB9XG4gIGVkaXRvci5pbnNlcnRCcmVhayA9ICgpID0+IHtcbiAgICBjb25zdCBhbmNlc3RvckNvbXBvbmVudEJsb2NrID0gZ2V0QW5jZXN0b3JDb21wb25lbnRCbG9jayhlZGl0b3IpXG4gICAgaWYgKGVkaXRvci5zZWxlY3Rpb24gJiYgYW5jZXN0b3JDb21wb25lbnRCbG9jay5pc0luc2lkZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBwcm9wOiBbY29tcG9uZW50UHJvcE5vZGUsIGNvbXBvbmVudFByb3BQYXRoXSxcbiAgICAgICAgY29tcG9uZW50QmxvY2s6IFtjb21wb25lbnRCbG9ja05vZGUsIGNvbXBvbmVudEJsb2NrUGF0aF0sXG4gICAgICB9ID0gYW5jZXN0b3JDb21wb25lbnRCbG9ja1xuICAgICAgY29uc3QgaXNMYXN0UHJvcCA9XG4gICAgICAgIGNvbXBvbmVudFByb3BQYXRoW2NvbXBvbmVudFByb3BQYXRoLmxlbmd0aCAtIDFdID09PSBjb21wb25lbnRCbG9ja05vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMVxuXG4gICAgICBpZiAoY29tcG9uZW50UHJvcE5vZGUudHlwZSA9PT0gJ2NvbXBvbmVudC1ibG9jay1wcm9wJykge1xuICAgICAgICBjb25zdCBbW3BhcmFncmFwaE5vZGUsIHBhcmFncmFwaFBhdGhdXSA9IEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBtYXRjaDogbm9kZSA9PiBub2RlLnR5cGUgPT09ICdwYXJhZ3JhcGgnLFxuICAgICAgICB9KVxuICAgICAgICBjb25zdCBpc0xhc3RQYXJhZ3JhcGggPVxuICAgICAgICAgIHBhcmFncmFwaFBhdGhbcGFyYWdyYXBoUGF0aC5sZW5ndGggLSAxXSA9PT0gY29tcG9uZW50UHJvcE5vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMVxuICAgICAgICBpZiAoTm9kZS5zdHJpbmcocGFyYWdyYXBoTm9kZSkgPT09ICcnICYmIGlzTGFzdFBhcmFncmFwaCkge1xuICAgICAgICAgIGlmIChpc0xhc3RQcm9wKSB7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYXQ6IHBhcmFncmFwaFBhdGgsXG4gICAgICAgICAgICAgIHRvOiBQYXRoLm5leHQoYW5jZXN0b3JDb21wb25lbnRCbG9jay5jb21wb25lbnRCbG9ja1sxXSksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmUoZWRpdG9yLCB7IGRpc3RhbmNlOiAxLCB1bml0OiAnbGluZScgfSlcbiAgICAgICAgICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7IGF0OiBwYXJhZ3JhcGhQYXRoIH0pXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY29tcG9uZW50UHJvcE5vZGUudHlwZSA9PT0gJ2NvbXBvbmVudC1pbmxpbmUtcHJvcCcpIHtcbiAgICAgICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsICgpID0+IHtcbiAgICAgICAgICBjb25zdCBjb21wb25lbnRCbG9jayA9IGJsb2NrQ29tcG9uZW50c1tjb21wb25lbnRCbG9ja05vZGUuY29tcG9uZW50XVxuICAgICAgICAgIGlmIChjb21wb25lbnRQcm9wTm9kZS5wcm9wUGF0aCAhPT0gdW5kZWZpbmVkICYmIGNvbXBvbmVudEJsb2NrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3RTY2hlbWEgPSB7IGtpbmQ6ICdvYmplY3QnIGFzIGNvbnN0LCBmaWVsZHM6IGNvbXBvbmVudEJsb2NrLnNjaGVtYSB9XG4gICAgICAgICAgICBjb25zdCBhbmNlc3RvckZpZWxkcyA9IGdldEFuY2VzdG9yU2NoZW1hcyhcbiAgICAgICAgICAgICAgcm9vdFNjaGVtYSxcbiAgICAgICAgICAgICAgY29tcG9uZW50UHJvcE5vZGUucHJvcFBhdGgsXG4gICAgICAgICAgICAgIGNvbXBvbmVudEJsb2NrTm9kZS5wcm9wc1xuICAgICAgICAgICAgKVxuICAgICAgICAgICAgY29uc3QgaWR4ID0gWy4uLmFuY2VzdG9yRmllbGRzXS5yZXZlcnNlKCkuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5raW5kID09PSAnYXJyYXknKVxuICAgICAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgY29uc3QgYXJyYXlGaWVsZElkeCA9IGFuY2VzdG9yRmllbGRzLmxlbmd0aCAtIDEgLSBpZHhcbiAgICAgICAgICAgICAgY29uc3QgYXJyYXlGaWVsZCA9IGFuY2VzdG9yRmllbGRzW2FycmF5RmllbGRJZHhdXG4gICAgICAgICAgICAgIGFzc2VydChhcnJheUZpZWxkLmtpbmQgPT09ICdhcnJheScpXG4gICAgICAgICAgICAgIGNvbnN0IHZhbCA9IGdldFZhbHVlQXRQcm9wUGF0aChcbiAgICAgICAgICAgICAgICBjb21wb25lbnRCbG9ja05vZGUucHJvcHMsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50UHJvcE5vZGUucHJvcFBhdGguc2xpY2UoMCwgYXJyYXlGaWVsZElkeClcbiAgICAgICAgICAgICAgKSBhcyB1bmtub3duW11cbiAgICAgICAgICAgICAgaWYgKGRvZXNTY2hlbWFPbmx5RXZlckNvbnRhaW5BU2luZ2xlQ2hpbGRGaWVsZChhcnJheUZpZWxkLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgTm9kZS5zdHJpbmcoY29tcG9uZW50UHJvcE5vZGUpID09PSAnJyAmJlxuICAgICAgICAgICAgICAgICAgdmFsLmxlbmd0aCAtIDEgPT09IGNvbXBvbmVudFByb3BOb2RlLnByb3BQYXRoW2FycmF5RmllbGRJZHhdXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwgeyBhdDogY29tcG9uZW50UHJvcFBhdGggfSlcbiAgICAgICAgICAgICAgICAgIGlmIChpc0xhc3RQcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoXG4gICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgICAgICAgICAgIHsgdHlwZTogJ3BhcmFncmFwaCcsIGNoaWxkcmVuOiBbeyB0ZXh0OiAnJyB9XSB9LFxuICAgICAgICAgICAgICAgICAgICAgIHsgYXQ6IFBhdGgubmV4dChjb21wb25lbnRCbG9ja1BhdGgpIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIFBhdGgubmV4dChjb21wb25lbnRCbG9ja1BhdGgpKVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5tb3ZlKGVkaXRvciwgeyBkaXN0YW5jZTogMSwgdW5pdDogJ2xpbmUnIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGluc2VydEJyZWFrKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBUcmFuc2Zvcm1zLnNwbGl0Tm9kZXMoZWRpdG9yLCB7IGFsd2F5czogdHJ1ZSB9KVxuICAgICAgICAgIGNvbnN0IHNwbGl0Tm9kZVBhdGggPSBQYXRoLm5leHQoY29tcG9uZW50UHJvcFBhdGgpXG5cbiAgICAgICAgICBpZiAoaXNMYXN0UHJvcCkge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5tb3ZlTm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgICAgIGF0OiBzcGxpdE5vZGVQYXRoLFxuICAgICAgICAgICAgICB0bzogUGF0aC5uZXh0KGNvbXBvbmVudEJsb2NrUGF0aCksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb3ZlQ2hpbGRyZW4oZWRpdG9yLCBzcGxpdE5vZGVQYXRoLCBbLi4uUGF0aC5uZXh0KHNwbGl0Tm9kZVBhdGgpLCAwXSlcbiAgICAgICAgICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7IGF0OiBzcGxpdE5vZGVQYXRoIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zZXJ0QnJlYWsoKVxuICB9XG5cbiAgZWRpdG9yLm5vcm1hbGl6ZU5vZGUgPSBlbnRyeSA9PiB7XG4gICAgY29uc3QgW25vZGUsIHBhdGhdID0gZW50cnlcbiAgICBpZiAoXG4gICAgICBub2RlLnR5cGUgPT09ICdjb21wb25lbnQtaW5saW5lLXByb3AnICYmXG4gICAgICAhbm9kZS5wcm9wUGF0aCAmJlxuICAgICAgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9PSAxIHx8ICFUZXh0LmlzVGV4dChub2RlLmNoaWxkcmVuWzBdKSB8fCBub2RlLmNoaWxkcmVuWzBdLnRleHQgIT09ICcnKVxuICAgICkge1xuICAgICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgYXQ6IHBhdGgsXG4gICAgICB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKG5vZGUudHlwZSA9PT0gJ2NvbXBvbmVudC1ibG9jaycpIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudEJsb2NrID0gYmxvY2tDb21wb25lbnRzW25vZGUuY29tcG9uZW50XVxuICAgICAgaWYgKGNvbXBvbmVudEJsb2NrKSB7XG4gICAgICAgIGNvbnN0IHJvb3RTY2hlbWEgPSB7IGtpbmQ6ICdvYmplY3QnIGFzIGNvbnN0LCBmaWVsZHM6IGNvbXBvbmVudEJsb2NrLnNjaGVtYSB9XG5cbiAgICAgICAgY29uc3QgdXBkYXRlZFByb3BzID0gYWRkTWlzc2luZ0ZpZWxkcyhub2RlLnByb3BzLCByb290U2NoZW1hKSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuICAgICAgICBpZiAodXBkYXRlZFByb3BzICE9PSBub2RlLnByb3BzKSB7XG4gICAgICAgICAgVHJhbnNmb3Jtcy5zZXROb2RlcyhlZGl0b3IsIHsgcHJvcHM6IHVwZGF0ZWRQcm9wcyB9LCB7IGF0OiBwYXRoIH0pXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IFtwcm9wUGF0aCwgYXJyYXlGaWVsZF0gb2YgZmluZEFycmF5RmllbGRzV2l0aFNpbmdsZUNoaWxkRmllbGQoXG4gICAgICAgICAgcm9vdFNjaGVtYSxcbiAgICAgICAgICBub2RlLnByb3BzXG4gICAgICAgICkpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgbm9kZS5jaGlsZHJlblswXS50eXBlID09PSAnY29tcG9uZW50LWlubGluZS1wcm9wJyAmJlxuICAgICAgICAgICAgbm9kZS5jaGlsZHJlblswXS5wcm9wUGF0aCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBub2Rlc1dpdGhpbjogW1xuICAgICAgICAgICAgbnVtYmVyLFxuICAgICAgICAgICAgRWxlbWVudCAmIHsgdHlwZTogJ2NvbXBvbmVudC1ibG9jay1wcm9wJyB8ICdjb21wb25lbnQtaW5saW5lLXByb3AnIH0sXG4gICAgICAgICAgXVtdID0gW11cbiAgICAgICAgICBmb3IgKGNvbnN0IFtpZHgsIGNoaWxkTm9kZV0gb2Ygbm9kZS5jaGlsZHJlbi5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKGNoaWxkTm9kZS50eXBlID09PSAnY29tcG9uZW50LWJsb2NrLXByb3AnIHx8XG4gICAgICAgICAgICAgICAgY2hpbGROb2RlLnR5cGUgPT09ICdjb21wb25lbnQtaW5saW5lLXByb3AnKSAmJlxuICAgICAgICAgICAgICBjaGlsZE5vZGUucHJvcFBhdGggIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHN1YlBhdGggPSBjaGlsZE5vZGUucHJvcFBhdGguY29uY2F0KClcbiAgICAgICAgICAgICAgd2hpbGUgKHN1YlBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdWJQYXRoLnBvcCgpID09PSAnbnVtYmVyJykgYnJlYWtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChhcmVBcnJheXNFcXVhbChwcm9wUGF0aCwgc3ViUGF0aCkpIHtcbiAgICAgICAgICAgICAgICBub2Rlc1dpdGhpbi5wdXNoKFtpZHgsIGNoaWxkTm9kZV0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgYXJyVmFsID0gZ2V0VmFsdWVBdFByb3BQYXRoKG5vZGUucHJvcHMsIHByb3BQYXRoKSBhcyB1bmtub3duW11cbiAgICAgICAgICBjb25zdCBwcmV2S2V5cyA9IGdldEtleXNGb3JBcnJheVZhbHVlKGFyclZhbClcbiAgICAgICAgICBjb25zdCBwcmV2S2V5c1NldCA9IG5ldyBTZXQocHJldktleXMpXG4gICAgICAgICAgY29uc3QgYWxyZWFkeVVzZWRJbmRpY2llcyA9IG5ldyBTZXQ8bnVtYmVyPigpXG4gICAgICAgICAgY29uc3QgbmV3VmFsOiB1bmtub3duW10gPSBbXVxuICAgICAgICAgIGNvbnN0IG5ld0tleXM6IHN0cmluZ1tdID0gW11cbiAgICAgICAgICBjb25zdCBnZXROZXdLZXkgPSAoKSA9PiB7XG4gICAgICAgICAgICBsZXQga2V5ID0gZ2V0TmV3QXJyYXlFbGVtZW50S2V5KClcbiAgICAgICAgICAgIHdoaWxlIChwcmV2S2V5c1NldC5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICBrZXkgPSBnZXROZXdBcnJheUVsZW1lbnRLZXkoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGNvbnN0IFssIG5vZGVdIG9mIG5vZGVzV2l0aGluKSB7XG4gICAgICAgICAgICBjb25zdCBpZHhGcm9tVmFsdWUgPSBub2RlLnByb3BQYXRoIVtwcm9wUGF0aC5sZW5ndGhdXG4gICAgICAgICAgICBhc3NlcnQodHlwZW9mIGlkeEZyb21WYWx1ZSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGFyclZhbC5sZW5ndGggPD0gaWR4RnJvbVZhbHVlIHx8XG4gICAgICAgICAgICAgIChhbHJlYWR5VXNlZEluZGljaWVzLmhhcyhpZHhGcm9tVmFsdWUpICYmIGlzRW1wdHlDaGlsZEZpZWxkTm9kZShub2RlKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBuZXdWYWwucHVzaChnZXRJbml0aWFsUHJvcHNWYWx1ZShhcnJheUZpZWxkLmVsZW1lbnQpKVxuICAgICAgICAgICAgICBuZXdLZXlzLnB1c2goZ2V0TmV3S2V5KCkpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhbHJlYWR5VXNlZEluZGljaWVzLmFkZChpZHhGcm9tVmFsdWUpXG4gICAgICAgICAgICAgIG5ld1ZhbC5wdXNoKGFyclZhbFtpZHhGcm9tVmFsdWVdKVxuICAgICAgICAgICAgICBuZXdLZXlzLnB1c2goXG4gICAgICAgICAgICAgICAgYWxyZWFkeVVzZWRJbmRpY2llcy5oYXMoaWR4RnJvbVZhbHVlKSA/IGdldE5ld0tleSgpIDogcHJldktleXNbaWR4RnJvbVZhbHVlXVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEtleXNGb3JBcnJheVZhbHVlKG5ld1ZhbCwgbmV3S2V5cylcbiAgICAgICAgICBpZiAoIWFyZUFycmF5c0VxdWFsKGFyclZhbCwgbmV3VmFsKSkge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRQcm9wcyA9IHJlcGxhY2VWYWx1ZUF0UHJvcFBhdGgoXG4gICAgICAgICAgICAgIHJvb3RTY2hlbWEsXG4gICAgICAgICAgICAgIG5vZGUucHJvcHMsXG4gICAgICAgICAgICAgIG5ld1ZhbCxcbiAgICAgICAgICAgICAgcHJvcFBhdGhcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIFRyYW5zZm9ybXMuc2V0Tm9kZXMoXG4gICAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgICAgeyBwcm9wczogdHJhbnNmb3JtZWRQcm9wcyBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB9LFxuICAgICAgICAgICAgICB7IGF0OiBwYXRoIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2lkeCwgW2lkeEluQ2hpbGRyZW5PZkJsb2NrLCBub2RlV2l0aGluXV0gb2Ygbm9kZXNXaXRoaW4uZW50cmllcygpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld1Byb3BQYXRoID0gWy4uLm5vZGVXaXRoaW4ucHJvcFBhdGghXVxuICAgICAgICAgICAgICBuZXdQcm9wUGF0aFtwcm9wUGF0aC5sZW5ndGhdID0gaWR4XG4gICAgICAgICAgICAgIFRyYW5zZm9ybXMuc2V0Tm9kZXMoXG4gICAgICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgICAgIHsgcHJvcFBhdGg6IG5ld1Byb3BQYXRoIH0sXG4gICAgICAgICAgICAgICAgeyBhdDogWy4uLnBhdGgsIGlkeEluQ2hpbGRyZW5PZkJsb2NrXSB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pc3NpbmdLZXlzID0gbmV3IE1hcChcbiAgICAgICAgICBmaW5kQ2hpbGRQcm9wUGF0aHMobm9kZS5wcm9wcywgY29tcG9uZW50QmxvY2suc2NoZW1hKS5tYXAoeCA9PiBbXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh4LnBhdGgpIGFzIHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHgub3B0aW9ucy5raW5kLFxuICAgICAgICAgIF0pXG4gICAgICAgIClcblxuICAgICAgICBub2RlLmNoaWxkcmVuLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgICAgYXNzZXJ0KG5vZGUudHlwZSA9PT0gJ2NvbXBvbmVudC1ibG9jay1wcm9wJyB8fCBub2RlLnR5cGUgPT09ICdjb21wb25lbnQtaW5saW5lLXByb3AnKVxuICAgICAgICAgIG1pc3NpbmdLZXlzLmRlbGV0ZShKU09OLnN0cmluZ2lmeShub2RlLnByb3BQYXRoKSlcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKG1pc3NpbmdLZXlzLnNpemUpIHtcbiAgICAgICAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKFxuICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgWy4uLm1pc3NpbmdLZXlzXS5tYXAoKFtwcm9wLCBraW5kXSkgPT4gKHtcbiAgICAgICAgICAgICAgdHlwZTogYGNvbXBvbmVudC0ke2tpbmR9LXByb3BgIGFzIGNvbnN0LFxuICAgICAgICAgICAgICBwcm9wUGF0aDogcHJvcCA/IEpTT04ucGFyc2UocHJvcCkgOiBwcm9wLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogW3sgdGV4dDogJycgfV0sXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICB7IGF0OiBbLi4ucGF0aCwgbm9kZS5jaGlsZHJlbi5sZW5ndGhdIH1cbiAgICAgICAgICApXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmb3VuZFByb3BzID0gbmV3IFNldDxzdHJpbmc+KClcblxuICAgICAgICBjb25zdCBzdHJpbmdpZmllZElubGluZVByb3BQYXRoczogUmVjb3JkPFxuICAgICAgICAgIHN0cmluZyxcbiAgICAgICAgICB7IG9wdGlvbnM6IENoaWxkRmllbGRbJ29wdGlvbnMnXTsgaW5kZXg6IG51bWJlciB9IHwgdW5kZWZpbmVkXG4gICAgICAgID4gPSB7fVxuICAgICAgICBmaW5kQ2hpbGRQcm9wUGF0aHMobm9kZS5wcm9wcywgYmxvY2tDb21wb25lbnRzW25vZGUuY29tcG9uZW50XSEuc2NoZW1hKS5mb3JFYWNoKFxuICAgICAgICAgICh4LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgc3RyaW5naWZpZWRJbmxpbmVQcm9wUGF0aHNbSlNPTi5zdHJpbmdpZnkoeC5wYXRoKV0gPSB7IG9wdGlvbnM6IHgub3B0aW9ucywgaW5kZXggfVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuXG4gICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBjaGlsZE5vZGVdIG9mIG5vZGUuY2hpbGRyZW4uZW50cmllcygpKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgLy8gY2hpbGRyZW4gdGhhdCBhcmUgbm90IHRoZXNlIHdpbGwgYmUgaGFuZGxlZCBieVxuICAgICAgICAgICAgLy8gdGhlIGdlbmVyaWMgYWxsb3dlZENoaWxkcmVuIG5vcm1hbGl6YXRpb25cbiAgICAgICAgICAgIGNoaWxkTm9kZS50eXBlICE9PSAnY29tcG9uZW50LWlubGluZS1wcm9wJyAmJlxuICAgICAgICAgICAgY2hpbGROb2RlLnR5cGUgIT09ICdjb21wb25lbnQtYmxvY2stcHJvcCdcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgY2hpbGRQYXRoID0gWy4uLnBhdGgsIGluZGV4XVxuICAgICAgICAgIGNvbnN0IHN0cmluZ2lmaWVkUHJvcFBhdGggPSBKU09OLnN0cmluZ2lmeShjaGlsZE5vZGUucHJvcFBhdGgpXG4gICAgICAgICAgaWYgKHN0cmluZ2lmaWVkSW5saW5lUHJvcFBhdGhzW3N0cmluZ2lmaWVkUHJvcFBhdGhdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7IGF0OiBjaGlsZFBhdGggfSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChmb3VuZFByb3BzLmhhcyhzdHJpbmdpZmllZFByb3BQYXRoKSkge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHsgYXQ6IGNoaWxkUGF0aCB9KVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm91bmRQcm9wcy5hZGQoc3RyaW5naWZpZWRQcm9wUGF0aClcbiAgICAgICAgICBjb25zdCBwcm9wSW5mbyA9IHN0cmluZ2lmaWVkSW5saW5lUHJvcFBhdGhzW3N0cmluZ2lmaWVkUHJvcFBhdGhdIVxuICAgICAgICAgIGNvbnN0IGV4cGVjdGVkSW5kZXggPSBwcm9wSW5mby5pbmRleFxuICAgICAgICAgIGlmIChpbmRleCAhPT0gZXhwZWN0ZWRJbmRleCkge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5tb3ZlTm9kZXMoZWRpdG9yLCB7IGF0OiBjaGlsZFBhdGgsIHRvOiBbLi4ucGF0aCwgZXhwZWN0ZWRJbmRleF0gfSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGV4cGVjdGVkQ2hpbGROb2RlVHlwZSA9IGBjb21wb25lbnQtJHtwcm9wSW5mby5vcHRpb25zLmtpbmR9LXByb3BgIGFzIGNvbnN0XG4gICAgICAgICAgaWYgKGNoaWxkTm9kZS50eXBlICE9PSBleHBlY3RlZENoaWxkTm9kZVR5cGUpIHtcbiAgICAgICAgICAgIFRyYW5zZm9ybXMuc2V0Tm9kZXMoZWRpdG9yLCB7IHR5cGU6IGV4cGVjdGVkQ2hpbGROb2RlVHlwZSB9LCB7IGF0OiBjaGlsZFBhdGggfSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGRvY3VtZW50RmVhdHVyZXMgPSBtZW1vaXplZEdldERvY3VtZW50RmVhdHVyZXNGb3JDaGlsZEZpZWxkKHByb3BJbmZvLm9wdGlvbnMpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbm9ybWFsaXplTm9kZVdpdGhpbkNvbXBvbmVudFByb3AoXG4gICAgICAgICAgICAgIFtjaGlsZE5vZGUsIGNoaWxkUGF0aF0sXG4gICAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgICAgZG9jdW1lbnRGZWF0dXJlcyxcbiAgICAgICAgICAgICAgcmVsYXRpb25zaGlwc1xuICAgICAgICAgICAgKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbm9ybWFsaXplTm9kZShlbnRyeSlcbiAgfVxuXG4gIHJldHVybiBlZGl0b3Jcbn1cblxuLy8gdGhlIG9ubHkgdGhpbmcgdGhhdCB0aGlzIHdpbGwgZml4IGlzIGEgbmV3IGZpZWxkIGJlaW5nIGFkZGVkIHRvIGFuIG9iamVjdCBmaWVsZCwgbm90aGluZyBlbHNlLlxuZnVuY3Rpb24gYWRkTWlzc2luZ0ZpZWxkcyh2YWx1ZTogdW5rbm93biwgc2NoZW1hOiBDb21wb25lbnRTY2hlbWEpOiB1bmtub3duIHtcbiAgaWYgKHNjaGVtYS5raW5kID09PSAnY2hpbGQnIHx8IHNjaGVtYS5raW5kID09PSAnZm9ybScgfHwgc2NoZW1hLmtpbmQgPT09ICdyZWxhdGlvbnNoaXAnKSB7XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cbiAgaWYgKHNjaGVtYS5raW5kID09PSAnY29uZGl0aW9uYWwnKSB7XG4gICAgY29uc3QgY29uZGl0aW9uYWxWYWx1ZSA9IHZhbHVlIGFzIHsgZGlzY3JpbWluYW50OiBzdHJpbmcgfCBib29sZWFuOyB2YWx1ZTogdW5rbm93biB9XG4gICAgY29uc3QgdXBkYXRlZElubmVyVmFsdWUgPSBhZGRNaXNzaW5nRmllbGRzKFxuICAgICAgY29uZGl0aW9uYWxWYWx1ZS52YWx1ZSxcbiAgICAgIHNjaGVtYS52YWx1ZXNbY29uZGl0aW9uYWxWYWx1ZS5kaXNjcmltaW5hbnQudG9TdHJpbmcoKV1cbiAgICApXG4gICAgaWYgKHVwZGF0ZWRJbm5lclZhbHVlID09PSBjb25kaXRpb25hbFZhbHVlLnZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG4gICAgcmV0dXJuIHsgZGlzY3JpbWluYW50OiBjb25kaXRpb25hbFZhbHVlLmRpc2NyaW1pbmFudCwgdmFsdWU6IHVwZGF0ZWRJbm5lclZhbHVlIH1cbiAgfVxuICBpZiAoc2NoZW1hLmtpbmQgPT09ICdhcnJheScpIHtcbiAgICBjb25zdCBhcnJWYWx1ZSA9IHZhbHVlIGFzIHVua25vd25bXVxuICAgIGNvbnN0IG5ld0FyclZhbHVlID0gYXJyVmFsdWUubWFwKHggPT4gYWRkTWlzc2luZ0ZpZWxkcyh4LCBzY2hlbWEuZWxlbWVudCkpXG4gICAgaWYgKGFyZUFycmF5c0VxdWFsKGFyclZhbHVlLCBuZXdBcnJWYWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgICByZXR1cm4gbmV3QXJyVmFsdWVcbiAgfVxuICBpZiAoc2NoZW1hLmtpbmQgPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3Qgb2JqZWN0VmFsdWUgPSB2YWx1ZSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuICAgIGxldCBoYXNDaGFuZ2VkID0gZmFsc2VcbiAgICBjb25zdCBuZXdPYmplY3RWYWx1ZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fVxuICAgIGZvciAoY29uc3QgW2tleSwgaW5uZXJTY2hlbWFdIG9mIE9iamVjdC5lbnRyaWVzKHNjaGVtYS5maWVsZHMpKSB7XG4gICAgICBjb25zdCBpbm5lclZhbHVlID0gb2JqZWN0VmFsdWVba2V5XVxuICAgICAgaWYgKGlubmVyVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBoYXNDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICBuZXdPYmplY3RWYWx1ZVtrZXldID0gZ2V0SW5pdGlhbFByb3BzVmFsdWUoaW5uZXJTY2hlbWEpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICBjb25zdCBuZXdJbm5lclZhbHVlID0gYWRkTWlzc2luZ0ZpZWxkcyhpbm5lclZhbHVlIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LCBpbm5lclNjaGVtYSlcbiAgICAgIGlmIChuZXdJbm5lclZhbHVlICE9PSBpbm5lclZhbHVlKSB7XG4gICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlXG4gICAgICB9XG4gICAgICBuZXdPYmplY3RWYWx1ZVtrZXldID0gbmV3SW5uZXJWYWx1ZVxuICAgIH1cbiAgICBpZiAoaGFzQ2hhbmdlZCkge1xuICAgICAgcmV0dXJuIG5ld09iamVjdFZhbHVlXG4gICAgfVxuICAgIHJldHVybiB2YWx1ZVxuICB9XG4gIGFzc2VydE5ldmVyKHNjaGVtYSlcbn1cbiJdLCJuYW1lcyI6WyJFZGl0b3IiLCJFbGVtZW50IiwiVHJhbnNmb3JtcyIsIlJhbmdlIiwiUGF0aCIsIk5vZGUiLCJUZXh0Iiwid2Vha01lbW9pemUiLCJhc3NlcnQiLCJtb3ZlQ2hpbGRyZW4iLCJhcmVBcnJheXNFcXVhbCIsIm5vcm1hbGl6ZUVsZW1lbnRCYXNlZE9uRG9jdW1lbnRGZWF0dXJlcyIsIm5vcm1hbGl6ZUlubGluZUJhc2VkT25MaW5rc0FuZFJlbGF0aW9uc2hpcHMiLCJub3JtYWxpemVUZXh0QmFzZWRPbklubGluZU1hcmtzQW5kU29mdEJyZWFrcyIsImFzc2VydE5ldmVyIiwiZmluZENoaWxkUHJvcFBhdGhzIiwiZ2V0QW5jZXN0b3JTY2hlbWFzIiwiZ2V0RG9jdW1lbnRGZWF0dXJlc0ZvckNoaWxkRmllbGQiLCJnZXRWYWx1ZUF0UHJvcFBhdGgiLCJyZXBsYWNlVmFsdWVBdFByb3BQYXRoIiwidHJhdmVyc2VQcm9wcyIsImdldEluaXRpYWxQcm9wc1ZhbHVlIiwiZ2V0S2V5c0ZvckFycmF5VmFsdWUiLCJnZXROZXdBcnJheUVsZW1lbnRLZXkiLCJzZXRLZXlzRm9yQXJyYXlWYWx1ZSIsImdldEFuY2VzdG9yQ29tcG9uZW50QmxvY2siLCJlZGl0b3IiLCJzZWxlY3Rpb24iLCJhbmNlc3RvckVudHJ5IiwiYWJvdmUiLCJtYXRjaCIsIm5vZGUiLCJpc0VsZW1lbnQiLCJpc0Jsb2NrIiwidHlwZSIsImlzSW5zaWRlIiwiY29tcG9uZW50QmxvY2siLCJwYXJlbnQiLCJwcm9wIiwiYWxyZWFkeU5vcm1hbGl6ZWRUaGluZ3MiLCJXZWFrTWFwIiwibm9ybWFsaXplTm9kZVdpdGhpbkNvbXBvbmVudFByb3AiLCJwYXRoIiwiZmllbGRPcHRpb25zIiwicmVsYXRpb25zaGlwcyIsImFscmVhZHlOb3JtYWxpemVkTm9kZXMiLCJnZXQiLCJXZWFrU2V0Iiwic2V0IiwiaGFzIiwiZGlkTm9ybWFsaXphdGlvbiIsImlubGluZU1hcmtzIiwiaXNUZXh0Iiwic29mdEJyZWFrcyIsImkiLCJjaGlsZCIsImNoaWxkcmVuIiwiZW50cmllcyIsImtpbmQiLCJjb21wb25lbnRCbG9ja3MiLCJ1bndyYXBOb2RlcyIsImF0IiwiZG9jdW1lbnRGZWF0dXJlcyIsImxpbmtzIiwiYWRkIiwiY2FuU2NoZW1hQ29udGFpbkNoaWxkRmllbGQiLCJyb290U2NoZW1hIiwicXVldWUiLCJTZXQiLCJzY2hlbWEiLCJlbGVtZW50IiwiaW5uZXJQcm9wIiwiT2JqZWN0IiwidmFsdWVzIiwiZmllbGRzIiwiZG9lc1NjaGVtYU9ubHlFdmVyQ29udGFpbkFTaW5nbGVDaGlsZEZpZWxkIiwiaGFzRm91bmRDaGlsZEZpZWxkIiwiZmluZEFycmF5RmllbGRzV2l0aFNpbmdsZUNoaWxkRmllbGQiLCJ2YWx1ZSIsInByb3BQYXRocyIsInB1c2giLCJpc0VtcHR5Q2hpbGRGaWVsZE5vZGUiLCJmaXJzdENoaWxkIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwidGV4dCIsIndpdGhDb21wb25lbnRCbG9ja3MiLCJibG9ja0NvbXBvbmVudHMiLCJlZGl0b3JEb2N1bWVudEZlYXR1cmVzIiwibWVtb2l6ZWRHZXREb2N1bWVudEZlYXR1cmVzRm9yQ2hpbGRGaWVsZCIsIm9wdGlvbnMiLCJub3JtYWxpemVOb2RlIiwiZGVsZXRlQmFja3dhcmQiLCJpbnNlcnRCcmVhayIsInVuaXQiLCJhbmNlc3RvckNvbXBvbmVudEJsb2NrIiwiaXNDb2xsYXBzZWQiLCJpc1N0YXJ0IiwiYW5jaG9yIiwiY29tcG9uZW50UHJvcE5vZGUiLCJjb21wb25lbnRQcm9wUGF0aCIsImNvbXBvbmVudEJsb2NrTm9kZSIsImNvbXBvbmVudEJsb2NrUGF0aCIsImlzTGFzdFByb3AiLCJwYXJhZ3JhcGhOb2RlIiwicGFyYWdyYXBoUGF0aCIsIm5vZGVzIiwiaXNMYXN0UGFyYWdyYXBoIiwic3RyaW5nIiwibW92ZU5vZGVzIiwidG8iLCJuZXh0IiwibW92ZSIsImRpc3RhbmNlIiwicmVtb3ZlTm9kZXMiLCJ3aXRob3V0Tm9ybWFsaXppbmciLCJjb21wb25lbnQiLCJwcm9wUGF0aCIsImFuY2VzdG9yRmllbGRzIiwicHJvcHMiLCJpZHgiLCJyZXZlcnNlIiwiZmluZEluZGV4IiwiaXRlbSIsImFycmF5RmllbGRJZHgiLCJhcnJheUZpZWxkIiwidmFsIiwic2xpY2UiLCJpbnNlcnROb2RlcyIsInNlbGVjdCIsInNwbGl0Tm9kZXMiLCJhbHdheXMiLCJzcGxpdE5vZGVQYXRoIiwiZW50cnkiLCJ1cGRhdGVkUHJvcHMiLCJhZGRNaXNzaW5nRmllbGRzIiwic2V0Tm9kZXMiLCJub2Rlc1dpdGhpbiIsImNoaWxkTm9kZSIsInN1YlBhdGgiLCJjb25jYXQiLCJwb3AiLCJhcnJWYWwiLCJwcmV2S2V5cyIsInByZXZLZXlzU2V0IiwiYWxyZWFkeVVzZWRJbmRpY2llcyIsIm5ld1ZhbCIsIm5ld0tleXMiLCJnZXROZXdLZXkiLCJrZXkiLCJpZHhGcm9tVmFsdWUiLCJ0cmFuc2Zvcm1lZFByb3BzIiwiaWR4SW5DaGlsZHJlbk9mQmxvY2siLCJub2RlV2l0aGluIiwibmV3UHJvcFBhdGgiLCJtaXNzaW5nS2V5cyIsIk1hcCIsIm1hcCIsIngiLCJKU09OIiwic3RyaW5naWZ5IiwiZm9yRWFjaCIsImRlbGV0ZSIsInNpemUiLCJwYXJzZSIsImZvdW5kUHJvcHMiLCJzdHJpbmdpZmllZElubGluZVByb3BQYXRocyIsImluZGV4IiwiY2hpbGRQYXRoIiwic3RyaW5naWZpZWRQcm9wUGF0aCIsInByb3BJbmZvIiwiZXhwZWN0ZWRJbmRleCIsImV4cGVjdGVkQ2hpbGROb2RlVHlwZSIsImNvbmRpdGlvbmFsVmFsdWUiLCJ1cGRhdGVkSW5uZXJWYWx1ZSIsImRpc2NyaW1pbmFudCIsInRvU3RyaW5nIiwiYXJyVmFsdWUiLCJuZXdBcnJWYWx1ZSIsIm9iamVjdFZhbHVlIiwiaGFzQ2hhbmdlZCIsIm5ld09iamVjdFZhbHVlIiwiaW5uZXJTY2hlbWEiLCJpbm5lclZhbHVlIiwibmV3SW5uZXJWYWx1ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/component-blocks/with-component-blocks.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/divider-shared.ts":
/*!*********************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/divider-shared.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   insertDivider: () => (/* binding */ insertDivider),\n/* harmony export */   withDivider: () => (/* binding */ withDivider)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n\n\nfunction insertDivider(editor) {\n    (0,_utils__WEBPACK_IMPORTED_MODULE_0__.insertNodesButReplaceIfSelectionIsAtEmptyParagraphOrHeading)(editor, {\n        type: 'divider',\n        children: [\n            {\n                text: ''\n            }\n        ]\n    });\n    slate__WEBPACK_IMPORTED_MODULE_1__.Editor.insertNode(editor, {\n        type: 'paragraph',\n        children: [\n            {\n                text: ''\n            }\n        ]\n    });\n}\nfunction withDivider(editor) {\n    const { isVoid } = editor;\n    editor.isVoid = (node)=>{\n        return node.type === 'divider' || isVoid(node);\n    };\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9kaXZpZGVyLXNoYXJlZC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQThCO0FBQ3VEO0FBRTlFLFNBQVNFLGNBQWNDLE1BQWM7SUFDMUNGLG1HQUEyREEsQ0FBQ0UsUUFBUTtRQUNsRUMsTUFBTTtRQUNOQyxVQUFVO1lBQUM7Z0JBQUVDLE1BQU07WUFBRztTQUFFO0lBQzFCO0lBQ0FOLHlDQUFNQSxDQUFDTyxVQUFVLENBQUNKLFFBQVE7UUFBRUMsTUFBTTtRQUFhQyxVQUFVO1lBQUM7Z0JBQUVDLE1BQU07WUFBRztTQUFFO0lBQUM7QUFDMUU7QUFFTyxTQUFTRSxZQUFZTCxNQUFjO0lBQ3hDLE1BQU0sRUFBRU0sTUFBTSxFQUFFLEdBQUdOO0lBQ25CQSxPQUFPTSxNQUFNLEdBQUdDLENBQUFBO1FBQ2QsT0FBT0EsS0FBS04sSUFBSSxLQUFLLGFBQWFLLE9BQU9DO0lBQzNDO0lBQ0EsT0FBT1A7QUFDVCIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL2RpdmlkZXItc2hhcmVkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVkaXRvciB9IGZyb20gJ3NsYXRlJ1xuaW1wb3J0IHsgaW5zZXJ0Tm9kZXNCdXRSZXBsYWNlSWZTZWxlY3Rpb25Jc0F0RW1wdHlQYXJhZ3JhcGhPckhlYWRpbmcgfSBmcm9tICcuL3V0aWxzJ1xuXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0RGl2aWRlcihlZGl0b3I6IEVkaXRvcikge1xuICBpbnNlcnROb2Rlc0J1dFJlcGxhY2VJZlNlbGVjdGlvbklzQXRFbXB0eVBhcmFncmFwaE9ySGVhZGluZyhlZGl0b3IsIHtcbiAgICB0eXBlOiAnZGl2aWRlcicsXG4gICAgY2hpbGRyZW46IFt7IHRleHQ6ICcnIH1dLFxuICB9KVxuICBFZGl0b3IuaW5zZXJ0Tm9kZShlZGl0b3IsIHsgdHlwZTogJ3BhcmFncmFwaCcsIGNoaWxkcmVuOiBbeyB0ZXh0OiAnJyB9XSB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd2l0aERpdmlkZXIoZWRpdG9yOiBFZGl0b3IpOiBFZGl0b3Ige1xuICBjb25zdCB7IGlzVm9pZCB9ID0gZWRpdG9yXG4gIGVkaXRvci5pc1ZvaWQgPSBub2RlID0+IHtcbiAgICByZXR1cm4gbm9kZS50eXBlID09PSAnZGl2aWRlcicgfHwgaXNWb2lkKG5vZGUpXG4gIH1cbiAgcmV0dXJuIGVkaXRvclxufVxuIl0sIm5hbWVzIjpbIkVkaXRvciIsImluc2VydE5vZGVzQnV0UmVwbGFjZUlmU2VsZWN0aW9uSXNBdEVtcHR5UGFyYWdyYXBoT3JIZWFkaW5nIiwiaW5zZXJ0RGl2aWRlciIsImVkaXRvciIsInR5cGUiLCJjaGlsZHJlbiIsInRleHQiLCJpbnNlcnROb2RlIiwid2l0aERpdmlkZXIiLCJpc1ZvaWQiLCJub2RlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/divider-shared.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/divider.tsx":
/*!***************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/divider.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dividerButton: () => (/* binding */ dividerButton)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_minusIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/icon/icons/minusIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-minusIcon.js\");\n/* harmony import */ var _toolbar_state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./toolbar-state */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state.tsx\");\n/* harmony import */ var _divider_shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./divider-shared */ \"../../../../packages/fields-document/src/DocumentEditor/divider-shared.ts\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _keystar_ui_editor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/editor */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-editor.js\");\n\n\n\n\n\n\n\n\n\nconst DividerButton = ()=>{\n    const { editor, dividers: { isDisabled } } = (0,_toolbar_state__WEBPACK_IMPORTED_MODULE_4__.useToolbarState)();\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"DividerButton.useMemo\": ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_editor__WEBPACK_IMPORTED_MODULE_8__.EditorToolbarButton, {\n                isDisabled: isDisabled,\n                isSelected: false,\n                onPress: {\n                    \"DividerButton.useMemo\": ()=>{\n                        (0,_divider_shared__WEBPACK_IMPORTED_MODULE_5__.insertDivider)(editor);\n                    }\n                }[\"DividerButton.useMemo\"],\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n                    src: _keystar_ui_icon_icons_minusIcon__WEBPACK_IMPORTED_MODULE_3__.minusIcon\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/divider.tsx\",\n                    lineNumber: 26,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/divider.tsx\",\n                lineNumber: 19,\n                columnNumber: 7\n            }, undefined)\n    }[\"DividerButton.useMemo\"], [\n        editor,\n        isDisabled\n    ]);\n};\nconst dividerButton = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_6__.TooltipTrigger, {\n    delay: 200,\n    children: [\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DividerButton, {}, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/divider.tsx\",\n            lineNumber: 35,\n            columnNumber: 5\n        }, undefined),\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_6__.Tooltip, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__.Text, {\n                    children: \"Divider\"\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/divider.tsx\",\n                    lineNumber: 37,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_7__.Kbd, {\n                    children: \"---\"\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/divider.tsx\",\n                    lineNumber: 38,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/divider.tsx\",\n            lineNumber: 36,\n            columnNumber: 5\n        }, undefined)\n    ]\n}, void 0, true, {\n    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/divider.tsx\",\n    lineNumber: 34,\n    columnNumber: 3\n}, undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9kaXZpZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQStCO0FBRVE7QUFDcUI7QUFFWDtBQUNEO0FBQ2E7QUFDWDtBQUNNO0FBRXhELE1BQU1VLGdCQUFnQjtJQUNwQixNQUFNLEVBQ0pDLE1BQU0sRUFDTkMsVUFBVSxFQUFFQyxVQUFVLEVBQUUsRUFDekIsR0FBR1YsK0RBQWVBO0lBQ25CLE9BQU9ILDhDQUFPQTtpQ0FDWixrQkFDRSw4REFBQ1MsbUVBQW1CQTtnQkFDbEJJLFlBQVlBO2dCQUNaQyxZQUFZO2dCQUNaQyxPQUFPOzZDQUFFO3dCQUNQWCw4REFBYUEsQ0FBQ087b0JBQ2hCOzswQkFFQSw0RUFBQ1Ysa0RBQUlBO29CQUFDZSxLQUFLZCx1RUFBU0E7Ozs7Ozs7Ozs7O2dDQUd4QjtRQUFDUztRQUFRRTtLQUFXO0FBRXhCO0FBRU8sTUFBTUksOEJBQ1gsOERBQUNYLCtEQUFjQTtJQUFDWSxPQUFPOztzQkFDckIsOERBQUNSOzs7OztzQkFDRCw4REFBQ0wsd0RBQU9BOzs4QkFDTiw4REFBQ0csd0RBQUlBOzhCQUFDOzs7Ozs7OEJBQ04sOERBQUNELHVEQUFHQTs4QkFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Y0FHViIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL2RpdmlkZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24nXG5pbXBvcnQgeyBtaW51c0ljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL21pbnVzSWNvbidcblxuaW1wb3J0IHsgdXNlVG9vbGJhclN0YXRlIH0gZnJvbSAnLi90b29sYmFyLXN0YXRlJ1xuaW1wb3J0IHsgaW5zZXJ0RGl2aWRlciB9IGZyb20gJy4vZGl2aWRlci1zaGFyZWQnXG5pbXBvcnQgeyBUb29sdGlwLCBUb29sdGlwVHJpZ2dlciB9IGZyb20gJ0BrZXlzdGFyL3VpL3Rvb2x0aXAnXG5pbXBvcnQgeyBLYmQsIFRleHQgfSBmcm9tICdAa2V5c3Rhci91aS90eXBvZ3JhcGh5J1xuaW1wb3J0IHsgRWRpdG9yVG9vbGJhckJ1dHRvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2VkaXRvcidcblxuY29uc3QgRGl2aWRlckJ1dHRvbiA9ICgpID0+IHtcbiAgY29uc3Qge1xuICAgIGVkaXRvcixcbiAgICBkaXZpZGVyczogeyBpc0Rpc2FibGVkIH0sXG4gIH0gPSB1c2VUb29sYmFyU3RhdGUoKVxuICByZXR1cm4gdXNlTWVtbyhcbiAgICAoKSA9PiAoXG4gICAgICA8RWRpdG9yVG9vbGJhckJ1dHRvblxuICAgICAgICBpc0Rpc2FibGVkPXtpc0Rpc2FibGVkfVxuICAgICAgICBpc1NlbGVjdGVkPXtmYWxzZX1cbiAgICAgICAgb25QcmVzcz17KCkgPT4ge1xuICAgICAgICAgIGluc2VydERpdmlkZXIoZWRpdG9yKVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8SWNvbiBzcmM9e21pbnVzSWNvbn0gLz5cbiAgICAgIDwvRWRpdG9yVG9vbGJhckJ1dHRvbj5cbiAgICApLFxuICAgIFtlZGl0b3IsIGlzRGlzYWJsZWRdXG4gIClcbn1cblxuZXhwb3J0IGNvbnN0IGRpdmlkZXJCdXR0b24gPSAoXG4gIDxUb29sdGlwVHJpZ2dlciBkZWxheT17MjAwfT5cbiAgICA8RGl2aWRlckJ1dHRvbiAvPlxuICAgIDxUb29sdGlwPlxuICAgICAgPFRleHQ+RGl2aWRlcjwvVGV4dD5cbiAgICAgIDxLYmQ+LS0tPC9LYmQ+XG4gICAgPC9Ub29sdGlwPlxuICA8L1Rvb2x0aXBUcmlnZ2VyPlxuKVxuIl0sIm5hbWVzIjpbInVzZU1lbW8iLCJJY29uIiwibWludXNJY29uIiwidXNlVG9vbGJhclN0YXRlIiwiaW5zZXJ0RGl2aWRlciIsIlRvb2x0aXAiLCJUb29sdGlwVHJpZ2dlciIsIktiZCIsIlRleHQiLCJFZGl0b3JUb29sYmFyQnV0dG9uIiwiRGl2aWRlckJ1dHRvbiIsImVkaXRvciIsImRpdmlkZXJzIiwiaXNEaXNhYmxlZCIsImlzU2VsZWN0ZWQiLCJvblByZXNzIiwic3JjIiwiZGl2aWRlckJ1dHRvbiIsImRlbGF5Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/divider.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/document-features-normalization.ts":
/*!**************************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/document-features-normalization.ts ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   areArraysEqual: () => (/* binding */ areArraysEqual),\n/* harmony export */   normalizeElementBasedOnDocumentFeatures: () => (/* binding */ normalizeElementBasedOnDocumentFeatures),\n/* harmony export */   normalizeInlineBasedOnLinksAndRelationships: () => (/* binding */ normalizeInlineBasedOnLinksAndRelationships),\n/* harmony export */   normalizeTextBasedOnInlineMarksAndSoftBreaks: () => (/* binding */ normalizeTextBasedOnInlineMarksAndSoftBreaks),\n/* harmony export */   withDocumentFeaturesNormalization: () => (/* binding */ withDocumentFeaturesNormalization)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n\nfunction areArraysEqual(a, b) {\n    return a.length === b.length && a.every((x, i)=>x === b[i]);\n}\nfunction normalizeTextBasedOnInlineMarksAndSoftBreaks([node, path], editor, inlineMarks, softBreaks) {\n    const marksToRemove = Object.keys(node).filter((x)=>x !== 'text' && x !== 'insertMenu' && inlineMarks[x] !== true);\n    if (marksToRemove.length) {\n        slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unsetNodes(editor, marksToRemove, {\n            at: path\n        });\n        return true;\n    }\n    if (!softBreaks) {\n        const hasSoftBreaks = node.text.includes('\\n');\n        if (hasSoftBreaks) {\n            const [parentNode] = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.parent(editor, path);\n            if (parentNode.type !== 'code') {\n                for (const position of slate__WEBPACK_IMPORTED_MODULE_0__.Editor.positions(editor, {\n                    at: path\n                })){\n                    const character = slate__WEBPACK_IMPORTED_MODULE_0__.Node.get(editor, position.path).text[position.offset];\n                    if (character === '\\n') {\n                        slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.delete(editor, {\n                            at: position\n                        });\n                        return true;\n                    }\n                }\n            }\n        }\n    }\n    return false;\n}\nfunction normalizeInlineBasedOnLinksAndRelationships([node, path], editor, links, relationshipsEnabled, relationships) {\n    if (node.type === 'link' && !links) {\n        slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.insertText(editor, ` (${node.href})`, {\n            at: slate__WEBPACK_IMPORTED_MODULE_0__.Editor.end(editor, path)\n        });\n        slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unwrapNodes(editor, {\n            at: path\n        });\n        return true;\n    }\n    if (node.type === 'relationship' && (!relationshipsEnabled || relationships[node.relationship] === undefined)) {\n        const data = node.data;\n        if (data) {\n            const relationship = relationships[node.relationship];\n            slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.insertText(editor, `${data.label || data.id || ''} (${relationship?.label || node.relationship}:${data.id || ''})`, {\n                at: slate__WEBPACK_IMPORTED_MODULE_0__.Editor.before(editor, path)\n            });\n        }\n        slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.removeNodes(editor, {\n            at: path\n        });\n        return true;\n    }\n    return false;\n}\nfunction normalizeElementBasedOnDocumentFeatures([node, path], editor, { formatting, dividers, layouts, links, relationships: relationshipsEnabled }, relationships) {\n    if (node.type === 'heading' && (!formatting.headingLevels.length || !formatting.headingLevels.includes(node.level)) || node.type === 'ordered-list' && !formatting.listTypes.ordered || node.type === 'unordered-list' && !formatting.listTypes.unordered || node.type === 'code' && !formatting.blockTypes.code || node.type === 'blockquote' && !formatting.blockTypes.blockquote || node.type === 'layout' && (layouts.length === 0 || !layouts.some((layout)=>areArraysEqual(layout, node.layout)))) {\n        slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unwrapNodes(editor, {\n            at: path\n        });\n        return true;\n    }\n    if ((node.type === 'paragraph' || node.type === 'heading') && (!formatting.alignment.center && node.textAlign === 'center' || !formatting.alignment.end && node.textAlign === 'end' || 'textAlign' in node && node.textAlign !== 'center' && node.textAlign !== 'end')) {\n        slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unsetNodes(editor, 'textAlign', {\n            at: path\n        });\n        return true;\n    }\n    if (node.type === 'divider' && !dividers) {\n        slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.removeNodes(editor, {\n            at: path\n        });\n        return true;\n    }\n    return normalizeInlineBasedOnLinksAndRelationships([\n        node,\n        path\n    ], editor, links, relationshipsEnabled, relationships);\n}\nfunction withDocumentFeaturesNormalization(documentFeatures, relationships, editor) {\n    const { normalizeNode } = editor;\n    const documentFeaturesForNormalization = {\n        ...documentFeatures,\n        relationships: true\n    };\n    editor.normalizeNode = ([node, path])=>{\n        if (slate__WEBPACK_IMPORTED_MODULE_0__.Text.isText(node)) {\n            normalizeTextBasedOnInlineMarksAndSoftBreaks([\n                node,\n                path\n            ], editor, documentFeatures.formatting.inlineMarks, documentFeatures.formatting.softBreaks);\n        } else if (slate__WEBPACK_IMPORTED_MODULE_0__.Element.isElement(node)) {\n            normalizeElementBasedOnDocumentFeatures([\n                node,\n                path\n            ], editor, documentFeaturesForNormalization, relationships);\n        }\n        normalizeNode([\n            node,\n            path\n        ]);\n    };\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9kb2N1bWVudC1mZWF0dXJlcy1ub3JtYWxpemF0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUErRTtBQUl4RSxTQUFTSyxlQUFlQyxDQUFxQixFQUFFQyxDQUFxQjtJQUN6RSxPQUFPRCxFQUFFRSxNQUFNLEtBQUtELEVBQUVDLE1BQU0sSUFBSUYsRUFBRUcsS0FBSyxDQUFDLENBQUNDLEdBQUdDLElBQU1ELE1BQU1ILENBQUMsQ0FBQ0ksRUFBRTtBQUM5RDtBQUVPLFNBQVNDLDZDQUNkLENBQUNDLE1BQU1DLEtBQXNCLEVBQzdCQyxNQUFjLEVBQ2RDLFdBQTBELEVBQzFEQyxVQUFtQjtJQUVuQixNQUFNQyxnQkFBZ0JDLE9BQU9DLElBQUksQ0FBQ1AsTUFBTVEsTUFBTSxDQUM1Q1gsQ0FBQUEsSUFBS0EsTUFBTSxVQUFVQSxNQUFNLGdCQUFnQixXQUFvQixDQUFDQSxFQUFFLEtBQUs7SUFFekUsSUFBSVEsY0FBY1YsTUFBTSxFQUFFO1FBQ3hCSiw2Q0FBVUEsQ0FBQ2tCLFVBQVUsQ0FBQ1AsUUFBUUcsZUFBZTtZQUFFSyxJQUFJVDtRQUFLO1FBQ3hELE9BQU87SUFDVDtJQUNBLElBQUksQ0FBQ0csWUFBWTtRQUNmLE1BQU1PLGdCQUFnQlgsS0FBS1ksSUFBSSxDQUFDQyxRQUFRLENBQUM7UUFDekMsSUFBSUYsZUFBZTtZQUNqQixNQUFNLENBQUNHLFdBQVcsR0FBRzNCLHlDQUFNQSxDQUFDNEIsTUFBTSxDQUFDYixRQUFRRDtZQUMzQyxJQUFJYSxXQUFXRSxJQUFJLEtBQUssUUFBUTtnQkFDOUIsS0FBSyxNQUFNQyxZQUFZOUIseUNBQU1BLENBQUMrQixTQUFTLENBQUNoQixRQUFRO29CQUFFUSxJQUFJVDtnQkFBSyxHQUFJO29CQUM3RCxNQUFNa0IsWUFBWSx3Q0FBTUMsR0FBRyxDQUFDbEIsUUFBUWUsU0FBU2hCLElBQUksRUFBV1csSUFBSSxDQUFD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QztBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvZG9jdW1lbnQtZmVhdHVyZXMtbm9ybWFsaXphdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZGl0b3IsIEVsZW1lbnQsIE5vZGUsIFRleHQsIFRyYW5zZm9ybXMsIHR5cGUgTm9kZUVudHJ5IH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgdHlwZSB7IERvY3VtZW50RmVhdHVyZXMgfSBmcm9tICcuLi92aWV3cy1zaGFyZWQnXG5pbXBvcnQgdHlwZSB7IFJlbGF0aW9uc2hpcHMgfSBmcm9tICcuL3JlbGF0aW9uc2hpcC1zaGFyZWQnXG5cbmV4cG9ydCBmdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhOiByZWFkb25seSB1bmtub3duW10sIGI6IHJlYWRvbmx5IHVua25vd25bXSkge1xuICByZXR1cm4gYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoKHgsIGkpID0+IHggPT09IGJbaV0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVUZXh0QmFzZWRPbklubGluZU1hcmtzQW5kU29mdEJyZWFrcyhcbiAgW25vZGUsIHBhdGhdOiBOb2RlRW50cnk8VGV4dD4sXG4gIGVkaXRvcjogRWRpdG9yLFxuICBpbmxpbmVNYXJrczogRG9jdW1lbnRGZWF0dXJlc1snZm9ybWF0dGluZyddWydpbmxpbmVNYXJrcyddLFxuICBzb2Z0QnJlYWtzOiBib29sZWFuXG4pOiBib29sZWFuIHtcbiAgY29uc3QgbWFya3NUb1JlbW92ZSA9IE9iamVjdC5rZXlzKG5vZGUpLmZpbHRlcihcbiAgICB4ID0+IHggIT09ICd0ZXh0JyAmJiB4ICE9PSAnaW5zZXJ0TWVudScgJiYgKGlubGluZU1hcmtzIGFzIGFueSlbeF0gIT09IHRydWVcbiAgKVxuICBpZiAobWFya3NUb1JlbW92ZS5sZW5ndGgpIHtcbiAgICBUcmFuc2Zvcm1zLnVuc2V0Tm9kZXMoZWRpdG9yLCBtYXJrc1RvUmVtb3ZlLCB7IGF0OiBwYXRoIH0pXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBpZiAoIXNvZnRCcmVha3MpIHtcbiAgICBjb25zdCBoYXNTb2Z0QnJlYWtzID0gbm9kZS50ZXh0LmluY2x1ZGVzKCdcXG4nKVxuICAgIGlmIChoYXNTb2Z0QnJlYWtzKSB7XG4gICAgICBjb25zdCBbcGFyZW50Tm9kZV0gPSBFZGl0b3IucGFyZW50KGVkaXRvciwgcGF0aClcbiAgICAgIGlmIChwYXJlbnROb2RlLnR5cGUgIT09ICdjb2RlJykge1xuICAgICAgICBmb3IgKGNvbnN0IHBvc2l0aW9uIG9mIEVkaXRvci5wb3NpdGlvbnMoZWRpdG9yLCB7IGF0OiBwYXRoIH0pKSB7XG4gICAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gKE5vZGUuZ2V0KGVkaXRvciwgcG9zaXRpb24ucGF0aCkgYXMgVGV4dCkudGV4dFtwb3NpdGlvbi5vZmZzZXRdXG4gICAgICAgICAgaWYgKGNoYXJhY3RlciA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgIFRyYW5zZm9ybXMuZGVsZXRlKGVkaXRvciwgeyBhdDogcG9zaXRpb24gfSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmV4cG9ydCB0eXBlIERvY3VtZW50RmVhdHVyZXNGb3JOb3JtYWxpemF0aW9uID0gT21pdDxEb2N1bWVudEZlYXR1cmVzLCAnZm9ybWF0dGluZyc+ICYge1xuICBmb3JtYXR0aW5nOiBPbWl0PERvY3VtZW50RmVhdHVyZXNbJ2Zvcm1hdHRpbmcnXSwgJ2lubGluZU1hcmtzJyB8ICdzb2Z0QnJlYWtzJz5cbiAgcmVsYXRpb25zaGlwczogYm9vbGVhblxufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplSW5saW5lQmFzZWRPbkxpbmtzQW5kUmVsYXRpb25zaGlwcyhcbiAgW25vZGUsIHBhdGhdOiBOb2RlRW50cnk8RWxlbWVudD4sXG4gIGVkaXRvcjogRWRpdG9yLFxuICBsaW5rczogYm9vbGVhbixcbiAgcmVsYXRpb25zaGlwc0VuYWJsZWQ6IGJvb2xlYW4sXG4gIHJlbGF0aW9uc2hpcHM6IFJlbGF0aW9uc2hpcHNcbikge1xuICBpZiAobm9kZS50eXBlID09PSAnbGluaycgJiYgIWxpbmtzKSB7XG4gICAgVHJhbnNmb3Jtcy5pbnNlcnRUZXh0KGVkaXRvciwgYCAoJHtub2RlLmhyZWZ9KWAsIHsgYXQ6IEVkaXRvci5lbmQoZWRpdG9yLCBwYXRoKSB9KVxuICAgIFRyYW5zZm9ybXMudW53cmFwTm9kZXMoZWRpdG9yLCB7IGF0OiBwYXRoIH0pXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBpZiAoXG4gICAgbm9kZS50eXBlID09PSAncmVsYXRpb25zaGlwJyAmJlxuICAgICghcmVsYXRpb25zaGlwc0VuYWJsZWQgfHwgcmVsYXRpb25zaGlwc1tub2RlLnJlbGF0aW9uc2hpcF0gPT09IHVuZGVmaW5lZClcbiAgKSB7XG4gICAgY29uc3QgZGF0YTogYW55ID0gbm9kZS5kYXRhXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcCA9IHJlbGF0aW9uc2hpcHNbbm9kZS5yZWxhdGlvbnNoaXBdXG4gICAgICBUcmFuc2Zvcm1zLmluc2VydFRleHQoXG4gICAgICAgIGVkaXRvcixcbiAgICAgICAgYCR7ZGF0YS5sYWJlbCB8fCBkYXRhLmlkIHx8ICcnfSAoJHtyZWxhdGlvbnNoaXA/LmxhYmVsIHx8IG5vZGUucmVsYXRpb25zaGlwfToke1xuICAgICAgICAgIGRhdGEuaWQgfHwgJydcbiAgICAgICAgfSlgLFxuICAgICAgICB7IGF0OiBFZGl0b3IuYmVmb3JlKGVkaXRvciwgcGF0aCkgfVxuICAgICAgKVxuICAgIH1cbiAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwgeyBhdDogcGF0aCB9KVxuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVFbGVtZW50QmFzZWRPbkRvY3VtZW50RmVhdHVyZXMoXG4gIFtub2RlLCBwYXRoXTogTm9kZUVudHJ5PEVsZW1lbnQ+LFxuICBlZGl0b3I6IEVkaXRvcixcbiAge1xuICAgIGZvcm1hdHRpbmcsXG4gICAgZGl2aWRlcnMsXG4gICAgbGF5b3V0cyxcbiAgICBsaW5rcyxcbiAgICByZWxhdGlvbnNoaXBzOiByZWxhdGlvbnNoaXBzRW5hYmxlZCxcbiAgfTogRG9jdW1lbnRGZWF0dXJlc0Zvck5vcm1hbGl6YXRpb24sXG4gIHJlbGF0aW9uc2hpcHM6IFJlbGF0aW9uc2hpcHNcbik6IGJvb2xlYW4ge1xuICBpZiAoXG4gICAgKG5vZGUudHlwZSA9PT0gJ2hlYWRpbmcnICYmXG4gICAgICAoIWZvcm1hdHRpbmcuaGVhZGluZ0xldmVscy5sZW5ndGggfHwgIWZvcm1hdHRpbmcuaGVhZGluZ0xldmVscy5pbmNsdWRlcyhub2RlLmxldmVsKSkpIHx8XG4gICAgKG5vZGUudHlwZSA9PT0gJ29yZGVyZWQtbGlzdCcgJiYgIWZvcm1hdHRpbmcubGlzdFR5cGVzLm9yZGVyZWQpIHx8XG4gICAgKG5vZGUudHlwZSA9PT0gJ3Vub3JkZXJlZC1saXN0JyAmJiAhZm9ybWF0dGluZy5saXN0VHlwZXMudW5vcmRlcmVkKSB8fFxuICAgIChub2RlLnR5cGUgPT09ICdjb2RlJyAmJiAhZm9ybWF0dGluZy5ibG9ja1R5cGVzLmNvZGUpIHx8XG4gICAgKG5vZGUudHlwZSA9PT0gJ2Jsb2NrcXVvdGUnICYmICFmb3JtYXR0aW5nLmJsb2NrVHlwZXMuYmxvY2txdW90ZSkgfHxcbiAgICAobm9kZS50eXBlID09PSAnbGF5b3V0JyAmJlxuICAgICAgKGxheW91dHMubGVuZ3RoID09PSAwIHx8ICFsYXlvdXRzLnNvbWUobGF5b3V0ID0+IGFyZUFycmF5c0VxdWFsKGxheW91dCwgbm9kZS5sYXlvdXQpKSkpXG4gICkge1xuICAgIFRyYW5zZm9ybXMudW53cmFwTm9kZXMoZWRpdG9yLCB7IGF0OiBwYXRoIH0pXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBpZiAoXG4gICAgKG5vZGUudHlwZSA9PT0gJ3BhcmFncmFwaCcgfHwgbm9kZS50eXBlID09PSAnaGVhZGluZycpICYmXG4gICAgKCghZm9ybWF0dGluZy5hbGlnbm1lbnQuY2VudGVyICYmIG5vZGUudGV4dEFsaWduID09PSAnY2VudGVyJykgfHxcbiAgICAgICghZm9ybWF0dGluZy5hbGlnbm1lbnQuZW5kICYmIG5vZGUudGV4dEFsaWduID09PSAnZW5kJykgfHxcbiAgICAgICgndGV4dEFsaWduJyBpbiBub2RlICYmIG5vZGUudGV4dEFsaWduICE9PSAnY2VudGVyJyAmJiBub2RlLnRleHRBbGlnbiAhPT0gJ2VuZCcpKVxuICApIHtcbiAgICBUcmFuc2Zvcm1zLnVuc2V0Tm9kZXMoZWRpdG9yLCAndGV4dEFsaWduJywgeyBhdDogcGF0aCB9KVxuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgaWYgKG5vZGUudHlwZSA9PT0gJ2RpdmlkZXInICYmICFkaXZpZGVycykge1xuICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7IGF0OiBwYXRoIH0pXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHJldHVybiBub3JtYWxpemVJbmxpbmVCYXNlZE9uTGlua3NBbmRSZWxhdGlvbnNoaXBzKFxuICAgIFtub2RlLCBwYXRoXSxcbiAgICBlZGl0b3IsXG4gICAgbGlua3MsXG4gICAgcmVsYXRpb25zaGlwc0VuYWJsZWQsXG4gICAgcmVsYXRpb25zaGlwc1xuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3aXRoRG9jdW1lbnRGZWF0dXJlc05vcm1hbGl6YXRpb24oXG4gIGRvY3VtZW50RmVhdHVyZXM6IERvY3VtZW50RmVhdHVyZXMsXG4gIHJlbGF0aW9uc2hpcHM6IFJlbGF0aW9uc2hpcHMsXG4gIGVkaXRvcjogRWRpdG9yXG4pOiBFZGl0b3Ige1xuICBjb25zdCB7IG5vcm1hbGl6ZU5vZGUgfSA9IGVkaXRvclxuICBjb25zdCBkb2N1bWVudEZlYXR1cmVzRm9yTm9ybWFsaXphdGlvbiA9IHsgLi4uZG9jdW1lbnRGZWF0dXJlcywgcmVsYXRpb25zaGlwczogdHJ1ZSB9XG4gIGVkaXRvci5ub3JtYWxpemVOb2RlID0gKFtub2RlLCBwYXRoXSkgPT4ge1xuICAgIGlmIChUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgbm9ybWFsaXplVGV4dEJhc2VkT25JbmxpbmVNYXJrc0FuZFNvZnRCcmVha3MoXG4gICAgICAgIFtub2RlLCBwYXRoXSxcbiAgICAgICAgZWRpdG9yLFxuICAgICAgICBkb2N1bWVudEZlYXR1cmVzLmZvcm1hdHRpbmcuaW5saW5lTWFya3MsXG4gICAgICAgIGRvY3VtZW50RmVhdHVyZXMuZm9ybWF0dGluZy5zb2Z0QnJlYWtzXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChFbGVtZW50LmlzRWxlbWVudChub2RlKSkge1xuICAgICAgbm9ybWFsaXplRWxlbWVudEJhc2VkT25Eb2N1bWVudEZlYXR1cmVzKFxuICAgICAgICBbbm9kZSwgcGF0aF0sXG4gICAgICAgIGVkaXRvcixcbiAgICAgICAgZG9jdW1lbnRGZWF0dXJlc0Zvck5vcm1hbGl6YXRpb24sXG4gICAgICAgIHJlbGF0aW9uc2hpcHNcbiAgICAgIClcbiAgICB9XG4gICAgbm9ybWFsaXplTm9kZShbbm9kZSwgcGF0aF0pXG4gIH1cbiAgcmV0dXJuIGVkaXRvclxufVxuIl0sIm5hbWVzIjpbIkVkaXRvciIsIkVsZW1lbnQiLCJOb2RlIiwiVGV4dCIsIlRyYW5zZm9ybXMiLCJhcmVBcnJheXNFcXVhbCIsImEiLCJiIiwibGVuZ3RoIiwiZXZlcnkiLCJ4IiwiaSIsIm5vcm1hbGl6ZVRleHRCYXNlZE9uSW5saW5lTWFya3NBbmRTb2Z0QnJlYWtzIiwibm9kZSIsInBhdGgiLCJlZGl0b3IiLCJpbmxpbmVNYXJrcyIsInNvZnRCcmVha3MiLCJtYXJrc1RvUmVtb3ZlIiwiT2JqZWN0Iiwia2V5cyIsImZpbHRlciIsInVuc2V0Tm9kZXMiLCJhdCIsImhhc1NvZnRCcmVha3MiLCJ0ZXh0IiwiaW5jbHVkZXMiLCJwYXJlbnROb2RlIiwicGFyZW50IiwidHlwZSIsInBvc2l0aW9uIiwicG9zaXRpb25zIiwiY2hhcmFjdGVyIiwiZ2V0Iiwib2Zmc2V0IiwiZGVsZXRlIiwibm9ybWFsaXplSW5saW5lQmFzZWRPbkxpbmtzQW5kUmVsYXRpb25zaGlwcyIsImxpbmtzIiwicmVsYXRpb25zaGlwc0VuYWJsZWQiLCJyZWxhdGlvbnNoaXBzIiwiaW5zZXJ0VGV4dCIsImhyZWYiLCJlbmQiLCJ1bndyYXBOb2RlcyIsInJlbGF0aW9uc2hpcCIsInVuZGVmaW5lZCIsImRhdGEiLCJsYWJlbCIsImlkIiwiYmVmb3JlIiwicmVtb3ZlTm9kZXMiLCJub3JtYWxpemVFbGVtZW50QmFzZWRPbkRvY3VtZW50RmVhdHVyZXMiLCJmb3JtYXR0aW5nIiwiZGl2aWRlcnMiLCJsYXlvdXRzIiwiaGVhZGluZ0xldmVscyIsImxldmVsIiwibGlzdFR5cGVzIiwib3JkZXJlZCIsInVub3JkZXJlZCIsImJsb2NrVHlwZXMiLCJjb2RlIiwiYmxvY2txdW90ZSIsInNvbWUiLCJsYXlvdXQiLCJhbGlnbm1lbnQiLCJjZW50ZXIiLCJ0ZXh0QWxpZ24iLCJ3aXRoRG9jdW1lbnRGZWF0dXJlc05vcm1hbGl6YXRpb24iLCJkb2N1bWVudEZlYXR1cmVzIiwibm9ybWFsaXplTm9kZSIsImRvY3VtZW50RmVhdHVyZXNGb3JOb3JtYWxpemF0aW9uIiwiaXNUZXh0IiwiaXNFbGVtZW50Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/document-features-normalization.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/editor-shared.ts":
/*!********************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/editor-shared.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDocumentEditor: () => (/* binding */ createDocumentEditor),\n/* harmony export */   editorSchema: () => (/* binding */ editorSchema),\n/* harmony export */   isBlock: () => (/* binding */ isBlock),\n/* harmony export */   isInlineContainer: () => (/* binding */ isInlineContainer)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var slate_history__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! slate-history */ \"../../../../node_modules/.pnpm/slate-history@0.113.1_slate@0.112.0/node_modules/slate-history/dist/index.js\");\n/* harmony import */ var _component_blocks_with_component_blocks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./component-blocks/with-component-blocks */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/with-component-blocks.tsx\");\n/* harmony import */ var _paragraphs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./paragraphs */ \"../../../../packages/fields-document/src/DocumentEditor/paragraphs.ts\");\n/* harmony import */ var _lists_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lists-shared */ \"../../../../packages/fields-document/src/DocumentEditor/lists-shared.ts\");\n/* harmony import */ var _link_shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./link-shared */ \"../../../../packages/fields-document/src/DocumentEditor/link-shared.ts\");\n/* harmony import */ var _layouts_shared__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./layouts-shared */ \"../../../../packages/fields-document/src/DocumentEditor/layouts-shared.ts\");\n/* harmony import */ var _heading_shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./heading-shared */ \"../../../../packages/fields-document/src/DocumentEditor/heading-shared.ts\");\n/* harmony import */ var _blockquote_shared__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./blockquote-shared */ \"../../../../packages/fields-document/src/DocumentEditor/blockquote-shared.ts\");\n/* harmony import */ var _relationship_shared__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./relationship-shared */ \"../../../../packages/fields-document/src/DocumentEditor/relationship-shared.ts\");\n/* harmony import */ var _divider_shared__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./divider-shared */ \"../../../../packages/fields-document/src/DocumentEditor/divider-shared.ts\");\n/* harmony import */ var _code_block_shared__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./code-block-shared */ \"../../../../packages/fields-document/src/DocumentEditor/code-block-shared.ts\");\n/* harmony import */ var _marks__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./marks */ \"../../../../packages/fields-document/src/DocumentEditor/marks.tsx\");\n/* harmony import */ var _soft_breaks__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./soft-breaks */ \"../../../../packages/fields-document/src/DocumentEditor/soft-breaks.ts\");\n/* harmony import */ var _shortcuts__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./shortcuts */ \"../../../../packages/fields-document/src/DocumentEditor/shortcuts.ts\");\n/* harmony import */ var _document_features_normalization__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./document-features-normalization */ \"../../../../packages/fields-document/src/DocumentEditor/document-features-normalization.ts\");\n/* harmony import */ var _insert_menu_shared__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./insert-menu-shared */ \"../../../../packages/fields-document/src/DocumentEditor/insert-menu-shared.ts\");\n/* harmony import */ var _block_markdown_shortcuts__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./block-markdown-shortcuts */ \"../../../../packages/fields-document/src/DocumentEditor/block-markdown-shortcuts.ts\");\n/* harmony import */ var _pasting__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./pasting */ \"../../../../packages/fields-document/src/DocumentEditor/pasting/index.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst blockquoteChildren = [\n    'paragraph',\n    'code',\n    'heading',\n    'ordered-list',\n    'unordered-list',\n    'divider'\n];\nconst paragraphLike = [\n    ...blockquoteChildren,\n    'blockquote'\n];\nconst insideOfLayouts = [\n    ...paragraphLike,\n    'component-block'\n];\nconst editorSchema = {\n    editor: blockContainer({\n        allowedChildren: [\n            ...insideOfLayouts,\n            'layout'\n        ],\n        invalidPositionHandleMode: 'move'\n    }),\n    layout: blockContainer({\n        allowedChildren: [\n            'layout-area'\n        ],\n        invalidPositionHandleMode: 'move'\n    }),\n    'layout-area': blockContainer({\n        allowedChildren: insideOfLayouts,\n        invalidPositionHandleMode: 'unwrap'\n    }),\n    blockquote: blockContainer({\n        allowedChildren: blockquoteChildren,\n        invalidPositionHandleMode: 'move'\n    }),\n    paragraph: inlineContainer({\n        invalidPositionHandleMode: 'unwrap'\n    }),\n    code: inlineContainer({\n        invalidPositionHandleMode: 'move'\n    }),\n    divider: inlineContainer({\n        invalidPositionHandleMode: 'move'\n    }),\n    heading: inlineContainer({\n        invalidPositionHandleMode: 'unwrap'\n    }),\n    'component-block': blockContainer({\n        allowedChildren: [\n            'component-block-prop',\n            'component-inline-prop'\n        ],\n        invalidPositionHandleMode: 'move'\n    }),\n    'component-inline-prop': inlineContainer({\n        invalidPositionHandleMode: 'unwrap'\n    }),\n    'component-block-prop': blockContainer({\n        allowedChildren: insideOfLayouts,\n        invalidPositionHandleMode: 'unwrap'\n    }),\n    'ordered-list': blockContainer({\n        allowedChildren: [\n            'list-item'\n        ],\n        invalidPositionHandleMode: 'move'\n    }),\n    'unordered-list': blockContainer({\n        allowedChildren: [\n            'list-item'\n        ],\n        invalidPositionHandleMode: 'move'\n    }),\n    'list-item': blockContainer({\n        allowedChildren: [\n            'list-item-content',\n            'ordered-list',\n            'unordered-list'\n        ],\n        invalidPositionHandleMode: 'unwrap'\n    }),\n    'list-item-content': inlineContainer({\n        invalidPositionHandleMode: 'unwrap'\n    })\n};\nfunction inlineContainer(args) {\n    return {\n        kind: 'inlines',\n        invalidPositionHandleMode: args.invalidPositionHandleMode\n    };\n}\nconst inlineContainerTypes = new Set(Object.entries(editorSchema).filter(([, value])=>value.kind === 'inlines').map(([type])=>type));\nfunction isInlineContainer(node) {\n    return node.type !== undefined && inlineContainerTypes.has(node.type);\n}\nfunction createDocumentEditor(documentFeatures, componentBlocks, relationships, slate) {\n    return (0,_pasting__WEBPACK_IMPORTED_MODULE_16__.withPasting)((0,_soft_breaks__WEBPACK_IMPORTED_MODULE_11__.withSoftBreaks)(withBlocksSchema((0,_link_shared__WEBPACK_IMPORTED_MODULE_3__.withLink)(documentFeatures, componentBlocks, (0,_lists_shared__WEBPACK_IMPORTED_MODULE_2__.withList)((0,_heading_shared__WEBPACK_IMPORTED_MODULE_5__.withHeading)((0,_relationship_shared__WEBPACK_IMPORTED_MODULE_7__.withRelationship)((0,_insert_menu_shared__WEBPACK_IMPORTED_MODULE_14__.withInsertMenu)((0,_component_blocks_with_component_blocks__WEBPACK_IMPORTED_MODULE_0__.withComponentBlocks)(componentBlocks, documentFeatures, relationships, (0,_paragraphs__WEBPACK_IMPORTED_MODULE_1__.withParagraphs)((0,_shortcuts__WEBPACK_IMPORTED_MODULE_12__.withShortcuts)((0,_divider_shared__WEBPACK_IMPORTED_MODULE_8__.withDivider)((0,_layouts_shared__WEBPACK_IMPORTED_MODULE_4__.withLayouts)((0,_marks__WEBPACK_IMPORTED_MODULE_10__.withMarks)(documentFeatures, componentBlocks, (0,_code_block_shared__WEBPACK_IMPORTED_MODULE_9__.withCodeBlock)((0,_block_markdown_shortcuts__WEBPACK_IMPORTED_MODULE_15__.withBlockMarkdownShortcuts)(documentFeatures, componentBlocks, (0,_blockquote_shared__WEBPACK_IMPORTED_MODULE_6__.withBlockquote)((0,_document_features_normalization__WEBPACK_IMPORTED_MODULE_13__.withDocumentFeaturesNormalization)(documentFeatures, relationships, (0,slate_history__WEBPACK_IMPORTED_MODULE_17__.withHistory)(slate?.withReact((0,slate__WEBPACK_IMPORTED_MODULE_18__.createEditor)()) ?? (0,slate__WEBPACK_IMPORTED_MODULE_18__.createEditor)())))))))))))))))))));\n}\nfunction blockContainer(args) {\n    return {\n        kind: 'blocks',\n        allowedChildren: new Set(args.allowedChildren),\n        blockToWrapInlinesIn: args.allowedChildren[0],\n        invalidPositionHandleMode: args.invalidPositionHandleMode\n    };\n}\nconst blockTypes = new Set(Object.keys(editorSchema).filter((x)=>x !== 'editor'));\nfunction isBlock(node) {\n    return blockTypes.has(node.type);\n}\nfunction withBlocksSchema(editor) {\n    const { normalizeNode } = editor;\n    editor.normalizeNode = ([node, path])=>{\n        if (!slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(node) && node.type !== 'link' && node.type !== 'relationship') {\n            const nodeType = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isEditor(node) ? 'editor' : node.type;\n            if (typeof nodeType !== 'string' || editorSchema[nodeType] === undefined) {\n                slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.unwrapNodes(editor, {\n                    at: path\n                });\n                return;\n            }\n            const info = editorSchema[nodeType];\n            if (info.kind === 'blocks' && node.children.length !== 0 && node.children.every((child)=>!(slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(child) && slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isBlock(editor, child)))) {\n                slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.wrapNodes(editor, {\n                    type: info.blockToWrapInlinesIn,\n                    children: []\n                }, {\n                    at: path,\n                    match: (node)=>!(slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isBlock(editor, node))\n                });\n                return;\n            }\n            for (const [index, childNode] of node.children.entries()){\n                const childPath = [\n                    ...path,\n                    index\n                ];\n                if (info.kind === 'inlines') {\n                    if (!slate__WEBPACK_IMPORTED_MODULE_18__.Text.isText(childNode) && !slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isInline(editor, childNode) && // these checks are implicit in Editor.isBlock\n                    // but that isn't encoded in types so these will make TS happy\n                    childNode.type !== 'link' && childNode.type !== 'relationship') {\n                        handleNodeInInvalidPosition(editor, [\n                            childNode,\n                            childPath\n                        ], path);\n                        return;\n                    }\n                } else {\n                    if (!(slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(childNode) && slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isBlock(editor, childNode)) || // these checks are implicit in Editor.isBlock\n                    // but that isn't encoded in types so these will make TS happy\n                    childNode.type === 'link' || childNode.type === 'relationship') {\n                        slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.wrapNodes(editor, {\n                            type: info.blockToWrapInlinesIn,\n                            children: []\n                        }, {\n                            at: childPath\n                        });\n                        return;\n                    }\n                    if (slate__WEBPACK_IMPORTED_MODULE_18__.Element.isElement(childNode) && slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isBlock(editor, childNode) && !info.allowedChildren.has(childNode.type)) {\n                        handleNodeInInvalidPosition(editor, [\n                            childNode,\n                            childPath\n                        ], path);\n                        return;\n                    }\n                }\n            }\n        }\n        normalizeNode([\n            node,\n            path\n        ]);\n    };\n    return editor;\n}\nfunction handleNodeInInvalidPosition(editor, [node, path], parentPath) {\n    const nodeType = node.type;\n    const childNodeInfo = editorSchema[nodeType];\n    // the parent of a block will never be an inline so this casting is okay\n    const parentNode = slate__WEBPACK_IMPORTED_MODULE_18__.Node.get(editor, parentPath);\n    const parentNodeType = slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isEditor(parentNode) ? 'editor' : parentNode.type;\n    const parentNodeInfo = editorSchema[parentNodeType];\n    if (!childNodeInfo || childNodeInfo.invalidPositionHandleMode === 'unwrap') {\n        if (parentNodeInfo.kind === 'blocks' && parentNodeInfo.blockToWrapInlinesIn) {\n            slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, {\n                type: parentNodeInfo.blockToWrapInlinesIn,\n                ...Object.fromEntries(Object.keys(node).filter((key)=>key !== 'type' && key !== 'children').map((key)=>[\n                        key,\n                        null\n                    ]))\n            }, {\n                at: path\n            });\n            return;\n        }\n        slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.unwrapNodes(editor, {\n            at: path\n        });\n        return;\n    }\n    const info = editorSchema[parentNode.type || 'editor'];\n    if (info?.kind === 'blocks' && info.allowedChildren.has(nodeType)) {\n        if (parentPath.length === 0) {\n            slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.moveNodes(editor, {\n                at: path,\n                to: [\n                    path[0] + 1\n                ]\n            });\n        } else {\n            slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.moveNodes(editor, {\n                at: path,\n                to: slate__WEBPACK_IMPORTED_MODULE_18__.Path.next(parentPath)\n            });\n        }\n        return;\n    }\n    if (slate__WEBPACK_IMPORTED_MODULE_18__.Editor.isEditor(parentNode)) {\n        slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.moveNodes(editor, {\n            at: path,\n            to: [\n                path[0] + 1\n            ]\n        });\n        slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.unwrapNodes(editor, {\n            at: [\n                path[0] + 1\n            ]\n        });\n        return;\n    }\n    handleNodeInInvalidPosition(editor, [\n        node,\n        path\n    ], parentPath.slice(0, -1));\n} // to print the editor schema in Graphviz if you want to visualize it\n // function printEditorSchema(editorSchema: EditorSchema) {\n //   return `digraph G {\n //   concentrate=true;\n //   ${Object.keys(editorSchema)\n //     .map(key => {\n //       let val = editorSchema[key];\n //       if (val.kind === 'inlines') {\n //         return `\"${key}\" -> inlines`;\n //       }\n //       if (val.kind === 'blocks') {\n //         return `\"${key}\" -> {${[...val.allowedChildren].map(x => JSON.stringify(x)).join(' ')}}`;\n //       }\n //     })\n //     .join('\\n  ')}\n // }`;\n // }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9lZGl0b3Itc2hhcmVkLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVWM7QUFDNkI7QUFLbUM7QUFDakM7QUFDSjtBQUNEO0FBQ007QUFDQTtBQUNNO0FBQ3dCO0FBQzlCO0FBQ0s7QUFDaEI7QUFDVztBQUNIO0FBQzBDO0FBQ2hDO0FBQ2tCO0FBQ2hDO0FBSXZDLE1BQU15QixxQkFBcUI7SUFDekI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFDRCxNQUFNQyxnQkFBZ0I7T0FBSUQ7SUFBb0I7Q0FBYTtBQUMzRCxNQUFNRSxrQkFBa0I7T0FBSUQ7SUFBZTtDQUFrQjtBQUV0RCxNQUFNRSxlQUFlO0lBQzFCQyxRQUFRQyxlQUFlO1FBQ3JCQyxpQkFBaUI7ZUFBSUo7WUFBaUI7U0FBUztRQUMvQ0ssMkJBQTJCO0lBQzdCO0lBQ0FDLFFBQVFILGVBQWU7UUFBRUMsaUJBQWlCO1lBQUM7U0FBYztRQUFFQywyQkFBMkI7SUFBTztJQUM3RixlQUFlRixlQUFlO1FBQzVCQyxpQkFBaUJKO1FBQ2pCSywyQkFBMkI7SUFDN0I7SUFDQUUsWUFBWUosZUFBZTtRQUN6QkMsaUJBQWlCTjtRQUNqQk8sMkJBQTJCO0lBQzdCO0lBQ0FHLFdBQVdDLGdCQUFnQjtRQUFFSiwyQkFBMkI7SUFBUztJQUNqRUssTUFBTUQsZ0JBQWdCO1FBQUVKLDJCQUEyQjtJQUFPO0lBQzFETSxTQUFTRixnQkFBZ0I7UUFBRUosMkJBQTJCO0lBQU87SUFDN0RPLFNBQVNILGdCQUFnQjtRQUFFSiwyQkFBMkI7SUFBUztJQUMvRCxtQkFBbUJGLGVBQWU7UUFDaENDLGlCQUFpQjtZQUFDO1lBQXdCO1NBQXdCO1FBQ2xFQywyQkFBMkI7SUFDN0I7SUFDQSx5QkFBeUJJLGdCQUFnQjtRQUFFSiwyQkFBMkI7SUFBUztJQUMvRSx3QkFBd0JGLGVBQWU7UUFDckNDLGlC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QUFXLENBQUMxQyxRQUFRO1lBQUUyQyxJQUFJO2dCQUFDTCxJQUFJLENBQUMsRUFBRSxHQUFHO2FBQUU7UUFBQztRQUNuRDtJQUNGO0lBQ0FrQiw0QkFBNEJ4RCxRQUFRO1FBQUNzQjtRQUFNZ0I7S0FBSyxFQUFFbUIsV0FBV1ksS0FBSyxDQUFDLEdBQUcsQ0FBQztBQUN6RSxFQUVBLHFFQUFxRTtDQUNyRSwyREFBMkQ7Q0FDM0Qsd0JBQXdCO0NBQ3hCLHNCQUFzQjtDQUN0QixnQ0FBZ0M7Q0FDaEMsb0JBQW9CO0NBQ3BCLHFDQUFxQztDQUNyQyxzQ0FBc0M7Q0FDdEMsd0NBQXdDO0NBQ3hDLFVBQVU7Q0FDVixxQ0FBcUM7Q0FDckMsb0dBQW9HO0NBQ3BHLFVBQVU7Q0FDVixTQUFTO0NBQ1QscUJBQXFCO0NBQ3JCLE1BQU07Q0FDTixJQUFJIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvZWRpdG9yLXNoYXJlZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB0eXBlIERlc2NlbmRhbnQsXG4gIHR5cGUgTm9kZUVudHJ5LFxuICBFZGl0b3IsXG4gIEVsZW1lbnQsXG4gIE5vZGUsXG4gIFBhdGgsXG4gIFRleHQsXG4gIFRyYW5zZm9ybXMsXG4gIGNyZWF0ZUVkaXRvcixcbn0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgeyB3aXRoSGlzdG9yeSB9IGZyb20gJ3NsYXRlLWhpc3RvcnknXG5cbmltcG9ydCB7IHR5cGUgQ29tcG9uZW50QmxvY2sgfSBmcm9tICcuL2NvbXBvbmVudC1ibG9ja3MvYXBpLXNoYXJlZCdcbmltcG9ydCB7IHR5cGUgRG9jdW1lbnRGZWF0dXJlcyB9IGZyb20gJy4uL3ZpZXdzLXNoYXJlZCdcblxuaW1wb3J0IHsgd2l0aENvbXBvbmVudEJsb2NrcyB9IGZyb20gJy4vY29tcG9uZW50LWJsb2Nrcy93aXRoLWNvbXBvbmVudC1ibG9ja3MnXG5pbXBvcnQgeyB3aXRoUGFyYWdyYXBocyB9IGZyb20gJy4vcGFyYWdyYXBocydcbmltcG9ydCB7IHdpdGhMaXN0IH0gZnJvbSAnLi9saXN0cy1zaGFyZWQnXG5pbXBvcnQgeyB3aXRoTGluayB9IGZyb20gJy4vbGluay1zaGFyZWQnXG5pbXBvcnQgeyB3aXRoTGF5b3V0cyB9IGZyb20gJy4vbGF5b3V0cy1zaGFyZWQnXG5pbXBvcnQgeyB3aXRoSGVhZGluZyB9IGZyb20gJy4vaGVhZGluZy1zaGFyZWQnXG5pbXBvcnQgeyB3aXRoQmxvY2txdW90ZSB9IGZyb20gJy4vYmxvY2txdW90ZS1zaGFyZWQnXG5pbXBvcnQgeyB0eXBlIFJlbGF0aW9uc2hpcHMsIHdpdGhSZWxhdGlvbnNoaXAgfSBmcm9tICcuL3JlbGF0aW9uc2hpcC1zaGFyZWQnXG5pbXBvcnQgeyB3aXRoRGl2aWRlciB9IGZyb20gJy4vZGl2aWRlci1zaGFyZWQnXG5pbXBvcnQgeyB3aXRoQ29kZUJsb2NrIH0gZnJvbSAnLi9jb2RlLWJsb2NrLXNoYXJlZCdcbmltcG9ydCB7IHdpdGhNYXJrcyB9IGZyb20gJy4vbWFya3MnXG5pbXBvcnQgeyB3aXRoU29mdEJyZWFrcyB9IGZyb20gJy4vc29mdC1icmVha3MnXG5pbXBvcnQgeyB3aXRoU2hvcnRjdXRzIH0gZnJvbSAnLi9zaG9ydGN1dHMnXG5pbXBvcnQgeyB3aXRoRG9jdW1lbnRGZWF0dXJlc05vcm1hbGl6YXRpb24gfSBmcm9tICcuL2RvY3VtZW50LWZlYXR1cmVzLW5vcm1hbGl6YXRpb24nXG5pbXBvcnQgeyB3aXRoSW5zZXJ0TWVudSB9IGZyb20gJy4vaW5zZXJ0LW1lbnUtc2hhcmVkJ1xuaW1wb3J0IHsgd2l0aEJsb2NrTWFya2Rvd25TaG9ydGN1dHMgfSBmcm9tICcuL2Jsb2NrLW1hcmtkb3duLXNob3J0Y3V0cydcbmltcG9ydCB7IHdpdGhQYXN0aW5nIH0gZnJvbSAnLi9wYXN0aW5nJ1xuXG5leHBvcnQgdHlwZSBCbG9jayA9IEV4Y2x1ZGU8RWxlbWVudCwgeyB0eXBlOiAncmVsYXRpb25zaGlwJyB8ICdsaW5rJyB9PlxuXG5jb25zdCBibG9ja3F1b3RlQ2hpbGRyZW4gPSBbXG4gICdwYXJhZ3JhcGgnLFxuICAnY29kZScsXG4gICdoZWFkaW5nJyxcbiAgJ29yZGVyZWQtbGlzdCcsXG4gICd1bm9yZGVyZWQtbGlzdCcsXG4gICdkaXZpZGVyJyxcbl0gYXMgY29uc3RcbmNvbnN0IHBhcmFncmFwaExpa2UgPSBbLi4uYmxvY2txdW90ZUNoaWxkcmVuLCAnYmxvY2txdW90ZSddIGFzIGNvbnN0XG5jb25zdCBpbnNpZGVPZkxheW91dHMgPSBbLi4ucGFyYWdyYXBoTGlrZSwgJ2NvbXBvbmVudC1ibG9jayddIGFzIGNvbnN0XG5cbmV4cG9ydCBjb25zdCBlZGl0b3JTY2hlbWEgPSB7XG4gIGVkaXRvcjogYmxvY2tDb250YWluZXIoe1xuICAgIGFsbG93ZWRDaGlsZHJlbjogWy4uLmluc2lkZU9mTGF5b3V0cywgJ2xheW91dCddLFxuICAgIGludmFsaWRQb3NpdGlvbkhhbmRsZU1vZGU6ICdtb3ZlJyxcbiAgfSksXG4gIGxheW91dDogYmxvY2tDb250YWluZXIoeyBhbGxvd2VkQ2hpbGRyZW46IFsnbGF5b3V0LWFyZWEnXSwgaW52YWxpZFBvc2l0aW9uSGFuZGxlTW9kZTogJ21vdmUnIH0pLFxuICAnbGF5b3V0LWFyZWEnOiBibG9ja0NvbnRhaW5lcih7XG4gICAgYWxsb3dlZENoaWxkcmVuOiBpbnNpZGVPZkxheW91dHMsXG4gICAgaW52YWxpZFBvc2l0aW9uSGFuZGxlTW9kZTogJ3Vud3JhcCcsXG4gIH0pLFxuICBibG9ja3F1b3RlOiBibG9ja0NvbnRhaW5lcih7XG4gICAgYWxsb3dlZENoaWxkcmVuOiBibG9ja3F1b3RlQ2hpbGRyZW4sXG4gICAgaW52YWxpZFBvc2l0aW9uSGFuZGxlTW9kZTogJ21vdmUnLFxuICB9KSxcbiAgcGFyYWdyYXBoOiBpbmxpbmVDb250YWluZXIoeyBpbnZhbGlkUG9zaXRpb25IYW5kbGVNb2RlOiAndW53cmFwJyB9KSxcbiAgY29kZTogaW5saW5lQ29udGFpbmVyKHsgaW52YWxpZFBvc2l0aW9uSGFuZGxlTW9kZTogJ21vdmUnIH0pLFxuICBkaXZpZGVyOiBpbmxpbmVDb250YWluZXIoeyBpbnZhbGlkUG9zaXRpb25IYW5kbGVNb2RlOiAnbW92ZScgfSksXG4gIGhlYWRpbmc6IGlubGluZUNvbnRhaW5lcih7IGludmFsaWRQb3NpdGlvbkhhbmRsZU1vZGU6ICd1bndyYXAnIH0pLFxuICAnY29tcG9uZW50LWJsb2NrJzogYmxvY2tDb250YWluZXIoe1xuICAgIGFsbG93ZWRDaGlsZHJlbjogWydjb21wb25lbnQtYmxvY2stcHJvcCcsICdjb21wb25lbnQtaW5saW5lLXByb3AnXSxcbiAgICBpbnZhbGlkUG9zaXRpb25IYW5kbGVNb2RlOiAnbW92ZScsXG4gIH0pLFxuICAnY29tcG9uZW50LWlubGluZS1wcm9wJzogaW5saW5lQ29udGFpbmVyKHsgaW52YWxpZFBvc2l0aW9uSGFuZGxlTW9kZTogJ3Vud3JhcCcgfSksXG4gICdjb21wb25lbnQtYmxvY2stcHJvcCc6IGJsb2NrQ29udGFpbmVyKHtcbiAgICBhbGxvd2VkQ2hpbGRyZW46IGluc2lkZU9mTGF5b3V0cyxcbiAgICBpbnZhbGlkUG9zaXRpb25IYW5kbGVNb2RlOiAndW53cmFwJyxcbiAgfSksXG4gICdvcmRlcmVkLWxpc3QnOiBibG9ja0NvbnRhaW5lcih7XG4gICAgYWxsb3dlZENoaWxkcmVuOiBbJ2xpc3QtaXRlbSddLFxuICAgIGludmFsaWRQb3NpdGlvbkhhbmRsZU1vZGU6ICdtb3ZlJyxcbiAgfSksXG4gICd1bm9yZGVyZWQtbGlzdCc6IGJsb2NrQ29udGFpbmVyKHtcbiAgICBhbGxvd2VkQ2hpbGRyZW46IFsnbGlzdC1pdGVtJ10sXG4gICAgaW52YWxpZFBvc2l0aW9uSGFuZGxlTW9kZTogJ21vdmUnLFxuICB9KSxcbiAgJ2xpc3QtaXRlbSc6IGJsb2NrQ29udGFpbmVyKHtcbiAgICBhbGxvd2VkQ2hpbGRyZW46IFsnbGlzdC1pdGVtLWNvbnRlbnQnLCAnb3JkZXJlZC1saXN0JywgJ3Vub3JkZXJlZC1saXN0J10sXG4gICAgaW52YWxpZFBvc2l0aW9uSGFuZGxlTW9kZTogJ3Vud3JhcCcsXG4gIH0pLFxuICAnbGlzdC1pdGVtLWNvbnRlbnQnOiBpbmxpbmVDb250YWluZXIoeyBpbnZhbGlkUG9zaXRpb25IYW5kbGVNb2RlOiAndW53cmFwJyB9KSxcbn0gc2F0aXNmaWVzIFJlY29yZDxCbG9ja1sndHlwZSddIHwgJ2VkaXRvcicsIEJsb2NrQ29udGFpbmVyU2NoZW1hIHwgSW5saW5lQ29udGFpbmVyU2NoZW1hPlxuXG50eXBlIEVkaXRvclNjaGVtYSA9IHR5cGVvZiBlZGl0b3JTY2hlbWFcbnR5cGUgSW5saW5lQ29udGFpbmluZ1R5cGUgPSB7XG4gIFtLZXkgaW4ga2V5b2YgRWRpdG9yU2NoZW1hXTogeyBpbmxpbmVzOiBLZXk7IGJsb2NrczogbmV2ZXIgfVtFZGl0b3JTY2hlbWFbS2V5XVsna2luZCddXVxufVtrZXlvZiBFZGl0b3JTY2hlbWFdXG5cbmZ1bmN0aW9uIGlubGluZUNvbnRhaW5lcihhcmdzOiB7XG4gIGludmFsaWRQb3NpdGlvbkhhbmRsZU1vZGU6ICd1bndyYXAnIHwgJ21vdmUnXG59KTogSW5saW5lQ29udGFpbmVyU2NoZW1hIHtcbiAgcmV0dXJuIHtcbiAgICBraW5kOiAnaW5saW5lcycsXG4gICAgaW52YWxpZFBvc2l0aW9uSGFuZGxlTW9kZTogYXJncy5pbnZhbGlkUG9zaXRpb25IYW5kbGVNb2RlLFxuICB9XG59XG5cbmNvbnN0IGlubGluZUNvbnRhaW5lclR5cGVzID0gbmV3IFNldChcbiAgT2JqZWN0LmVudHJpZXMoZWRpdG9yU2NoZW1hKVxuICAgIC5maWx0ZXIoKFssIHZhbHVlXSkgPT4gdmFsdWUua2luZCA9PT0gJ2lubGluZXMnKVxuICAgIC5tYXAoKFt0eXBlXSkgPT4gdHlwZSlcbilcblxudHlwZSBJbmxpbmVDb250YWluZXJTY2hlbWEgPSB7IGtpbmQ6ICdpbmxpbmVzJzsgaW52YWxpZFBvc2l0aW9uSGFuZGxlTW9kZTogJ3Vud3JhcCcgfCAnbW92ZScgfVxuXG50eXBlIFR5cGVzV2hpY2hIYXZlTm9FeHRyYVJlcXVpcmVkUHJvcHMgPSB7XG4gIFtUeXBlIGluIEJsb2NrWyd0eXBlJ11dOiB7IHR5cGU6IFR5cGU7IGNoaWxkcmVuOiBEZXNjZW5kYW50W10gfSBleHRlbmRzIEJsb2NrICYgeyB0eXBlOiBUeXBlIH1cbiAgICA/IFR5cGVcbiAgICA6IG5ldmVyXG59W0Jsb2NrWyd0eXBlJ11dXG5cbnR5cGUgQmxvY2tDb250YWluZXJTY2hlbWEgPSB7XG4gIGtpbmQ6ICdibG9ja3MnXG4gIGFsbG93ZWRDaGlsZHJlbjogUmVhZG9ubHlTZXQ8RWxlbWVudFsndHlwZSddPlxuICBibG9ja1RvV3JhcElubGluZXNJbjogVHlwZXNXaGljaEhhdmVOb0V4dHJhUmVxdWlyZWRQcm9wc1xuICBpbnZhbGlkUG9zaXRpb25IYW5kbGVNb2RlOiAndW53cmFwJyB8ICdtb3ZlJ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJbmxpbmVDb250YWluZXIobm9kZTogTm9kZSk6IG5vZGUgaXMgQmxvY2sgJiB7IHR5cGU6IElubGluZUNvbnRhaW5pbmdUeXBlIH0ge1xuICByZXR1cm4gbm9kZS50eXBlICE9PSB1bmRlZmluZWQgJiYgaW5saW5lQ29udGFpbmVyVHlwZXMuaGFzKG5vZGUudHlwZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURvY3VtZW50RWRpdG9yKFxuICBkb2N1bWVudEZlYXR1cmVzOiBEb2N1bWVudEZlYXR1cmVzLFxuICBjb21wb25lbnRCbG9ja3M6IFJlY29yZDxzdHJpbmcsIENvbXBvbmVudEJsb2NrPixcbiAgcmVsYXRpb25zaGlwczogUmVsYXRpb25zaGlwcyxcbiAgc2xhdGU/OiB7XG4gICAgd2l0aFJlYWN0OiAoZWRpdG9yOiBFZGl0b3IpID0+IGFueVxuICAgIFJlYWN0RWRpdG9yOiB7XG4gICAgICBmb2N1czogKGVkaXRvcjogRWRpdG9yKSA9PiB2b2lkXG4gICAgfVxuICB9XG4pIHtcbiAgcmV0dXJuIHdpdGhQYXN0aW5nKFxuICAgIHdpdGhTb2Z0QnJlYWtzKFxuICAgICAgd2l0aEJsb2Nrc1NjaGVtYShcbiAgICAgICAgd2l0aExpbmsoXG4gICAgICAgICAgZG9jdW1lbnRGZWF0dXJlcyxcbiAgICAgICAgICBjb21wb25lbnRCbG9ja3MsXG4gICAgICAgICAgd2l0aExpc3QoXG4gICAgICAgICAgICB3aXRoSGVhZGluZyhcbiAgICAgICAgICAgICAgd2l0aFJlbGF0aW9uc2hpcChcbiAgICAgICAgICAgICAgICB3aXRoSW5zZXJ0TWVudShcbiAgICAgICAgICAgICAgICAgIHdpdGhDb21wb25lbnRCbG9ja3MoXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEJsb2NrcyxcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRGZWF0dXJlcyxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwcyxcbiAgICAgICAgICAgICAgICAgICAgd2l0aFBhcmFncmFwaHMoXG4gICAgICAgICAgICAgICAgICAgICAgd2l0aFNob3J0Y3V0cyhcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhEaXZpZGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoTGF5b3V0cyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoTWFya3MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEZlYXR1cmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50QmxvY2tzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aENvZGVCbG9jayhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aEJsb2NrTWFya2Rvd25TaG9ydGN1dHMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRGZWF0dXJlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRCbG9ja3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aEJsb2NrcXVvdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoRG9jdW1lbnRGZWF0dXJlc05vcm1hbGl6YXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50RmVhdHVyZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhIaXN0b3J5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsYXRlPy53aXRoUmVhY3QoY3JlYXRlRWRpdG9yKCkpID8/IGNyZWF0ZUVkaXRvcigpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gIClcbn1cblxuZnVuY3Rpb24gYmxvY2tDb250YWluZXIoYXJnczoge1xuICBhbGxvd2VkQ2hpbGRyZW46IHJlYWRvbmx5IFtUeXBlc1doaWNoSGF2ZU5vRXh0cmFSZXF1aXJlZFByb3BzLCAuLi5CbG9ja1sndHlwZSddW11dXG4gIGludmFsaWRQb3NpdGlvbkhhbmRsZU1vZGU6ICd1bndyYXAnIHwgJ21vdmUnXG59KTogQmxvY2tDb250YWluZXJTY2hlbWEge1xuICByZXR1cm4ge1xuICAgIGtpbmQ6ICdibG9ja3MnLFxuICAgIGFsbG93ZWRDaGlsZHJlbjogbmV3IFNldChhcmdzLmFsbG93ZWRDaGlsZHJlbiksXG4gICAgYmxvY2tUb1dyYXBJbmxpbmVzSW46IGFyZ3MuYWxsb3dlZENoaWxkcmVuWzBdLFxuICAgIGludmFsaWRQb3NpdGlvbkhhbmRsZU1vZGU6IGFyZ3MuaW52YWxpZFBvc2l0aW9uSGFuZGxlTW9kZSxcbiAgfVxufVxuXG5jb25zdCBibG9ja1R5cGVzOiBTZXQ8c3RyaW5nIHwgdW5kZWZpbmVkPiA9IG5ldyBTZXQoXG4gIE9iamVjdC5rZXlzKGVkaXRvclNjaGVtYSkuZmlsdGVyKHggPT4geCAhPT0gJ2VkaXRvcicpXG4pXG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Jsb2NrKG5vZGU6IERlc2NlbmRhbnQpOiBub2RlIGlzIEJsb2NrIHtcbiAgcmV0dXJuIGJsb2NrVHlwZXMuaGFzKG5vZGUudHlwZSlcbn1cblxuZnVuY3Rpb24gd2l0aEJsb2Nrc1NjaGVtYShlZGl0b3I6IEVkaXRvcik6IEVkaXRvciB7XG4gIGNvbnN0IHsgbm9ybWFsaXplTm9kZSB9ID0gZWRpdG9yXG4gIGVkaXRvci5ub3JtYWxpemVOb2RlID0gKFtub2RlLCBwYXRoXSkgPT4ge1xuICAgIGlmICghVGV4dC5pc1RleHQobm9kZSkgJiYgbm9kZS50eXBlICE9PSAnbGluaycgJiYgbm9kZS50eXBlICE9PSAncmVsYXRpb25zaGlwJykge1xuICAgICAgY29uc3Qgbm9kZVR5cGUgPSBFZGl0b3IuaXNFZGl0b3Iobm9kZSkgPyAnZWRpdG9yJyA6IG5vZGUudHlwZVxuICAgICAgaWYgKHR5cGVvZiBub2RlVHlwZSAhPT0gJ3N0cmluZycgfHwgZWRpdG9yU2NoZW1hW25vZGVUeXBlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIFRyYW5zZm9ybXMudW53cmFwTm9kZXMoZWRpdG9yLCB7IGF0OiBwYXRoIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgaW5mbyA9IGVkaXRvclNjaGVtYVtub2RlVHlwZV1cblxuICAgICAgaWYgKFxuICAgICAgICBpbmZvLmtpbmQgPT09ICdibG9ja3MnICYmXG4gICAgICAgIG5vZGUuY2hpbGRyZW4ubGVuZ3RoICE9PSAwICYmXG4gICAgICAgIG5vZGUuY2hpbGRyZW4uZXZlcnkoY2hpbGQgPT4gIShFbGVtZW50LmlzRWxlbWVudChjaGlsZCkgJiYgRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBjaGlsZCkpKVxuICAgICAgKSB7XG4gICAgICAgIFRyYW5zZm9ybXMud3JhcE5vZGVzKFxuICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICB7IHR5cGU6IGluZm8uYmxvY2tUb1dyYXBJbmxpbmVzSW4sIGNoaWxkcmVuOiBbXSB9LFxuICAgICAgICAgIHsgYXQ6IHBhdGgsIG1hdGNoOiBub2RlID0+ICEoRWxlbWVudC5pc0VsZW1lbnQobm9kZSkgJiYgRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBub2RlKSkgfVxuICAgICAgICApXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IFtpbmRleCwgY2hpbGROb2RlXSBvZiBub2RlLmNoaWxkcmVuLmVudHJpZXMoKSkge1xuICAgICAgICBjb25zdCBjaGlsZFBhdGggPSBbLi4ucGF0aCwgaW5kZXhdXG4gICAgICAgIGlmIChpbmZvLmtpbmQgPT09ICdpbmxpbmVzJykge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFUZXh0LmlzVGV4dChjaGlsZE5vZGUpICYmXG4gICAgICAgICAgICAhRWRpdG9yLmlzSW5saW5lKGVkaXRvciwgY2hpbGROb2RlKSAmJlxuICAgICAgICAgICAgLy8gdGhlc2UgY2hlY2tzIGFyZSBpbXBsaWNpdCBpbiBFZGl0b3IuaXNCbG9ja1xuICAgICAgICAgICAgLy8gYnV0IHRoYXQgaXNuJ3QgZW5jb2RlZCBpbiB0eXBlcyBzbyB0aGVzZSB3aWxsIG1ha2UgVFMgaGFwcHlcbiAgICAgICAgICAgIGNoaWxkTm9kZS50eXBlICE9PSAnbGluaycgJiZcbiAgICAgICAgICAgIGNoaWxkTm9kZS50eXBlICE9PSAncmVsYXRpb25zaGlwJ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgaGFuZGxlTm9kZUluSW52YWxpZFBvc2l0aW9uKGVkaXRvciwgW2NoaWxkTm9kZSwgY2hpbGRQYXRoXSwgcGF0aClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhKEVsZW1lbnQuaXNFbGVtZW50KGNoaWxkTm9kZSkgJiYgRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBjaGlsZE5vZGUpKSB8fFxuICAgICAgICAgICAgLy8gdGhlc2UgY2hlY2tzIGFyZSBpbXBsaWNpdCBpbiBFZGl0b3IuaXNCbG9ja1xuICAgICAgICAgICAgLy8gYnV0IHRoYXQgaXNuJ3QgZW5jb2RlZCBpbiB0eXBlcyBzbyB0aGVzZSB3aWxsIG1ha2UgVFMgaGFwcHlcbiAgICAgICAgICAgIGNoaWxkTm9kZS50eXBlID09PSAnbGluaycgfHxcbiAgICAgICAgICAgIGNoaWxkTm9kZS50eXBlID09PSAncmVsYXRpb25zaGlwJ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy53cmFwTm9kZXMoXG4gICAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgICAgeyB0eXBlOiBpbmZvLmJsb2NrVG9XcmFwSW5saW5lc0luLCBjaGlsZHJlbjogW10gfSxcbiAgICAgICAgICAgICAgeyBhdDogY2hpbGRQYXRoIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBFbGVtZW50LmlzRWxlbWVudChjaGlsZE5vZGUpICYmXG4gICAgICAgICAgICBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIGNoaWxkTm9kZSkgJiZcbiAgICAgICAgICAgICFpbmZvLmFsbG93ZWRDaGlsZHJlbi5oYXMoY2hpbGROb2RlLnR5cGUpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBoYW5kbGVOb2RlSW5JbnZhbGlkUG9zaXRpb24oZWRpdG9yLCBbY2hpbGROb2RlLCBjaGlsZFBhdGhdLCBwYXRoKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIG5vcm1hbGl6ZU5vZGUoW25vZGUsIHBhdGhdKVxuICB9XG4gIHJldHVybiBlZGl0b3Jcbn1cblxuZnVuY3Rpb24gaGFuZGxlTm9kZUluSW52YWxpZFBvc2l0aW9uKFxuICBlZGl0b3I6IEVkaXRvcixcbiAgW25vZGUsIHBhdGhdOiBOb2RlRW50cnk8QmxvY2s+LFxuICBwYXJlbnRQYXRoOiBQYXRoXG4pIHtcbiAgY29uc3Qgbm9kZVR5cGUgPSBub2RlLnR5cGVcbiAgY29uc3QgY2hpbGROb2RlSW5mbyA9IGVkaXRvclNjaGVtYVtub2RlVHlwZV1cbiAgLy8gdGhlIHBhcmVudCBvZiBhIGJsb2NrIHdpbGwgbmV2ZXIgYmUgYW4gaW5saW5lIHNvIHRoaXMgY2FzdGluZyBpcyBva2F5XG4gIGNvbnN0IHBhcmVudE5vZGUgPSBOb2RlLmdldChlZGl0b3IsIHBhcmVudFBhdGgpIGFzIEJsb2NrIHwgRWRpdG9yXG4gIGNvbnN0IHBhcmVudE5vZGVUeXBlID0gRWRpdG9yLmlzRWRpdG9yKHBhcmVudE5vZGUpID8gJ2VkaXRvcicgOiBwYXJlbnROb2RlLnR5cGVcbiAgY29uc3QgcGFyZW50Tm9kZUluZm8gPSBlZGl0b3JTY2hlbWFbcGFyZW50Tm9kZVR5cGVdXG5cbiAgaWYgKCFjaGlsZE5vZGVJbmZvIHx8IGNoaWxkTm9kZUluZm8uaW52YWxpZFBvc2l0aW9uSGFuZGxlTW9kZSA9PT0gJ3Vud3JhcCcpIHtcbiAgICBpZiAocGFyZW50Tm9kZUluZm8ua2luZCA9PT0gJ2Jsb2NrcycgJiYgcGFyZW50Tm9kZUluZm8uYmxvY2tUb1dyYXBJbmxpbmVzSW4pIHtcbiAgICAgIFRyYW5zZm9ybXMuc2V0Tm9kZXMoXG4gICAgICAgIGVkaXRvcixcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IHBhcmVudE5vZGVJbmZvLmJsb2NrVG9XcmFwSW5saW5lc0luLFxuICAgICAgICAgIC4uLihPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhub2RlKVxuICAgICAgICAgICAgICAuZmlsdGVyKGtleSA9PiBrZXkgIT09ICd0eXBlJyAmJiBrZXkgIT09ICdjaGlsZHJlbicpXG4gICAgICAgICAgICAgIC5tYXAoa2V5ID0+IFtrZXksIG51bGxdKVxuICAgICAgICAgICkgYXMgYW55KSwgLy8gdGhlIFNsYXRlIHR5cGVzIGRvbid0IHVuZGVyc3RhbmQgdGhhdCBudWxsIGlzIGFsbG93ZWQgYW5kIGl0IHdpbGwgdW5zZXQgcHJvcGVydGllcyB3aXRoIHNldE5vZGVzXG4gICAgICAgIH0sXG4gICAgICAgIHsgYXQ6IHBhdGggfVxuICAgICAgKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIFRyYW5zZm9ybXMudW53cmFwTm9kZXMoZWRpdG9yLCB7IGF0OiBwYXRoIH0pXG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBpbmZvID0gZWRpdG9yU2NoZW1hW3BhcmVudE5vZGUudHlwZSB8fCAnZWRpdG9yJ11cbiAgaWYgKGluZm8/LmtpbmQgPT09ICdibG9ja3MnICYmIGluZm8uYWxsb3dlZENoaWxkcmVuLmhhcyhub2RlVHlwZSkpIHtcbiAgICBpZiAocGFyZW50UGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgIFRyYW5zZm9ybXMubW92ZU5vZGVzKGVkaXRvciwgeyBhdDogcGF0aCwgdG86IFtwYXRoWzBdICsgMV0gfSlcbiAgICB9IGVsc2Uge1xuICAgICAgVHJhbnNmb3Jtcy5tb3ZlTm9kZXMoZWRpdG9yLCB7IGF0OiBwYXRoLCB0bzogUGF0aC5uZXh0KHBhcmVudFBhdGgpIH0pXG4gICAgfVxuICAgIHJldHVyblxuICB9XG4gIGlmIChFZGl0b3IuaXNFZGl0b3IocGFyZW50Tm9kZSkpIHtcbiAgICBUcmFuc2Zvcm1zLm1vdmVOb2RlcyhlZGl0b3IsIHsgYXQ6IHBhdGgsIHRvOiBbcGF0aFswXSArIDFdIH0pXG4gICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHsgYXQ6IFtwYXRoWzBdICsgMV0gfSlcbiAgICByZXR1cm5cbiAgfVxuICBoYW5kbGVOb2RlSW5JbnZhbGlkUG9zaXRpb24oZWRpdG9yLCBbbm9kZSwgcGF0aF0sIHBhcmVudFBhdGguc2xpY2UoMCwgLTEpKVxufVxuXG4vLyB0byBwcmludCB0aGUgZWRpdG9yIHNjaGVtYSBpbiBHcmFwaHZpeiBpZiB5b3Ugd2FudCB0byB2aXN1YWxpemUgaXRcbi8vIGZ1bmN0aW9uIHByaW50RWRpdG9yU2NoZW1hKGVkaXRvclNjaGVtYTogRWRpdG9yU2NoZW1hKSB7XG4vLyAgIHJldHVybiBgZGlncmFwaCBHIHtcbi8vICAgY29uY2VudHJhdGU9dHJ1ZTtcbi8vICAgJHtPYmplY3Qua2V5cyhlZGl0b3JTY2hlbWEpXG4vLyAgICAgLm1hcChrZXkgPT4ge1xuLy8gICAgICAgbGV0IHZhbCA9IGVkaXRvclNjaGVtYVtrZXldO1xuLy8gICAgICAgaWYgKHZhbC5raW5kID09PSAnaW5saW5lcycpIHtcbi8vICAgICAgICAgcmV0dXJuIGBcIiR7a2V5fVwiIC0+IGlubGluZXNgO1xuLy8gICAgICAgfVxuLy8gICAgICAgaWYgKHZhbC5raW5kID09PSAnYmxvY2tzJykge1xuLy8gICAgICAgICByZXR1cm4gYFwiJHtrZXl9XCIgLT4geyR7Wy4uLnZhbC5hbGxvd2VkQ2hpbGRyZW5dLm1hcCh4ID0+IEpTT04uc3RyaW5naWZ5KHgpKS5qb2luKCcgJyl9fWA7XG4vLyAgICAgICB9XG4vLyAgICAgfSlcbi8vICAgICAuam9pbignXFxuICAnKX1cbi8vIH1gO1xuLy8gfVxuIl0sIm5hbWVzIjpbIkVkaXRvciIsIkVsZW1lbnQiLCJOb2RlIiwiUGF0aCIsIlRleHQiLCJUcmFuc2Zvcm1zIiwiY3JlYXRlRWRpdG9yIiwid2l0aEhpc3RvcnkiLCJ3aXRoQ29tcG9uZW50QmxvY2tzIiwid2l0aFBhcmFncmFwaHMiLCJ3aXRoTGlzdCIsIndpdGhMaW5rIiwid2l0aExheW91dHMiLCJ3aXRoSGVhZGluZyIsIndpdGhCbG9ja3F1b3RlIiwid2l0aFJlbGF0aW9uc2hpcCIsIndpdGhEaXZpZGVyIiwid2l0aENvZGVCbG9jayIsIndpdGhNYXJrcyIsIndpdGhTb2Z0QnJlYWtzIiwid2l0aFNob3J0Y3V0cyIsIndpdGhEb2N1bWVudEZlYXR1cmVzTm9ybWFsaXphdGlvbiIsIndpdGhJbnNlcnRNZW51Iiwid2l0aEJsb2NrTWFya2Rvd25TaG9ydGN1dHMiLCJ3aXRoUGFzdGluZyIsImJsb2NrcXVvdGVDaGlsZHJlbiIsInBhcmFncmFwaExpa2UiLCJpbnNpZGVPZkxheW91dHMiLCJlZGl0b3JTY2hlbWEiLCJlZGl0b3IiLCJibG9ja0NvbnRhaW5lciIsImFsbG93ZWRDaGlsZHJlbiIsImludmFsaWRQb3NpdGlvbkhhbmRsZU1vZGUiLCJsYXlvdXQiLCJibG9ja3F1b3RlIiwicGFyYWdyYXBoIiwiaW5saW5lQ29udGFpbmVyIiwiY29kZSIsImRpdmlkZXIiLCJoZWFkaW5nIiwiYXJncyIsImtpbmQiLCJpbmxpbmVDb250YWluZXJUeXBlcyIsIlNldCIsIk9iamVjdCIsImVudHJpZXMiLCJmaWx0ZXIiLCJ2YWx1ZSIsIm1hcCIsInR5cGUiLCJpc0lubGluZUNvbnRhaW5lciIsIm5vZGUiLCJ1bmRlZmluZWQiLCJoYXMiLCJjcmVhdGVEb2N1bWVudEVkaXRvciIsImRvY3VtZW50RmVhdHVyZXMiLCJjb21wb25lbnRCbG9ja3MiLCJyZWxhdGlvbnNoaXBzIiwic2xhdGUiLCJ3aXRoQmxvY2tzU2NoZW1hIiwid2l0aFJlYWN0IiwiYmxvY2tUb1dyYXBJbmxpbmVzSW4iLCJibG9ja1R5cGVzIiwia2V5cyIsIngiLCJpc0Jsb2NrIiwibm9ybWFsaXplTm9kZSIsInBhdGgiLCJpc1RleHQiLCJub2RlVHlwZSIsImlzRWRpdG9yIiwidW53cmFwTm9kZXMiLCJhdCIsImluZm8iLCJjaGlsZHJlbiIsImxlbmd0aCIsImV2ZXJ5IiwiY2hpbGQiLCJpc0VsZW1lbnQiLCJ3cmFwTm9kZXMiLCJtYXRjaCIsImluZGV4IiwiY2hpbGROb2RlIiwiY2hpbGRQYXRoIiwiaXNJbmxpbmUiLCJoYW5kbGVOb2RlSW5JbnZhbGlkUG9zaXRpb24iLCJwYXJlbnRQYXRoIiwiY2hpbGROb2RlSW5mbyIsInBhcmVudE5vZGUiLCJnZXQiLCJwYXJlbnROb2RlVHlwZSIsInBhcmVudE5vZGVJbmZvIiwic2V0Tm9kZXMiLCJmcm9tRW50cmllcyIsImtleSIsIm1vdmVOb2RlcyIsInRvIiwibmV4dCIsInNsaWNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/editor-shared.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/heading-shared.ts":
/*!*********************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/heading-shared.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withHeading: () => (/* binding */ withHeading)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n\nfunction withHeading(editor) {\n    const { insertBreak } = editor;\n    editor.insertBreak = ()=>{\n        insertBreak();\n        const entry = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.above(editor, {\n            match: (n)=>n.type === 'heading'\n        });\n        if (!entry || !editor.selection || !slate__WEBPACK_IMPORTED_MODULE_0__.Range.isCollapsed(editor.selection)) return;\n        const path = entry[1];\n        if (// we want to unwrap the heading when the user inserted a break at the end of the heading\n        // when the user inserts a break at the end of a heading, the new heading\n        // that we want to unwrap will be empty so the end will be equal to the selection\n        slate__WEBPACK_IMPORTED_MODULE_0__.Point.equals(slate__WEBPACK_IMPORTED_MODULE_0__.Editor.end(editor, path), editor.selection.anchor)) {\n            slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unwrapNodes(editor, {\n                at: path\n            });\n            return;\n        }\n        // we also want to unwrap the _previous_ heading when the user inserted a break\n        // at the start of the heading, essentially just inserting an empty paragraph above the heading\n        if (!slate__WEBPACK_IMPORTED_MODULE_0__.Path.hasPrevious(path)) return;\n        const previousPath = slate__WEBPACK_IMPORTED_MODULE_0__.Path.previous(path);\n        const previousNode = slate__WEBPACK_IMPORTED_MODULE_0__.Node.get(editor, previousPath);\n        if (previousNode.type === 'heading' && previousNode.children.length === 1 && slate__WEBPACK_IMPORTED_MODULE_0__.Text.isText(previousNode.children[0]) && previousNode.children[0].text === '') {\n            slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unwrapNodes(editor, {\n                at: previousPath\n            });\n        }\n    };\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9oZWFkaW5nLXNoYXJlZC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3RjtBQUVqRixTQUFTTyxZQUFZQyxNQUFjO0lBQ3hDLE1BQU0sRUFBRUMsV0FBVyxFQUFFLEdBQUdEO0lBQ3hCQSxPQUFPQyxXQUFXLEdBQUc7UUFDbkJBO1FBRUEsTUFBTUMsUUFBUVYseUNBQU1BLENBQUNXLEtBQUssQ0FBQ0gsUUFBUTtZQUNqQ0ksT0FBT0MsQ0FBQUEsSUFBS0EsRUFBRUMsSUFBSSxLQUFLO1FBQ3pCO1FBQ0EsSUFBSSxDQUFDSixTQUFTLENBQUNGLE9BQU9PLFNBQVMsSUFBSSxDQUFDYix3Q0FBS0EsQ0FBQ2MsV0FBVyxDQUFDUixPQUFPTyxTQUFTLEdBQUc7UUFDekUsTUFBTUUsT0FBT1AsS0FBSyxDQUFDLEVBQUU7UUFFckIsSUFDRSx5RkFBeUY7UUFDekYseUVBQXlFO1FBQ3pFLGlGQUFpRjtRQUNqRlAsd0NBQUtBLENBQUNlLE1BQU0sQ0FBQ2xCLHlDQUFNQSxDQUFDbUIsR0FBRyxDQUFDWCxRQUFRUyxPQUFPVCxPQUFPTyxTQUFTLENBQUNLLE1BQU0sR0FDOUQ7WUFDQW5CLDZDQUFVQSxDQUFDb0IsV0FBVyxDQUFDYixRQUFRO2dCQUM3QmMsSUFBSUw7WUFDTjtZQUNBO1FBQ0Y7UUFDQSwrRUFBK0U7UUFDL0UsK0ZBQStGO1FBQy9GLElBQUksQ0FBQ2IsdUNBQUlBLENBQUNtQixXQUFXLENBQUNOLE9BQU87UUFDN0IsTUFBTU8sZUFBZXBCLHVDQUFJQSxDQUFDcUIsUUFBUSxDQUFDUjtRQUNuQyxNQUFNUyxlQUFlckIsdUNBQUlBLENBQUNzQixHQUFHLENBQUNuQixRQUFRZ0I7UUFDdEMsSUFDRUUsYUFBYVosSUFBSSxLQUFLLGFBQ3RCWSxhQUFhRSxRQUFRLENBQUNDLE1BQU0sS0FBSyxLQUNqQ3ZCLHVDQUFJQSxDQUFDd0IsTUFBTSxDQUFDSixhQUFhRSxRQUFRLENBQUMsRUFBRSxLQUNwQ0YsYUFBYUUsUUFBUSxDQUFDLEVBQUUsQ0FBQ0csSUFBSSxLQUFLLElBQ2xDO1lBQ0E5Qiw2Q0FBVUEsQ0FBQ29CLFdBQVcsQ0FBQ2IsUUFBUTtnQkFDN0JjLElBQUlFO1lBQ047UUFDRjtJQUNGO0lBQ0EsT0FBT2hCO0FBQ1QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9oZWFkaW5nLXNoYXJlZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIEVsZW1lbnQsIEVkaXRvciwgVHJhbnNmb3JtcywgUmFuZ2UsIFBvaW50LCBQYXRoLCBOb2RlLCBUZXh0IH0gZnJvbSAnc2xhdGUnXG5cbmV4cG9ydCBmdW5jdGlvbiB3aXRoSGVhZGluZyhlZGl0b3I6IEVkaXRvcik6IEVkaXRvciB7XG4gIGNvbnN0IHsgaW5zZXJ0QnJlYWsgfSA9IGVkaXRvclxuICBlZGl0b3IuaW5zZXJ0QnJlYWsgPSAoKSA9PiB7XG4gICAgaW5zZXJ0QnJlYWsoKVxuXG4gICAgY29uc3QgZW50cnkgPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgICBtYXRjaDogbiA9PiBuLnR5cGUgPT09ICdoZWFkaW5nJyxcbiAgICB9KVxuICAgIGlmICghZW50cnkgfHwgIWVkaXRvci5zZWxlY3Rpb24gfHwgIVJhbmdlLmlzQ29sbGFwc2VkKGVkaXRvci5zZWxlY3Rpb24pKSByZXR1cm5cbiAgICBjb25zdCBwYXRoID0gZW50cnlbMV1cblxuICAgIGlmIChcbiAgICAgIC8vIHdlIHdhbnQgdG8gdW53cmFwIHRoZSBoZWFkaW5nIHdoZW4gdGhlIHVzZXIgaW5zZXJ0ZWQgYSBicmVhayBhdCB0aGUgZW5kIG9mIHRoZSBoZWFkaW5nXG4gICAgICAvLyB3aGVuIHRoZSB1c2VyIGluc2VydHMgYSBicmVhayBhdCB0aGUgZW5kIG9mIGEgaGVhZGluZywgdGhlIG5ldyBoZWFkaW5nXG4gICAgICAvLyB0aGF0IHdlIHdhbnQgdG8gdW53cmFwIHdpbGwgYmUgZW1wdHkgc28gdGhlIGVuZCB3aWxsIGJlIGVxdWFsIHRvIHRoZSBzZWxlY3Rpb25cbiAgICAgIFBvaW50LmVxdWFscyhFZGl0b3IuZW5kKGVkaXRvciwgcGF0aCksIGVkaXRvci5zZWxlY3Rpb24uYW5jaG9yKVxuICAgICkge1xuICAgICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgYXQ6IHBhdGgsXG4gICAgICB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIC8vIHdlIGFsc28gd2FudCB0byB1bndyYXAgdGhlIF9wcmV2aW91c18gaGVhZGluZyB3aGVuIHRoZSB1c2VyIGluc2VydGVkIGEgYnJlYWtcbiAgICAvLyBhdCB0aGUgc3RhcnQgb2YgdGhlIGhlYWRpbmcsIGVzc2VudGlhbGx5IGp1c3QgaW5zZXJ0aW5nIGFuIGVtcHR5IHBhcmFncmFwaCBhYm92ZSB0aGUgaGVhZGluZ1xuICAgIGlmICghUGF0aC5oYXNQcmV2aW91cyhwYXRoKSkgcmV0dXJuXG4gICAgY29uc3QgcHJldmlvdXNQYXRoID0gUGF0aC5wcmV2aW91cyhwYXRoKVxuICAgIGNvbnN0IHByZXZpb3VzTm9kZSA9IE5vZGUuZ2V0KGVkaXRvciwgcHJldmlvdXNQYXRoKSBhcyBFbGVtZW50XG4gICAgaWYgKFxuICAgICAgcHJldmlvdXNOb2RlLnR5cGUgPT09ICdoZWFkaW5nJyAmJlxuICAgICAgcHJldmlvdXNOb2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgVGV4dC5pc1RleHQocHJldmlvdXNOb2RlLmNoaWxkcmVuWzBdKSAmJlxuICAgICAgcHJldmlvdXNOb2RlLmNoaWxkcmVuWzBdLnRleHQgPT09ICcnXG4gICAgKSB7XG4gICAgICBUcmFuc2Zvcm1zLnVud3JhcE5vZGVzKGVkaXRvciwge1xuICAgICAgICBhdDogcHJldmlvdXNQYXRoLFxuICAgICAgfSlcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVkaXRvclxufVxuIl0sIm5hbWVzIjpbIkVkaXRvciIsIlRyYW5zZm9ybXMiLCJSYW5nZSIsIlBvaW50IiwiUGF0aCIsIk5vZGUiLCJUZXh0Iiwid2l0aEhlYWRpbmciLCJlZGl0b3IiLCJpbnNlcnRCcmVhayIsImVudHJ5IiwiYWJvdmUiLCJtYXRjaCIsIm4iLCJ0eXBlIiwic2VsZWN0aW9uIiwiaXNDb2xsYXBzZWQiLCJwYXRoIiwiZXF1YWxzIiwiZW5kIiwiYW5jaG9yIiwidW53cmFwTm9kZXMiLCJhdCIsImhhc1ByZXZpb3VzIiwicHJldmlvdXNQYXRoIiwicHJldmlvdXMiLCJwcmV2aW91c05vZGUiLCJnZXQiLCJjaGlsZHJlbiIsImxlbmd0aCIsImlzVGV4dCIsInRleHQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/heading-shared.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/heading.tsx":
/*!***************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/heading.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HeadingElement: () => (/* binding */ HeadingElement)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction HeadingElement({ attributes, children, element }) {\n    const Tag = `h${element.level}`;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Tag, {\n        ...attributes,\n        style: {\n            textAlign: element.textAlign\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/heading.tsx\",\n        lineNumber: 10,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9oZWFkaW5nLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRU8sU0FBU0EsZUFBZSxFQUM3QkMsVUFBVSxFQUNWQyxRQUFRLEVBQ1JDLE9BQU8sRUFDK0M7SUFDdEQsTUFBTUMsTUFBTSxDQUFDLENBQUMsRUFBRUQsUUFBUUUsS0FBSyxFQUFFO0lBQy9CLHFCQUNFLDhEQUFDRDtRQUFLLEdBQUdILFVBQVU7UUFBRUssT0FBTztZQUFFQyxXQUFXSixRQUFRSSxTQUFTO1FBQUM7a0JBQ3hETDs7Ozs7O0FBR1AiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9oZWFkaW5nLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIFJlbmRlckVsZW1lbnRQcm9wcyB9IGZyb20gJ3NsYXRlLXJlYWN0J1xuXG5leHBvcnQgZnVuY3Rpb24gSGVhZGluZ0VsZW1lbnQoe1xuICBhdHRyaWJ1dGVzLFxuICBjaGlsZHJlbixcbiAgZWxlbWVudCxcbn06IFJlbmRlckVsZW1lbnRQcm9wcyAmIHsgZWxlbWVudDogeyB0eXBlOiAnaGVhZGluZycgfSB9KSB7XG4gIGNvbnN0IFRhZyA9IGBoJHtlbGVtZW50LmxldmVsfWAgYXMgY29uc3RcbiAgcmV0dXJuIChcbiAgICA8VGFnIHsuLi5hdHRyaWJ1dGVzfSBzdHlsZT17eyB0ZXh0QWxpZ246IGVsZW1lbnQudGV4dEFsaWduIH19PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvVGFnPlxuICApXG59XG4iXSwibmFtZXMiOlsiSGVhZGluZ0VsZW1lbnQiLCJhdHRyaWJ1dGVzIiwiY2hpbGRyZW4iLCJlbGVtZW50IiwiVGFnIiwibGV2ZWwiLCJzdHlsZSIsInRleHRBbGlnbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/heading.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/index.tsx":
/*!*************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/index.tsx ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DocumentEditor: () => (/* binding */ DocumentEditor),\n/* harmony export */   DocumentEditorEditable: () => (/* binding */ DocumentEditorEditable),\n/* harmony export */   DocumentEditorProvider: () => (/* binding */ DocumentEditorProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var is_hotkey__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! is-hotkey */ \"../../../../node_modules/.pnpm/is-hotkey@0.2.0/node_modules/is-hotkey/lib/index.js\");\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var _link_shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./link-shared */ \"../../../../packages/fields-document/src/DocumentEditor/link-shared.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n/* harmony import */ var _Toolbar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Toolbar */ \"../../../../packages/fields-document/src/DocumentEditor/Toolbar.tsx\");\n/* harmony import */ var _render_element__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./render-element */ \"../../../../packages/fields-document/src/DocumentEditor/render-element.tsx\");\n/* harmony import */ var _lists_shared__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./lists-shared */ \"../../../../packages/fields-document/src/DocumentEditor/lists-shared.ts\");\n/* harmony import */ var _component_blocks__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./component-blocks */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/index.tsx\");\n/* harmony import */ var _component_blocks_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./component-blocks/utils */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/utils.ts\");\n/* harmony import */ var _leaf__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./leaf */ \"../../../../packages/fields-document/src/DocumentEditor/leaf.tsx\");\n/* harmony import */ var _toolbar_state__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./toolbar-state */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state.tsx\");\n/* harmony import */ var _editor_shared__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./editor-shared */ \"../../../../packages/fields-document/src/DocumentEditor/editor-shared.ts\");\n/* harmony import */ var _primitives_BlockPopover__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./primitives/BlockPopover */ \"../../../../packages/fields-document/src/DocumentEditor/primitives/BlockPopover.tsx\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst styles = (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.css)({\n    flex: 1,\n    background: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.color.background.canvas,\n    borderColor: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.color.alias.borderIdle,\n    outline: 0,\n    padding: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.size.space.medium,\n    minHeight: 120,\n    scrollbarGutter: 'stable',\n    overflowY: 'auto',\n    height: 224,\n    resize: 'vertical',\n    borderBottomLeftRadius: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.size.radius.medium,\n    borderBottomRightRadius: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.size.radius.medium,\n    '&[data-expanded=true]': {\n        // the !important is necessary to override the height set by resizing as an inline style\n        height: 'auto !important',\n        resize: 'none'\n    },\n    'ol ol ol ol ol ol ol ol ol': {\n        listStyle: 'lower-roman'\n    },\n    'ol ol ol ol ol ol ol ol': {\n        listStyle: 'lower-alpha'\n    },\n    'ol ol ol ol ol ol ol': {\n        listStyle: 'decimal'\n    },\n    'ol ol ol ol ol ol': {\n        listStyle: 'lower-roman'\n    },\n    'ol ol ol ol ol': {\n        listStyle: 'lower-alpha'\n    },\n    'ol ol ol ol': {\n        listStyle: 'decimal'\n    },\n    'ol ol ol': {\n        listStyle: 'lower-roman'\n    },\n    'ol ol': {\n        listStyle: 'lower-alpha'\n    },\n    ol: {\n        listStyle: 'decimal'\n    },\n    'ul ul ul ul ul ul ul ul ul': {\n        listStyle: 'square'\n    },\n    'ul ul ul ul ul ul ul ul': {\n        listStyle: 'circle'\n    },\n    'ul ul ul ul ul ul ul': {\n        listStyle: 'disc'\n    },\n    'ul ul ul ul ul ul': {\n        listStyle: 'square'\n    },\n    'ul ul ul ul ul': {\n        listStyle: 'circle'\n    },\n    'ul ul ul ul': {\n        listStyle: 'disc'\n    },\n    'ul ul ul': {\n        listStyle: 'square'\n    },\n    'ul ul': {\n        listStyle: 'circle'\n    },\n    ul: {\n        listStyle: 'disc'\n    }\n});\nconst HOTKEYS = {\n    'mod+b': 'bold',\n    'mod+i': 'italic',\n    'mod+u': 'underline'\n};\nfunction isMarkActive(editor, mark) {\n    const marks = slate__WEBPACK_IMPORTED_MODULE_16__.Editor.marks(editor);\n    if (marks?.[mark]) {\n        return true;\n    }\n    // see the stuff about marks in toolbar-state for why this is here\n    for (const entry of slate__WEBPACK_IMPORTED_MODULE_16__.Editor.nodes(editor, {\n        match: slate__WEBPACK_IMPORTED_MODULE_16__.Text.isText\n    })){\n        if (entry[0][mark]) {\n            return true;\n        }\n    }\n    return false;\n}\nconst getKeyDownHandler = (editor)=>(event)=>{\n        if (event.defaultPrevented) return;\n        for(const hotkey in HOTKEYS){\n            if ((0,is_hotkey__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(hotkey, event.nativeEvent)) {\n                event.preventDefault();\n                const mark = HOTKEYS[hotkey];\n                const isActive = isMarkActive(editor, mark);\n                if (isActive) {\n                    slate__WEBPACK_IMPORTED_MODULE_16__.Editor.removeMark(editor, mark);\n                } else {\n                    slate__WEBPACK_IMPORTED_MODULE_16__.Editor.addMark(editor, mark, true);\n                }\n                return;\n            }\n        }\n        if ((0,is_hotkey__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('mod+\\\\', event.nativeEvent)) {\n            (0,_utils__WEBPACK_IMPORTED_MODULE_6__.clearFormatting)(editor);\n            return;\n        }\n        if ((0,is_hotkey__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('mod+k', event.nativeEvent)) {\n            event.preventDefault();\n            (0,_link_shared__WEBPACK_IMPORTED_MODULE_5__.wrapLink)(editor, '');\n            return;\n        }\n        if (event.key === 'Tab') {\n            const didAction = event.shiftKey ? (0,_lists_shared__WEBPACK_IMPORTED_MODULE_9__.unnestList)(editor) : (0,_lists_shared__WEBPACK_IMPORTED_MODULE_9__.nestList)(editor);\n            if (didAction) {\n                event.preventDefault();\n                return;\n            }\n        }\n        if (event.key === 'Tab' && editor.selection) {\n            const layoutArea = slate__WEBPACK_IMPORTED_MODULE_16__.Editor.above(editor, {\n                match: (node)=>node.type === 'layout-area'\n            });\n            if (layoutArea) {\n                const layoutAreaToEnter = event.shiftKey ? slate__WEBPACK_IMPORTED_MODULE_16__.Editor.before(editor, layoutArea[1], {\n                    unit: 'block'\n                }) : slate__WEBPACK_IMPORTED_MODULE_16__.Editor.after(editor, layoutArea[1], {\n                    unit: 'block'\n                });\n                slate__WEBPACK_IMPORTED_MODULE_16__.Transforms.setSelection(editor, {\n                    anchor: layoutAreaToEnter,\n                    focus: layoutAreaToEnter\n                });\n                event.preventDefault();\n            }\n        }\n    };\nfunction DocumentEditor({ onChange, value, componentBlocks, relationships, documentFeatures, initialExpanded = false, ...props }) {\n    const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(initialExpanded);\n    const editor = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)({\n        \"DocumentEditor.useMemo[editor]\": ()=>(0,_editor_shared__WEBPACK_IMPORTED_MODULE_14__.createDocumentEditor)(documentFeatures, componentBlocks, relationships, {\n                ReactEditor: slate_react__WEBPACK_IMPORTED_MODULE_17__.ReactEditor,\n                withReact: slate_react__WEBPACK_IMPORTED_MODULE_17__.withReact\n            })\n    }[\"DocumentEditor.useMemo[editor]\"], [\n        documentFeatures,\n        componentBlocks,\n        relationships\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.css)({\n            border: `${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.size.border.regular} solid ${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.color.border.neutral}`,\n            borderRadius: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.tokenSchema.size.radius.medium\n        }),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DocumentEditorProvider, {\n            componentBlocks: componentBlocks,\n            documentFeatures: documentFeatures,\n            relationships: relationships,\n            editor: editor,\n            value: value,\n            onChange: (value)=>{\n                onChange?.(value);\n                // this fixes a strange issue in Safari where the selection stays inside of the editor\n                // after a blur event happens but the selection is still in the editor\n                // so the cursor is visually in the wrong place and it inserts text backwards\n                const selection = window.getSelection();\n                if (selection && !slate_react__WEBPACK_IMPORTED_MODULE_17__.ReactEditor.isFocused(editor)) {\n                    const editorNode = slate_react__WEBPACK_IMPORTED_MODULE_17__.ReactEditor.toDOMNode(editor, editor);\n                    if (selection.anchorNode === editorNode) {\n                        slate_react__WEBPACK_IMPORTED_MODULE_17__.ReactEditor.focus(editor);\n                    }\n                }\n            },\n            children: [\n                (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)({\n                    \"DocumentEditor.useMemo\": ()=>onChange !== undefined && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Toolbar__WEBPACK_IMPORTED_MODULE_7__.Toolbar, {\n                            documentFeatures: documentFeatures,\n                            viewState: {\n                                expanded,\n                                toggle: {\n                                    \"DocumentEditor.useMemo\": ()=>{\n                                        setExpanded({\n                                            \"DocumentEditor.useMemo\": (v)=>!v\n                                        }[\"DocumentEditor.useMemo\"]);\n                                    }\n                                }[\"DocumentEditor.useMemo\"]\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/index.tsx\",\n                            lineNumber: 195,\n                            columnNumber: 15\n                        }, this)\n                }[\"DocumentEditor.useMemo\"], [\n                    expanded,\n                    documentFeatures,\n                    onChange\n                ]),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_2__.Prose, {\n                    size: \"regular\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DocumentEditorEditable, {\n                        \"data-expanded\": expanded,\n                        ...props,\n                        readOnly: onChange === undefined\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/index.tsx\",\n                        lineNumber: 209,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/index.tsx\",\n                    lineNumber: 208,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/index.tsx\",\n            lineNumber: 172,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/index.tsx\",\n        lineNumber: 166,\n        columnNumber: 5\n    }, this);\n}\nfunction DocumentEditorProvider({ children, editor, onChange, value, componentBlocks, documentFeatures, relationships }) {\n    const identity = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)({\n        \"DocumentEditorProvider.useMemo[identity]\": ()=>Math.random().toString(36)\n    }[\"DocumentEditorProvider.useMemo[identity]\"], [\n        editor\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(slate_react__WEBPACK_IMPORTED_MODULE_17__.Slate, {\n        editor: editor,\n        initialValue: value,\n        onChange: (value)=>{\n            onChange(value);\n            // this fixes a strange issue in Safari where the selection stays inside of the editor\n            // after a blur event happens but the selection is still in the editor\n            // so the cursor is visually in the wrong place and it inserts text backwards\n            const selection = window.getSelection();\n            if (selection && !slate_react__WEBPACK_IMPORTED_MODULE_17__.ReactEditor.isFocused(editor)) {\n                const editorNode = slate_react__WEBPACK_IMPORTED_MODULE_17__.ReactEditor.toDOMNode(editor, editor);\n                if (selection.anchorNode === editorNode) {\n                    slate_react__WEBPACK_IMPORTED_MODULE_17__.ReactEditor.focus(editor);\n                }\n            }\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_toolbar_state__WEBPACK_IMPORTED_MODULE_13__.ToolbarStateProvider, {\n            componentBlocks: componentBlocks,\n            editorDocumentFeatures: documentFeatures,\n            relationships: relationships,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/index.tsx\",\n            lineNumber: 258,\n            columnNumber: 7\n        }, this)\n    }, identity, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/index.tsx\",\n        lineNumber: 239,\n        columnNumber: 5\n    }, this);\n}\nfunction DocumentEditorEditable(props) {\n    const editor = (0,slate_react__WEBPACK_IMPORTED_MODULE_17__.useSlate)();\n    const componentBlocks = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(_component_blocks__WEBPACK_IMPORTED_MODULE_10__.ComponentBlockContext);\n    const onKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)({\n        \"DocumentEditorEditable.useMemo[onKeyDown]\": ()=>getKeyDownHandler(editor)\n    }[\"DocumentEditorEditable.useMemo[onKeyDown]\"], [\n        editor\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_primitives_BlockPopover__WEBPACK_IMPORTED_MODULE_15__.ActiveBlockPopoverProvider, {\n        editor: editor,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(slate_react__WEBPACK_IMPORTED_MODULE_17__.Editable, {\n            decorate: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)({\n                \"DocumentEditorEditable.useCallback\": ([node, path])=>{\n                    const decorations = [];\n                    if (node.type === 'component-block') {\n                        if (node.children.length === 1 && slate__WEBPACK_IMPORTED_MODULE_16__.Element.isElement(node.children[0]) && node.children[0].type === 'component-inline-prop' && node.children[0].propPath === undefined) {\n                            return decorations;\n                        }\n                        node.children.forEach({\n                            \"DocumentEditorEditable.useCallback\": (child, index)=>{\n                                if (slate__WEBPACK_IMPORTED_MODULE_16__.Node.string(child) === '' && slate__WEBPACK_IMPORTED_MODULE_16__.Element.isElement(child) && (child.type === 'component-block-prop' || child.type === 'component-inline-prop') && child.propPath !== undefined) {\n                                    const start = slate__WEBPACK_IMPORTED_MODULE_16__.Editor.start(editor, [\n                                        ...path,\n                                        index\n                                    ]);\n                                    const placeholder = (0,_component_blocks_utils__WEBPACK_IMPORTED_MODULE_11__.getPlaceholderTextForPropPath)(child.propPath, componentBlocks[node.component].schema, node.props);\n                                    if (placeholder) {\n                                        decorations.push({\n                                            placeholder,\n                                            anchor: start,\n                                            focus: start\n                                        });\n                                    }\n                                }\n                            }\n                        }[\"DocumentEditorEditable.useCallback\"]);\n                    }\n                    return decorations;\n                }\n            }[\"DocumentEditorEditable.useCallback\"], [\n                editor,\n                componentBlocks\n            ]),\n            className: `${styles} ${props.className ?? ''}`,\n            onKeyDown: onKeyDown,\n            renderElement: _render_element__WEBPACK_IMPORTED_MODULE_8__.renderElement,\n            renderLeaf: _leaf__WEBPACK_IMPORTED_MODULE_12__.renderLeaf,\n            ...props\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/index.tsx\",\n            lineNumber: 276,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/index.tsx\",\n        lineNumber: 275,\n        columnNumber: 5\n    }, this);\n} /*\nfunction Debugger () {\n  const editor = useSlate()\n  return (\n    <pre>\n      {JSON.stringify(\n        {\n          selection:\n            editor.selection && Range.isCollapsed(editor.selection)\n              ? editor.selection.anchor\n              : editor.selection,\n          marksWithoutCall: editor.marks,\n          marks: Editor.marks(editor),\n          children: editor.children,\n        },\n        null,\n        2\n      )}\n    </pre>\n  )\n}\n*/ \n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9pbmRleC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9EO0FBQ047QUFFa0M7QUFDaEQ7QUFDWTtBQVU5QjtBQUNpRTtBQUt2QztBQUNZO0FBQ2pCO0FBQ2E7QUFDSztBQUNLO0FBQ2M7QUFFckM7QUFDbUI7QUFFQTtBQUNnQjtBQUV0RSxNQUFNOEIsU0FBUzlCLHNEQUFHQSxDQUFDO0lBQ2pCK0IsTUFBTTtJQUNOQyxZQUFZL0IsMERBQVdBLENBQUNnQyxLQUFLLENBQUNELFVBQVUsQ0FBQ0UsTUFBTTtJQUMvQ0MsYUFBYWxDLDBEQUFXQSxDQUFDZ0MsS0FBSyxDQUFDRyxLQUFLLENBQUNDLFVBQVU7SUFDL0NDLFNBQVM7SUFDVEMsU0FBU3RDLDBEQUFXQSxDQUFDdUMsSUFBSSxDQUFDQyxLQUFLLENBQUNDLE1BQU07SUFDdENDLFdBQVc7SUFDWEMsaUJBQWlCO0lBQ2pCQyxXQUFXO0lBQ1hDLFFBQVE7SUFDUkMsUUFBUTtJQUNSQyx3QkFBd0IvQywwREFBV0EsQ0FBQ3VDLElBQUksQ0FBQ1MsTUFBTSxDQUFDUCxNQUFNO0lBQ3REUSx5QkFBeUJqRCwwREFBV0EsQ0FBQ3VDLElBQUksQ0FBQ1MsTUFBTSxDQUFDUCxNQUFNO0lBQ3ZELHlCQUF5QjtRQUN2Qix3RkFBd0Y7UUFDeEZJLFFBQVE7UUFDUkMsUUFBUTtJQUNWO0lBQ0EsOEJBQThCO1FBQUVJLFdBQVc7SUFBYztJQUN6RCwyQkFBMkI7UUFBRUEsV0FBVztJQUFjO0lBQ3RELHdCQUF3QjtRQUFFQSxXQUFXO0lBQVU7SUFDL0MscUJBQXFCO1FBQUVBLFdBQVc7SUFBYztJQUNoRCxrQkFBa0I7UUFBRUEsV0FBVztJQUFjO0lBQzdDLGVBQWU7UUFBRUEsV0FBVztJQUFVO0lBQ3RDLFlBQVk7UUFBRUEsV0FBVztJQUFjO0lBQ3ZDLFNBQVM7UUFBRUEsV0FBVztJQUFjO0lB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b0NBQ0EsTUFBTXlCLFFBQVEvSCwwQ0FBTUEsQ0FBQytILEtBQUssQ0FBQy9FLFFBQVE7MkNBQUlzRTt3Q0FBTU87cUNBQU07b0NBQ25ELE1BQU1HLGNBQWMvRyx1RkFBNkJBLENBQy9DMkcsTUFBTUYsUUFBUSxFQUNkeEMsZUFBZSxDQUFDWixLQUFLMkQsU0FBUyxDQUFDLENBQUNDLE1BQU0sRUFDdEM1RCxLQUFLZ0IsS0FBSztvQ0FFWixJQUFJMEMsYUFBYTt3Q0FDZlQsWUFBWVksSUFBSSxDQUFDOzRDQUNmSDs0Q0FDQW5ELFFBQVFrRDs0Q0FDUmpELE9BQU9pRDt3Q0FDVDtvQ0FDRjtnQ0FDRjs0QkFDRjs7b0JBQ0Y7b0JBQ0EsT0FBT1I7Z0JBQ1Q7cURBQ0E7Z0JBQUN2RTtnQkFBUWtDO2FBQWdCO1lBRTNCUSxXQUFXLEdBQUdwRSxPQUFPLENBQUMsRUFBRWdFLE1BQU1JLFNBQVMsSUFBSSxJQUFJO1lBQy9DMEIsV0FBV0E7WUFDWHZHLGVBQWVBLDBEQUFhQTtZQUM1QkssWUFBWUEsOENBQVVBO1lBQ3JCLEdBQUdvRSxLQUFLOzs7Ozs7Ozs7OztBQUlqQixFQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFxQkEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzLCB0b2tlblNjaGVtYSB9IGZyb20gJ0BrZXlzdGFyL3VpL3N0eWxlJ1xuaW1wb3J0IHsgUHJvc2UgfSBmcm9tICdAa2V5c3Rhci91aS90eXBvZ3JhcGh5J1xuXG5pbXBvcnQgeyB0eXBlIEtleWJvYXJkRXZlbnQsIHR5cGUgUmVhY3ROb2RlLCB1c2VDb250ZXh0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IGlzSG90a2V5IGZyb20gJ2lzLWhvdGtleSdcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQge1xuICB0eXBlIERlc2NlbmRhbnQsXG4gIHR5cGUgTm9kZUVudHJ5LFxuICB0eXBlIFJhbmdlLFxuICBFZGl0b3IsXG4gIE5vZGUsXG4gIFRyYW5zZm9ybXMsXG4gIEVsZW1lbnQsXG4gIFRleHQsXG59IGZyb20gJ3NsYXRlJ1xuaW1wb3J0IHsgRWRpdGFibGUsIFJlYWN0RWRpdG9yLCBTbGF0ZSwgd2l0aFJlYWN0LCB1c2VTbGF0ZSB9IGZyb20gJ3NsYXRlLXJlYWN0J1xuXG5pbXBvcnQgdHlwZSB7IEVkaXRhYmxlUHJvcHMgfSBmcm9tICdzbGF0ZS1yZWFjdC9kaXN0L2NvbXBvbmVudHMvZWRpdGFibGUnXG5pbXBvcnQgdHlwZSB7IENvbXBvbmVudEJsb2NrIH0gZnJvbSAnLi4vY29tcG9uZW50LWJsb2NrcydcbmltcG9ydCB0eXBlIHsgRG9jdW1lbnRGZWF0dXJlcyB9IGZyb20gJy4uL3ZpZXdzJ1xuaW1wb3J0IHsgd3JhcExpbmsgfSBmcm9tICcuL2xpbmstc2hhcmVkJ1xuaW1wb3J0IHsgY2xlYXJGb3JtYXR0aW5nLCB0eXBlIE1hcmsgfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHsgVG9vbGJhciB9IGZyb20gJy4vVG9vbGJhcidcbmltcG9ydCB7IHJlbmRlckVsZW1lbnQgfSBmcm9tICcuL3JlbmRlci1lbGVtZW50J1xuaW1wb3J0IHsgbmVzdExpc3QsIHVubmVzdExpc3QgfSBmcm9tICcuL2xpc3RzLXNoYXJlZCdcbmltcG9ydCB7IENvbXBvbmVudEJsb2NrQ29udGV4dCB9IGZyb20gJy4vY29tcG9uZW50LWJsb2NrcydcbmltcG9ydCB7IGdldFBsYWNlaG9sZGVyVGV4dEZvclByb3BQYXRoIH0gZnJvbSAnLi9jb21wb25lbnQtYmxvY2tzL3V0aWxzJ1xuaW1wb3J0IHR5cGUgeyBSZWxhdGlvbnNoaXBzIH0gZnJvbSAnLi9yZWxhdGlvbnNoaXAnXG5pbXBvcnQgeyByZW5kZXJMZWFmIH0gZnJvbSAnLi9sZWFmJ1xuaW1wb3J0IHsgVG9vbGJhclN0YXRlUHJvdmlkZXIgfSBmcm9tICcuL3Rvb2xiYXItc3RhdGUnXG5cbmltcG9ydCB7IGNyZWF0ZURvY3VtZW50RWRpdG9yIH0gZnJvbSAnLi9lZGl0b3Itc2hhcmVkJ1xuaW1wb3J0IHsgQWN0aXZlQmxvY2tQb3BvdmVyUHJvdmlkZXIgfSBmcm9tICcuL3ByaW1pdGl2ZXMvQmxvY2tQb3BvdmVyJ1xuXG5jb25zdCBzdHlsZXMgPSBjc3Moe1xuICBmbGV4OiAxLFxuICBiYWNrZ3JvdW5kOiB0b2tlblNjaGVtYS5jb2xvci5iYWNrZ3JvdW5kLmNhbnZhcyxcbiAgYm9yZGVyQ29sb3I6IHRva2VuU2NoZW1hLmNvbG9yLmFsaWFzLmJvcmRlcklkbGUsXG4gIG91dGxpbmU6IDAsXG4gIHBhZGRpbmc6IHRva2VuU2NoZW1hLnNpemUuc3BhY2UubWVkaXVtLFxuICBtaW5IZWlnaHQ6IDEyMCxcbiAgc2Nyb2xsYmFyR3V0dGVyOiAnc3RhYmxlJyxcbiAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gIGhlaWdodDogMjI0LFxuICByZXNpemU6ICd2ZXJ0aWNhbCcsXG4gIGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6IHRva2VuU2NoZW1hLnNpemUucmFkaXVzLm1lZGl1bSxcbiAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6IHRva2VuU2NoZW1hLnNpemUucmFkaXVzLm1lZGl1bSxcbiAgJyZbZGF0YS1leHBhbmRlZD10cnVlXSc6IHtcbiAgICAvLyB0aGUgIWltcG9ydGFudCBpcyBuZWNlc3NhcnkgdG8gb3ZlcnJpZGUgdGhlIGhlaWdodCBzZXQgYnkgcmVzaXppbmcgYXMgYW4gaW5saW5lIHN0eWxlXG4gICAgaGVpZ2h0OiAnYXV0byAhaW1wb3J0YW50JyxcbiAgICByZXNpemU6ICdub25lJyxcbiAgfSxcbiAgJ29sIG9sIG9sIG9sIG9sIG9sIG9sIG9sIG9sJzogeyBsaXN0U3R5bGU6ICdsb3dlci1yb21hbicgfSxcbiAgJ29sIG9sIG9sIG9sIG9sIG9sIG9sIG9sJzogeyBsaXN0U3R5bGU6ICdsb3dlci1hbHBoYScgfSxcbiAgJ29sIG9sIG9sIG9sIG9sIG9sIG9sJzogeyBsaXN0U3R5bGU6ICdkZWNpbWFsJyB9LFxuICAnb2wgb2wgb2wgb2wgb2wgb2wnOiB7IGxpc3RTdHlsZTogJ2xvd2VyLXJvbWFuJyB9LFxuICAnb2wgb2wgb2wgb2wgb2wnOiB7IGxpc3RTdHlsZTogJ2xvd2VyLWFscGhhJyB9LFxuICAnb2wgb2wgb2wgb2wnOiB7IGxpc3RTdHlsZTogJ2RlY2ltYWwnIH0sXG4gICdvbCBvbCBvbCc6IHsgbGlzdFN0eWxlOiAnbG93ZXItcm9tYW4nIH0sXG4gICdvbCBvbCc6IHsgbGlzdFN0eWxlOiAnbG93ZXItYWxwaGEnIH0sXG4gIG9sOiB7IGxpc3RTdHlsZTogJ2RlY2ltYWwnIH0sXG4gICd1bCB1bCB1bCB1bCB1bCB1bCB1bCB1bCB1bCc6IHsgbGlzdFN0eWxlOiAnc3F1YXJlJyB9LFxuICAndWwgdWwgdWwgdWwgdWwgdWwgdWwgdWwnOiB7IGxpc3RTdHlsZTogJ2NpcmNsZScgfSxcbiAgJ3VsIHVsIHVsIHVsIHVsIHVsIHVsJzogeyBsaXN0U3R5bGU6ICdkaXNjJyB9LFxuICAndWwgdWwgdWwgdWwgdWwgdWwnOiB7IGxpc3RTdHlsZTogJ3NxdWFyZScgfSxcbiAgJ3VsIHVsIHVsIHVsIHVsJzogeyBsaXN0U3R5bGU6ICdjaXJjbGUnIH0sXG4gICd1bCB1bCB1bCB1bCc6IHsgbGlzdFN0eWxlOiAnZGlzYycgfSxcbiAgJ3VsIHVsIHVsJzogeyBsaXN0U3R5bGU6ICdzcXVhcmUnIH0sXG4gICd1bCB1bCc6IHsgbGlzdFN0eWxlOiAnY2lyY2xlJyB9LFxuICB1bDogeyBsaXN0U3R5bGU6ICdkaXNjJyB9LFxufSlcblxuY29uc3QgSE9US0VZUzogUmVjb3JkPHN0cmluZywgTWFyaz4gPSB7XG4gICdtb2QrYic6ICdib2xkJyxcbiAgJ21vZCtpJzogJ2l0YWxpYycsXG4gICdtb2QrdSc6ICd1bmRlcmxpbmUnLFxufVxuXG5mdW5jdGlvbiBpc01hcmtBY3RpdmUoZWRpdG9yOiBFZGl0b3IsIG1hcms6IE1hcmspIHtcbiAgY29uc3QgbWFya3MgPSBFZGl0b3IubWFya3MoZWRpdG9yKVxuICBpZiAobWFya3M/LlttYXJrXSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgLy8gc2VlIHRoZSBzdHVmZiBhYm91dCBtYXJrcyBpbiB0b29sYmFyLXN0YXRlIGZvciB3aHkgdGhpcyBpcyBoZXJlXG4gIGZvciAoY29uc3QgZW50cnkgb2YgRWRpdG9yLm5vZGVzKGVkaXRvciwgeyBtYXRjaDogVGV4dC5pc1RleHQgfSkpIHtcbiAgICBpZiAoZW50cnlbMF1bbWFya10pIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5jb25zdCBnZXRLZXlEb3duSGFuZGxlciA9IChlZGl0b3I6IEVkaXRvcikgPT4gKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm5cbiAgZm9yIChjb25zdCBob3RrZXkgaW4gSE9US0VZUykge1xuICAgIGlmIChpc0hvdGtleShob3RrZXksIGV2ZW50Lm5hdGl2ZUV2ZW50KSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgY29uc3QgbWFyayA9IEhPVEtFWVNbaG90a2V5XVxuICAgICAgY29uc3QgaXNBY3RpdmUgPSBpc01hcmtBY3RpdmUoZWRpdG9yLCBtYXJrKVxuICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgIEVkaXRvci5yZW1vdmVNYXJrKGVkaXRvciwgbWFyaylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEVkaXRvci5hZGRNYXJrKGVkaXRvciwgbWFyaywgdHJ1ZSlcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cbiAgfVxuICBpZiAoaXNIb3RrZXkoJ21vZCtcXFxcJywgZXZlbnQubmF0aXZlRXZlbnQpKSB7XG4gICAgY2xlYXJGb3JtYXR0aW5nKGVkaXRvcilcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoaXNIb3RrZXkoJ21vZCtrJywgZXZlbnQubmF0aXZlRXZlbnQpKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHdyYXBMaW5rKGVkaXRvciwgJycpXG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKGV2ZW50LmtleSA9PT0gJ1RhYicpIHtcbiAgICBjb25zdCBkaWRBY3Rpb24gPSBldmVudC5zaGlmdEtleSA/IHVubmVzdExpc3QoZWRpdG9yKSA6IG5lc3RMaXN0KGVkaXRvcilcbiAgICBpZiAoZGlkQWN0aW9uKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICByZXR1cm5cbiAgICB9XG4gIH1cbiAgaWYgKGV2ZW50LmtleSA9PT0gJ1RhYicgJiYgZWRpdG9yLnNlbGVjdGlvbikge1xuICAgIGNvbnN0IGxheW91dEFyZWEgPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgICBtYXRjaDogbm9kZSA9PiBub2RlLnR5cGUgPT09ICdsYXlvdXQtYXJlYScsXG4gICAgfSlcbiAgICBpZiAobGF5b3V0QXJlYSkge1xuICAgICAgY29uc3QgbGF5b3V0QXJlYVRvRW50ZXIgPSBldmVudC5zaGlmdEtleVxuICAgICAgICA/IEVkaXRvci5iZWZvcmUoZWRpdG9yLCBsYXlvdXRBcmVhWzFdLCB7IHVuaXQ6ICdibG9jaycgfSlcbiAgICAgICAgOiBFZGl0b3IuYWZ0ZXIoZWRpdG9yLCBsYXlvdXRBcmVhWzFdLCB7IHVuaXQ6ICdibG9jaycgfSlcbiAgICAgIFRyYW5zZm9ybXMuc2V0U2VsZWN0aW9uKGVkaXRvciwgeyBhbmNob3I6IGxheW91dEFyZWFUb0VudGVyLCBmb2N1czogbGF5b3V0QXJlYVRvRW50ZXIgfSlcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERvY3VtZW50RWRpdG9yKHtcbiAgb25DaGFuZ2UsXG4gIHZhbHVlLFxuICBjb21wb25lbnRCbG9ja3MsXG4gIHJlbGF0aW9uc2hpcHMsXG4gIGRvY3VtZW50RmVhdHVyZXMsXG4gIGluaXRpYWxFeHBhbmRlZCA9IGZhbHNlLFxuICAuLi5wcm9wc1xufToge1xuICBvbkNoYW5nZTogdW5kZWZpbmVkIHwgKCh2YWx1ZTogRGVzY2VuZGFudFtdKSA9PiB2b2lkKVxuICB2YWx1ZTogRGVzY2VuZGFudFtdXG4gIGNvbXBvbmVudEJsb2NrczogUmVjb3JkPHN0cmluZywgQ29tcG9uZW50QmxvY2s+XG4gIHJlbGF0aW9uc2hpcHM6IFJlbGF0aW9uc2hpcHNcbiAgZG9jdW1lbnRGZWF0dXJlczogRG9jdW1lbnRGZWF0dXJlc1xuICBpbml0aWFsRXhwYW5kZWQ/OiBib29sZWFuXG59ICYgT21pdDxFZGl0YWJsZVByb3BzLCAndmFsdWUnIHwgJ29uQ2hhbmdlJz4pIHtcbiAgY29uc3QgW2V4cGFuZGVkLCBzZXRFeHBhbmRlZF0gPSB1c2VTdGF0ZShpbml0aWFsRXhwYW5kZWQpXG4gIGNvbnN0IGVkaXRvciA9IHVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIGNyZWF0ZURvY3VtZW50RWRpdG9yKGRvY3VtZW50RmVhdHVyZXMsIGNvbXBvbmVudEJsb2NrcywgcmVsYXRpb25zaGlwcywge1xuICAgICAgICBSZWFjdEVkaXRvcixcbiAgICAgICAgd2l0aFJlYWN0LFxuICAgICAgfSksXG4gICAgW2RvY3VtZW50RmVhdHVyZXMsIGNvbXBvbmVudEJsb2NrcywgcmVsYXRpb25zaGlwc11cbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPXtjc3Moe1xuICAgICAgICBib3JkZXI6IGAke3Rva2VuU2NoZW1hLnNpemUuYm9yZGVyLnJlZ3VsYXJ9IHNvbGlkICR7dG9rZW5TY2hlbWEuY29sb3IuYm9yZGVyLm5ldXRyYWx9YCxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiB0b2tlblNjaGVtYS5zaXplLnJhZGl1cy5tZWRpdW0sXG4gICAgICB9KX1cbiAgICA+XG4gICAgICA8RG9jdW1lbnRFZGl0b3JQcm92aWRlclxuICAgICAgICBjb21wb25lbnRCbG9ja3M9e2NvbXBvbmVudEJsb2Nrc31cbiAgICAgICAgZG9jdW1lbnRGZWF0dXJlcz17ZG9jdW1lbnRGZWF0dXJlc31cbiAgICAgICAgcmVsYXRpb25zaGlwcz17cmVsYXRpb25zaGlwc31cbiAgICAgICAgZWRpdG9yPXtlZGl0b3J9XG4gICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgb25DaGFuZ2U9e3ZhbHVlID0+IHtcbiAgICAgICAgICBvbkNoYW5nZT8uKHZhbHVlKVxuICAgICAgICAgIC8vIHRoaXMgZml4ZXMgYSBzdHJhbmdlIGlzc3VlIGluIFNhZmFyaSB3aGVyZSB0aGUgc2VsZWN0aW9uIHN0YXlzIGluc2lkZSBvZiB0aGUgZWRpdG9yXG4gICAgICAgICAgLy8gYWZ0ZXIgYSBibHVyIGV2ZW50IGhhcHBlbnMgYnV0IHRoZSBzZWxlY3Rpb24gaXMgc3RpbGwgaW4gdGhlIGVkaXRvclxuICAgICAgICAgIC8vIHNvIHRoZSBjdXJzb3IgaXMgdmlzdWFsbHkgaW4gdGhlIHdyb25nIHBsYWNlIGFuZCBpdCBpbnNlcnRzIHRleHQgYmFja3dhcmRzXG4gICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpXG4gICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiAhUmVhY3RFZGl0b3IuaXNGb2N1c2VkKGVkaXRvcikpIHtcbiAgICAgICAgICAgIGNvbnN0IGVkaXRvck5vZGUgPSBSZWFjdEVkaXRvci50b0RPTU5vZGUoZWRpdG9yLCBlZGl0b3IpXG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uLmFuY2hvck5vZGUgPT09IGVkaXRvck5vZGUpIHtcbiAgICAgICAgICAgICAgUmVhY3RFZGl0b3IuZm9jdXMoZWRpdG9yKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAge3VzZU1lbW8oXG4gICAgICAgICAgKCkgPT5cbiAgICAgICAgICAgIG9uQ2hhbmdlICE9PSB1bmRlZmluZWQgJiYgKFxuICAgICAgICAgICAgICA8VG9vbGJhclxuICAgICAgICAgICAgICAgIGRvY3VtZW50RmVhdHVyZXM9e2RvY3VtZW50RmVhdHVyZXN9XG4gICAgICAgICAgICAgICAgdmlld1N0YXRlPXt7XG4gICAgICAgICAgICAgICAgICBleHBhbmRlZCxcbiAgICAgICAgICAgICAgICAgIHRvZ2dsZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRFeHBhbmRlZCh2ID0+ICF2KVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBbZXhwYW5kZWQsIGRvY3VtZW50RmVhdHVyZXMsIG9uQ2hhbmdlXVxuICAgICAgICApfVxuXG4gICAgICAgIDxQcm9zZSBzaXplPVwicmVndWxhclwiPlxuICAgICAgICAgIDxEb2N1bWVudEVkaXRvckVkaXRhYmxlXG4gICAgICAgICAgICBkYXRhLWV4cGFuZGVkPXtleHBhbmRlZH1cbiAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgIHJlYWRPbmx5PXtvbkNoYW5nZSA9PT0gdW5kZWZpbmVkfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvUHJvc2U+XG4gICAgICA8L0RvY3VtZW50RWRpdG9yUHJvdmlkZXI+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERvY3VtZW50RWRpdG9yUHJvdmlkZXIoe1xuICBjaGlsZHJlbixcbiAgZWRpdG9yLFxuICBvbkNoYW5nZSxcbiAgdmFsdWUsXG4gIGNvbXBvbmVudEJsb2NrcyxcbiAgZG9jdW1lbnRGZWF0dXJlcyxcbiAgcmVsYXRpb25zaGlwcyxcbn06IHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZVxuICB2YWx1ZTogRGVzY2VuZGFudFtdXG4gIG9uQ2hhbmdlOiAodmFsdWU6IERlc2NlbmRhbnRbXSkgPT4gdm9pZFxuICBlZGl0b3I6IEVkaXRvclxuICBjb21wb25lbnRCbG9ja3M6IFJlY29yZDxzdHJpbmcsIENvbXBvbmVudEJsb2NrPlxuICByZWxhdGlvbnNoaXBzOiBSZWxhdGlvbnNoaXBzXG4gIGRvY3VtZW50RmVhdHVyZXM6IERvY3VtZW50RmVhdHVyZXNcbn0pIHtcbiAgY29uc3QgaWRlbnRpdHkgPSB1c2VNZW1vKCgpID0+IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLCBbZWRpdG9yXSlcbiAgcmV0dXJuIChcbiAgICA8U2xhdGVcbiAgICAgIC8vIHRoaXMgZml4ZXMgaXNzdWVzIHdpdGggU2xhdGUgY3Jhc2hpbmcgd2hlbiBhIGZhc3QgcmVmcmVzaCBvY2NjdXJzXG4gICAgICBrZXk9e2lkZW50aXR5fVxuICAgICAgZWRpdG9yPXtlZGl0b3J9XG4gICAgICBpbml0aWFsVmFsdWU9e3ZhbHVlfVxuICAgICAgb25DaGFuZ2U9e3ZhbHVlID0+IHtcbiAgICAgICAgb25DaGFuZ2UodmFsdWUpXG4gICAgICAgIC8vIHRoaXMgZml4ZXMgYSBzdHJhbmdlIGlzc3VlIGluIFNhZmFyaSB3aGVyZSB0aGUgc2VsZWN0aW9uIHN0YXlzIGluc2lkZSBvZiB0aGUgZWRpdG9yXG4gICAgICAgIC8vIGFmdGVyIGEgYmx1ciBldmVudCBoYXBwZW5zIGJ1dCB0aGUgc2VsZWN0aW9uIGlzIHN0aWxsIGluIHRoZSBlZGl0b3JcbiAgICAgICAgLy8gc28gdGhlIGN1cnNvciBpcyB2aXN1YWxseSBpbiB0aGUgd3JvbmcgcGxhY2UgYW5kIGl0IGluc2VydHMgdGV4dCBiYWNrd2FyZHNcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpXG4gICAgICAgIGlmIChzZWxlY3Rpb24gJiYgIVJlYWN0RWRpdG9yLmlzRm9jdXNlZChlZGl0b3IpKSB7XG4gICAgICAgICAgY29uc3QgZWRpdG9yTm9kZSA9IFJlYWN0RWRpdG9yLnRvRE9NTm9kZShlZGl0b3IsIGVkaXRvcilcbiAgICAgICAgICBpZiAoc2VsZWN0aW9uLmFuY2hvck5vZGUgPT09IGVkaXRvck5vZGUpIHtcbiAgICAgICAgICAgIFJlYWN0RWRpdG9yLmZvY3VzKGVkaXRvcilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH19XG4gICAgPlxuICAgICAgPFRvb2xiYXJTdGF0ZVByb3ZpZGVyXG4gICAgICAgIGNvbXBvbmVudEJsb2Nrcz17Y29tcG9uZW50QmxvY2tzfVxuICAgICAgICBlZGl0b3JEb2N1bWVudEZlYXR1cmVzPXtkb2N1bWVudEZlYXR1cmVzfVxuICAgICAgICByZWxhdGlvbnNoaXBzPXtyZWxhdGlvbnNoaXBzfVxuICAgICAgPlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L1Rvb2xiYXJTdGF0ZVByb3ZpZGVyPlxuICAgIDwvU2xhdGU+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERvY3VtZW50RWRpdG9yRWRpdGFibGUocHJvcHM6IEVkaXRhYmxlUHJvcHMpIHtcbiAgY29uc3QgZWRpdG9yID0gdXNlU2xhdGUoKVxuICBjb25zdCBjb21wb25lbnRCbG9ja3MgPSB1c2VDb250ZXh0KENvbXBvbmVudEJsb2NrQ29udGV4dClcbiAgY29uc3Qgb25LZXlEb3duID0gdXNlTWVtbygoKSA9PiBnZXRLZXlEb3duSGFuZGxlcihlZGl0b3IpLCBbZWRpdG9yXSlcblxuICByZXR1cm4gKFxuICAgIDxBY3RpdmVCbG9ja1BvcG92ZXJQcm92aWRlciBlZGl0b3I9e2VkaXRvcn0+XG4gICAgICA8RWRpdGFibGVcbiAgICAgICAgZGVjb3JhdGU9e3VzZUNhbGxiYWNrKFxuICAgICAgICAgIChbbm9kZSwgcGF0aF06IE5vZGVFbnRyeTxOb2RlPikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGVjb3JhdGlvbnM6IFJhbmdlW10gPSBbXVxuICAgICAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ2NvbXBvbmVudC1ibG9jaycpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmXG4gICAgICAgICAgICAgICAgRWxlbWVudC5pc0VsZW1lbnQobm9kZS5jaGlsZHJlblswXSkgJiZcbiAgICAgICAgICAgICAgICBub2RlLmNoaWxkcmVuWzBdLnR5cGUgPT09ICdjb21wb25lbnQtaW5saW5lLXByb3AnICYmXG4gICAgICAgICAgICAgICAgbm9kZS5jaGlsZHJlblswXS5wcm9wUGF0aCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWNvcmF0aW9uc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgTm9kZS5zdHJpbmcoY2hpbGQpID09PSAnJyAmJlxuICAgICAgICAgICAgICAgICAgRWxlbWVudC5pc0VsZW1lbnQoY2hpbGQpICYmXG4gICAgICAgICAgICAgICAgICAoY2hpbGQudHlwZSA9PT0gJ2NvbXBvbmVudC1ibG9jay1wcm9wJyB8fFxuICAgICAgICAgICAgICAgICAgICBjaGlsZC50eXBlID09PSAnY29tcG9uZW50LWlubGluZS1wcm9wJykgJiZcbiAgICAgICAgICAgICAgICAgIGNoaWxkLnByb3BQYXRoICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gRWRpdG9yLnN0YXJ0KGVkaXRvciwgWy4uLnBhdGgsIGluZGV4XSlcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gZ2V0UGxhY2Vob2xkZXJUZXh0Rm9yUHJvcFBhdGgoXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnByb3BQYXRoLFxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRCbG9ja3Nbbm9kZS5jb21wb25lbnRdLnNjaGVtYSxcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5wcm9wc1xuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY29yYXRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWNvcmF0aW9uc1xuICAgICAgICAgIH0sXG4gICAgICAgICAgW2VkaXRvciwgY29tcG9uZW50QmxvY2tzXVxuICAgICAgICApfVxuICAgICAgICBjbGFzc05hbWU9e2Ake3N0eWxlc30gJHtwcm9wcy5jbGFzc05hbWUgPz8gJyd9YH1cbiAgICAgICAgb25LZXlEb3duPXtvbktleURvd259XG4gICAgICAgIHJlbmRlckVsZW1lbnQ9e3JlbmRlckVsZW1lbnR9XG4gICAgICAgIHJlbmRlckxlYWY9e3JlbmRlckxlYWZ9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgPC9BY3RpdmVCbG9ja1BvcG92ZXJQcm92aWRlcj5cbiAgKVxufVxuXG4vKlxuZnVuY3Rpb24gRGVidWdnZXIgKCkge1xuICBjb25zdCBlZGl0b3IgPSB1c2VTbGF0ZSgpXG4gIHJldHVybiAoXG4gICAgPHByZT5cbiAgICAgIHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAge1xuICAgICAgICAgIHNlbGVjdGlvbjpcbiAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24gJiYgUmFuZ2UuaXNDb2xsYXBzZWQoZWRpdG9yLnNlbGVjdGlvbilcbiAgICAgICAgICAgICAgPyBlZGl0b3Iuc2VsZWN0aW9uLmFuY2hvclxuICAgICAgICAgICAgICA6IGVkaXRvci5zZWxlY3Rpb24sXG4gICAgICAgICAgbWFya3NXaXRob3V0Q2FsbDogZWRpdG9yLm1hcmtzLFxuICAgICAgICAgIG1hcmtzOiBFZGl0b3IubWFya3MoZWRpdG9yKSxcbiAgICAgICAgICBjaGlsZHJlbjogZWRpdG9yLmNoaWxkcmVuLFxuICAgICAgICB9LFxuICAgICAgICBudWxsLFxuICAgICAgICAyXG4gICAgICApfVxuICAgIDwvcHJlPlxuICApXG59XG4qL1xuIl0sIm5hbWVzIjpbImNzcyIsInRva2VuU2NoZW1hIiwiUHJvc2UiLCJ1c2VDb250ZXh0IiwidXNlU3RhdGUiLCJpc0hvdGtleSIsInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsIkVkaXRvciIsIk5vZGUiLCJUcmFuc2Zvcm1zIiwiRWxlbWVudCIsIlRleHQiLCJFZGl0YWJsZSIsIlJlYWN0RWRpdG9yIiwiU2xhdGUiLCJ3aXRoUmVhY3QiLCJ1c2VTbGF0ZSIsIndyYXBMaW5rIiwiY2xlYXJGb3JtYXR0aW5nIiwiVG9vbGJhciIsInJlbmRlckVsZW1lbnQiLCJuZXN0TGlzdCIsInVubmVzdExpc3QiLCJDb21wb25lbnRCbG9ja0NvbnRleHQiLCJnZXRQbGFjZWhvbGRlclRleHRGb3JQcm9wUGF0aCIsInJlbmRlckxlYWYiLCJUb29sYmFyU3RhdGVQcm92aWRlciIsImNyZWF0ZURvY3VtZW50RWRpdG9yIiwiQWN0aXZlQmxvY2tQb3BvdmVyUHJvdmlkZXIiLCJzdHlsZXMiLCJmbGV4IiwiYmFja2dyb3VuZCIsImNvbG9yIiwiY2FudmFzIiwiYm9yZGVyQ29sb3IiLCJhbGlhcyIsImJvcmRlcklkbGUiLCJvdXRsaW5lIiwicGFkZGluZyIsInNpemUiLCJzcGFjZSIsIm1lZGl1bSIsIm1pbkhlaWdodCIsInNjcm9sbGJhckd1dHRlciIsIm92ZXJmbG93WSIsImhlaWdodCIsInJlc2l6ZSIsImJvcmRlckJvdHRvbUxlZnRSYWRpdXMiLCJyYWRpdXMiLCJib3JkZXJCb3R0b21SaWdodFJhZGl1cyIsImxpc3RTdHlsZSIsIm9sIiwidWwiLCJIT1RLRVlTIiwiaXNNYXJrQWN0aXZlIiwiZWRpdG9yIiwibWFyayIsIm1hcmtzIiwiZW50cnkiLCJub2RlcyIsIm1hdGNoIiwiaXNUZXh0IiwiZ2V0S2V5RG93bkhhbmRsZXIiLCJldmVudCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJob3RrZXkiLCJuYXRpdmVFdmVudCIsInByZXZlbnREZWZhdWx0IiwiaXNBY3RpdmUiLCJyZW1vdmVNYXJrIiwiYWRkTWFyayIsImtleSIsImRpZEFjdGlvbiIsInNoaWZ0S2V5Iiwic2VsZWN0aW9uIiwibGF5b3V0QXJlYSIsImFib3ZlIiwibm9kZSIsInR5cGUiLCJsYXlvdXRBcmVhVG9FbnRlciIsImJlZm9yZSIsInVuaXQiLCJhZnRlciIsInNldFNlbGVjdGlvbiIsImFuY2hvciIsImZvY3VzIiwiRG9jdW1lbnRFZGl0b3IiLCJvbkNoYW5nZSIsInZhbHVlIiwiY29tcG9uZW50QmxvY2tzIiwicmVsYXRpb25zaGlwcyIsImRvY3VtZW50RmVhdHVyZXMiLCJpbml0aWFsRXhwYW5kZWQiLCJwcm9wcyIsImV4cGFuZGVkIiwic2V0RXhwYW5kZWQiLCJkaXYiLCJjbGFzc05hbWUiLCJib3JkZXIiLCJyZWd1bGFyIiwibmV1dHJhbCIsImJvcmRlclJhZGl1cyIsIkRvY3VtZW50RWRpdG9yUHJvdmlkZXIiLCJ3aW5kb3ciLCJnZXRTZWxlY3Rpb24iLCJpc0ZvY3VzZWQiLCJlZGl0b3JOb2RlIiwidG9ET01Ob2RlIiwiYW5jaG9yTm9kZSIsInVuZGVmaW5lZCIsInZpZXdTdGF0ZSIsInRvZ2dsZSIsInYiLCJEb2N1bWVudEVkaXRvckVkaXRhYmxlIiwiZGF0YS1leHBhbmRlZCIsInJlYWRPbmx5IiwiY2hpbGRyZW4iLCJpZGVudGl0eSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsImluaXRpYWxWYWx1ZSIsImVkaXRvckRvY3VtZW50RmVhdHVyZXMiLCJvbktleURvd24iLCJkZWNvcmF0ZSIsInBhdGgiLCJkZWNvcmF0aW9ucyIsImxlbmd0aCIsImlzRWxlbWVudCIsInByb3BQYXRoIiwiZm9yRWFjaCIsImNoaWxkIiwiaW5kZXgiLCJzdHJpbmciLCJzdGFydCIsInBsYWNlaG9sZGVyIiwiY29tcG9uZW50Iiwic2NoZW1hIiwicHVzaCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/index.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/insert-menu-shared.ts":
/*!*************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/insert-menu-shared.ts ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withInsertMenu: () => (/* binding */ withInsertMenu)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n\nconst nodeListsWithoutInsertMenu = new WeakSet();\nconst nodesWithoutInsertMenu = new WeakSet();\nfunction findPathWithInsertMenu(node, path) {\n    if (slate__WEBPACK_IMPORTED_MODULE_0__.Text.isText(node)) return node.insertMenu ? path : undefined;\n    if (nodeListsWithoutInsertMenu.has(node.children)) return;\n    for (const [index, child] of node.children.entries()){\n        if (nodesWithoutInsertMenu.has(child)) continue;\n        const maybePath = findPathWithInsertMenu(child, [\n            ...path,\n            index\n        ]);\n        if (maybePath) {\n            return maybePath;\n        }\n        nodesWithoutInsertMenu.add(child);\n    }\n    nodeListsWithoutInsertMenu.add(node.children);\n}\nfunction removeInsertMenuMarkWhenOutsideOfSelection(editor) {\n    const path = findPathWithInsertMenu(editor, []);\n    if (path && !slate__WEBPACK_IMPORTED_MODULE_0__.Editor.marks(editor)?.insertMenu && (!editor.selection || !slate__WEBPACK_IMPORTED_MODULE_0__.Path.equals(editor.selection.anchor.path, path) || !slate__WEBPACK_IMPORTED_MODULE_0__.Path.equals(editor.selection.focus.path, path))) {\n        slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unsetNodes(editor, 'insertMenu', {\n            at: path\n        });\n        return true;\n    }\n    return false;\n}\nfunction withInsertMenu(editor) {\n    const { normalizeNode, apply, insertText } = editor;\n    editor.normalizeNode = ([node, path])=>{\n        if (slate__WEBPACK_IMPORTED_MODULE_0__.Text.isText(node) && node.insertMenu) {\n            if (node.text[0] !== '/') {\n                slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unsetNodes(editor, 'insertMenu', {\n                    at: path\n                });\n                return;\n            }\n            const whitespaceMatch = /\\s/.exec(node.text);\n            if (whitespaceMatch) {\n                slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unsetNodes(editor, 'insertMenu', {\n                    at: {\n                        anchor: {\n                            path,\n                            offset: whitespaceMatch.index\n                        },\n                        focus: slate__WEBPACK_IMPORTED_MODULE_0__.Editor.end(editor, path)\n                    },\n                    match: slate__WEBPACK_IMPORTED_MODULE_0__.Text.isText,\n                    split: true\n                });\n                return;\n            }\n        }\n        if (slate__WEBPACK_IMPORTED_MODULE_0__.Editor.isEditor(editor) && removeInsertMenuMarkWhenOutsideOfSelection(editor)) {\n            return;\n        }\n        normalizeNode([\n            node,\n            path\n        ]);\n    };\n    editor.apply = (op)=>{\n        apply(op);\n        // we're calling this here AND in normalizeNode\n        // because normalizeNode won't be called on selection changes\n        // but apply will\n        // we're still calling this from normalizeNode though because we want it to happen\n        // when normalization happens\n        if (op.type === 'set_selection') {\n            removeInsertMenuMarkWhenOutsideOfSelection(editor);\n        }\n    };\n    editor.insertText = (text)=>{\n        insertText(text);\n        if (editor.selection && text === '/') {\n            const startOfBlock = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.start(editor, slate__WEBPACK_IMPORTED_MODULE_0__.Editor.above(editor, {\n                match: (node)=>slate__WEBPACK_IMPORTED_MODULE_0__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_0__.Editor.isBlock(editor, node)\n            })[1]);\n            const before = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.before(editor, editor.selection.anchor, {\n                unit: 'character'\n            });\n            if (before && (slate__WEBPACK_IMPORTED_MODULE_0__.Point.equals(startOfBlock, before) || before.offset !== 0 && /\\s/.test(slate__WEBPACK_IMPORTED_MODULE_0__.Node.get(editor, before.path).text[before.offset - 1]))) {\n                slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.setNodes(editor, {\n                    insertMenu: true\n                }, {\n                    at: {\n                        anchor: before,\n                        focus: editor.selection.anchor\n                    },\n                    match: slate__WEBPACK_IMPORTED_MODULE_0__.Text.isText,\n                    split: true\n                });\n            }\n        }\n    };\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9pbnNlcnQtbWVudS1zaGFyZWQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEU7QUFFNUUsTUFBTU8sNkJBQTZCLElBQUlDO0FBRXZDLE1BQU1DLHlCQUF5QixJQUFJRDtBQUVuQyxTQUFTRSx1QkFBdUJDLElBQVUsRUFBRUMsSUFBVTtJQUNwRCxJQUFJUCx1Q0FBSUEsQ0FBQ1EsTUFBTSxDQUFDRixPQUFPLE9BQU9BLEtBQUtHLFVBQVUsR0FBR0YsT0FBT0c7SUFDdkQsSUFBSVIsMkJBQTJCUyxHQUFHLENBQUNMLEtBQUtNLFFBQVEsR0FBRztJQUVuRCxLQUFLLE1BQU0sQ0FBQ0MsT0FBT0MsTUFBTSxJQUFJUixLQUFLTSxRQUFRLENBQUNHLE9BQU8sR0FBSTtRQUNwRCxJQUFJWCx1QkFBdUJPLEdBQUcsQ0FBQ0csUUFBUTtRQUN2QyxNQUFNRSxZQUFZWCx1QkFBdUJTLE9BQU87ZUFBSVA7WUFBTU07U0FBTTtRQUNoRSxJQUFJRyxXQUFXO1lBQ2IsT0FBT0E7UUFDVDtRQUNBWix1QkFBdUJhLEdBQUcsQ0FBQ0g7SUFDN0I7SUFDQVosMkJBQTJCZSxHQUFHLENBQUNYLEtBQUtNLFFBQVE7QUFDOUM7QUFFQSxTQUFTTSwyQ0FBMkNDLE1BQWM7SUFDaEUsTUFBTVosT0FBT0YsdUJBQXVCYyxRQUFRLEVBQUU7SUFDOUMsSUFDRVosUUFDQSxDQUFDWix5Q0FBTUEsQ0FBQ3lCLEtBQUssQ0FBQ0QsU0FBU1YsY0FDdEIsRUFBQ1UsT0FBT0UsU0FBUyxJQUNoQixDQUFDdkIsdUNBQUlBLENBQUN3QixNQUFNLENBQUNILE9BQU9FLFNBQVMsQ0FBQ0UsTUFBTSxDQUFDaEIsSUFBSSxFQUFFQSxTQUMzQyxDQUFDVCx1Q0FBSUEsQ0FBQ3dCLE1BQU0sQ0FBQ0gsT0FBT0UsU0FBUyxDQUFDRyxLQUFLLENBQUNqQixJQUFJLEVBQUVBLEtBQUksR0FDaEQ7UUFDQU4sNkNBQVVBLENB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bnQvc3JjL0RvY3VtZW50RWRpdG9yL2luc2VydC1tZW51LXNoYXJlZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZGl0b3IsIEVsZW1lbnQsIE5vZGUsIFBhdGgsIFBvaW50LCBUZXh0LCBUcmFuc2Zvcm1zIH0gZnJvbSAnc2xhdGUnXG5cbmNvbnN0IG5vZGVMaXN0c1dpdGhvdXRJbnNlcnRNZW51ID0gbmV3IFdlYWtTZXQ8Tm9kZVtdPigpXG5cbmNvbnN0IG5vZGVzV2l0aG91dEluc2VydE1lbnUgPSBuZXcgV2Vha1NldDxOb2RlPigpXG5cbmZ1bmN0aW9uIGZpbmRQYXRoV2l0aEluc2VydE1lbnUobm9kZTogTm9kZSwgcGF0aDogUGF0aCk6IFBhdGggfCB1bmRlZmluZWQge1xuICBpZiAoVGV4dC5pc1RleHQobm9kZSkpIHJldHVybiBub2RlLmluc2VydE1lbnUgPyBwYXRoIDogdW5kZWZpbmVkXG4gIGlmIChub2RlTGlzdHNXaXRob3V0SW5zZXJ0TWVudS5oYXMobm9kZS5jaGlsZHJlbikpIHJldHVyblxuXG4gIGZvciAoY29uc3QgW2luZGV4LCBjaGlsZF0gb2Ygbm9kZS5jaGlsZHJlbi5lbnRyaWVzKCkpIHtcbiAgICBpZiAobm9kZXNXaXRob3V0SW5zZXJ0TWVudS5oYXMoY2hpbGQpKSBjb250aW51ZVxuICAgIGNvbnN0IG1heWJlUGF0aCA9IGZpbmRQYXRoV2l0aEluc2VydE1lbnUoY2hpbGQsIFsuLi5wYXRoLCBpbmRleF0pXG4gICAgaWYgKG1heWJlUGF0aCkge1xuICAgICAgcmV0dXJuIG1heWJlUGF0aFxuICAgIH1cbiAgICBub2Rlc1dpdGhvdXRJbnNlcnRNZW51LmFkZChjaGlsZClcbiAgfVxuICBub2RlTGlzdHNXaXRob3V0SW5zZXJ0TWVudS5hZGQobm9kZS5jaGlsZHJlbilcbn1cblxuZnVuY3Rpb24gcmVtb3ZlSW5zZXJ0TWVudU1hcmtXaGVuT3V0c2lkZU9mU2VsZWN0aW9uKGVkaXRvcjogRWRpdG9yKSB7XG4gIGNvbnN0IHBhdGggPSBmaW5kUGF0aFdpdGhJbnNlcnRNZW51KGVkaXRvciwgW10pXG4gIGlmIChcbiAgICBwYXRoICYmXG4gICAgIUVkaXRvci5tYXJrcyhlZGl0b3IpPy5pbnNlcnRNZW51ICYmXG4gICAgKCFlZGl0b3Iuc2VsZWN0aW9uIHx8XG4gICAgICAhUGF0aC5lcXVhbHMoZWRpdG9yLnNlbGVjdGlvbi5hbmNob3IucGF0aCwgcGF0aCkgfHxcbiAgICAgICFQYXRoLmVxdWFscyhlZGl0b3Iuc2VsZWN0aW9uLmZvY3VzLnBhdGgsIHBhdGgpKVxuICApIHtcbiAgICBUcmFuc2Zvcm1zLnVuc2V0Tm9kZXMoZWRpdG9yLCAnaW5zZXJ0TWVudScsIHsgYXQ6IHBhdGggfSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd2l0aEluc2VydE1lbnUoZWRpdG9yOiBFZGl0b3IpOiBFZGl0b3Ige1xuICBjb25zdCB7IG5vcm1hbGl6ZU5vZGUsIGFwcGx5LCBpbnNlcnRUZXh0IH0gPSBlZGl0b3JcbiAgZWRpdG9yLm5vcm1hbGl6ZU5vZGUgPSAoW25vZGUsIHBhdGhdKSA9PiB7XG4gICAgaWYgKFRleHQuaXNUZXh0KG5vZGUpICYmIG5vZGUuaW5zZXJ0TWVudSkge1xuICAgICAgaWYgKG5vZGUudGV4dFswXSAhPT0gJy8nKSB7XG4gICAgICAgIFRyYW5zZm9ybXMudW5zZXROb2RlcyhlZGl0b3IsICdpbnNlcnRNZW51JywgeyBhdDogcGF0aCB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IHdoaXRlc3BhY2VNYXRjaCA9IC9cXHMvLmV4ZWMobm9kZS50ZXh0KVxuICAgICAgaWYgKHdoaXRlc3BhY2VNYXRjaCkge1xuICAgICAgICBUcmFuc2Zvcm1zLnVuc2V0Tm9kZXMoZWRpdG9yLCAnaW5zZXJ0TWVudScsIHtcbiAgICAgICAgICBhdDoge1xuICAgICAgICAgICAgYW5jaG9yOiB7IHBhdGgsIG9mZnNldDogd2hpdGVzcGFjZU1hdGNoLmluZGV4IH0sXG4gICAgICAgICAgICBmb2N1czogRWRpdG9yLmVuZChlZGl0b3IsIHBhdGgpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWF0Y2g6IFRleHQuaXNUZXh0LFxuICAgICAgICAgIHNwbGl0OiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKEVkaXRvci5pc0VkaXRvcihlZGl0b3IpICYmIHJlbW92ZUluc2VydE1lbnVNYXJrV2hlbk91dHNpZGVPZlNlbGVjdGlvbihlZGl0b3IpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgbm9ybWFsaXplTm9kZShbbm9kZSwgcGF0aF0pXG4gIH1cblxuICBlZGl0b3IuYXBwbHkgPSBvcCA9PiB7XG4gICAgYXBwbHkob3ApXG4gICAgLy8gd2UncmUgY2FsbGluZyB0aGlzIGhlcmUgQU5EIGluIG5vcm1hbGl6ZU5vZGVcbiAgICAvLyBiZWNhdXNlIG5vcm1hbGl6ZU5vZGUgd29uJ3QgYmUgY2FsbGVkIG9uIHNlbGVjdGlvbiBjaGFuZ2VzXG4gICAgLy8gYnV0IGFwcGx5IHdpbGxcbiAgICAvLyB3ZSdyZSBzdGlsbCBjYWxsaW5nIHRoaXMgZnJvbSBub3JtYWxpemVOb2RlIHRob3VnaCBiZWNhdXNlIHdlIHdhbnQgaXQgdG8gaGFwcGVuXG4gICAgLy8gd2hlbiBub3JtYWxpemF0aW9uIGhhcHBlbnNcbiAgICBpZiAob3AudHlwZSA9PT0gJ3NldF9zZWxlY3Rpb24nKSB7XG4gICAgICByZW1vdmVJbnNlcnRNZW51TWFya1doZW5PdXRzaWRlT2ZTZWxlY3Rpb24oZWRpdG9yKVxuICAgIH1cbiAgfVxuXG4gIGVkaXRvci5pbnNlcnRUZXh0ID0gdGV4dCA9PiB7XG4gICAgaW5zZXJ0VGV4dCh0ZXh0KVxuICAgIGlmIChlZGl0b3Iuc2VsZWN0aW9uICYmIHRleHQgPT09ICcvJykge1xuICAgICAgY29uc3Qgc3RhcnRPZkJsb2NrID0gRWRpdG9yLnN0YXJ0KFxuICAgICAgICBlZGl0b3IsXG4gICAgICAgIEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICAgICAgICBtYXRjaDogbm9kZSA9PiBFbGVtZW50LmlzRWxlbWVudChub2RlKSAmJiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG5vZGUpLFxuICAgICAgICB9KSFbMV1cbiAgICAgIClcbiAgICAgIGNvbnN0IGJlZm9yZSA9IEVkaXRvci5iZWZvcmUoZWRpdG9yLCBlZGl0b3Iuc2VsZWN0aW9uLmFuY2hvciwgeyB1bml0OiAnY2hhcmFjdGVyJyB9KVxuICAgICAgaWYgKFxuICAgICAgICBiZWZvcmUgJiZcbiAgICAgICAgKFBvaW50LmVxdWFscyhzdGFydE9mQmxvY2ssIGJlZm9yZSkgfHxcbiAgICAgICAgICAoYmVmb3JlLm9mZnNldCAhPT0gMCAmJlxuICAgICAgICAgICAgL1xccy8udGVzdCgoTm9kZS5nZXQoZWRpdG9yLCBiZWZvcmUucGF0aCkgYXMgVGV4dCkudGV4dFtiZWZvcmUub2Zmc2V0IC0gMV0pKSlcbiAgICAgICkge1xuICAgICAgICBUcmFuc2Zvcm1zLnNldE5vZGVzKFxuICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICB7IGluc2VydE1lbnU6IHRydWUgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhdDogeyBhbmNob3I6IGJlZm9yZSwgZm9jdXM6IGVkaXRvci5zZWxlY3Rpb24uYW5jaG9yIH0sXG4gICAgICAgICAgICBtYXRjaDogVGV4dC5pc1RleHQsXG4gICAgICAgICAgICBzcGxpdDogdHJ1ZSxcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVkaXRvclxufVxuIl0sIm5hbWVzIjpbIkVkaXRvciIsIkVsZW1lbnQiLCJOb2RlIiwiUGF0aCIsIlBvaW50IiwiVGV4dCIsIlRyYW5zZm9ybXMiLCJub2RlTGlzdHNXaXRob3V0SW5zZXJ0TWVudSIsIldlYWtTZXQiLCJub2Rlc1dpdGhvdXRJbnNlcnRNZW51IiwiZmluZFBhdGhXaXRoSW5zZXJ0TWVudSIsIm5vZGUiLCJwYXRoIiwiaXNUZXh0IiwiaW5zZXJ0TWVudSIsInVuZGVmaW5lZCIsImhhcyIsImNoaWxkcmVuIiwiaW5kZXgiLCJjaGlsZCIsImVudHJpZXMiLCJtYXliZVBhdGgiLCJhZGQiLCJyZW1vdmVJbnNlcnRNZW51TWFya1doZW5PdXRzaWRlT2ZTZWxlY3Rpb24iLCJlZGl0b3IiLCJtYXJrcyIsInNlbGVjdGlvbiIsImVxdWFscyIsImFuY2hvciIsImZvY3VzIiwidW5zZXROb2RlcyIsImF0Iiwid2l0aEluc2VydE1lbnUiLCJub3JtYWxpemVOb2RlIiwiYXBwbHkiLCJpbnNlcnRUZXh0IiwidGV4dCIsIndoaXRlc3BhY2VNYXRjaCIsImV4ZWMiLCJvZmZzZXQiLCJlbmQiLCJtYXRjaCIsInNwbGl0IiwiaXNFZGl0b3IiLCJvcCIsInR5cGUiLCJzdGFydE9mQmxvY2siLCJzdGFydCIsImFib3ZlIiwiaXNFbGVtZW50IiwiaXNCbG9jayIsImJlZm9yZSIsInVuaXQiLCJ0ZXN0IiwiZ2V0Iiwic2V0Tm9kZXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/insert-menu-shared.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/insert-menu.tsx":
/*!*******************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/insert-menu.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InsertMenu: () => (/* binding */ InsertMenu)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var match_sorter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! match-sorter */ \"../../../../node_modules/.pnpm/match-sorter@8.0.0/node_modules/match-sorter/dist/match-sorter.cjs.js\");\n/* harmony import */ var scroll_into_view_if_needed__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! scroll-into-view-if-needed */ \"../../../../node_modules/.pnpm/scroll-into-view-if-needed@3.1.0/node_modules/scroll-into-view-if-needed/dist/index.js\");\n/* harmony import */ var _component_blocks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./component-blocks */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/index.tsx\");\n/* harmony import */ var _relationship__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./relationship */ \"../../../../packages/fields-document/src/DocumentEditor/relationship.tsx\");\n/* harmony import */ var _toolbar_state__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./toolbar-state */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n/* harmony import */ var _layouts_shared__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./layouts-shared */ \"../../../../packages/fields-document/src/DocumentEditor/layouts-shared.ts\");\n/* harmony import */ var _react_aria_overlays__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @react-aria/overlays */ \"../../../../node_modules/.pnpm/@react-aria+overlays@3.26.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-aria/overlays/dist/import.mjs\");\n/* harmony import */ var _react_stately_list__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @react-stately/list */ \"../../../../node_modules/.pnpm/@react-stately+list@3.12.0_react@19.0.0/node_modules/@react-stately/list/dist/import.mjs\");\n/* harmony import */ var _react_stately_overlays__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @react-stately/overlays */ \"../../../../node_modules/.pnpm/@react-stately+overlays@3.6.14_react@19.0.0/node_modules/@react-stately/overlays/dist/import.mjs\");\n/* harmony import */ var _keystar_ui_overlays__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/overlays */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-overlays.js\");\n/* harmony import */ var _keystar_ui_listbox__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystar/ui/listbox */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-listbox.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _insert_menu_shared__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./insert-menu-shared */ \"../../../../packages/fields-document/src/DocumentEditor/insert-menu-shared.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _insert_menu_shared__WEBPACK_IMPORTED_MODULE_11__) if([\"default\",\"InsertMenu\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _insert_menu_shared__WEBPACK_IMPORTED_MODULE_11__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getOptions(toolbarState, componentBlocks, relationships) {\n    const options = [\n        ...Object.entries(relationships).map(([relationship, { label }])=>({\n                label,\n                insert: (editor)=>{\n                    slate__WEBPACK_IMPORTED_MODULE_12__.Transforms.insertNodes(editor, {\n                        type: 'relationship',\n                        relationship,\n                        data: null,\n                        children: [\n                            {\n                                text: ''\n                            }\n                        ]\n                    });\n                }\n            })),\n        ...Object.keys(componentBlocks).map((key)=>({\n                label: componentBlocks[key].label,\n                insert: (editor)=>{\n                    (0,_component_blocks__WEBPACK_IMPORTED_MODULE_3__.insertComponentBlock)(editor, componentBlocks, key);\n                }\n            })),\n        ...toolbarState.textStyles.allowedHeadingLevels.filter((a)=>toolbarState.editorDocumentFeatures.formatting.headingLevels.includes(a)).map((level)=>({\n                label: `Heading ${level}`,\n                insert (editor) {\n                    (0,_utils__WEBPACK_IMPORTED_MODULE_6__.insertNodesButReplaceIfSelectionIsAtEmptyParagraphOrHeading)(editor, {\n                        type: 'heading',\n                        level,\n                        children: [\n                            {\n                                text: ''\n                            }\n                        ]\n                    });\n                }\n            })),\n        !toolbarState.blockquote.isDisabled && toolbarState.editorDocumentFeatures.formatting.blockTypes.blockquote && {\n            label: 'Blockquote',\n            insert (editor) {\n                (0,_utils__WEBPACK_IMPORTED_MODULE_6__.insertNodesButReplaceIfSelectionIsAtEmptyParagraphOrHeading)(editor, {\n                    type: 'blockquote',\n                    children: [\n                        {\n                            text: ''\n                        }\n                    ]\n                });\n            }\n        },\n        !toolbarState.code.isDisabled && toolbarState.editorDocumentFeatures.formatting.blockTypes.code && {\n            label: 'Code block',\n            insert (editor) {\n                (0,_utils__WEBPACK_IMPORTED_MODULE_6__.insertNodesButReplaceIfSelectionIsAtEmptyParagraphOrHeading)(editor, {\n                    type: 'code',\n                    children: [\n                        {\n                            text: ''\n                        }\n                    ]\n                });\n            }\n        },\n        !toolbarState.dividers.isDisabled && toolbarState.editorDocumentFeatures.dividers && {\n            label: 'Divider',\n            insert (editor) {\n                (0,_utils__WEBPACK_IMPORTED_MODULE_6__.insertNodesButReplaceIfSelectionIsAtEmptyParagraphOrHeading)(editor, {\n                    type: 'divider',\n                    children: [\n                        {\n                            text: ''\n                        }\n                    ]\n                });\n            }\n        },\n        !!toolbarState.editorDocumentFeatures.layouts.length && {\n            label: 'Layout',\n            insert (editor) {\n                (0,_layouts_shared__WEBPACK_IMPORTED_MODULE_7__.insertLayout)(editor, toolbarState.editorDocumentFeatures.layouts[0]);\n            }\n        },\n        !toolbarState.lists.ordered.isDisabled && toolbarState.editorDocumentFeatures.formatting.listTypes.ordered && {\n            label: 'Numbered List',\n            keywords: [\n                'ordered list'\n            ],\n            insert (editor) {\n                (0,_utils__WEBPACK_IMPORTED_MODULE_6__.insertNodesButReplaceIfSelectionIsAtEmptyParagraphOrHeading)(editor, {\n                    type: 'ordered-list',\n                    children: [\n                        {\n                            text: ''\n                        }\n                    ]\n                });\n            }\n        },\n        !toolbarState.lists.unordered.isDisabled && toolbarState.editorDocumentFeatures.formatting.listTypes.unordered && {\n            label: 'Bullet List',\n            keywords: [\n                'unordered list'\n            ],\n            insert (editor) {\n                (0,_utils__WEBPACK_IMPORTED_MODULE_6__.insertNodesButReplaceIfSelectionIsAtEmptyParagraphOrHeading)(editor, {\n                    type: 'unordered-list',\n                    children: [\n                        {\n                            text: ''\n                        }\n                    ]\n                });\n            }\n        }\n    ];\n    return options.filter((x)=>typeof x !== 'boolean');\n}\nfunction insertOption(editor, text, option) {\n    const path = slate_react__WEBPACK_IMPORTED_MODULE_13__.ReactEditor.findPath(editor, text);\n    slate__WEBPACK_IMPORTED_MODULE_12__.Transforms.delete(editor, {\n        at: {\n            focus: slate__WEBPACK_IMPORTED_MODULE_12__.Editor.start(editor, path),\n            anchor: slate__WEBPACK_IMPORTED_MODULE_12__.Editor.end(editor, path)\n        }\n    });\n    option.insert(editor);\n}\nfunction InsertMenu({ children, text }) {\n    const toolbarState = (0,_toolbar_state__WEBPACK_IMPORTED_MODULE_5__.useToolbarState)();\n    const { editor } = toolbarState;\n    const componentBlocks = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_component_blocks__WEBPACK_IMPORTED_MODULE_3__.ComponentBlockContext);\n    const relationships = (0,_relationship__WEBPACK_IMPORTED_MODULE_4__.useDocumentFieldRelationships)();\n    const options = (0,match_sorter__WEBPACK_IMPORTED_MODULE_2__.matchSorter)(getOptions(toolbarState, componentBlocks, relationships), text.text.slice(1), {\n        keys: [\n            'label',\n            'keywords'\n        ]\n    }).map((option, index)=>({\n            ...option,\n            index\n        }));\n    const stateRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        options,\n        text\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"InsertMenu.useEffect\": ()=>{\n            stateRef.current = {\n                options,\n                text\n            };\n        }\n    }[\"InsertMenu.useEffect\"]);\n    const listenerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        \"InsertMenu.useRef[listenerRef]\": (_event)=>{}\n    }[\"InsertMenu.useRef[listenerRef]\"]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"InsertMenu.useEffect\": ()=>{\n            listenerRef.current = ({\n                \"InsertMenu.useEffect\": (event)=>{\n                    if (event.defaultPrevented) return;\n                    switch(event.key){\n                        case 'ArrowDown':\n                            {\n                                if (stateRef.current.options.length) {\n                                    event.preventDefault();\n                                    state.selectionManager.setFocused(true);\n                                    state.selectionManager.setFocusedKey((Number(state.selectionManager.focusedKey) === stateRef.current.options.length - 1 ? 0 : Number(state.selectionManager.focusedKey) + 1).toString());\n                                }\n                                return;\n                            }\n                        case 'ArrowUp':\n                            {\n                                if (stateRef.current.options.length) {\n                                    event.preventDefault();\n                                    state.selectionManager.setFocused(true);\n                                    state.selectionManager.setFocusedKey((state.selectionManager.focusedKey === '0' ? stateRef.current.options.length - 1 : Number(state.selectionManager.focusedKey) - 1).toString());\n                                }\n                                return;\n                            }\n                        case 'Enter':\n                            {\n                                const option = stateRef.current.options[Number(state.selectionManager.focusedKey)];\n                                if (option) {\n                                    insertOption(editor, stateRef.current.text, option);\n                                    event.preventDefault();\n                                }\n                                return;\n                            }\n                        case 'Escape':\n                            {\n                                const path = slate_react__WEBPACK_IMPORTED_MODULE_13__.ReactEditor.findPath(editor, stateRef.current.text);\n                                slate__WEBPACK_IMPORTED_MODULE_12__.Transforms.unsetNodes(editor, 'insertMenu', {\n                                    at: path\n                                });\n                                event.preventDefault();\n                                return;\n                            }\n                    }\n                }\n            })[\"InsertMenu.useEffect\"];\n        }\n    }[\"InsertMenu.useEffect\"]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"InsertMenu.useEffect\": ()=>{\n            const domNode = slate_react__WEBPACK_IMPORTED_MODULE_13__.ReactEditor.toDOMNode(editor, editor);\n            let listener = {\n                \"InsertMenu.useEffect.listener\": (event)=>listenerRef.current(event)\n            }[\"InsertMenu.useEffect.listener\"];\n            domNode.addEventListener('keydown', listener);\n            return ({\n                \"InsertMenu.useEffect\": ()=>{\n                    domNode.removeEventListener('keydown', listener);\n                }\n            })[\"InsertMenu.useEffect\"];\n        }\n    }[\"InsertMenu.useEffect\"], [\n        editor\n    ]);\n    const triggerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const overlayState = (0,_react_stately_overlays__WEBPACK_IMPORTED_MODULE_14__.useOverlayTriggerState)({\n        isOpen: true\n    });\n    const { triggerProps: { onPress, ...triggerProps }, overlayProps } = (0,_react_aria_overlays__WEBPACK_IMPORTED_MODULE_15__.useOverlayTrigger)({\n        type: 'listbox'\n    }, overlayState, triggerRef);\n    let state = (0,_react_stately_list__WEBPACK_IMPORTED_MODULE_16__.useListState)({\n        items: options,\n        children: {\n            \"InsertMenu.useListState[state]\": (item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_listbox__WEBPACK_IMPORTED_MODULE_9__.Item, {\n                    children: item.label\n                }, item.index, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/insert-menu.tsx\",\n                    lineNumber: 223,\n                    columnNumber: 23\n                }, this)\n        }[\"InsertMenu.useListState[state]\"]\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"InsertMenu.useEffect\": ()=>{\n            if (!state.selectionManager.isFocused && state.collection.size) {\n                state.selectionManager.setFocused(true);\n                state.selectionManager.setFocusedKey('0');\n            }\n        }\n    }[\"InsertMenu.useEffect\"], [\n        state\n    ]);\n    const scrollableRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"InsertMenu.useEffect\": ()=>{\n            const element = scrollableRef.current?.querySelector('[role=\"listbox\"] [role=\"presentation\"]')?.children[state.selectionManager.focusedKey];\n            if (element) {\n                (0,scroll_into_view_if_needed__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(element, {\n                    scrollMode: 'if-needed',\n                    boundary: scrollableRef.current,\n                    block: 'nearest'\n                });\n            }\n        }\n    }[\"InsertMenu.useEffect\"], [\n        state.selectionManager.focusedKey\n    ]);\n    const listboxRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    let layout = (0,_keystar_ui_listbox__WEBPACK_IMPORTED_MODULE_9__.useListBoxLayout)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                ...triggerProps,\n                role: \"button\",\n                className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.css)({\n                    color: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.tokenSchema.color.foreground.accent,\n                    fontWeight: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.tokenSchema.typography.fontWeight.medium\n                }),\n                ref: triggerRef,\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/insert-menu.tsx\",\n                lineNumber: 249,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_overlays__WEBPACK_IMPORTED_MODULE_8__.Popover, {\n                width: \"alias.singleLineWidth\",\n                placement: \"bottom start\",\n                isNonModal: true,\n                hideArrow: true,\n                ...overlayProps,\n                state: overlayState,\n                triggerRef: triggerRef,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.css)({\n                        overflow: 'scroll',\n                        maxHeight: 300\n                    }),\n                    ref: scrollableRef,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_listbox__WEBPACK_IMPORTED_MODULE_9__.ListBoxBase, {\n                        \"aria-label\": \"Insert block\",\n                        state: state,\n                        shouldUseVirtualFocus: true,\n                        layout: layout,\n                        ref: listboxRef,\n                        onAction: (key)=>{\n                            insertOption(editor, text, options[key]);\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/insert-menu.tsx\",\n                        lineNumber: 270,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/insert-menu.tsx\",\n                    lineNumber: 269,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/insert-menu.tsx\",\n                lineNumber: 260,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/insert-menu.tsx\",\n        lineNumber: 248,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9pbnNlcnQtbWVudS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRTtBQUMxQjtBQUNaO0FBQ0M7QUFDYTtBQUN5QjtBQUdsQjtBQUNiO0FBRW9DO0FBQ3RDO0FBRVM7QUFDTjtBQUNjO0FBQ2xCO0FBQzJCO0FBQ3JCO0FBRWhCO0FBUXBDLFNBQVN3QixXQUNQQyxZQUEwQixFQUMxQkMsZUFBK0MsRUFDL0NDLGFBQTRCO0lBRTVCLE1BQU1DLFVBQWdDO1dBQ2pDQyxPQUFPQyxPQUFPLENBQUNILGVBQWVJLEdBQUcsQ0FBQyxDQUFDLENBQUNDLGNBQWMsRUFBRUMsS0FBSyxFQUFFLENBQUMsR0FBTTtnQkFDbkVBO2dCQUNBQyxRQUFRLENBQUNDO29CQUNQOUIsOENBQVVBLENBQUMrQixXQUFXLENBQUNELFFBQVE7d0JBQzdCRSxNQUFNO3dCQUNOTDt3QkFDQU0sTUFBTTt3QkFDTkMsVUFBVTs0QkFBQztnQ0FBRUMsTUFBTTs0QkFBRzt5QkFBRTtvQkFDMUI7Z0JBQ0Y7WUFDRjtXQUNHWCxPQUFPWSxJQUFJLENBQUNmLGlCQUFpQkssR0FBRyxDQUFDVyxDQUFBQSxNQUFRO2dCQUMxQ1QsT0FBT1AsZUFBZSxDQUFDZ0IsSUFBSSxDQUFDVCxLQUFLO2dCQUNqQ0MsUUFBUSxDQUFDQztvQkFDUHpCLHVFQUFvQkEsQ0FBQ3lCLFFBQVFULGlCQUFpQmdCO2dCQUNoRDtZQUNGO1dBQ0dqQixhQUFha0IsVUFBVSxDQUFDQyxvQkFBb0IsQ0FDNUNDLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS3JCLGFBQWFzQixzQkFBc0IsQ0FBQ0MsVUFBVSxDQUFDQyxhQUFhLENBQUNDLFFBQVEsQ0FBQ0osSUFDbEZmLEdBQUcsQ0FBQ29CLENBQUFBLFFBQVU7Z0JBQ2JsQixPQUFPLENBQUMsUUFBUSxFQUFFa0IsT0FBTztnQkFDekJqQixRQUFPQyxNQUFj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LE9BQU87Z0JBQ1Q7WUFDRjtRQUNGOytCQUFHO1FBQUM3QixNQUFNQyxnQkFBZ0IsQ0FBQ0ksVUFBVTtLQUFDO0lBQ3RDLE1BQU15QixhQUFhaEgsNkNBQU1BLENBQUM7SUFDMUIsSUFBSWlILFNBQVMvRixxRUFBZ0JBO0lBQzdCLHFCQUNFLDhEQUFDckIsMkNBQVFBOzswQkFDUCw4REFBQ3FIO2dCQUNFLEdBQUdoQixZQUFZO2dCQUNoQmlCLE1BQUs7Z0JBQ0xDLFdBQVdqRyx1REFBR0EsQ0FBQztvQkFDYmtHLE9BQU9qRywyREFBV0EsQ0FBQ2lHLEtBQUssQ0FBQ0MsVUFBVSxDQUFDQyxNQUFNO29CQUMxQ0MsWUFBWXBHLDJEQUFXQSxDQUFDcUcsVUFBVSxDQUFDRCxVQUFVLENBQUNFLE1BQU07Z0JBQ3REO2dCQUNBQyxLQUFLNUI7MEJBRUozRDs7Ozs7OzBCQUVILDhEQUFDckIseURBQU9BO2dCQUNONkcsT0FBTTtnQkFDTkMsV0FBVTtnQkFDVkMsVUFBVTtnQkFDVkMsU0FBUztnQkFDUixHQUFHM0IsWUFBWTtnQkFDaEJsQixPQUFPYztnQkFDUEQsWUFBWUE7MEJBRVosNEVBQUNpQztvQkFBSVosV0FBV2pHLHVEQUFHQSxDQUFDO3dCQUFFOEcsVUFBVTt3QkFBVUMsV0FBVztvQkFBSTtvQkFBSVAsS0FBS2pCOzhCQUNoRSw0RUFBQ3pGLDREQUFXQTt3QkFDVmtILGNBQVc7d0JBQ1hqRCxPQUFPQTt3QkFDUGtELHFCQUFxQjt3QkFDckJuQixRQUFRQTt3QkFDUlUsS0FBS1g7d0JBQ0xxQixVQUFVOUYsQ0FBQUE7NEJBQ1J1QixhQUFhOUIsUUFBUUssTUFBTVosT0FBTyxDQUFDYyxJQUFjO3dCQUNuRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1aIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvaW5zZXJ0LW1lbnUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgUmVhY3ROb2RlLCBGcmFnbWVudCwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHR5cGUgVGV4dCwgRWRpdG9yLCBUcmFuc2Zvcm1zIH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgeyBSZWFjdEVkaXRvciB9IGZyb20gJ3NsYXRlLXJlYWN0J1xuaW1wb3J0IHsgbWF0Y2hTb3J0ZXIgfSBmcm9tICdtYXRjaC1zb3J0ZXInXG5pbXBvcnQgc2Nyb2xsSW50b1ZpZXcgZnJvbSAnc2Nyb2xsLWludG8tdmlldy1pZi1uZWVkZWQnXG5pbXBvcnQgeyBDb21wb25lbnRCbG9ja0NvbnRleHQsIGluc2VydENvbXBvbmVudEJsb2NrIH0gZnJvbSAnLi9jb21wb25lbnQtYmxvY2tzJ1xuaW1wb3J0IHsgdHlwZSBDb21wb25lbnRCbG9jayB9IGZyb20gJy4vY29tcG9uZW50LWJsb2Nrcy9hcGktc2hhcmVkJ1xuaW1wb3J0IHsgdHlwZSBSZWxhdGlvbnNoaXBzIH0gZnJvbSAnLi9yZWxhdGlvbnNoaXAtc2hhcmVkJ1xuaW1wb3J0IHsgdXNlRG9jdW1lbnRGaWVsZFJlbGF0aW9uc2hpcHMgfSBmcm9tICcuL3JlbGF0aW9uc2hpcCdcbmltcG9ydCB7IHVzZVRvb2xiYXJTdGF0ZSB9IGZyb20gJy4vdG9vbGJhci1zdGF0ZSdcbmltcG9ydCB7IHR5cGUgVG9vbGJhclN0YXRlIH0gZnJvbSAnLi90b29sYmFyLXN0YXRlLXNoYXJlZCdcbmltcG9ydCB7IGluc2VydE5vZGVzQnV0UmVwbGFjZUlmU2VsZWN0aW9uSXNBdEVtcHR5UGFyYWdyYXBoT3JIZWFkaW5nIH0gZnJvbSAnLi91dGlscydcbmltcG9ydCB7IGluc2VydExheW91dCB9IGZyb20gJy4vbGF5b3V0cy1zaGFyZWQnXG5cbmltcG9ydCB7IHVzZU92ZXJsYXlUcmlnZ2VyIH0gZnJvbSAnQHJlYWN0LWFyaWEvb3ZlcmxheXMnXG5pbXBvcnQgeyB1c2VMaXN0U3RhdGUgfSBmcm9tICdAcmVhY3Qtc3RhdGVseS9saXN0J1xuaW1wb3J0IHsgdXNlT3ZlcmxheVRyaWdnZXJTdGF0ZSB9IGZyb20gJ0ByZWFjdC1zdGF0ZWx5L292ZXJsYXlzJ1xuaW1wb3J0IHsgUG9wb3ZlciB9IGZyb20gJ0BrZXlzdGFyL3VpL292ZXJsYXlzJ1xuaW1wb3J0IHsgSXRlbSwgTGlzdEJveEJhc2UsIHVzZUxpc3RCb3hMYXlvdXQgfSBmcm9tICdAa2V5c3Rhci91aS9saXN0Ym94J1xuaW1wb3J0IHsgY3NzLCB0b2tlblNjaGVtYSB9IGZyb20gJ0BrZXlzdGFyL3VpL3N0eWxlJ1xuXG5leHBvcnQgKiBmcm9tICcuL2luc2VydC1tZW51LXNoYXJlZCdcblxudHlwZSBPcHRpb24gPSB7XG4gIGxhYmVsOiBzdHJpbmdcbiAga2V5d29yZHM/OiBzdHJpbmdbXVxuICBpbnNlcnQ6IChlZGl0b3I6IEVkaXRvcikgPT4gdm9pZFxufVxuXG5mdW5jdGlvbiBnZXRPcHRpb25zKFxuICB0b29sYmFyU3RhdGU6IFRvb2xiYXJTdGF0ZSxcbiAgY29tcG9uZW50QmxvY2tzOiBSZWNvcmQ8c3RyaW5nLCBDb21wb25lbnRCbG9jaz4sXG4gIHJlbGF0aW9uc2hpcHM6IFJlbGF0aW9uc2hpcHNcbik6IE9wdGlvbltdIHtcbiAgY29uc3Qgb3B0aW9uczogKE9wdGlvbiB8IGJvb2xlYW4pW10gPSBbXG4gICAgLi4uT2JqZWN0LmVudHJpZXMocmVsYXRpb25zaGlwcykubWFwKChbcmVsYXRpb25zaGlwLCB7IGxhYmVsIH1dKSA9PiAoe1xuICAgICAgbGFiZWwsXG4gICAgICBpbnNlcnQ6IChlZGl0b3I6IEVkaXRvcikgPT4ge1xuICAgICAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKGVkaXRvciwge1xuICAgICAgICAgIHR5cGU6ICdyZWxhdGlvbnNoaXAnLFxuICAgICAgICAgIHJlbGF0aW9uc2hpcCxcbiAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgIGNoaWxkcmVuOiBbeyB0ZXh0OiAnJyB9XSxcbiAgICAgICAgfSlcbiAgICAgIH0sXG4gICAgfSkpLFxuICAgIC4uLk9iamVjdC5rZXlzKGNvbXBvbmVudEJsb2NrcykubWFwKGtleSA9PiAoe1xuICAgICAgbGFiZWw6IGNvbXBvbmVudEJsb2Nrc1trZXldLmxhYmVsLFxuICAgICAgaW5zZXJ0OiAoZWRpdG9yOiBFZGl0b3IpID0+IHtcbiAgICAgICAgaW5zZXJ0Q29tcG9uZW50QmxvY2soZWRpdG9yLCBjb21wb25lbnRCbG9ja3MsIGtleSlcbiAgICAgIH0sXG4gICAgfSkpLFxuICAgIC4uLnRvb2xiYXJTdGF0ZS50ZXh0U3R5bGVzLmFsbG93ZWRIZWFkaW5nTGV2ZWxzXG4gICAgICAuZmlsdGVyKGEgPT4gdG9vbGJhclN0YXRlLmVkaXRvckRvY3VtZW50RmVhdHVyZXMuZm9ybWF0dGluZy5oZWFkaW5nTGV2ZWxzLmluY2x1ZGVzKGEpKVxuICAgICAgLm1hcChsZXZlbCA9PiAoe1xuICAgICAgICBsYWJlbDogYEhlYWRpbmcgJHtsZXZlbH1gLFxuICAgICAgICBpbnNlcnQoZWRpdG9yOiBFZGl0b3IpIHtcbiAgICAgICAgICBpbnNlcnROb2Rlc0J1dFJlcGxhY2VJZlNlbGVjdGlvbklzQXRFbXB0eVBhcmFncmFwaE9ySGVhZGluZyhlZGl0b3IsIHtcbiAgICAgICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgICAgIGxldmVsLFxuICAgICAgICAgICAgY2hpbGRyZW46IFt7IHRleHQ6ICcnIH1dLFxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICB9KSksXG4gICAgIXRvb2xiYXJTdGF0ZS5ibG9ja3F1b3RlLmlzRGlzYWJsZWQgJiZcbiAgICAgIHRvb2xiYXJTdGF0ZS5lZGl0b3JEb2N1bWVudEZlYXR1cmVzLmZvcm1hdHRpbmcuYmxvY2tUeXBlcy5ibG9ja3F1b3RlICYmIHtcbiAgICAgICAgbGFiZWw6ICdCbG9ja3F1b3RlJyxcbiAgICAgICAgaW5zZXJ0KGVkaXRvcikge1xuICAgICAgICAgIGluc2VydE5vZGVzQnV0UmVwbGFjZUlmU2VsZWN0aW9uSXNBdEVtcHR5UGFyYWdyYXBoT3JIZWFkaW5nKGVkaXRvciwge1xuICAgICAgICAgICAgdHlwZTogJ2Jsb2NrcXVvdGUnLFxuICAgICAgICAgICAgY2hpbGRyZW46IFt7IHRleHQ6ICcnIH1dLFxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICF0b29sYmFyU3RhdGUuY29kZS5pc0Rpc2FibGVkICYmXG4gICAgICB0b29sYmFyU3RhdGUuZWRpdG9yRG9jdW1lbnRGZWF0dXJlcy5mb3JtYXR0aW5nLmJsb2NrVHlwZXMuY29kZSAmJiB7XG4gICAgICAgIGxhYmVsOiAnQ29kZSBibG9jaycsXG4gICAgICAgIGluc2VydChlZGl0b3IpIHtcbiAgICAgICAgICBpbnNlcnROb2Rlc0J1dFJlcGxhY2VJZlNlbGVjdGlvbklzQXRFbXB0eVBhcmFncmFwaE9ySGVhZGluZyhlZGl0b3IsIHtcbiAgICAgICAgICAgIHR5cGU6ICdjb2RlJyxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbeyB0ZXh0OiAnJyB9XSxcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAhdG9vbGJhclN0YXRlLmRpdmlkZXJzLmlzRGlzYWJsZWQgJiZcbiAgICAgIHRvb2xiYXJTdGF0ZS5lZGl0b3JEb2N1bWVudEZlYXR1cmVzLmRpdmlkZXJzICYmIHtcbiAgICAgICAgbGFiZWw6ICdEaXZpZGVyJyxcbiAgICAgICAgaW5zZXJ0KGVkaXRvcikge1xuICAgICAgICAgIGluc2VydE5vZGVzQnV0UmVwbGFjZUlmU2VsZWN0aW9uSXNBdEVtcHR5UGFyYWdyYXBoT3JIZWFkaW5nKGVkaXRvciwge1xuICAgICAgICAgICAgdHlwZTogJ2RpdmlkZXInLFxuICAgICAgICAgICAgY2hpbGRyZW46IFt7IHRleHQ6ICcnIH1dLFxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICEhdG9vbGJhclN0YXRlLmVkaXRvckRvY3VtZW50RmVhdHVyZXMubGF5b3V0cy5sZW5ndGggJiYge1xuICAgICAgbGFiZWw6ICdMYXlvdXQnLFxuICAgICAgaW5zZXJ0KGVkaXRvcikge1xuICAgICAgICBpbnNlcnRMYXlvdXQoZWRpdG9yLCB0b29sYmFyU3RhdGUuZWRpdG9yRG9jdW1lbnRGZWF0dXJlcy5sYXlvdXRzWzBdKVxuICAgICAgfSxcbiAgICB9LFxuICAgICF0b29sYmFyU3RhdGUubGlzdHMub3JkZXJlZC5pc0Rpc2FibGVkICYmXG4gICAgICB0b29sYmFyU3RhdGUuZWRpdG9yRG9jdW1lbnRGZWF0dXJlcy5mb3JtYXR0aW5nLmxpc3RUeXBlcy5vcmRlcmVkICYmIHtcbiAgICAgICAgbGFiZWw6ICdOdW1iZXJlZCBMaXN0JyxcbiAgICAgICAga2V5d29yZHM6IFsnb3JkZXJlZCBsaXN0J10sXG4gICAgICAgIGluc2VydChlZGl0b3IpIHtcbiAgICAgICAgICBpbnNlcnROb2Rlc0J1dFJlcGxhY2VJZlNlbGVjdGlvbklzQXRFbXB0eVBhcmFncmFwaE9ySGVhZGluZyhlZGl0b3IsIHtcbiAgICAgICAgICAgIHR5cGU6ICdvcmRlcmVkLWxpc3QnLFxuICAgICAgICAgICAgY2hpbGRyZW46IFt7IHRleHQ6ICcnIH1dLFxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICF0b29sYmFyU3RhdGUubGlzdHMudW5vcmRlcmVkLmlzRGlzYWJsZWQgJiZcbiAgICAgIHRvb2xiYXJTdGF0ZS5lZGl0b3JEb2N1bWVudEZlYXR1cmVzLmZvcm1hdHRpbmcubGlzdFR5cGVzLnVub3JkZXJlZCAmJiB7XG4gICAgICAgIGxhYmVsOiAnQnVsbGV0IExpc3QnLFxuICAgICAgICBrZXl3b3JkczogWyd1bm9yZGVyZWQgbGlzdCddLFxuICAgICAgICBpbnNlcnQoZWRpdG9yKSB7XG4gICAgICAgICAgaW5zZXJ0Tm9kZXNCdXRSZXBsYWNlSWZTZWxlY3Rpb25Jc0F0RW1wdHlQYXJhZ3JhcGhPckhlYWRpbmcoZWRpdG9yLCB7XG4gICAgICAgICAgICB0eXBlOiAndW5vcmRlcmVkLWxpc3QnLFxuICAgICAgICAgICAgY2hpbGRyZW46IFt7IHRleHQ6ICcnIH1dLFxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICB9LFxuICBdXG4gIHJldHVybiBvcHRpb25zLmZpbHRlcigoeCk6IHggaXMgRXhjbHVkZTx0eXBlb2YgeCwgYm9vbGVhbj4gPT4gdHlwZW9mIHggIT09ICdib29sZWFuJylcbn1cblxuZnVuY3Rpb24gaW5zZXJ0T3B0aW9uKGVkaXRvcjogRWRpdG9yLCB0ZXh0OiBUZXh0LCBvcHRpb246IE9wdGlvbikge1xuICBjb25zdCBwYXRoID0gUmVhY3RFZGl0b3IuZmluZFBhdGgoZWRpdG9yLCB0ZXh0KVxuICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHtcbiAgICBhdDoge1xuICAgICAgZm9jdXM6IEVkaXRvci5zdGFydChlZGl0b3IsIHBhdGgpLFxuICAgICAgYW5jaG9yOiBFZGl0b3IuZW5kKGVkaXRvciwgcGF0aCksXG4gICAgfSxcbiAgfSlcbiAgb3B0aW9uLmluc2VydChlZGl0b3IpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBJbnNlcnRNZW51KHsgY2hpbGRyZW4sIHRleHQgfTogeyBjaGlsZHJlbjogUmVhY3ROb2RlOyB0ZXh0OiBUZXh0IH0pIHtcbiAgY29uc3QgdG9vbGJhclN0YXRlID0gdXNlVG9vbGJhclN0YXRlKClcbiAgY29uc3QgeyBlZGl0b3IgfSA9IHRvb2xiYXJTdGF0ZVxuICBjb25zdCBjb21wb25lbnRCbG9ja3MgPSB1c2VDb250ZXh0KENvbXBvbmVudEJsb2NrQ29udGV4dClcbiAgY29uc3QgcmVsYXRpb25zaGlwcyA9IHVzZURvY3VtZW50RmllbGRSZWxhdGlvbnNoaXBzKClcblxuICBjb25zdCBvcHRpb25zID0gbWF0Y2hTb3J0ZXIoXG4gICAgZ2V0T3B0aW9ucyh0b29sYmFyU3RhdGUsIGNvbXBvbmVudEJsb2NrcywgcmVsYXRpb25zaGlwcyksXG4gICAgdGV4dC50ZXh0LnNsaWNlKDEpLFxuICAgIHtcbiAgICAgIGtleXM6IFsnbGFiZWwnLCAna2V5d29yZHMnXSxcbiAgICB9XG4gICkubWFwKChvcHRpb24sIGluZGV4KSA9PiAoeyAuLi5vcHRpb24sIGluZGV4IH0pKVxuXG4gIGNvbnN0IHN0YXRlUmVmID0gdXNlUmVmKHsgb3B0aW9ucywgdGV4dCB9KVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc3RhdGVSZWYuY3VycmVudCA9IHsgb3B0aW9ucywgdGV4dCB9XG4gIH0pXG5cbiAgY29uc3QgbGlzdGVuZXJSZWYgPSB1c2VSZWYoKF9ldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge30pXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGlzdGVuZXJSZWYuY3VycmVudCA9IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVyblxuICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgICAgY2FzZSAnQXJyb3dEb3duJzoge1xuICAgICAgICAgIGlmIChzdGF0ZVJlZi5jdXJyZW50Lm9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBzdGF0ZS5zZWxlY3Rpb25NYW5hZ2VyLnNldEZvY3VzZWQodHJ1ZSlcbiAgICAgICAgICAgIHN0YXRlLnNlbGVjdGlvbk1hbmFnZXIuc2V0Rm9jdXNlZEtleShcbiAgICAgICAgICAgICAgKE51bWJlcihzdGF0ZS5zZWxlY3Rpb25NYW5hZ2VyLmZvY3VzZWRLZXkpID09PSBzdGF0ZVJlZi5jdXJyZW50Lm9wdGlvbnMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgICAgIDogTnVtYmVyKHN0YXRlLnNlbGVjdGlvbk1hbmFnZXIuZm9jdXNlZEtleSkgKyAxXG4gICAgICAgICAgICAgICkudG9TdHJpbmcoKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjYXNlICdBcnJvd1VwJzoge1xuICAgICAgICAgIGlmIChzdGF0ZVJlZi5jdXJyZW50Lm9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBzdGF0ZS5zZWxlY3Rpb25NYW5hZ2VyLnNldEZvY3VzZWQodHJ1ZSlcbiAgICAgICAgICAgIHN0YXRlLnNlbGVjdGlvbk1hbmFnZXIuc2V0Rm9jdXNlZEtleShcbiAgICAgICAgICAgICAgKHN0YXRlLnNlbGVjdGlvbk1hbmFnZXIuZm9jdXNlZEtleSA9PT0gJzAnXG4gICAgICAgICAgICAgICAgPyBzdGF0ZVJlZi5jdXJyZW50Lm9wdGlvbnMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgIDogTnVtYmVyKHN0YXRlLnNlbGVjdGlvbk1hbmFnZXIuZm9jdXNlZEtleSkgLSAxXG4gICAgICAgICAgICAgICkudG9TdHJpbmcoKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjYXNlICdFbnRlcic6IHtcbiAgICAgICAgICBjb25zdCBvcHRpb24gPSBzdGF0ZVJlZi5jdXJyZW50Lm9wdGlvbnNbTnVtYmVyKHN0YXRlLnNlbGVjdGlvbk1hbmFnZXIuZm9jdXNlZEtleSldXG4gICAgICAgICAgaWYgKG9wdGlvbikge1xuICAgICAgICAgICAgaW5zZXJ0T3B0aW9uKGVkaXRvciwgc3RhdGVSZWYuY3VycmVudC50ZXh0LCBvcHRpb24pXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGNhc2UgJ0VzY2FwZSc6IHtcbiAgICAgICAgICBjb25zdCBwYXRoID0gUmVhY3RFZGl0b3IuZmluZFBhdGgoZWRpdG9yLCBzdGF0ZVJlZi5jdXJyZW50LnRleHQpXG4gICAgICAgICAgVHJhbnNmb3Jtcy51bnNldE5vZGVzKGVkaXRvciwgJ2luc2VydE1lbnUnLCB7IGF0OiBwYXRoIH0pXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZG9tTm9kZSA9IFJlYWN0RWRpdG9yLnRvRE9NTm9kZShlZGl0b3IsIGVkaXRvcilcbiAgICBsZXQgbGlzdGVuZXIgPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IGxpc3RlbmVyUmVmLmN1cnJlbnQoZXZlbnQpXG4gICAgZG9tTm9kZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgbGlzdGVuZXIpXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvbU5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGxpc3RlbmVyKVxuICAgIH1cbiAgfSwgW2VkaXRvcl0pXG4gIGNvbnN0IHRyaWdnZXJSZWYgPSB1c2VSZWY8SFRNTFNwYW5FbGVtZW50PihudWxsKVxuICBjb25zdCBvdmVybGF5U3RhdGUgPSB1c2VPdmVybGF5VHJpZ2dlclN0YXRlKHsgaXNPcGVuOiB0cnVlIH0pXG4gIGNvbnN0IHtcbiAgICB0cmlnZ2VyUHJvcHM6IHsgb25QcmVzcywgLi4udHJpZ2dlclByb3BzIH0sXG4gICAgb3ZlcmxheVByb3BzLFxuICB9ID0gdXNlT3ZlcmxheVRyaWdnZXIoeyB0eXBlOiAnbGlzdGJveCcgfSwgb3ZlcmxheVN0YXRlLCB0cmlnZ2VyUmVmKVxuICBsZXQgc3RhdGUgPSB1c2VMaXN0U3RhdGUoe1xuICAgIGl0ZW1zOiBvcHRpb25zLFxuICAgIGNoaWxkcmVuOiBpdGVtID0+IDxJdGVtIGtleT17aXRlbS5pbmRleH0+e2l0ZW0ubGFiZWx9PC9JdGVtPixcbiAgfSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc3RhdGUuc2VsZWN0aW9uTWFuYWdlci5pc0ZvY3VzZWQgJiYgc3RhdGUuY29sbGVjdGlvbi5zaXplKSB7XG4gICAgICBzdGF0ZS5zZWxlY3Rpb25NYW5hZ2VyLnNldEZvY3VzZWQodHJ1ZSlcbiAgICAgIHN0YXRlLnNlbGVjdGlvbk1hbmFnZXIuc2V0Rm9jdXNlZEtleSgnMCcpXG4gICAgfVxuICB9LCBbc3RhdGVdKVxuICBjb25zdCBzY3JvbGxhYmxlUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IHNjcm9sbGFibGVSZWYuY3VycmVudD8ucXVlcnlTZWxlY3RvcignW3JvbGU9XCJsaXN0Ym94XCJdIFtyb2xlPVwicHJlc2VudGF0aW9uXCJdJylcbiAgICAgID8uY2hpbGRyZW5bc3RhdGUuc2VsZWN0aW9uTWFuYWdlci5mb2N1c2VkS2V5IGFzIG51bWJlcl1cbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgc2Nyb2xsSW50b1ZpZXcoZWxlbWVudCwge1xuICAgICAgICBzY3JvbGxNb2RlOiAnaWYtbmVlZGVkJyxcbiAgICAgICAgYm91bmRhcnk6IHNjcm9sbGFibGVSZWYuY3VycmVudCxcbiAgICAgICAgYmxvY2s6ICduZWFyZXN0JyxcbiAgICAgIH0pXG4gICAgfVxuICB9LCBbc3RhdGUuc2VsZWN0aW9uTWFuYWdlci5mb2N1c2VkS2V5XSlcbiAgY29uc3QgbGlzdGJveFJlZiA9IHVzZVJlZihudWxsKVxuICBsZXQgbGF5b3V0ID0gdXNlTGlzdEJveExheW91dCgpXG4gIHJldHVybiAoXG4gICAgPEZyYWdtZW50PlxuICAgICAgPHNwYW5cbiAgICAgICAgey4uLnRyaWdnZXJQcm9wc31cbiAgICAgICAgcm9sZT1cImJ1dHRvblwiXG4gICAgICAgIGNsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgICBjb2xvcjogdG9rZW5TY2hlbWEuY29sb3IuZm9yZWdyb3VuZC5hY2NlbnQsXG4gICAgICAgICAgZm9udFdlaWdodDogdG9rZW5TY2hlbWEudHlwb2dyYXBoeS5mb250V2VpZ2h0Lm1lZGl1bSxcbiAgICAgICAgfSl9XG4gICAgICAgIHJlZj17dHJpZ2dlclJlZn1cbiAgICAgID5cbiAgICAgICAge2NoaWxkcmVufVxuICAgICAgPC9zcGFuPlxuICAgICAgPFBvcG92ZXJcbiAgICAgICAgd2lkdGg9XCJhbGlhcy5zaW5nbGVMaW5lV2lkdGhcIlxuICAgICAgICBwbGFjZW1lbnQ9XCJib3R0b20gc3RhcnRcIlxuICAgICAgICBpc05vbk1vZGFsXG4gICAgICAgIGhpZGVBcnJvd1xuICAgICAgICB7Li4ub3ZlcmxheVByb3BzfVxuICAgICAgICBzdGF0ZT17b3ZlcmxheVN0YXRlfVxuICAgICAgICB0cmlnZ2VyUmVmPXt0cmlnZ2VyUmVmfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y3NzKHsgb3ZlcmZsb3c6ICdzY3JvbGwnLCBtYXhIZWlnaHQ6IDMwMCB9KX0gcmVmPXtzY3JvbGxhYmxlUmVmfT5cbiAgICAgICAgICA8TGlzdEJveEJhc2VcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJJbnNlcnQgYmxvY2tcIlxuICAgICAgICAgICAgc3RhdGU9e3N0YXRlfVxuICAgICAgICAgICAgc2hvdWxkVXNlVmlydHVhbEZvY3VzXG4gICAgICAgICAgICBsYXlvdXQ9e2xheW91dH1cbiAgICAgICAgICAgIHJlZj17bGlzdGJveFJlZn1cbiAgICAgICAgICAgIG9uQWN0aW9uPXtrZXkgPT4ge1xuICAgICAgICAgICAgICBpbnNlcnRPcHRpb24oZWRpdG9yLCB0ZXh0LCBvcHRpb25zW2tleSBhcyBudW1iZXJdKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvUG9wb3Zlcj5cbiAgICA8L0ZyYWdtZW50PlxuICApXG59XG4iXSwibmFtZXMiOlsiRnJhZ21lbnQiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlUmVmIiwiRWRpdG9yIiwiVHJhbnNmb3JtcyIsIlJlYWN0RWRpdG9yIiwibWF0Y2hTb3J0ZXIiLCJzY3JvbGxJbnRvVmlldyIsIkNvbXBvbmVudEJsb2NrQ29udGV4dCIsImluc2VydENvbXBvbmVudEJsb2NrIiwidXNlRG9jdW1lbnRGaWVsZFJlbGF0aW9uc2hpcHMiLCJ1c2VUb29sYmFyU3RhdGUiLCJpbnNlcnROb2Rlc0J1dFJlcGxhY2VJZlNlbGVjdGlvbklzQXRFbXB0eVBhcmFncmFwaE9ySGVhZGluZyIsImluc2VydExheW91dCIsInVzZU92ZXJsYXlUcmlnZ2VyIiwidXNlTGlzdFN0YXRlIiwidXNlT3ZlcmxheVRyaWdnZXJTdGF0ZSIsIlBvcG92ZXIiLCJJdGVtIiwiTGlzdEJveEJhc2UiLCJ1c2VMaXN0Qm94TGF5b3V0IiwiY3NzIiwidG9rZW5TY2hlbWEiLCJnZXRPcHRpb25zIiwidG9vbGJhclN0YXRlIiwiY29tcG9uZW50QmxvY2tzIiwicmVsYXRpb25zaGlwcyIsIm9wdGlvbnMiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwicmVsYXRpb25zaGlwIiwibGFiZWwiLCJpbnNlcnQiLCJlZGl0b3IiLCJpbnNlcnROb2RlcyIsInR5cGUiLCJkYXRhIiwiY2hpbGRyZW4iLCJ0ZXh0Iiwia2V5cyIsImtleSIsInRleHRTdHlsZXMiLCJhbGxvd2VkSGVhZGluZ0xldmVscyIsImZpbHRlciIsImEiLCJlZGl0b3JEb2N1bWVudEZlYXR1cmVzIiwiZm9ybWF0dGluZyIsImhlYWRpbmdMZXZlbHMiLCJpbmNsdWRlcyIsImxldmVsIiwiYmxvY2txdW90ZSIsImlzRGlzYWJsZWQiLCJibG9ja1R5cGVzIiwiY29kZSIsImRpdmlkZXJzIiwibGF5b3V0cyIsImxlbmd0aCIsImxpc3RzIiwib3JkZXJlZCIsImxpc3RUeXBlcyIsImtleXdvcmRzIiwidW5vcmRlcmVkIiwieCIsImluc2VydE9wdGlvbiIsIm9wdGlvbiIsInBhdGgiLCJmaW5kUGF0aCIsImRlbGV0ZSIsImF0IiwiZm9jdXMiLCJzdGFydCIsImFuY2hvciIsImVuZCIsIkluc2VydE1lbnUiLCJzbGljZSIsImluZGV4Iiwic3RhdGVSZWYiLCJjdXJyZW50IiwibGlzdGVuZXJSZWYiLCJfZXZlbnQiLCJldmVudCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJwcmV2ZW50RGVmYXVsdCIsInN0YXRlIiwic2VsZWN0aW9uTWFuYWdlciIsInNldEZvY3VzZWQiLCJzZXRGb2N1c2VkS2V5IiwiTnVtYmVyIiwiZm9jdXNlZEtleSIsInRvU3RyaW5nIiwidW5zZXROb2RlcyIsImRvbU5vZGUiLCJ0b0RPTU5vZGUiLCJsaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidHJpZ2dlclJlZiIsIm92ZXJsYXlTdGF0ZSIsImlzT3BlbiIsInRyaWdnZXJQcm9wcyIsIm9uUHJlc3MiLCJvdmVybGF5UHJvcHMiLCJpdGVtcyIsIml0ZW0iLCJpc0ZvY3VzZWQiLCJjb2xsZWN0aW9uIiwic2l6ZSIsInNjcm9sbGFibGVSZWYiLCJlbGVtZW50IiwicXVlcnlTZWxlY3RvciIsInNjcm9sbE1vZGUiLCJib3VuZGFyeSIsImJsb2NrIiwibGlzdGJveFJlZiIsImxheW91dCIsInNwYW4iLCJyb2xlIiwiY2xhc3NOYW1lIiwiY29sb3IiLCJmb3JlZ3JvdW5kIiwiYWNjZW50IiwiZm9udFdlaWdodCIsInR5cG9ncmFwaHkiLCJtZWRpdW0iLCJyZWYiLCJ3aWR0aCIsInBsYWNlbWVudCIsImlzTm9uTW9kYWwiLCJoaWRlQXJyb3ciLCJkaXYiLCJvdmVyZmxvdyIsIm1heEhlaWdodCIsImFyaWEtbGFiZWwiLCJzaG91bGRVc2VWaXJ0dWFsRm9jdXMiLCJvbkFjdGlvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/insert-menu.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/isValidURL.ts":
/*!*****************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/isValidURL.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isValidURL: () => (/* binding */ isValidURL)\n/* harmony export */ });\n/* harmony import */ var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @braintree/sanitize-url */ \"../../../../node_modules/.pnpm/@braintree+sanitize-url@7.0.4/node_modules/@braintree/sanitize-url/dist/index.js\");\n\nfunction isValidURL(url) {\n    return url === (0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(url) || new URL(url, 'https://a').toString() === new URL((0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(url), 'https://a').toString();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9pc1ZhbGlkVVJMLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFEO0FBRTlDLFNBQVNDLFdBQVdDLEdBQVc7SUFDcEMsT0FDRUEsUUFBUUYsb0VBQVdBLENBQUNFLFFBQ3BCLElBQUlDLElBQUlELEtBQUssYUFBYUUsUUFBUSxPQUFPLElBQUlELElBQUlILG9FQUFXQSxDQUFDRSxNQUFNLGFBQWFFLFFBQVE7QUFFNUYiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9pc1ZhbGlkVVJMLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNhbml0aXplVXJsIH0gZnJvbSAnQGJyYWludHJlZS9zYW5pdGl6ZS11cmwnXG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkVVJMKHVybDogc3RyaW5nKSB7XG4gIHJldHVybiAoXG4gICAgdXJsID09PSBzYW5pdGl6ZVVybCh1cmwpIHx8XG4gICAgbmV3IFVSTCh1cmwsICdodHRwczovL2EnKS50b1N0cmluZygpID09PSBuZXcgVVJMKHNhbml0aXplVXJsKHVybCksICdodHRwczovL2EnKS50b1N0cmluZygpXG4gIClcbn1cbiJdLCJuYW1lcyI6WyJzYW5pdGl6ZVVybCIsImlzVmFsaWRVUkwiLCJ1cmwiLCJVUkwiLCJ0b1N0cmluZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/isValidURL.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/layouts-shared.ts":
/*!*********************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/layouts-shared.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   insertLayout: () => (/* binding */ insertLayout),\n/* harmony export */   withLayouts: () => (/* binding */ withLayouts)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _paragraphs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./paragraphs */ \"../../../../packages/fields-document/src/DocumentEditor/paragraphs.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n\n\n\nfunction insertLayout(editor, layout) {\n    (0,_utils__WEBPACK_IMPORTED_MODULE_1__.insertNodesButReplaceIfSelectionIsAtEmptyParagraphOrHeading)(editor, [\n        {\n            type: 'layout',\n            layout,\n            children: [\n                {\n                    type: 'layout-area',\n                    children: [\n                        {\n                            type: 'paragraph',\n                            children: [\n                                {\n                                    text: ''\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        }\n    ]);\n    const layoutEntry = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.above(editor, {\n        match: (x)=>x.type === 'layout'\n    });\n    if (layoutEntry) {\n        slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.select(editor, [\n            ...layoutEntry[1],\n            0\n        ]);\n    }\n}\n// Plugin\nfunction withLayouts(editor) {\n    const { normalizeNode, deleteBackward } = editor;\n    editor.deleteBackward = (unit)=>{\n        if (editor.selection && slate__WEBPACK_IMPORTED_MODULE_2__.Range.isCollapsed(editor.selection) && // this is just an little optimisation\n        // we're only doing things if we're at the start of a layout area\n        // and the start of anything will always be offset 0\n        // so we'll bailout if we're not at offset 0\n        editor.selection.anchor.offset === 0) {\n            const [aboveNode, abovePath] = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.above(editor, {\n                match: (node)=>node.type === 'layout-area'\n            }) || [\n                editor,\n                []\n            ];\n            if (aboveNode.type === 'layout-area' && slate__WEBPACK_IMPORTED_MODULE_2__.Point.equals(slate__WEBPACK_IMPORTED_MODULE_2__.Editor.start(editor, abovePath), editor.selection.anchor)) {\n                return;\n            }\n        }\n        deleteBackward(unit);\n    };\n    editor.normalizeNode = (entry)=>{\n        const [node, path] = entry;\n        if (slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(node) && node.type === 'layout') {\n            if (node.layout === undefined) {\n                slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.unwrapNodes(editor, {\n                    at: path\n                });\n                return;\n            }\n            if (node.children.length < node.layout.length) {\n                slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.insertNodes(editor, Array.from({\n                    length: node.layout.length - node.children.length\n                }).map(()=>({\n                        type: 'layout-area',\n                        children: [\n                            (0,_paragraphs__WEBPACK_IMPORTED_MODULE_0__.paragraphElement)()\n                        ]\n                    })), {\n                    at: [\n                        ...path,\n                        node.children.length\n                    ]\n                });\n                return;\n            }\n            if (node.children.length > node.layout.length) {\n                Array.from({\n                    length: node.children.length - node.layout.length\n                }).map((_, i)=>i).reverse().forEach((i)=>{\n                    const layoutAreaToRemovePath = [\n                        ...path,\n                        i + node.layout.length\n                    ];\n                    const child = node.children[i + node.layout.length];\n                    (0,_utils__WEBPACK_IMPORTED_MODULE_1__.moveChildren)(editor, layoutAreaToRemovePath, [\n                        ...path,\n                        node.layout.length - 1,\n                        node.children[node.layout.length - 1].children.length\n                    ], (node)=>node.type !== 'paragraph' || slate__WEBPACK_IMPORTED_MODULE_2__.Node.string(child) !== '');\n                    slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.removeNodes(editor, {\n                        at: layoutAreaToRemovePath\n                    });\n                });\n                return;\n            }\n        }\n        normalizeNode(entry);\n    };\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9sYXlvdXRzLXNoYXJlZC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF1RTtBQUN4QjtBQUNvRDtBQUU1RixTQUFTUyxhQUFhQyxNQUFjLEVBQUVDLE1BQTZCO0lBQ3hFSixtR0FBMkRBLENBQUNHLFFBQVE7UUFDbEU7WUFDRUUsTUFBTTtZQUNORDtZQUNBRSxVQUFVO2dCQUNSO29CQUFFRCxNQUFNO29CQUFlQyxVQUFVO3dCQUFDOzRCQUFFRCxNQUFNOzRCQUFhQyxVQUFVO2dDQUFDO29DQUFFQyxNQUFNO2dDQUFHOzZCQUFFO3dCQUFDO3FCQUFFO2dCQUFDO2FBQ3BGO1FBQ0g7S0FDRDtJQUNELE1BQU1DLGNBQWNmLHlDQUFNQSxDQUFDZ0IsS0FBSyxDQUFDTixRQUFRO1FBQUVPLE9BQU9DLENBQUFBLElBQUtBLEVBQUVOLElBQUksS0FBSztJQUFTO0lBQzNFLElBQUlHLGFBQWE7UUFDZlosNkNBQVVBLENBQUNnQixNQUFNLENBQUNULFFBQVE7ZUFBSUssV0FBVyxDQUFDLEVBQUU7WUFBRTtTQUFFO0lBQ2xEO0FBQ0Y7QUFFQSxTQUFTO0FBQ0YsU0FBU0ssWUFBWVYsTUFBYztJQUN4QyxNQUFNLEVBQUVXLGFBQWEsRUFBRUMsY0FBYyxFQUFFLEdBQUdaO0lBQzFDQSxPQUFPWSxjQUFjLEdBQUdDLENBQUFBO1FBQ3RCLElBQ0ViLE9BQU9jLFNBQVMsSUFDaEJwQix3Q0FBS0EsQ0FBQ3FCLFdBQVcsQ0FBQ2YsT0FBT2MsU0FBUyxLQUNsQyxzQ0FBc0M7UUFDdEMsaUVBQWlFO1FBQ2pFLG9EQUFvRDtRQUNwRCw0Q0FBNEM7UUFDNUNkLE9BQU9jLFNBQVMsQ0FBQ0UsTUFBTSxDQUFDQyxNQUFNLEtBQUssR0FDbkM7WUFDQSxNQUFNLENBQUNDLFdBQVdDLFVBQVUsR0FBRzdCLHlDQUFNQSxDQUFDZ0IsS0FBSyxDQUFDTixRQUFRO2dCQUNsRE8sT0FBT2EsQ0FBQUEsT0FBUUEsS0FBS2xCLElBQUksS0FBSztZQUMvQixNQUFNO2dCQUFDRjtnQkFBUSxFQUFFO2FBQUM7WUFDbEIsSUFDRWtCLFVBQVVoQixJQUFJLEtBQUssaUJBQ25CUCx3Q0FBS0EsQ0FBQzBCLE1BQU0sQ0FBQy9CLHlDQUFNQSxDQUFDZ0MsS0FBSyxDQUFDdEIsUUFBUW1CLFlBQVluQixPQUFPYyxTQUFTLENBQUNFLE1BQU0sR0FDckU7Z0JBQ0E7WUFDRjtRQUNGO1FBQ0FKLGVBQWVDO0lBQ2pCO0lBQ0FiLE9BQU9XLGFBQWEsR0FBR1ksQ0FBQUE7UUFDckIsTUFBTSxDQUFDSCxNQUFNSSxLQUFLLEdBQUdEO1FBRXJCLElBQUloQywwQ0FBT0EsQ0FBQ2tDLFNBQVMsQ0FBQ0wsU0FBU0EsS0FBS2xCLElBQUksS0FBSyxVQUFVO1lBQ3JELElBQUlrQixLQUFLbkIsTUFBTSxLQUFLeUIsV0FBVztnQkFDN0JqQyw2Q0FBVUEsQ0FBQ2tDLFdBQVcsQ0FBQzNCLFFBQVE7b0JBQUU0QixJQUFJSjtnQkFBSztnQkFDMUM7WUFDRjtZQUNBLElBQUlKLEtBQUtqQixRQUFRLENBQUMwQixNQUFNLEdBQUdULEtBQUtuQixNQUFNLENBQUM0QixNQUFNLEVBQUU7Z0JBQzdDcEMsNkNBQVVBLENBQUNxQyxXQUFXLENBQ3BCOUIsUUFDQStCLE1BQU1DLElBQUksQ0FBQztvQkFDVEgsUUFBUVQsS0FBS25CLE1BQU0sQ0FBQzRCLE1BQU0sR0FBR1QsS0FBS2pCLFFBQVEsQ0FBQzBCLE1BQU07Z0JBQ25ELEdBQUdJLEdBQUcsQ0FBQyxJQUFPO3dCQUNaL0IsTUFBTTt3QkFDTkMsVUFBVTs0QkFBQ1AsNkRBQWdCQTt5QkFBRztvQkFDaEMsS0FDQTtvQkFDRWdDLElBQUk7MkJBQUlKO3dCQUFNSixLQUFLakIsUUFBUSxDQUFDMEIsTUFBTTtxQkFBQztnQkFDckM7Z0JBRUY7WUFDRjtZQUNBLElBQUlULEtBQUtqQixRQUFRLENBQUMwQixNQUFNLEdBQUdULEtBQUtuQixNQUFNLENBQUM0QixNQUFNLEVBQUU7Z0JBQzdDRSxNQUFNQyxJQUFJLENBQUM7b0JBQ1RILFFBQVFULEtBQUtqQixRQUFRLENBQUMwQixNQUFNLEdBQUdULEtBQUtuQixNQUFNLENBQUM0QixNQUFNO2dCQUNuRCxHQUNHSSxHQUFHLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUEsR0FDZEMsT0FBTyxHQUNQQyxPQUFPLENBQUNGLENBQUFBO29CQUNQLE1BQU1HLHlCQUF5QjsyQkFBSWQ7d0JBQU1XLElBQUlmLEtBQUtuQixNQUFNLENBQUM0QixNQUFNO3FCQUFDO29CQUNoRSxNQUFNVSxRQUFRbkIsS0FBS2pCLFFBQVEsQ0FBQ2dDLElBQUlmLEtBQUtuQixNQUFNLENBQUM0QixNQUFNLENBQUM7b0JBQ25EL0Isb0RBQVlBLENBQ1ZFLFFBQ0FzQyx3QkFDQTsyQkFDS2Q7d0JBQ0hKLEtBQUtuQixNQUFNLENBQUM0QixNQUFNLEdBQUc7d0JBQ3BCVCxLQUFLakIsUUFBUSxDQUFDaUIsS0FBS25CLE1BQU0sQ0FBQzRCLE1BQU0sR0FBRyxFQUFFLENBQWExQixRQUFRLENBQUMwQixNQUFNO3FCQUNuRSxFQUNEVCxDQUFBQSxPQUFRQSxLQUFLbEIsSUFBSSxLQUFLLGVBQWVWLHVDQUFJQSxDQUFDZ0QsTUFBTSxDQUFDRCxXQUFXO29CQUc5RDlDLDZDQUFVQSxDQUFDZ0QsV0FBVyxDQUFDekMsUUFBUTt3QkFDN0I0QixJQUFJVTtvQkFDTjtnQkFDRjtnQkFDRjtZQUNGO1FBQ0Y7UUFDQTNCLGNBQWNZO0lBQ2hCO0lBQ0EsT0FBT3ZCO0FBQ1QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9sYXlvdXRzLXNoYXJlZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZGl0b3IsIEVsZW1lbnQsIE5vZGUsIFRyYW5zZm9ybXMsIFJhbmdlLCBQb2ludCB9IGZyb20gJ3NsYXRlJ1xuaW1wb3J0IHsgcGFyYWdyYXBoRWxlbWVudCB9IGZyb20gJy4vcGFyYWdyYXBocydcbmltcG9ydCB7IGluc2VydE5vZGVzQnV0UmVwbGFjZUlmU2VsZWN0aW9uSXNBdEVtcHR5UGFyYWdyYXBoT3JIZWFkaW5nLCBtb3ZlQ2hpbGRyZW4gfSBmcm9tICcuL3V0aWxzJ1xuXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0TGF5b3V0KGVkaXRvcjogRWRpdG9yLCBsYXlvdXQ6IFtudW1iZXIsIC4uLm51bWJlcltdXSkge1xuICBpbnNlcnROb2Rlc0J1dFJlcGxhY2VJZlNlbGVjdGlvbklzQXRFbXB0eVBhcmFncmFwaE9ySGVhZGluZyhlZGl0b3IsIFtcbiAgICB7XG4gICAgICB0eXBlOiAnbGF5b3V0JyxcbiAgICAgIGxheW91dCxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIHsgdHlwZTogJ2xheW91dC1hcmVhJywgY2hpbGRyZW46IFt7IHR5cGU6ICdwYXJhZ3JhcGgnLCBjaGlsZHJlbjogW3sgdGV4dDogJycgfV0gfV0gfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgXSlcbiAgY29uc3QgbGF5b3V0RW50cnkgPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7IG1hdGNoOiB4ID0+IHgudHlwZSA9PT0gJ2xheW91dCcgfSlcbiAgaWYgKGxheW91dEVudHJ5KSB7XG4gICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBbLi4ubGF5b3V0RW50cnlbMV0sIDBdKVxuICB9XG59XG5cbi8vIFBsdWdpblxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhMYXlvdXRzKGVkaXRvcjogRWRpdG9yKTogRWRpdG9yIHtcbiAgY29uc3QgeyBub3JtYWxpemVOb2RlLCBkZWxldGVCYWNrd2FyZCB9ID0gZWRpdG9yXG4gIGVkaXRvci5kZWxldGVCYWNrd2FyZCA9IHVuaXQgPT4ge1xuICAgIGlmIChcbiAgICAgIGVkaXRvci5zZWxlY3Rpb24gJiZcbiAgICAgIFJhbmdlLmlzQ29sbGFwc2VkKGVkaXRvci5zZWxlY3Rpb24pICYmXG4gICAgICAvLyB0aGlzIGlzIGp1c3QgYW4gbGl0dGxlIG9wdGltaXNhdGlvblxuICAgICAgLy8gd2UncmUgb25seSBkb2luZyB0aGluZ3MgaWYgd2UncmUgYXQgdGhlIHN0YXJ0IG9mIGEgbGF5b3V0IGFyZWFcbiAgICAgIC8vIGFuZCB0aGUgc3RhcnQgb2YgYW55dGhpbmcgd2lsbCBhbHdheXMgYmUgb2Zmc2V0IDBcbiAgICAgIC8vIHNvIHdlJ2xsIGJhaWxvdXQgaWYgd2UncmUgbm90IGF0IG9mZnNldCAwXG4gICAgICBlZGl0b3Iuc2VsZWN0aW9uLmFuY2hvci5vZmZzZXQgPT09IDBcbiAgICApIHtcbiAgICAgIGNvbnN0IFthYm92ZU5vZGUsIGFib3ZlUGF0aF0gPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgICAgIG1hdGNoOiBub2RlID0+IG5vZGUudHlwZSA9PT0gJ2xheW91dC1hcmVhJyxcbiAgICAgIH0pIHx8IFtlZGl0b3IsIFtdXVxuICAgICAgaWYgKFxuICAgICAgICBhYm92ZU5vZGUudHlwZSA9PT0gJ2xheW91dC1hcmVhJyAmJlxuICAgICAgICBQb2ludC5lcXVhbHMoRWRpdG9yLnN0YXJ0KGVkaXRvciwgYWJvdmVQYXRoKSwgZWRpdG9yLnNlbGVjdGlvbi5hbmNob3IpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICAgIGRlbGV0ZUJhY2t3YXJkKHVuaXQpXG4gIH1cbiAgZWRpdG9yLm5vcm1hbGl6ZU5vZGUgPSBlbnRyeSA9PiB7XG4gICAgY29uc3QgW25vZGUsIHBhdGhdID0gZW50cnlcblxuICAgIGlmIChFbGVtZW50LmlzRWxlbWVudChub2RlKSAmJiBub2RlLnR5cGUgPT09ICdsYXlvdXQnKSB7XG4gICAgICBpZiAobm9kZS5sYXlvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBUcmFuc2Zvcm1zLnVud3JhcE5vZGVzKGVkaXRvciwgeyBhdDogcGF0aCB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCA8IG5vZGUubGF5b3V0Lmxlbmd0aCkge1xuICAgICAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKFxuICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICBBcnJheS5mcm9tKHtcbiAgICAgICAgICAgIGxlbmd0aDogbm9kZS5sYXlvdXQubGVuZ3RoIC0gbm9kZS5jaGlsZHJlbi5sZW5ndGgsXG4gICAgICAgICAgfSkubWFwKCgpID0+ICh7XG4gICAgICAgICAgICB0eXBlOiAnbGF5b3V0LWFyZWEnLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtwYXJhZ3JhcGhFbGVtZW50KCldLFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhdDogWy4uLnBhdGgsIG5vZGUuY2hpbGRyZW4ubGVuZ3RoXSxcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAobm9kZS5jaGlsZHJlbi5sZW5ndGggPiBub2RlLmxheW91dC5sZW5ndGgpIHtcbiAgICAgICAgQXJyYXkuZnJvbSh7XG4gICAgICAgICAgbGVuZ3RoOiBub2RlLmNoaWxkcmVuLmxlbmd0aCAtIG5vZGUubGF5b3V0Lmxlbmd0aCxcbiAgICAgICAgfSlcbiAgICAgICAgICAubWFwKChfLCBpKSA9PiBpKVxuICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgICAuZm9yRWFjaChpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxheW91dEFyZWFUb1JlbW92ZVBhdGggPSBbLi4ucGF0aCwgaSArIG5vZGUubGF5b3V0Lmxlbmd0aF1cbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gbm9kZS5jaGlsZHJlbltpICsgbm9kZS5sYXlvdXQubGVuZ3RoXSBhcyBFbGVtZW50XG4gICAgICAgICAgICBtb3ZlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgICAgbGF5b3V0QXJlYVRvUmVtb3ZlUGF0aCxcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIC4uLnBhdGgsXG4gICAgICAgICAgICAgICAgbm9kZS5sYXlvdXQubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICAobm9kZS5jaGlsZHJlbltub2RlLmxheW91dC5sZW5ndGggLSAxXSBhcyBFbGVtZW50KS5jaGlsZHJlbi5sZW5ndGgsXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIG5vZGUgPT4gbm9kZS50eXBlICE9PSAncGFyYWdyYXBoJyB8fCBOb2RlLnN0cmluZyhjaGlsZCkgIT09ICcnXG4gICAgICAgICAgICApXG5cbiAgICAgICAgICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgICAgIGF0OiBsYXlvdXRBcmVhVG9SZW1vdmVQYXRoLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG4gICAgbm9ybWFsaXplTm9kZShlbnRyeSlcbiAgfVxuICByZXR1cm4gZWRpdG9yXG59XG4iXSwibmFtZXMiOlsiRWRpdG9yIiwiRWxlbWVudCIsIk5vZGUiLCJUcmFuc2Zvcm1zIiwiUmFuZ2UiLCJQb2ludCIsInBhcmFncmFwaEVsZW1lbnQiLCJpbnNlcnROb2Rlc0J1dFJlcGxhY2VJZlNlbGVjdGlvbklzQXRFbXB0eVBhcmFncmFwaE9ySGVhZGluZyIsIm1vdmVDaGlsZHJlbiIsImluc2VydExheW91dCIsImVkaXRvciIsImxheW91dCIsInR5cGUiLCJjaGlsZHJlbiIsInRleHQiLCJsYXlvdXRFbnRyeSIsImFib3ZlIiwibWF0Y2giLCJ4Iiwic2VsZWN0Iiwid2l0aExheW91dHMiLCJub3JtYWxpemVOb2RlIiwiZGVsZXRlQmFja3dhcmQiLCJ1bml0Iiwic2VsZWN0aW9uIiwiaXNDb2xsYXBzZWQiLCJhbmNob3IiLCJvZmZzZXQiLCJhYm92ZU5vZGUiLCJhYm92ZVBhdGgiLCJub2RlIiwiZXF1YWxzIiwic3RhcnQiLCJlbnRyeSIsInBhdGgiLCJpc0VsZW1lbnQiLCJ1bmRlZmluZWQiLCJ1bndyYXBOb2RlcyIsImF0IiwibGVuZ3RoIiwiaW5zZXJ0Tm9kZXMiLCJBcnJheSIsImZyb20iLCJtYXAiLCJfIiwiaSIsInJldmVyc2UiLCJmb3JFYWNoIiwibGF5b3V0QXJlYVRvUmVtb3ZlUGF0aCIsImNoaWxkIiwic3RyaW5nIiwicmVtb3ZlTm9kZXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/layouts-shared.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/layouts.tsx":
/*!***************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/layouts.tsx ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LayoutArea: () => (/* binding */ LayoutArea),\n/* harmony export */   LayoutContainer: () => (/* binding */ LayoutContainer),\n/* harmony export */   LayoutOptionsProvider: () => (/* binding */ LayoutOptionsProvider),\n/* harmony export */   LayoutsButton: () => (/* binding */ LayoutsButton)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_columnsIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/icon/icons/columnsIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-columnsIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_trash2Icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/icon/icons/trash2Icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-trash2Icon.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n/* harmony import */ var _toolbar_state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./toolbar-state */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state.tsx\");\n/* harmony import */ var _layouts_shared__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./layouts-shared */ \"../../../../packages/fields-document/src/DocumentEditor/layouts-shared.ts\");\n/* harmony import */ var _utils_hooks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils-hooks */ \"../../../../packages/fields-document/src/DocumentEditor/utils-hooks.tsx\");\n/* harmony import */ var _primitives_BlockPopover__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./primitives/BlockPopover */ \"../../../../packages/fields-document/src/DocumentEditor/primitives/BlockPopover.tsx\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _keystar_ui_action_group__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @keystar/ui/action-group */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-action-group.js\");\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_tag__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @keystar/ui/tag */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tag.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var _keystar_ui_editor__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @keystar/ui/editor */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-editor.js\");\n/* __next_internal_client_entry_do_not_use__ LayoutOptionsProvider,LayoutContainer,LayoutArea,LayoutsButton auto */ \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst LayoutOptionsContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)([]);\nconst LayoutOptionsProvider = LayoutOptionsContext.Provider;\n// UI Components\nconst LayoutContainer = ({ attributes, children, element })=>{\n    const editor = (0,slate_react__WEBPACK_IMPORTED_MODULE_17__.useSlateStatic)();\n    const layout = element.layout;\n    const layoutOptions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(LayoutOptionsContext);\n    const currentLayoutIndex = layoutOptions.findIndex((x)=>x.toString() === layout.toString());\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: _utils_hooks__WEBPACK_IMPORTED_MODULE_8__.blockElementSpacing,\n        ...attributes,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_primitives_BlockPopover__WEBPACK_IMPORTED_MODULE_9__.BlockPopoverTrigger, {\n            element: element,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.css)({\n                        columnGap: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.tokenSchema.size.space.regular,\n                        display: 'grid'\n                    }),\n                    style: {\n                        gridTemplateColumns: layout.map((x)=>`${x}fr`).join(' ')\n                    },\n                    children: children\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n                    lineNumber: 45,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_primitives_BlockPopover__WEBPACK_IMPORTED_MODULE_9__.BlockPopover, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_13__.Flex, {\n                        padding: \"regular\",\n                        gap: \"regular\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_action_group__WEBPACK_IMPORTED_MODULE_11__.ActionGroup, {\n                                selectionMode: \"single\",\n                                prominence: \"low\",\n                                density: \"compact\",\n                                onAction: (key)=>{\n                                    const path = slate_react__WEBPACK_IMPORTED_MODULE_17__.ReactEditor.findPath(editor, element);\n                                    const layoutOption = layoutOptions[key];\n                                    slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.setNodes(editor, {\n                                        type: 'layout',\n                                        layout: layoutOption\n                                    }, {\n                                        at: path\n                                    });\n                                    slate_react__WEBPACK_IMPORTED_MODULE_17__.ReactEditor.focus(editor);\n                                },\n                                selectedKeys: currentLayoutIndex !== -1 ? [\n                                    currentLayoutIndex.toString()\n                                ] : [],\n                                children: layoutOptions.map((layoutOption, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tag__WEBPACK_IMPORTED_MODULE_14__.Item, {\n                                        children: makeLayoutIcon(layoutOption)\n                                    }, i, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n                                        lineNumber: 69,\n                                        columnNumber: 17\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n                                lineNumber: 56,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_15__.TooltipTrigger, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_12__.ActionButton, {\n                                        prominence: \"low\",\n                                        onPress: ()=>{\n                                            const path = slate_react__WEBPACK_IMPORTED_MODULE_17__.ReactEditor.findPath(editor, element);\n                                            slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.removeNodes(editor, {\n                                                at: path\n                                            });\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n                                            src: _keystar_ui_icon_icons_trash2Icon__WEBPACK_IMPORTED_MODULE_4__.trash2Icon\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n                                            lineNumber: 80,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n                                        lineNumber: 73,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_15__.Tooltip, {\n                                        tone: \"critical\",\n                                        children: \"Remove\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n                                        lineNumber: 82,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n                                lineNumber: 72,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n                        lineNumber: 55,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n                    lineNumber: 54,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n            lineNumber: 44,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n        lineNumber: 43,\n        columnNumber: 5\n    }, undefined);\n};\nconst LayoutArea = ({ attributes, children })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.css)({\n            borderColor: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.tokenSchema.color.border.neutral,\n            borderRadius: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.tokenSchema.size.radius.regular,\n            borderStyle: 'dashed',\n            borderWidth: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.tokenSchema.size.border.regular,\n            padding: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.tokenSchema.size.space.medium\n        }),\n        ...attributes,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n        lineNumber: 93,\n        columnNumber: 5\n    }, undefined);\n};\nfunction makeLayoutIcon(ratios) {\n    const size = 16;\n    const element = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        role: \"img\",\n        className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.css)({\n            display: 'grid',\n            gridTemplateColumns: ratios.map((r)=>`${r}fr`).join(' '),\n            gap: 2,\n            width: size,\n            height: size\n        }),\n        children: ratios.map((_, i)=>{\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_10__.css)({\n                    backgroundColor: 'currentcolor',\n                    borderRadius: 1\n                })\n            }, i, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n                lineNumber: 124,\n                columnNumber: 11\n            }, this);\n        })\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n        lineNumber: 112,\n        columnNumber: 5\n    }, this);\n    return element;\n}\nconst layoutsIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n    src: _keystar_ui_icon_icons_columnsIcon__WEBPACK_IMPORTED_MODULE_3__.columnsIcon\n}, void 0, false, {\n    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n    lineNumber: 139,\n    columnNumber: 21\n}, undefined);\nconst LayoutsButton = ({ layouts })=>{\n    const { editor, layouts: { isSelected } } = (0,_toolbar_state__WEBPACK_IMPORTED_MODULE_6__.useToolbarState)();\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"LayoutsButton.useMemo\": ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_15__.TooltipTrigger, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_editor__WEBPACK_IMPORTED_MODULE_16__.EditorToolbarButton, {\n                        isSelected: isSelected,\n                        onPress: {\n                            \"LayoutsButton.useMemo\": ()=>{\n                                if ((0,_utils__WEBPACK_IMPORTED_MODULE_5__.isElementActive)(editor, 'layout')) {\n                                    slate__WEBPACK_IMPORTED_MODULE_18__.Transforms.unwrapNodes(editor, {\n                                        match: {\n                                            \"LayoutsButton.useMemo\": (node)=>node.type === 'layout'\n                                        }[\"LayoutsButton.useMemo\"]\n                                    });\n                                } else {\n                                    (0,_layouts_shared__WEBPACK_IMPORTED_MODULE_7__.insertLayout)(editor, layouts[0]);\n                                }\n                                slate_react__WEBPACK_IMPORTED_MODULE_17__.ReactEditor.focus(editor);\n                            }\n                        }[\"LayoutsButton.useMemo\"],\n                        children: layoutsIcon\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n                        lineNumber: 149,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_15__.Tooltip, {\n                        children: \"Layouts\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n                        lineNumber: 164,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/layouts.tsx\",\n                lineNumber: 148,\n                columnNumber: 7\n            }, undefined)\n    }[\"LayoutsButton.useMemo\"], [\n        editor,\n        isSelected,\n        layouts\n    ]);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9sYXlvdXRzLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUUwRDtBQUN4QjtBQUNnRDtBQUUzQztBQUN5QjtBQUNGO0FBR3JCO0FBQ1E7QUFFRjtBQUNJO0FBQzBCO0FBQ3pCO0FBQ0U7QUFDTDtBQUNSO0FBQ0g7QUFDdUI7QUFDTDtBQUV4RCxNQUFNd0IscUNBQXVCeEIsb0RBQWFBLENBQTBCLEVBQUU7QUFFL0QsTUFBTXlCLHdCQUF3QkQscUJBQXFCRSxRQUFRO0FBRWxFLGdCQUFnQjtBQUNULE1BQU1DLGtCQUFrQixDQUFDLEVBQzlCQyxVQUFVLEVBQ1ZDLFFBQVEsRUFDUkMsT0FBTyxFQUM4QztJQUNyRCxNQUFNQyxTQUFTMUIsNERBQWNBO0lBRTdCLE1BQU0yQixTQUFTRixRQUFRRSxNQUFNO0lBQzdCLE1BQU1DLGdCQUFnQmhDLGlEQUFVQSxDQUFDdUI7SUFDakMsTUFBTVUscUJBQXFCRCxjQUFjRSxTQUFTLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLFFBQVEsT0FBT0wsT0FBT0ssUUFBUTtJQUV4RixxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVzNCLDZEQUFtQkE7UUFBRyxHQUFHZ0IsVUFBVTtrQkFDakQsNEVBQUNkLHlFQUFtQkE7WUFBQ2dCLFNBQVNBOzs4QkFDNUIsOERBQUNRO29CQUNDQyxXQUFXeEIsdURBQUdBLENBQUM7d0JBQ2J5QixXQUFXeEIsMkRBQVdBLENBQUN5QixJQUFJLENBQUNDLEtBQUssQ0FBQ0MsT0FBTzt3QkFDekNDLFNBQVM7b0JBQ1g7b0JBQ0FDLE9BQU87d0JBQUVDLHFCQUFxQmQsT0FBT2UsR0FBRyxDQUFDWCxDQUFBQSxJQUFLLEdBQUdBLEVBQUUsRUFBRSxDQUFDLEVBQUVZLElBQUksQ0FBQztvQkFBSzs4QkFFakVuQjs7Ozs7OzhCQUVILDhEQUFDaEIsa0VBQVlBOzhCQUNYLDRFQUFD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OERBQUNtQixnRUFBY0E7O2tDQUNiLDhEQUFDRSxvRUFBbUJBO3dCQUNsQm1FLFlBQVlBO3dCQUNaeEIsT0FBTztxREFBRTtnQ0FDUCxJQUFJekQsdURBQWVBLENBQUNzQixRQUFRLFdBQVc7b0NBQ3JDNUIsOENBQVVBLENBQUN3RixXQUFXLENBQUM1RCxRQUFRO3dDQUM3QjZELEtBQUs7cUVBQUVDLENBQUFBLE9BQVFBLEtBQUtqQyxJQUFJLEtBQUs7O29DQUMvQjtnQ0FDRixPQUFPO29DQUNMakQsNkRBQVlBLENBQUNvQixRQUFRMEQsT0FBTyxDQUFDLEVBQUU7Z0NBQ2pDO2dDQUNBckYscURBQVdBLENBQUMwRCxLQUFLLENBQUMvQjs0QkFDcEI7O2tDQUVDd0Q7Ozs7OztrQ0FFSCw4REFBQ2pFLHlEQUFPQTtrQ0FBQzs7Ozs7Ozs7Ozs7O2dDQUdiO1FBQUNTO1FBQVEyRDtRQUFZRDtLQUFRO0FBRWpDLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9sYXlvdXRzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgVHJhbnNmb3JtcyB9IGZyb20gJ3NsYXRlJ1xuaW1wb3J0IHsgdHlwZSBSZW5kZXJFbGVtZW50UHJvcHMsIFJlYWN0RWRpdG9yLCB1c2VTbGF0ZVN0YXRpYyB9IGZyb20gJ3NsYXRlLXJlYWN0J1xuXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbidcbmltcG9ydCB7IGNvbHVtbnNJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbi9pY29ucy9jb2x1bW5zSWNvbidcbmltcG9ydCB7IHRyYXNoMkljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL3RyYXNoMkljb24nXG5cbmltcG9ydCB0eXBlIHsgRG9jdW1lbnRGZWF0dXJlcyB9IGZyb20gJy4uL3ZpZXdzLXNoYXJlZCdcbmltcG9ydCB7IGlzRWxlbWVudEFjdGl2ZSB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyB1c2VUb29sYmFyU3RhdGUgfSBmcm9tICcuL3Rvb2xiYXItc3RhdGUnXG5cbmltcG9ydCB7IGluc2VydExheW91dCB9IGZyb20gJy4vbGF5b3V0cy1zaGFyZWQnXG5pbXBvcnQgeyBibG9ja0VsZW1lbnRTcGFjaW5nIH0gZnJvbSAnLi91dGlscy1ob29rcydcbmltcG9ydCB7IEJsb2NrUG9wb3ZlciwgQmxvY2tQb3BvdmVyVHJpZ2dlciB9IGZyb20gJy4vcHJpbWl0aXZlcy9CbG9ja1BvcG92ZXInXG5pbXBvcnQgeyBjc3MsIHRva2VuU2NoZW1hIH0gZnJvbSAnQGtleXN0YXIvdWkvc3R5bGUnXG5pbXBvcnQgeyBBY3Rpb25Hcm91cCB9IGZyb20gJ0BrZXlzdGFyL3VpL2FjdGlvbi1ncm91cCdcbmltcG9ydCB7IEFjdGlvbkJ1dHRvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2J1dHRvbidcbmltcG9ydCB7IEZsZXggfSBmcm9tICdAa2V5c3Rhci91aS9sYXlvdXQnXG5pbXBvcnQgeyBJdGVtIH0gZnJvbSAnQGtleXN0YXIvdWkvdGFnJ1xuaW1wb3J0IHsgVG9vbHRpcFRyaWdnZXIsIFRvb2x0aXAgfSBmcm9tICdAa2V5c3Rhci91aS90b29sdGlwJ1xuaW1wb3J0IHsgRWRpdG9yVG9vbGJhckJ1dHRvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2VkaXRvcidcblxuY29uc3QgTGF5b3V0T3B0aW9uc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PFtudW1iZXIsIC4uLm51bWJlcltdXVtdPihbXSlcblxuZXhwb3J0IGNvbnN0IExheW91dE9wdGlvbnNQcm92aWRlciA9IExheW91dE9wdGlvbnNDb250ZXh0LlByb3ZpZGVyXG5cbi8vIFVJIENvbXBvbmVudHNcbmV4cG9ydCBjb25zdCBMYXlvdXRDb250YWluZXIgPSAoe1xuICBhdHRyaWJ1dGVzLFxuICBjaGlsZHJlbixcbiAgZWxlbWVudCxcbn06IFJlbmRlckVsZW1lbnRQcm9wcyAmIHsgZWxlbWVudDogeyB0eXBlOiAnbGF5b3V0JyB9IH0pID0+IHtcbiAgY29uc3QgZWRpdG9yID0gdXNlU2xhdGVTdGF0aWMoKVxuXG4gIGNvbnN0IGxheW91dCA9IGVsZW1lbnQubGF5b3V0XG4gIGNvbnN0IGxheW91dE9wdGlvbnMgPSB1c2VDb250ZXh0KExheW91dE9wdGlvbnNDb250ZXh0KVxuICBjb25zdCBjdXJyZW50TGF5b3V0SW5kZXggPSBsYXlvdXRPcHRpb25zLmZpbmRJbmRleCh4ID0+IHgudG9TdHJpbmcoKSA9PT0gbGF5b3V0LnRvU3RyaW5nKCkpXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17YmxvY2tFbGVtZW50U3BhY2luZ30gey4uLmF0dHJpYnV0ZXN9PlxuICAgICAgPEJsb2NrUG9wb3ZlclRyaWdnZXIgZWxlbWVudD17ZWxlbWVudH0+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2Nzcyh7XG4gICAgICAgICAgICBjb2x1bW5HYXA6IHRva2VuU2NoZW1hLnNpemUuc3BhY2UucmVndWxhcixcbiAgICAgICAgICAgIGRpc3BsYXk6ICdncmlkJyxcbiAgICAgICAgICB9KX1cbiAgICAgICAgICBzdHlsZT17eyBncmlkVGVtcGxhdGVDb2x1bW5zOiBsYXlvdXQubWFwKHggPT4gYCR7eH1mcmApLmpvaW4oJyAnKSB9fVxuICAgICAgICA+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEJsb2NrUG9wb3Zlcj5cbiAgICAgICAgICA8RmxleCBwYWRkaW5nPVwicmVndWxhclwiIGdhcD1cInJlZ3VsYXJcIj5cbiAgICAgICAgICAgIDxBY3Rpb25Hcm91cFxuICAgICAgICAgICAgICBzZWxlY3Rpb25Nb2RlPVwic2luZ2xlXCJcbiAgICAgICAgICAgICAgcHJvbWluZW5jZT1cImxvd1wiXG4gICAgICAgICAgICAgIGRlbnNpdHk9XCJjb21wYWN0XCJcbiAgICAgICAgICAgICAgb25BY3Rpb249e2tleSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IFJlYWN0RWRpdG9yLmZpbmRQYXRoKGVkaXRvciwgZWxlbWVudClcbiAgICAgICAgICAgICAgICBjb25zdCBsYXlvdXRPcHRpb24gPSBsYXlvdXRPcHRpb25zW2tleSBhcyBudW1iZXJdXG4gICAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5zZXROb2RlcyhlZGl0b3IsIHsgdHlwZTogJ2xheW91dCcsIGxheW91dDogbGF5b3V0T3B0aW9uIH0sIHsgYXQ6IHBhdGggfSlcbiAgICAgICAgICAgICAgICBSZWFjdEVkaXRvci5mb2N1cyhlZGl0b3IpXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHNlbGVjdGVkS2V5cz17Y3VycmVudExheW91dEluZGV4ICE9PSAtMSA/IFtjdXJyZW50TGF5b3V0SW5kZXgudG9TdHJpbmcoKV0gOiBbXX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2xheW91dE9wdGlvbnMubWFwKChsYXlvdXRPcHRpb24sIGkpID0+IChcbiAgICAgICAgICAgICAgICA8SXRlbSBrZXk9e2l9PnttYWtlTGF5b3V0SWNvbihsYXlvdXRPcHRpb24pfTwvSXRlbT5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L0FjdGlvbkdyb3VwPlxuICAgICAgICAgICAgPFRvb2x0aXBUcmlnZ2VyPlxuICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uXG4gICAgICAgICAgICAgICAgcHJvbWluZW5jZT1cImxvd1wiXG4gICAgICAgICAgICAgICAgb25QcmVzcz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IFJlYWN0RWRpdG9yLmZpbmRQYXRoKGVkaXRvciwgZWxlbWVudClcbiAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7IGF0OiBwYXRoIH0pXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxJY29uIHNyYz17dHJhc2gySWNvbn0gLz5cbiAgICAgICAgICAgICAgPC9BY3Rpb25CdXR0b24+XG4gICAgICAgICAgICAgIDxUb29sdGlwIHRvbmU9XCJjcml0aWNhbFwiPlJlbW92ZTwvVG9vbHRpcD5cbiAgICAgICAgICAgIDwvVG9vbHRpcFRyaWdnZXI+XG4gICAgICAgICAgPC9GbGV4PlxuICAgICAgICA8L0Jsb2NrUG9wb3Zlcj5cbiAgICAgIDwvQmxvY2tQb3BvdmVyVHJpZ2dlcj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgY29uc3QgTGF5b3V0QXJlYSA9ICh7IGF0dHJpYnV0ZXMsIGNoaWxkcmVuIH06IFJlbmRlckVsZW1lbnRQcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgYm9yZGVyQ29sb3I6IHRva2VuU2NoZW1hLmNvbG9yLmJvcmRlci5uZXV0cmFsLFxuICAgICAgICBib3JkZXJSYWRpdXM6IHRva2VuU2NoZW1hLnNpemUucmFkaXVzLnJlZ3VsYXIsXG4gICAgICAgIGJvcmRlclN0eWxlOiAnZGFzaGVkJyxcbiAgICAgICAgYm9yZGVyV2lkdGg6IHRva2VuU2NoZW1hLnNpemUuYm9yZGVyLnJlZ3VsYXIsXG4gICAgICAgIHBhZGRpbmc6IHRva2VuU2NoZW1hLnNpemUuc3BhY2UubWVkaXVtLFxuICAgICAgfSl9XG4gICAgICB7Li4uYXR0cmlidXRlc31cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZnVuY3Rpb24gbWFrZUxheW91dEljb24ocmF0aW9zOiBudW1iZXJbXSkge1xuICBjb25zdCBzaXplID0gMTZcblxuICBjb25zdCBlbGVtZW50ID0gKFxuICAgIDxkaXZcbiAgICAgIHJvbGU9XCJpbWdcIlxuICAgICAgY2xhc3NOYW1lPXtjc3Moe1xuICAgICAgICBkaXNwbGF5OiAnZ3JpZCcsXG4gICAgICAgIGdyaWRUZW1wbGF0ZUNvbHVtbnM6IHJhdGlvcy5tYXAociA9PiBgJHtyfWZyYCkuam9pbignICcpLFxuICAgICAgICBnYXA6IDIsXG4gICAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgICBoZWlnaHQ6IHNpemUsXG4gICAgICB9KX1cbiAgICA+XG4gICAgICB7cmF0aW9zLm1hcCgoXywgaSkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y3NzKHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnY3VycmVudGNvbG9yJyxcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAxLFxuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKVxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIClcblxuICByZXR1cm4gZWxlbWVudFxufVxuXG5jb25zdCBsYXlvdXRzSWNvbiA9IDxJY29uIHNyYz17Y29sdW1uc0ljb259IC8+XG5cbmV4cG9ydCBjb25zdCBMYXlvdXRzQnV0dG9uID0gKHsgbGF5b3V0cyB9OiB7IGxheW91dHM6IERvY3VtZW50RmVhdHVyZXNbJ2xheW91dHMnXSB9KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBlZGl0b3IsXG4gICAgbGF5b3V0czogeyBpc1NlbGVjdGVkIH0sXG4gIH0gPSB1c2VUb29sYmFyU3RhdGUoKVxuICByZXR1cm4gdXNlTWVtbyhcbiAgICAoKSA9PiAoXG4gICAgICA8VG9vbHRpcFRyaWdnZXI+XG4gICAgICAgIDxFZGl0b3JUb29sYmFyQnV0dG9uXG4gICAgICAgICAgaXNTZWxlY3RlZD17aXNTZWxlY3RlZH1cbiAgICAgICAgICBvblByZXNzPXsoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNFbGVtZW50QWN0aXZlKGVkaXRvciwgJ2xheW91dCcpKSB7XG4gICAgICAgICAgICAgIFRyYW5zZm9ybXMudW53cmFwTm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgICAgICAgbWF0Y2g6IG5vZGUgPT4gbm9kZS50eXBlID09PSAnbGF5b3V0JyxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGluc2VydExheW91dChlZGl0b3IsIGxheW91dHNbMF0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBSZWFjdEVkaXRvci5mb2N1cyhlZGl0b3IpXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHtsYXlvdXRzSWNvbn1cbiAgICAgICAgPC9FZGl0b3JUb29sYmFyQnV0dG9uPlxuICAgICAgICA8VG9vbHRpcD5MYXlvdXRzPC9Ub29sdGlwPlxuICAgICAgPC9Ub29sdGlwVHJpZ2dlcj5cbiAgICApLFxuICAgIFtlZGl0b3IsIGlzU2VsZWN0ZWQsIGxheW91dHNdXG4gIClcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZU1lbW8iLCJUcmFuc2Zvcm1zIiwiUmVhY3RFZGl0b3IiLCJ1c2VTbGF0ZVN0YXRpYyIsIkljb24iLCJjb2x1bW5zSWNvbiIsInRyYXNoMkljb24iLCJpc0VsZW1lbnRBY3RpdmUiLCJ1c2VUb29sYmFyU3RhdGUiLCJpbnNlcnRMYXlvdXQiLCJibG9ja0VsZW1lbnRTcGFjaW5nIiwiQmxvY2tQb3BvdmVyIiwiQmxvY2tQb3BvdmVyVHJpZ2dlciIsImNzcyIsInRva2VuU2NoZW1hIiwiQWN0aW9uR3JvdXAiLCJBY3Rpb25CdXR0b24iLCJGbGV4IiwiSXRlbSIsIlRvb2x0aXBUcmlnZ2VyIiwiVG9vbHRpcCIsIkVkaXRvclRvb2xiYXJCdXR0b24iLCJMYXlvdXRPcHRpb25zQ29udGV4dCIsIkxheW91dE9wdGlvbnNQcm92aWRlciIsIlByb3ZpZGVyIiwiTGF5b3V0Q29udGFpbmVyIiwiYXR0cmlidXRlcyIsImNoaWxkcmVuIiwiZWxlbWVudCIsImVkaXRvciIsImxheW91dCIsImxheW91dE9wdGlvbnMiLCJjdXJyZW50TGF5b3V0SW5kZXgiLCJmaW5kSW5kZXgiLCJ4IiwidG9TdHJpbmciLCJkaXYiLCJjbGFzc05hbWUiLCJjb2x1bW5HYXAiLCJzaXplIiwic3BhY2UiLCJyZWd1bGFyIiwiZGlzcGxheSIsInN0eWxlIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsIm1hcCIsImpvaW4iLCJwYWRkaW5nIiwiZ2FwIiwic2VsZWN0aW9uTW9kZSIsInByb21pbmVuY2UiLCJkZW5zaXR5Iiwib25BY3Rpb24iLCJrZXkiLCJwYXRoIiwiZmluZFBhdGgiLCJsYXlvdXRPcHRpb24iLCJzZXROb2RlcyIsInR5cGUiLCJhdCIsImZvY3VzIiwic2VsZWN0ZWRLZXlzIiwiaSIsIm1ha2VMYXlvdXRJY29uIiwib25QcmVzcyIsInJlbW92ZU5vZGVzIiwic3JjIiwidG9uZSIsIkxheW91dEFyZWEiLCJib3JkZXJDb2xvciIsImNvbG9yIiwiYm9yZGVyIiwibmV1dHJhbCIsImJvcmRlclJhZGl1cyIsInJhZGl1cyIsImJvcmRlclN0eWxlIiwiYm9yZGVyV2lkdGgiLCJtZWRpdW0iLCJyYXRpb3MiLCJyb2xlIiwiciIsIndpZHRoIiwiaGVpZ2h0IiwiXyIsImJhY2tncm91bmRDb2xvciIsImxheW91dHNJY29uIiwiTGF5b3V0c0J1dHRvbiIsImxheW91dHMiLCJpc1NlbGVjdGVkIiwidW53cmFwTm9kZXMiLCJtYXRjaCIsIm5vZGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/layouts.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/leaf.tsx":
/*!************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/leaf.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderLeaf: () => (/* binding */ renderLeaf)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _insert_menu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./insert-menu */ \"../../../../packages/fields-document/src/DocumentEditor/insert-menu.tsx\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n\n\n\n\nfunction Placeholder({ placeholder, children }) {\n    const [width, setWidth] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.css)({\n            position: 'relative',\n            display: 'inline-block',\n            width\n        }),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                contentEditable: false,\n                className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.css)({\n                    position: 'absolute',\n                    pointerEvents: 'none',\n                    display: 'inline-block',\n                    left: 0,\n                    top: 0,\n                    maxWidth: '100%',\n                    whiteSpace: 'nowrap',\n                    opacity: '0.5',\n                    userSelect: 'none',\n                    fontStyle: 'normal',\n                    fontWeight: 'normal',\n                    textDecoration: 'none',\n                    textAlign: 'left'\n                }),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    ref: (node)=>{\n                        if (node) {\n                            const offsetWidth = node.offsetWidth;\n                            if (offsetWidth !== width) {\n                                setWidth(offsetWidth);\n                            }\n                        }\n                    },\n                    children: placeholder\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n                    lineNumber: 28,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n                lineNumber: 10,\n                columnNumber: 7\n            }, this),\n            children\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n        lineNumber: 9,\n        columnNumber: 5\n    }, this);\n}\nconst Leaf = ({ leaf, text, children, attributes })=>{\n    const { underline, strikethrough, bold, italic, code, keyboard, superscript, subscript, placeholder, insertMenu } = leaf;\n    if (placeholder !== undefined) {\n        children = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Placeholder, {\n            placeholder: placeholder,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n            lineNumber: 61,\n            columnNumber: 16\n        }, undefined);\n    }\n    if (insertMenu) {\n        children = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_insert_menu__WEBPACK_IMPORTED_MODULE_2__.InsertMenu, {\n            text: text,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n            lineNumber: 65,\n            columnNumber: 16\n        }, undefined);\n    }\n    if (code) {\n        children = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n            lineNumber: 69,\n            columnNumber: 16\n        }, undefined);\n    }\n    if (bold) {\n        children = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n            lineNumber: 72,\n            columnNumber: 16\n        }, undefined);\n    }\n    if (strikethrough) {\n        children = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"s\", {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n            lineNumber: 75,\n            columnNumber: 16\n        }, undefined);\n    }\n    if (italic) {\n        children = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"em\", {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n            lineNumber: 78,\n            columnNumber: 16\n        }, undefined);\n    }\n    if (keyboard) {\n        children = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"kbd\", {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n            lineNumber: 81,\n            columnNumber: 16\n        }, undefined);\n    }\n    if (superscript) {\n        children = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"sup\", {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n            lineNumber: 84,\n            columnNumber: 16\n        }, undefined);\n    }\n    if (subscript) {\n        children = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"sub\", {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n            lineNumber: 87,\n            columnNumber: 16\n        }, undefined);\n    }\n    if (underline) {\n        children = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"u\", {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n            lineNumber: 90,\n            columnNumber: 16\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        ...attributes,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n        lineNumber: 92,\n        columnNumber: 10\n    }, undefined);\n};\nconst renderLeaf = (props)=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Leaf, {\n        ...props\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/leaf.tsx\",\n        lineNumber: 96,\n        columnNumber: 10\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9sZWFmLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFnRDtBQUVOO0FBQ0g7QUFFdkMsU0FBU0csWUFBWSxFQUFFQyxXQUFXLEVBQUVDLFFBQVEsRUFBZ0Q7SUFDMUYsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdQLCtDQUFRQSxDQUFDO0lBQ25DLHFCQUNFLDhEQUFDUTtRQUFLQyxXQUFXUCxzREFBR0EsQ0FBQztZQUFFUSxVQUFVO1lBQVlDLFNBQVM7WUFBZ0JMO1FBQU07OzBCQUMxRSw4REFBQ0U7Z0JBQ0NJLGlCQUFpQjtnQkFDakJILFdBQVdQLHNEQUFHQSxDQUFDO29CQUNiUSxVQUFVO29CQUNWRyxlQUFlO29CQUNmRixTQUFTO29CQUNURyxNQUFNO29CQUNOQyxLQUFLO29CQUNMQyxVQUFVO29CQUNWQyxZQUFZO29CQUNaQyxTQUFTO29CQUNUQyxZQUFZO29CQUNaQyxXQUFXO29CQUNYQyxZQUFZO29CQUNaQyxnQkFBZ0I7b0JBQ2hCQyxXQUFXO2dCQUNiOzBCQUVBLDRFQUFDZjtvQkFDQ2dCLEtBQUtDLENBQUFBO3dCQUNILElBQUlBLE1BQU07NEJBQ1IsTUFBTUMsY0FBY0QsS0FBS0MsV0FBVzs0QkFDcEMsSUFBSUEsZ0JBQWdCcEIsT0FBTztnQ0FDekJDLFNBQVNtQjs0QkFDWDt3QkFDRjtvQkFDRjs4QkFFQ3RCOzs7Ozs7Ozs7OztZQUdKQzs7Ozs7OztBQUdQO0FBRUEsTUFBTXNCLE9BQU8sQ0FBQyxFQUFFQyxJQUFJLEVBQUVDLElBQUksRUFBRXhCLFFBQVEsRUFBRXlCLFVBQVUsRUFBbUI7SUFDakUsTUFBTSxFQUNKQyxTQUFTLEVBQ1RDLGFBQWEsRUFDYkMsSUFBSSxFQUNKQyxNQUFNLEVBQ05DLElBQUksRUFDSkMsUUFBUSxFQUNSQyxXQUFXLEVBQ1hDLFNBQVMsRUFDVGxDLFdBQVcsRUFDWG1DLFVBQVUsRUFDWCxHQUFHWDtJQUVKLElBQUl4QixnQkFBZ0JvQyxXQUFXO1FBQzdCbkMseUJBQVcsOERBQUNGO1lBQVlDLGFBQWFBO3NCQUFjQzs7Ozs7O0lBQ3JEO0lBRUEsSUFBSWtDLFlBQVk7UUFDZGxDLHlCQUFXLDhEQUFDSixvREFBVUE7WUFBQzRCLE1BQU1BO3NCQUFPeEI7Ozs7OztJQUN0QztJQUVBLElBQUk4QixNQUFNO1FBQ1I5Qix5QkFBVyw4REFBQzhCO3NCQUFNOUI7Ozs7OztJQUNwQjtJQUNBLElBQUk0QixNQUFNO1FBQ1I1Qix5QkFBVyw4REFBQ29DO3NCQUFRcEM7Ozs7OztJQUN0QjtJQUNBLElBQUkyQixlQUFlO1FBQ2pCM0IseUJBQVcsOERBQUNxQztzQkFBR3JDOzs7Ozs7SUFDakI7SUFDQSxJQUFJNkIsUUFBUTtRQUNWN0IseUJBQVcsOERBQUNzQztzQkFBSXRDOzs7Ozs7SUFDbEI7SUFDQSxJQUFJK0IsVUFBVTtRQUNaL0IseUJBQVcsOERBQUN1QztzQkFBS3ZDOzs7Ozs7SUFDbkI7SUFDQSxJQUFJZ0MsYUFBYTtRQUNmaEMseUJBQVcsOERBQUN3QztzQkFBS3hDOzs7Ozs7SUFDbkI7SUFDQSxJQUFJaUMsV0FBVztRQUNiakMseUJBQVcsOERBQUN5QztzQkFBS3pDOzs7Ozs7SUFDbkI7SUFDQSxJQUFJMEIsV0FBVztRQUNiMUIseUJBQVcsOERBQUMwQztzQkFBRzFDOzs7Ozs7SUFDakI7SUFDQSxxQkFBTyw4REFBQ0c7UUFBTSxHQUFHc0IsVUFBVTtrQkFBR3pCOzs7Ozs7QUFDaEM7QUFFTyxNQUFNMkMsYUFBYSxDQUFDQztJQUN6QixxQkFBTyw4REFBQ3RCO1FBQU0sR0FBR3NCLEtBQUs7Ozs7OztBQUN4QixFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvbGVhZi50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBSZWFjdE5vZGUsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB0eXBlIFJlbmRlckxlYWZQcm9wcyB9IGZyb20gJ3NsYXRlLXJlYWN0J1xuaW1wb3J0IHsgSW5zZXJ0TWVudSB9IGZyb20gJy4vaW5zZXJ0LW1lbnUnXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdAa2V5c3Rhci91aS9zdHlsZSdcblxuZnVuY3Rpb24gUGxhY2Vob2xkZXIoeyBwbGFjZWhvbGRlciwgY2hpbGRyZW4gfTogeyBwbGFjZWhvbGRlcjogc3RyaW5nOyBjaGlsZHJlbjogUmVhY3ROb2RlIH0pIHtcbiAgY29uc3QgW3dpZHRoLCBzZXRXaWR0aF0gPSB1c2VTdGF0ZSgwKVxuICByZXR1cm4gKFxuICAgIDxzcGFuIGNsYXNzTmFtZT17Y3NzKHsgcG9zaXRpb246ICdyZWxhdGl2ZScsIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLCB3aWR0aCB9KX0+XG4gICAgICA8c3BhblxuICAgICAgICBjb250ZW50RWRpdGFibGU9e2ZhbHNlfVxuICAgICAgICBjbGFzc05hbWU9e2Nzcyh7XG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gICAgICAgICAgb3BhY2l0eTogJzAuNScsXG4gICAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgICAgIGZvbnRTdHlsZTogJ25vcm1hbCcsXG4gICAgICAgICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgICAgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICAgICAgICB0ZXh0QWxpZ246ICdsZWZ0JyxcbiAgICAgICAgfSl9XG4gICAgICA+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgcmVmPXtub2RlID0+IHtcbiAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG9mZnNldFdpZHRoID0gbm9kZS5vZmZzZXRXaWR0aFxuICAgICAgICAgICAgICBpZiAob2Zmc2V0V2lkdGggIT09IHdpZHRoKSB7XG4gICAgICAgICAgICAgICAgc2V0V2lkdGgob2Zmc2V0V2lkdGgpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge3BsYWNlaG9sZGVyfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9zcGFuPlxuICApXG59XG5cbmNvbnN0IExlYWYgPSAoeyBsZWFmLCB0ZXh0LCBjaGlsZHJlbiwgYXR0cmlidXRlcyB9OiBSZW5kZXJMZWFmUHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIHVuZGVybGluZSxcbiAgICBzdHJpa2V0aHJvdWdoLFxuICAgIGJvbGQsXG4gICAgaXRhbGljLFxuICAgIGNvZGUsXG4gICAga2V5Ym9hcmQsXG4gICAgc3VwZXJzY3JpcHQsXG4gICAgc3Vic2NyaXB0LFxuICAgIHBsYWNlaG9sZGVyLFxuICAgIGluc2VydE1lbnUsXG4gIH0gPSBsZWFmXG5cbiAgaWYgKHBsYWNlaG9sZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICBjaGlsZHJlbiA9IDxQbGFjZWhvbGRlciBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJ9PntjaGlsZHJlbn08L1BsYWNlaG9sZGVyPlxuICB9XG5cbiAgaWYgKGluc2VydE1lbnUpIHtcbiAgICBjaGlsZHJlbiA9IDxJbnNlcnRNZW51IHRleHQ9e3RleHR9PntjaGlsZHJlbn08L0luc2VydE1lbnU+XG4gIH1cblxuICBpZiAoY29kZSkge1xuICAgIGNoaWxkcmVuID0gPGNvZGU+e2NoaWxkcmVufTwvY29kZT5cbiAgfVxuICBpZiAoYm9sZCkge1xuICAgIGNoaWxkcmVuID0gPHN0cm9uZz57Y2hpbGRyZW59PC9zdHJvbmc+XG4gIH1cbiAgaWYgKHN0cmlrZXRocm91Z2gpIHtcbiAgICBjaGlsZHJlbiA9IDxzPntjaGlsZHJlbn08L3M+XG4gIH1cbiAgaWYgKGl0YWxpYykge1xuICAgIGNoaWxkcmVuID0gPGVtPntjaGlsZHJlbn08L2VtPlxuICB9XG4gIGlmIChrZXlib2FyZCkge1xuICAgIGNoaWxkcmVuID0gPGtiZD57Y2hpbGRyZW59PC9rYmQ+XG4gIH1cbiAgaWYgKHN1cGVyc2NyaXB0KSB7XG4gICAgY2hpbGRyZW4gPSA8c3VwPntjaGlsZHJlbn08L3N1cD5cbiAgfVxuICBpZiAoc3Vic2NyaXB0KSB7XG4gICAgY2hpbGRyZW4gPSA8c3ViPntjaGlsZHJlbn08L3N1Yj5cbiAgfVxuICBpZiAodW5kZXJsaW5lKSB7XG4gICAgY2hpbGRyZW4gPSA8dT57Y2hpbGRyZW59PC91PlxuICB9XG4gIHJldHVybiA8c3BhbiB7Li4uYXR0cmlidXRlc30+e2NoaWxkcmVufTwvc3Bhbj5cbn1cblxuZXhwb3J0IGNvbnN0IHJlbmRlckxlYWYgPSAocHJvcHM6IFJlbmRlckxlYWZQcm9wcykgPT4ge1xuICByZXR1cm4gPExlYWYgey4uLnByb3BzfSAvPlxufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwiSW5zZXJ0TWVudSIsImNzcyIsIlBsYWNlaG9sZGVyIiwicGxhY2Vob2xkZXIiLCJjaGlsZHJlbiIsIndpZHRoIiwic2V0V2lkdGgiLCJzcGFuIiwiY2xhc3NOYW1lIiwicG9zaXRpb24iLCJkaXNwbGF5IiwiY29udGVudEVkaXRhYmxlIiwicG9pbnRlckV2ZW50cyIsImxlZnQiLCJ0b3AiLCJtYXhXaWR0aCIsIndoaXRlU3BhY2UiLCJvcGFjaXR5IiwidXNlclNlbGVjdCIsImZvbnRTdHlsZSIsImZvbnRXZWlnaHQiLCJ0ZXh0RGVjb3JhdGlvbiIsInRleHRBbGlnbiIsInJlZiIsIm5vZGUiLCJvZmZzZXRXaWR0aCIsIkxlYWYiLCJsZWFmIiwidGV4dCIsImF0dHJpYnV0ZXMiLCJ1bmRlcmxpbmUiLCJzdHJpa2V0aHJvdWdoIiwiYm9sZCIsIml0YWxpYyIsImNvZGUiLCJrZXlib2FyZCIsInN1cGVyc2NyaXB0Iiwic3Vic2NyaXB0IiwiaW5zZXJ0TWVudSIsInVuZGVmaW5lZCIsInN0cm9uZyIsInMiLCJlbSIsImtiZCIsInN1cCIsInN1YiIsInUiLCJyZW5kZXJMZWFmIiwicHJvcHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/leaf.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/link-shared.ts":
/*!******************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/link-shared.ts ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withLink: () => (/* binding */ withLink),\n/* harmony export */   wrapLink: () => (/* binding */ wrapLink)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n/* harmony import */ var _toolbar_state_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./toolbar-state-shared */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state-shared.ts\");\n/* harmony import */ var _editor_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editor-shared */ \"../../../../packages/fields-document/src/DocumentEditor/editor-shared.ts\");\n\n\n\n\nconst isLinkActive = (editor)=>{\n    return (0,_utils__WEBPACK_IMPORTED_MODULE_0__.isElementActive)(editor, 'link');\n};\nfunction wrapLink(editor, url) {\n    if (isLinkActive(editor)) {\n        slate__WEBPACK_IMPORTED_MODULE_3__.Transforms.unwrapNodes(editor, {\n            match: (n)=>n.type === 'link'\n        });\n        return;\n    }\n    const { selection } = editor;\n    const isCollapsed = selection && slate__WEBPACK_IMPORTED_MODULE_3__.Range.isCollapsed(selection);\n    if (isCollapsed) {\n        slate__WEBPACK_IMPORTED_MODULE_3__.Transforms.insertNodes(editor, {\n            type: 'link',\n            href: url,\n            children: [\n                {\n                    text: url\n                }\n            ]\n        });\n    } else {\n        slate__WEBPACK_IMPORTED_MODULE_3__.Transforms.wrapNodes(editor, {\n            type: 'link',\n            href: url,\n            children: [\n                {\n                    text: ''\n                }\n            ]\n        }, {\n            split: true\n        });\n    }\n}\nconst markdownLinkPattern = /(^|\\s)\\[(.+?)\\]\\((\\S+)\\)$/;\nfunction withLink(editorDocumentFeatures, componentBlocks, editor) {\n    const { insertText, isInline, normalizeNode } = editor;\n    editor.isInline = (element)=>{\n        return element.type === 'link' ? true : isInline(element);\n    };\n    if (editorDocumentFeatures.links) {\n        editor.insertText = (text)=>{\n            insertText(text);\n            if (text !== ')' || !editor.selection) return;\n            const startOfBlock = slate__WEBPACK_IMPORTED_MODULE_3__.Editor.start(editor, slate__WEBPACK_IMPORTED_MODULE_3__.Editor.above(editor, {\n                match: (node)=>slate__WEBPACK_IMPORTED_MODULE_3__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_3__.Editor.isBlock(editor, node)\n            })[1]);\n            const startOfBlockToEndOfShortcutString = slate__WEBPACK_IMPORTED_MODULE_3__.Editor.string(editor, {\n                anchor: editor.selection.anchor,\n                focus: startOfBlock\n            });\n            const match = markdownLinkPattern.exec(startOfBlockToEndOfShortcutString);\n            if (!match) return;\n            const ancestorComponentChildFieldDocumentFeatures = (0,_toolbar_state_shared__WEBPACK_IMPORTED_MODULE_1__.getAncestorComponentChildFieldDocumentFeatures)(editor, editorDocumentFeatures, componentBlocks);\n            if (ancestorComponentChildFieldDocumentFeatures?.documentFeatures.links === false) {\n                return;\n            }\n            const [, maybeWhitespace, linkText, href] = match;\n            // by doing this, the insertText(')') above will happen in a different undo than the link replacement\n            // so that means that when someone does an undo after this\n            // it will undo to the state of \"[content](link)\" rather than \"[content](link\" (note the missing closing bracket)\n            editor.writeHistory('undos', {\n                operations: [],\n                selectionBefore: null\n            });\n            const startOfShortcut = match.index === 0 ? startOfBlock : (0,_utils__WEBPACK_IMPORTED_MODULE_0__.EditorAfterButIgnoringingPointsWithNoContent)(editor, startOfBlock, {\n                distance: match.index\n            });\n            const startOfLinkText = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.EditorAfterButIgnoringingPointsWithNoContent)(editor, startOfShortcut, {\n                distance: maybeWhitespace === '' ? 1 : 2\n            });\n            const endOfLinkText = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.EditorAfterButIgnoringingPointsWithNoContent)(editor, startOfLinkText, {\n                distance: linkText.length\n            });\n            slate__WEBPACK_IMPORTED_MODULE_3__.Transforms.delete(editor, {\n                at: {\n                    anchor: endOfLinkText,\n                    focus: editor.selection.anchor\n                }\n            });\n            slate__WEBPACK_IMPORTED_MODULE_3__.Transforms.delete(editor, {\n                at: {\n                    anchor: startOfShortcut,\n                    focus: startOfLinkText\n                }\n            });\n            slate__WEBPACK_IMPORTED_MODULE_3__.Transforms.wrapNodes(editor, {\n                type: 'link',\n                href,\n                children: []\n            }, {\n                at: {\n                    anchor: editor.selection.anchor,\n                    focus: startOfShortcut\n                },\n                split: true\n            });\n            const nextNode = slate__WEBPACK_IMPORTED_MODULE_3__.Editor.next(editor);\n            if (nextNode) {\n                slate__WEBPACK_IMPORTED_MODULE_3__.Transforms.select(editor, nextNode[1]);\n            }\n        };\n    }\n    editor.normalizeNode = ([node, path])=>{\n        if (node.type === 'link') {\n            if (slate__WEBPACK_IMPORTED_MODULE_3__.Node.string(node) === '') {\n                slate__WEBPACK_IMPORTED_MODULE_3__.Transforms.unwrapNodes(editor, {\n                    at: path\n                });\n                return;\n            }\n            for (const [idx, child] of node.children.entries()){\n                if (child.type === 'link') {\n                    // links cannot contain links\n                    slate__WEBPACK_IMPORTED_MODULE_3__.Transforms.unwrapNodes(editor, {\n                        at: [\n                            ...path,\n                            idx\n                        ]\n                    });\n                    return;\n                }\n            }\n        }\n        if ((0,_editor_shared__WEBPACK_IMPORTED_MODULE_2__.isInlineContainer)(node)) {\n            let lastMergableLink = null;\n            for (const [idx, child] of node.children.entries()){\n                if (child.type === 'link' && child.href === lastMergableLink?.node.href) {\n                    const firstLinkPath = [\n                        ...path,\n                        lastMergableLink.index\n                    ];\n                    const secondLinkPath = [\n                        ...path,\n                        idx\n                    ];\n                    const to = [\n                        ...firstLinkPath,\n                        lastMergableLink.node.children.length\n                    ];\n                    // note this is going in reverse, js doesn't have double-ended iterators so it's a for(;;)\n                    for(let i = child.children.length - 1; i >= 0; i--){\n                        const childPath = [\n                            ...secondLinkPath,\n                            i\n                        ];\n                        slate__WEBPACK_IMPORTED_MODULE_3__.Transforms.moveNodes(editor, {\n                            at: childPath,\n                            to\n                        });\n                    }\n                    slate__WEBPACK_IMPORTED_MODULE_3__.Transforms.removeNodes(editor, {\n                        at: secondLinkPath\n                    });\n                    return;\n                }\n                if (!slate__WEBPACK_IMPORTED_MODULE_3__.Text.isText(child) || child.text !== '') {\n                    lastMergableLink = null;\n                }\n                if (child.type === 'link') {\n                    lastMergableLink = {\n                        index: idx,\n                        node: child\n                    };\n                }\n            }\n        }\n        normalizeNode([\n            node,\n            path\n        ]);\n    };\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9saW5rLXNoYXJlZC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBc0U7QUFHaUI7QUFDQTtBQUVwQztBQUVuRCxNQUFNVSxlQUFlLENBQUNDO0lBQ3BCLE9BQU9KLHVEQUFlQSxDQUFDSSxRQUFRO0FBQ2pDO0FBRU8sU0FBU0MsU0FBU0QsTUFBYyxFQUFFRSxHQUFXO0lBQ2xELElBQUlILGFBQWFDLFNBQVM7UUFDeEJQLDZDQUFVQSxDQUFDVSxXQUFXLENBQUNILFFBQVE7WUFBRUksT0FBT0MsQ0FBQUEsSUFBS0EsRUFBRUMsSUFBSSxLQUFLO1FBQU87UUFDL0Q7SUFDRjtJQUVBLE1BQU0sRUFBRUMsU0FBUyxFQUFFLEdBQUdQO0lBQ3RCLE1BQU1RLGNBQWNELGFBQWFmLHdDQUFLQSxDQUFDZ0IsV0FBVyxDQUFDRDtJQUVuRCxJQUFJQyxhQUFhO1FBQ2ZmLDZDQUFVQSxDQUFDZ0IsV0FBVyxDQUFDVCxRQUFRO1lBQzdCTSxNQUFNO1lBQ05JLE1BQU1SO1lBQ05TLFVBQVU7Z0JBQUM7b0JBQUVDLE1BQU1WO2dCQUFJO2FBQUU7UUFDM0I7SUFDRixPQUFPO1FBQ0xULDZDQUFVQSxDQUFDb0IsU0FBUyxDQUNsQmIsUUFDQTtZQUNFTSxNQUFNO1lBQ05JLE1BQU1SO1lBQ05TLFVBQVU7Z0JBQUM7b0JBQUVDLE1BQU07Z0JBQUc7YUFBRTtRQUMxQixHQUNBO1lBQUVFLE9BQU87UUFBSztJQUVsQjtBQUNGO0FBRUEsTUFBTUMsc0JBQXNCO0FBRXJCLFNBQVNDLFNBQ2RDLHNCQUF3QyxFQUN4Q0MsZUFBK0MsRUFDL0NsQixNQUFjO0lBRWQsTUFBTSxFQUFFbUIsVUFBVSxFQUFFQyxRQUFRLEVBQUVDLGFBQWEsRUFBRSxHQUFHckI7SUFFaERBLE9BQU9vQixRQUFRLEdBQUdFLENBQUFBO1FBQ2hCLE9BQU9BLFFBQVFoQixJQUFJLEtBQUssU0FBUyxPQUFPYyxTQUFTRTtJ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QUksS0FBSyxRQUFRO29CQUN6Qm1ELG1CQUFtQjt3QkFBRWQsT0FBT1c7d0JBQUszQixNQUFNNEI7b0JBQU07Z0JBQy9DO1lBQ0Y7UUFDRjtRQUNBbEMsY0FBYztZQUFDTTtZQUFNMEI7U0FBSztJQUM1QjtJQUVBLE9BQU9yRDtBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvbGluay1zaGFyZWQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWxlbWVudCwgRWRpdG9yLCBOb2RlLCBSYW5nZSwgVHJhbnNmb3JtcywgVGV4dCB9IGZyb20gJ3NsYXRlJ1xuXG5pbXBvcnQgeyB0eXBlIERvY3VtZW50RmVhdHVyZXMgfSBmcm9tICcuLi92aWV3cydcbmltcG9ydCB7IEVkaXRvckFmdGVyQnV0SWdub3JpbmdpbmdQb2ludHNXaXRoTm9Db250ZW50LCBpc0VsZW1lbnRBY3RpdmUgfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHsgZ2V0QW5jZXN0b3JDb21wb25lbnRDaGlsZEZpZWxkRG9jdW1lbnRGZWF0dXJlcyB9IGZyb20gJy4vdG9vbGJhci1zdGF0ZS1zaGFyZWQnXG5pbXBvcnQgeyB0eXBlIENvbXBvbmVudEJsb2NrIH0gZnJvbSAnLi9jb21wb25lbnQtYmxvY2tzL2FwaSdcbmltcG9ydCB7IGlzSW5saW5lQ29udGFpbmVyIH0gZnJvbSAnLi9lZGl0b3Itc2hhcmVkJ1xuXG5jb25zdCBpc0xpbmtBY3RpdmUgPSAoZWRpdG9yOiBFZGl0b3IpID0+IHtcbiAgcmV0dXJuIGlzRWxlbWVudEFjdGl2ZShlZGl0b3IsICdsaW5rJylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBMaW5rKGVkaXRvcjogRWRpdG9yLCB1cmw6IHN0cmluZykge1xuICBpZiAoaXNMaW5rQWN0aXZlKGVkaXRvcikpIHtcbiAgICBUcmFuc2Zvcm1zLnVud3JhcE5vZGVzKGVkaXRvciwgeyBtYXRjaDogbiA9PiBuLnR5cGUgPT09ICdsaW5rJyB9KVxuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IGVkaXRvclxuICBjb25zdCBpc0NvbGxhcHNlZCA9IHNlbGVjdGlvbiAmJiBSYW5nZS5pc0NvbGxhcHNlZChzZWxlY3Rpb24pXG5cbiAgaWYgKGlzQ29sbGFwc2VkKSB7XG4gICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIHtcbiAgICAgIHR5cGU6ICdsaW5rJyxcbiAgICAgIGhyZWY6IHVybCxcbiAgICAgIGNoaWxkcmVuOiBbeyB0ZXh0OiB1cmwgfV0sXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICBUcmFuc2Zvcm1zLndyYXBOb2RlcyhcbiAgICAgIGVkaXRvcixcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2xpbmsnLFxuICAgICAgICBocmVmOiB1cmwsXG4gICAgICAgIGNoaWxkcmVuOiBbeyB0ZXh0OiAnJyB9XSxcbiAgICAgIH0sXG4gICAgICB7IHNwbGl0OiB0cnVlIH1cbiAgICApXG4gIH1cbn1cblxuY29uc3QgbWFya2Rvd25MaW5rUGF0dGVybiA9IC8oXnxcXHMpXFxbKC4rPylcXF1cXCgoXFxTKylcXCkkL1xuXG5leHBvcnQgZnVuY3Rpb24gd2l0aExpbmsoXG4gIGVkaXRvckRvY3VtZW50RmVhdHVyZXM6IERvY3VtZW50RmVhdHVyZXMsXG4gIGNvbXBvbmVudEJsb2NrczogUmVjb3JkPHN0cmluZywgQ29tcG9uZW50QmxvY2s+LFxuICBlZGl0b3I6IEVkaXRvclxuKTogRWRpdG9yIHtcbiAgY29uc3QgeyBpbnNlcnRUZXh0LCBpc0lubGluZSwgbm9ybWFsaXplTm9kZSB9ID0gZWRpdG9yXG5cbiAgZWRpdG9yLmlzSW5saW5lID0gZWxlbWVudCA9PiB7XG4gICAgcmV0dXJuIGVsZW1lbnQudHlwZSA9PT0gJ2xpbmsnID8gdHJ1ZSA6IGlzSW5saW5lKGVsZW1lbnQpXG4gIH1cblxuICBpZiAoZWRpdG9yRG9jdW1lbnRGZWF0dXJlcy5saW5rcykge1xuICAgIGVkaXRvci5pbnNlcnRUZXh0ID0gdGV4dCA9PiB7XG4gICAgICBpbnNlcnRUZXh0KHRleHQpXG4gICAgICBpZiAodGV4dCAhPT0gJyknIHx8ICFlZGl0b3Iuc2VsZWN0aW9uKSByZXR1cm5cbiAgICAgIGNvbnN0IHN0YXJ0T2ZCbG9jayA9IEVkaXRvci5zdGFydChcbiAgICAgICAgZWRpdG9yLFxuICAgICAgICBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgICAgICAgbWF0Y2g6IG5vZGUgPT4gRWxlbWVudC5pc0VsZW1lbnQobm9kZSkgJiYgRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBub2RlKSxcbiAgICAgICAgfSkhWzFdXG4gICAgICApXG5cbiAgICAgIGNvbnN0IHN0YXJ0T2ZCbG9ja1RvRW5kT2ZTaG9ydGN1dFN0cmluZyA9IEVkaXRvci5zdHJpbmcoZWRpdG9yLCB7XG4gICAgICAgIGFuY2hvcjogZWRpdG9yLnNlbGVjdGlvbi5hbmNob3IsXG4gICAgICAgIGZvY3VzOiBzdGFydE9mQmxvY2ssXG4gICAgICB9KVxuICAgICAgY29uc3QgbWF0Y2ggPSBtYXJrZG93bkxpbmtQYXR0ZXJuLmV4ZWMoc3RhcnRPZkJsb2NrVG9FbmRPZlNob3J0Y3V0U3RyaW5nKVxuICAgICAgaWYgKCFtYXRjaCkgcmV0dXJuXG4gICAgICBjb25zdCBhbmNlc3RvckNvbXBvbmVudENoaWxkRmllbGREb2N1bWVudEZlYXR1cmVzID1cbiAgICAgICAgZ2V0QW5jZXN0b3JDb21wb25lbnRDaGlsZEZpZWxkRG9jdW1lbnRGZWF0dXJlcyhcbiAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgZWRpdG9yRG9jdW1lbnRGZWF0dXJlcyxcbiAgICAgICAgICBjb21wb25lbnRCbG9ja3NcbiAgICAgICAgKVxuICAgICAgaWYgKGFuY2VzdG9yQ29tcG9uZW50Q2hpbGRGaWVsZERvY3VtZW50RmVhdHVyZXM/LmRvY3VtZW50RmVhdHVyZXMubGlua3MgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgY29uc3QgWywgbWF5YmVXaGl0ZXNwYWNlLCBsaW5rVGV4dCwgaHJlZl0gPSBtYXRjaFxuICAgICAgLy8gYnkgZG9pbmcgdGhpcywgdGhlIGluc2VydFRleHQoJyknKSBhYm92ZSB3aWxsIGhhcHBlbiBpbiBhIGRpZmZlcmVudCB1bmRvIHRoYW4gdGhlIGxpbmsgcmVwbGFjZW1lbnRcbiAgICAgIC8vIHNvIHRoYXQgbWVhbnMgdGhhdCB3aGVuIHNvbWVvbmUgZG9lcyBhbiB1bmRvIGFmdGVyIHRoaXNcbiAgICAgIC8vIGl0IHdpbGwgdW5kbyB0byB0aGUgc3RhdGUgb2YgXCJbY29udGVudF0obGluaylcIiByYXRoZXIgdGhhbiBcIltjb250ZW50XShsaW5rXCIgKG5vdGUgdGhlIG1pc3NpbmcgY2xvc2luZyBicmFja2V0KVxuICAgICAgZWRpdG9yLndyaXRlSGlzdG9yeSgndW5kb3MnLCB7IG9wZXJhdGlvbnM6IFtdLCBzZWxlY3Rpb25CZWZvcmU6IG51bGwgfSlcbiAgICAgIGNvbnN0IHN0YXJ0T2ZTaG9ydGN1dCA9XG4gICAgICAgIG1hdGNoLmluZGV4ID09PSAwXG4gICAgICAgICAgPyBzdGFydE9mQmxvY2tcbiAgICAgICAgICA6IEVkaXRvckFmdGVyQnV0SWdub3JpbmdpbmdQb2ludHNXaXRoTm9Db250ZW50KGVkaXRvciwgc3RhcnRPZkJsb2NrLCB7XG4gICAgICAgICAgICAgIGRpc3RhbmNlOiBtYXRjaC5pbmRleCxcbiAgICAgICAgICAgIH0pIVxuICAgICAgY29uc3Qgc3RhcnRPZkxpbmtUZXh0ID0gRWRpdG9yQWZ0ZXJCdXRJZ25vcmluZ2luZ1BvaW50c1dpdGhOb0NvbnRlbnQoXG4gICAgICAgIGVkaXRvcixcbiAgICAgICAgc3RhcnRPZlNob3J0Y3V0LFxuICAgICAgICB7XG4gICAgICAgICAgZGlzdGFuY2U6IG1heWJlV2hpdGVzcGFjZSA9PT0gJycgPyAxIDogMixcbiAgICAgICAgfVxuICAgICAgKSFcbiAgICAgIGNvbnN0IGVuZE9mTGlua1RleHQgPSBFZGl0b3JBZnRlckJ1dElnbm9yaW5naW5nUG9pbnRzV2l0aE5vQ29udGVudChlZGl0b3IsIHN0YXJ0T2ZMaW5rVGV4dCwge1xuICAgICAgICBkaXN0YW5jZTogbGlua1RleHQubGVuZ3RoLFxuICAgICAgfSkhXG5cbiAgICAgIFRyYW5zZm9ybXMuZGVsZXRlKGVkaXRvciwge1xuICAgICAgICBhdDogeyBhbmNob3I6IGVuZE9mTGlua1RleHQsIGZvY3VzOiBlZGl0b3Iuc2VsZWN0aW9uLmFuY2hvciB9LFxuICAgICAgfSlcbiAgICAgIFRyYW5zZm9ybXMuZGVsZXRlKGVkaXRvciwge1xuICAgICAgICBhdDogeyBhbmNob3I6IHN0YXJ0T2ZTaG9ydGN1dCwgZm9jdXM6IHN0YXJ0T2ZMaW5rVGV4dCB9LFxuICAgICAgfSlcblxuICAgICAgVHJhbnNmb3Jtcy53cmFwTm9kZXMoXG4gICAgICAgIGVkaXRvcixcbiAgICAgICAgeyB0eXBlOiAnbGluaycsIGhyZWYsIGNoaWxkcmVuOiBbXSB9LFxuICAgICAgICB7IGF0OiB7IGFuY2hvcjogZWRpdG9yLnNlbGVjdGlvbi5hbmNob3IsIGZvY3VzOiBzdGFydE9mU2hvcnRjdXQgfSwgc3BsaXQ6IHRydWUgfVxuICAgICAgKVxuICAgICAgY29uc3QgbmV4dE5vZGUgPSBFZGl0b3IubmV4dChlZGl0b3IpXG4gICAgICBpZiAobmV4dE5vZGUpIHtcbiAgICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBuZXh0Tm9kZVsxXSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlZGl0b3Iubm9ybWFsaXplTm9kZSA9IChbbm9kZSwgcGF0aF0pID0+IHtcbiAgICBpZiAobm9kZS50eXBlID09PSAnbGluaycpIHtcbiAgICAgIGlmIChOb2RlLnN0cmluZyhub2RlKSA9PT0gJycpIHtcbiAgICAgICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHsgYXQ6IHBhdGggfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IFtpZHgsIGNoaWxkXSBvZiBub2RlLmNoaWxkcmVuLmVudHJpZXMoKSkge1xuICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gJ2xpbmsnKSB7XG4gICAgICAgICAgLy8gbGlua3MgY2Fubm90IGNvbnRhaW4gbGlua3NcbiAgICAgICAgICBUcmFuc2Zvcm1zLnVud3JhcE5vZGVzKGVkaXRvciwgeyBhdDogWy4uLnBhdGgsIGlkeF0gfSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNJbmxpbmVDb250YWluZXIobm9kZSkpIHtcbiAgICAgIGxldCBsYXN0TWVyZ2FibGVMaW5rOiB7IGluZGV4OiBudW1iZXI7IG5vZGU6IE5vZGUgJiB7IHR5cGU6ICdsaW5rJyB9IH0gfCBudWxsID0gbnVsbFxuICAgICAgZm9yIChjb25zdCBbaWR4LCBjaGlsZF0gb2Ygbm9kZS5jaGlsZHJlbi5lbnRyaWVzKCkpIHtcbiAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09ICdsaW5rJyAmJiBjaGlsZC5ocmVmID09PSBsYXN0TWVyZ2FibGVMaW5rPy5ub2RlLmhyZWYpIHtcbiAgICAgICAgICBjb25zdCBmaXJzdExpbmtQYXRoID0gWy4uLnBhdGgsIGxhc3RNZXJnYWJsZUxpbmsuaW5kZXhdXG4gICAgICAgICAgY29uc3Qgc2Vjb25kTGlua1BhdGggPSBbLi4ucGF0aCwgaWR4XVxuICAgICAgICAgIGNvbnN0IHRvID0gWy4uLmZpcnN0TGlua1BhdGgsIGxhc3RNZXJnYWJsZUxpbmsubm9kZS5jaGlsZHJlbi5sZW5ndGhdXG4gICAgICAgICAgLy8gbm90ZSB0aGlzIGlzIGdvaW5nIGluIHJldmVyc2UsIGpzIGRvZXNuJ3QgaGF2ZSBkb3VibGUtZW5kZWQgaXRlcmF0b3JzIHNvIGl0J3MgYSBmb3IoOzspXG4gICAgICAgICAgZm9yIChsZXQgaSA9IGNoaWxkLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZFBhdGggPSBbLi4uc2Vjb25kTGlua1BhdGgsIGldXG4gICAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmVOb2RlcyhlZGl0b3IsIHsgYXQ6IGNoaWxkUGF0aCwgdG8gfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHsgYXQ6IHNlY29uZExpbmtQYXRoIH0pXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFUZXh0LmlzVGV4dChjaGlsZCkgfHwgY2hpbGQudGV4dCAhPT0gJycpIHtcbiAgICAgICAgICBsYXN0TWVyZ2FibGVMaW5rID0gbnVsbFxuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSAnbGluaycpIHtcbiAgICAgICAgICBsYXN0TWVyZ2FibGVMaW5rID0geyBpbmRleDogaWR4LCBub2RlOiBjaGlsZCB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbm9ybWFsaXplTm9kZShbbm9kZSwgcGF0aF0pXG4gIH1cblxuICByZXR1cm4gZWRpdG9yXG59XG4iXSwibmFtZXMiOlsiRWxlbWVudCIsIkVkaXRvciIsIk5vZGUiLCJSYW5nZSIsIlRyYW5zZm9ybXMiLCJUZXh0IiwiRWRpdG9yQWZ0ZXJCdXRJZ25vcmluZ2luZ1BvaW50c1dpdGhOb0NvbnRlbnQiLCJpc0VsZW1lbnRBY3RpdmUiLCJnZXRBbmNlc3RvckNvbXBvbmVudENoaWxkRmllbGREb2N1bWVudEZlYXR1cmVzIiwiaXNJbmxpbmVDb250YWluZXIiLCJpc0xpbmtBY3RpdmUiLCJlZGl0b3IiLCJ3cmFwTGluayIsInVybCIsInVud3JhcE5vZGVzIiwibWF0Y2giLCJuIiwidHlwZSIsInNlbGVjdGlvbiIsImlzQ29sbGFwc2VkIiwiaW5zZXJ0Tm9kZXMiLCJocmVmIiwiY2hpbGRyZW4iLCJ0ZXh0Iiwid3JhcE5vZGVzIiwic3BsaXQiLCJtYXJrZG93bkxpbmtQYXR0ZXJuIiwid2l0aExpbmsiLCJlZGl0b3JEb2N1bWVudEZlYXR1cmVzIiwiY29tcG9uZW50QmxvY2tzIiwiaW5zZXJ0VGV4dCIsImlzSW5saW5lIiwibm9ybWFsaXplTm9kZSIsImVsZW1lbnQiLCJsaW5rcyIsInN0YXJ0T2ZCbG9jayIsInN0YXJ0IiwiYWJvdmUiLCJub2RlIiwiaXNFbGVtZW50IiwiaXNCbG9jayIsInN0YXJ0T2ZCbG9ja1RvRW5kT2ZTaG9ydGN1dFN0cmluZyIsInN0cmluZyIsImFuY2hvciIsImZvY3VzIiwiZXhlYyIsImFuY2VzdG9yQ29tcG9uZW50Q2hpbGRGaWVsZERvY3VtZW50RmVhdHVyZXMiLCJkb2N1bWVudEZlYXR1cmVzIiwibWF5YmVXaGl0ZXNwYWNlIiwibGlua1RleHQiLCJ3cml0ZUhpc3RvcnkiLCJvcGVyYXRpb25zIiwic2VsZWN0aW9uQmVmb3JlIiwic3RhcnRPZlNob3J0Y3V0IiwiaW5kZXgiLCJkaXN0YW5jZSIsInN0YXJ0T2ZMaW5rVGV4dCIsImVuZE9mTGlua1RleHQiLCJsZW5ndGgiLCJkZWxldGUiLCJhdCIsIm5leHROb2RlIiwibmV4dCIsInNlbGVjdCIsInBhdGgiLCJpZHgiLCJjaGlsZCIsImVudHJpZXMiLCJsYXN0TWVyZ2FibGVMaW5rIiwiZmlyc3RMaW5rUGF0aCIsInNlY29uZExpbmtQYXRoIiwidG8iLCJpIiwiY2hpbGRQYXRoIiwibW92ZU5vZGVzIiwicmVtb3ZlTm9kZXMiLCJpc1RleHQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/link-shared.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/link.tsx":
/*!************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/link.tsx ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LinkElement: () => (/* binding */ LinkElement),\n/* harmony export */   linkButton: () => (/* binding */ linkButton)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_linkIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/icon/icons/linkIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-linkIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_externalLinkIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/icon/icons/externalLinkIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-externalLinkIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_editIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/icon/icons/editIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-editIcon.js\");\n/* harmony import */ var _toolbar_state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./toolbar-state */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state.tsx\");\n/* harmony import */ var _utils_hooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils-hooks */ \"../../../../packages/fields-document/src/DocumentEditor/utils-hooks.tsx\");\n/* harmony import */ var _isValidURL__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./isValidURL */ \"../../../../packages/fields-document/src/DocumentEditor/isValidURL.ts\");\n/* harmony import */ var _link_shared__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./link-shared */ \"../../../../packages/fields-document/src/DocumentEditor/link-shared.ts\");\n/* harmony import */ var _primitives_BlockPopover__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./primitives/BlockPopover */ \"../../../../packages/fields-document/src/DocumentEditor/primitives/BlockPopover.tsx\");\n/* harmony import */ var _keystar_ui_button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @keystar/ui/button */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-button.js\");\n/* harmony import */ var _keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @keystar/ui/dialog */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-dialog.js\");\n/* harmony import */ var _keystar_ui_layout__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @keystar/ui/layout */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-layout.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _fields_ui__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! #fields-ui */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/fields-ui-empty.tsx\");\n/* harmony import */ var _keystar_ui_slots__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @keystar/ui/slots */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-slots.js\");\n/* harmony import */ var _keystar_ui_icon_icons_unlinkIcon__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @keystar/ui/icon/icons/unlinkIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-unlinkIcon.js\");\n/* harmony import */ var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @braintree/sanitize-url */ \"../../../../node_modules/.pnpm/@braintree+sanitize-url@7.0.4/node_modules/@braintree/sanitize-url/dist/index.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _link_shared__WEBPACK_IMPORTED_MODULE_9__) if([\"default\",\"LinkElement\",\"linkButton\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _link_shared__WEBPACK_IMPORTED_MODULE_9__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction LinkElement({ attributes, children, element: __elementForGettingPath }) {\n    const editor = (0,slate_react__WEBPACK_IMPORTED_MODULE_20__.useSlateStatic)();\n    const [currentElement, setNode] = (0,_utils_hooks__WEBPACK_IMPORTED_MODULE_7__.useElementWithSetNodes)(editor, __elementForGettingPath);\n    const href = currentElement.href;\n    // const [localForceValidation, setLocalForceValidation] = useState(false)\n    const [dialogOpen, setDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const activePopoverElement = (0,_primitives_BlockPopover__WEBPACK_IMPORTED_MODULE_10__.useActiveBlockPopover)();\n    const selected = activePopoverElement === __elementForGettingPath;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LinkElement.useEffect\": ()=>{\n            if (selected && !href) {\n                setDialogOpen(true);\n            }\n        }\n    }[\"LinkElement.useEffect\"], [\n        href,\n        selected\n    ]);\n    const unlink = (0,_utils_hooks__WEBPACK_IMPORTED_MODULE_7__.useEventCallback)({\n        \"LinkElement.useEventCallback[unlink]\": ()=>{\n            slate__WEBPACK_IMPORTED_MODULE_21__.Transforms.unwrapNodes(editor, {\n                at: slate_react__WEBPACK_IMPORTED_MODULE_20__.ReactEditor.findPath(editor, __elementForGettingPath)\n            });\n        }\n    }[\"LinkElement.useEventCallback[unlink]\"]);\n    // const forceValidation = useForceValidation()\n    // TODO: show the invalid state\n    // const showInvalidState = isValidURL(href) ? false : forceValidation || localForceValidation\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_primitives_BlockPopover__WEBPACK_IMPORTED_MODULE_10__.BlockPopoverTrigger, {\n                element: __elementForGettingPath,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                        href: href,\n                        ...attributes,\n                        children: children\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_primitives_BlockPopover__WEBPACK_IMPORTED_MODULE_10__.BlockPopover, {\n                        placement: \"bottom start\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_13__.Flex, {\n                            gap: \"small\",\n                            padding: \"regular\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__.TooltipTrigger, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_11__.ActionButton, {\n                                            prominence: \"low\",\n                                            onPress: ()=>setDialogOpen(true),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n                                                src: _keystar_ui_icon_icons_editIcon__WEBPACK_IMPORTED_MODULE_5__.editIcon\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                                lineNumber: 66,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                            lineNumber: 65,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__.Tooltip, {\n                                            children: \"Edit\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                            lineNumber: 68,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                    lineNumber: 64,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__.TooltipTrigger, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_11__.ActionButton, {\n                                            prominence: \"low\",\n                                            onPress: ()=>{\n                                                window.open(href, '_blank', 'noopener,noreferrer');\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n                                                src: _keystar_ui_icon_icons_externalLinkIcon__WEBPACK_IMPORTED_MODULE_4__.externalLinkIcon\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                                lineNumber: 77,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                            lineNumber: 71,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__.Tooltip, {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_15__.Text, {\n                                                truncate: 3,\n                                                children: href\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                                lineNumber: 80,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                            lineNumber: 79,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                    lineNumber: 70,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__.TooltipTrigger, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_11__.ActionButton, {\n                                            prominence: \"low\",\n                                            onPress: unlink,\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n                                                src: _keystar_ui_icon_icons_unlinkIcon__WEBPACK_IMPORTED_MODULE_18__.unlinkIcon\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                                lineNumber: 85,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                            lineNumber: 84,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__.Tooltip, {\n                                            children: \"Unlink\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                            lineNumber: 88,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                    lineNumber: 83,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                            lineNumber: 63,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                        lineNumber: 62,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                lineNumber: 58,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_12__.DialogContainer, {\n                onDismiss: ()=>{\n                    setDialogOpen(false);\n                    (0,_utils_hooks__WEBPACK_IMPORTED_MODULE_7__.focusWithPreviousSelection)(editor);\n                },\n                children: dialogOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LinkDialog, {\n                    text: slate__WEBPACK_IMPORTED_MODULE_21__.Node.string(currentElement),\n                    href: href,\n                    onSubmit: (href)=>setNode({\n                            href\n                        })\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                    lineNumber: 100,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                lineNumber: 93,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\nfunction LinkDialog({ onSubmit, ...props }) {\n    const [href, setHref] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(props.href ?? '');\n    const [touched, setTouched] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { dismiss } = (0,_keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_12__.useDialogContainer)();\n    const sanitisedHref = encodeURI((0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_19__.sanitizeUrl)(href));\n    const isInvalid = touched && !(0,_isValidURL__WEBPACK_IMPORTED_MODULE_8__.isValidURL)(href);\n    function onBlur() {\n        if (href !== sanitisedHref && sanitisedHref !== 'about:blank') {\n            setHref(sanitisedHref);\n        }\n        setTouched(true);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_dialog__WEBPACK_IMPORTED_MODULE_12__.Dialog, {\n        size: \"small\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n            style: {\n                display: 'contents'\n            },\n            onSubmit: (event)=>{\n                if (event.target !== event.currentTarget) return;\n                event.preventDefault();\n                if (isInvalid) return;\n                dismiss();\n                onSubmit(sanitisedHref);\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_15__.Heading, {\n                    children: [\n                        props.href ? 'Edit' : 'Add',\n                        \" link\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                    lineNumber: 146,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_slots__WEBPACK_IMPORTED_MODULE_17__.Content, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_layout__WEBPACK_IMPORTED_MODULE_13__.Flex, {\n                        gap: \"large\",\n                        direction: \"column\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fields_ui__WEBPACK_IMPORTED_MODULE_16__.TextField, {\n                                label: \"Text\",\n                                value: props.text,\n                                isReadOnly: true\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                lineNumber: 149,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_fields_ui__WEBPACK_IMPORTED_MODULE_16__.TextField, {\n                                autoFocus: true,\n                                isRequired: true,\n                                onBlur: onBlur,\n                                label: \"Link\",\n                                onChange: setHref,\n                                value: href,\n                                errorMessage: isInvalid && 'This type of URL is not accepted'\n                            }, void 0, false, {\n                                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                                lineNumber: 150,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                        lineNumber: 148,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                    lineNumber: 147,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_11__.ButtonGroup, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_11__.Button, {\n                            onPress: dismiss,\n                            children: \"Cancel\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                            lineNumber: 162,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_11__.Button, {\n                            isDisabled: isInvalid,\n                            prominence: \"high\",\n                            type: \"submit\",\n                            children: \"Save\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                            lineNumber: 163,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                    lineNumber: 161,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n            lineNumber: 134,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n        lineNumber: 133,\n        columnNumber: 5\n    }, this);\n}\nlet _linkIcon = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n    src: _keystar_ui_icon_icons_linkIcon__WEBPACK_IMPORTED_MODULE_3__.linkIcon\n}, void 0, false, {\n    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n    lineNumber: 172,\n    columnNumber: 17\n}, undefined);\nfunction LinkButton() {\n    const { editor, links: { isDisabled, isSelected } } = (0,_toolbar_state__WEBPACK_IMPORTED_MODULE_6__.useToolbarState)();\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"LinkButton.useMemo\": ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_button__WEBPACK_IMPORTED_MODULE_11__.ActionButton, {\n                prominence: \"low\",\n                isDisabled: isDisabled,\n                isSelected: isSelected,\n                onPress: {\n                    \"LinkButton.useMemo\": ()=>{\n                        (0,_link_shared__WEBPACK_IMPORTED_MODULE_9__.wrapLink)(editor, '');\n                        slate_react__WEBPACK_IMPORTED_MODULE_20__.ReactEditor.focus(editor);\n                    }\n                }[\"LinkButton.useMemo\"],\n                children: _linkIcon\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                lineNumber: 181,\n                columnNumber: 7\n            }, this)\n    }[\"LinkButton.useMemo\"], [\n        isSelected,\n        isDisabled,\n        editor\n    ]);\n}\nconst linkButton = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__.TooltipTrigger, {\n    children: [\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LinkButton, {}, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n            lineNumber: 199,\n            columnNumber: 5\n        }, undefined),\n        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_14__.Tooltip, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_15__.Text, {\n                children: \"Link\"\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n                lineNumber: 201,\n                columnNumber: 7\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n            lineNumber: 200,\n            columnNumber: 5\n        }, undefined)\n    ]\n}, void 0, true, {\n    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/link.tsx\",\n    lineNumber: 198,\n    columnNumber: 3\n}, undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9saW5rLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0U7QUFDMUI7QUFDWTtBQUNXO0FBRXhCO0FBQ21CO0FBQ2dCO0FBQ2hCO0FBRVQ7QUFDbUQ7QUFDM0Q7QUFDRDtBQUM0RDtBQUM5QjtBQUNVO0FBQ3ZDO0FBQ29CO0FBQ1A7QUFDaEI7QUFDSztBQUNtQjtBQUNUO0FBRXhCO0FBRXRCLFNBQVNvQyxZQUFZLEVBQzFCQyxVQUFVLEVBQ1ZDLFFBQVEsRUFDUkMsU0FBU0MsdUJBQXVCLEVBQ21CO0lBQ25ELE1BQU1DLFNBQVNsQyw0REFBZUE7SUFDOUIsTUFBTSxDQUFDbUMsZ0JBQWdCQyxRQUFRLEdBQUc3QixvRUFBc0JBLENBQUMyQixRQUFRRDtJQUNqRSxNQUFNSSxPQUFPRixlQUFlRSxJQUFJO0lBRWhDLDBFQUEwRTtJQUMxRSxNQUFNLENBQUNDLFlBQVlDLGNBQWMsR0FBR3pDLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0wQyx1QkFBdUIzQixnRkFBcUJBO0lBQ2xELE1BQU00QixXQUFXRCx5QkFBeUJQO0lBRTFDckMsZ0RBQVNBO2lDQUFDO1lBQ1IsSUFBSTZDLFlBQVksQ0FBQ0osTUFBTTtnQkFDckJFLGNBQWM7WUFDaEI7UUFDRjtnQ0FBRztRQUFDRjtRQUFNSTtLQUFTO0lBRW5CLE1BQU1DLFNBQVNsQyw4REFBZ0JBO2dEQUFDO1lBQzlCYiw4Q0FBVUEsQ0FBQ2dELFdBQVcsQ0FBQ1QsUUFBUTtnQkFDN0JVLElBQUluRCxxREFBV0EsQ0FBQ29ELFFBQVEsQ0FBQ1gsUUFBUUQ7WUFDbkM7UUFDRjs7SUFDQSwrQ0FBK0M7SUFDL0MsK0JBQStCO0lBQy9CLDhGQUE4RjtJQUM5RixxQkFDRTs7MEJBQ0UsOERBQUNyQiwwRUFBbUJBO2dCQUFDb0IsU0FBU0M7O2tDQUM1Qiw4REFBQ2E7d0JBQUVULE1BQU1BO3dC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T0FBTzNDO2dDQUNQZ0QsY0FBY2pCLGFBQWE7Ozs7Ozs7Ozs7Ozs7Ozs7OzhCQUlqQyw4REFBQ3BELDREQUFXQTs7c0NBQ1YsOERBQUNELHVEQUFNQTs0QkFBQ29DLFNBQVNjO3NDQUFTOzs7Ozs7c0NBQzFCLDhEQUFDbEQsdURBQU1BOzRCQUFDdUUsWUFBWWxCOzRCQUFXbEIsWUFBVzs0QkFBT3FDLE1BQUs7c0NBQVM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT3pFO0FBRUEsSUFBSUMsMEJBQVksOERBQUN2RixrREFBSUE7SUFBQ21ELEtBQUtsRCxxRUFBUUE7Ozs7OztBQUVuQyxTQUFTdUY7SUFDUCxNQUFNLEVBQ0p2RCxNQUFNLEVBQ053RCxPQUFPLEVBQUVKLFVBQVUsRUFBRUssVUFBVSxFQUFFLEVBQ2xDLEdBQUd0RiwrREFBZUE7SUFDbkIsT0FBT1IsOENBQU9BOzhCQUNaLGtCQUNFLDhEQUFDaUIsNkRBQVlBO2dCQUNYb0MsWUFBVztnQkFDWG9DLFlBQVlBO2dCQUNaSyxZQUFZQTtnQkFDWnhDLE9BQU87MENBQUU7d0JBQ1B6QyxzREFBUUEsQ0FBQ3dCLFFBQVE7d0JBQ2pCekMscURBQVdBLENBQUNtRyxLQUFLLENBQUMxRDtvQkFDcEI7OzBCQUVDc0Q7Ozs7Ozs2QkFHTDtRQUFDRztRQUFZTDtRQUFZcEQ7S0FBTztBQUVwQztBQUVPLE1BQU0yRCwyQkFDWCw4REFBQ3ZFLGdFQUFjQTs7c0JBQ2IsOERBQUNtRTs7Ozs7c0JBQ0QsOERBQUNwRSx5REFBT0E7c0JBQ04sNEVBQUNHLHlEQUFJQTswQkFBQzs7Ozs7Ozs7Ozs7Ozs7OztjQUdYIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvbGluay50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBSZW5kZXJFbGVtZW50UHJvcHMsIFJlYWN0RWRpdG9yIH0gZnJvbSAnc2xhdGUtcmVhY3QnXG5pbXBvcnQgeyBOb2RlLCBUcmFuc2Zvcm1zIH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VTbGF0ZVN0YXRpYyBhcyB1c2VTdGF0aWNFZGl0b3IgfSBmcm9tICdzbGF0ZS1yZWFjdCdcblxuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24nXG5pbXBvcnQgeyBsaW5rSWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvbGlua0ljb24nXG5pbXBvcnQgeyBleHRlcm5hbExpbmtJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbi9pY29ucy9leHRlcm5hbExpbmtJY29uJ1xuaW1wb3J0IHsgZWRpdEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2VkaXRJY29uJ1xuXG5pbXBvcnQgeyB1c2VUb29sYmFyU3RhdGUgfSBmcm9tICcuL3Rvb2xiYXItc3RhdGUnXG5pbXBvcnQgeyBmb2N1c1dpdGhQcmV2aW91c1NlbGVjdGlvbiwgdXNlRWxlbWVudFdpdGhTZXROb2RlcywgdXNlRXZlbnRDYWxsYmFjayB9IGZyb20gJy4vdXRpbHMtaG9va3MnXG5pbXBvcnQgeyBpc1ZhbGlkVVJMIH0gZnJvbSAnLi9pc1ZhbGlkVVJMJ1xuaW1wb3J0IHsgd3JhcExpbmsgfSBmcm9tICcuL2xpbmstc2hhcmVkJ1xuaW1wb3J0IHsgQmxvY2tQb3BvdmVyLCBCbG9ja1BvcG92ZXJUcmlnZ2VyLCB1c2VBY3RpdmVCbG9ja1BvcG92ZXIgfSBmcm9tICcuL3ByaW1pdGl2ZXMvQmxvY2tQb3BvdmVyJ1xuaW1wb3J0IHsgQWN0aW9uQnV0dG9uLCBCdXR0b24sIEJ1dHRvbkdyb3VwIH0gZnJvbSAnQGtleXN0YXIvdWkvYnV0dG9uJ1xuaW1wb3J0IHsgRGlhbG9nLCBEaWFsb2dDb250YWluZXIsIHVzZURpYWxvZ0NvbnRhaW5lciB9IGZyb20gJ0BrZXlzdGFyL3VpL2RpYWxvZydcbmltcG9ydCB7IEZsZXggfSBmcm9tICdAa2V5c3Rhci91aS9sYXlvdXQnXG5pbXBvcnQgeyBUb29sdGlwLCBUb29sdGlwVHJpZ2dlciB9IGZyb20gJ0BrZXlzdGFyL3VpL3Rvb2x0aXAnXG5pbXBvcnQgeyBIZWFkaW5nLCBUZXh0IH0gZnJvbSAnQGtleXN0YXIvdWkvdHlwb2dyYXBoeSdcbmltcG9ydCB7IFRleHRGaWVsZCB9IGZyb20gJyNmaWVsZHMtdWknXG5pbXBvcnQgeyBDb250ZW50IH0gZnJvbSAnQGtleXN0YXIvdWkvc2xvdHMnXG5pbXBvcnQgeyB1bmxpbmtJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbi9pY29ucy91bmxpbmtJY29uJ1xuaW1wb3J0IHsgc2FuaXRpemVVcmwgfSBmcm9tICdAYnJhaW50cmVlL3Nhbml0aXplLXVybCdcblxuZXhwb3J0ICogZnJvbSAnLi9saW5rLXNoYXJlZCdcblxuZXhwb3J0IGZ1bmN0aW9uIExpbmtFbGVtZW50KHtcbiAgYXR0cmlidXRlcyxcbiAgY2hpbGRyZW4sXG4gIGVsZW1lbnQ6IF9fZWxlbWVudEZvckdldHRpbmdQYXRoLFxufTogUmVuZGVyRWxlbWVudFByb3BzICYgeyBlbGVtZW50OiB7IHR5cGU6ICdsaW5rJyB9IH0pIHtcbiAgY29uc3QgZWRpdG9yID0gdXNlU3RhdGljRWRpdG9yKClcbiAgY29uc3QgW2N1cnJlbnRFbGVtZW50LCBzZXROb2RlXSA9IHVzZUVsZW1lbnRXaXRoU2V0Tm9kZXMoZWRpdG9yLCBfX2VsZW1lbnRGb3JHZXR0aW5nUGF0aClcbiAgY29uc3QgaHJlZiA9IGN1cnJlbnRFbGVtZW50LmhyZWZcblxuICAvLyBjb25zdCBbbG9jYWxGb3JjZVZhbGlkYXRpb24sIHNldExvY2FsRm9yY2VWYWxpZGF0aW9uXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbZGlhbG9nT3Blbiwgc2V0RGlhbG9nT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgYWN0aXZlUG9wb3ZlckVsZW1lbnQgPSB1c2VBY3RpdmVCbG9ja1BvcG92ZXIoKVxuICBjb25zdCBzZWxlY3RlZCA9IGFjdGl2ZVBvcG92ZXJFbGVtZW50ID09PSBfX2VsZW1lbnRGb3JHZXR0aW5nUGF0aFxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkICYmICFocmVmKSB7XG4gICAgICBzZXREaWFsb2dPcGVuKHRydWUpXG4gICAgfVxuICB9LCBbaHJlZiwgc2VsZWN0ZWRdKVxuXG4gIGNvbnN0IHVubGluayA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgIFRyYW5zZm9ybXMudW53cmFwTm9kZXMoZWRpdG9yLCB7XG4gICAgICBhdDogUmVhY3RFZGl0b3IuZmluZFBhdGgoZWRpdG9yLCBfX2VsZW1lbnRGb3JHZXR0aW5nUGF0aCksXG4gICAgfSlcbiAgfSlcbiAgLy8gY29uc3QgZm9yY2VWYWxpZGF0aW9uID0gdXNlRm9yY2VWYWxpZGF0aW9uKClcbiAgLy8gVE9ETzogc2hvdyB0aGUgaW52YWxpZCBzdGF0ZVxuICAvLyBjb25zdCBzaG93SW52YWxpZFN0YXRlID0gaXNWYWxpZFVSTChocmVmKSA/IGZhbHNlIDogZm9yY2VWYWxpZGF0aW9uIHx8IGxvY2FsRm9yY2VWYWxpZGF0aW9uXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxCbG9ja1BvcG92ZXJUcmlnZ2VyIGVsZW1lbnQ9e19fZWxlbWVudEZvckdldHRpbmdQYXRofT5cbiAgICAgICAgPGEgaHJlZj17aHJlZn0gey4uLmF0dHJpYnV0ZXN9PlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9hPlxuICAgICAgICA8QmxvY2tQb3BvdmVyIHBsYWNlbWVudD1cImJvdHRvbSBzdGFydFwiPlxuICAgICAgICAgIDxGbGV4IGdhcD1cInNtYWxsXCIgcGFkZGluZz1cInJlZ3VsYXJcIj5cbiAgICAgICAgICAgIDxUb29sdGlwVHJpZ2dlcj5cbiAgICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBwcm9taW5lbmNlPVwibG93XCIgb25QcmVzcz17KCkgPT4gc2V0RGlhbG9nT3Blbih0cnVlKX0+XG4gICAgICAgICAgICAgICAgPEljb24gc3JjPXtlZGl0SWNvbn0gLz5cbiAgICAgICAgICAgICAgPC9BY3Rpb25CdXR0b24+XG4gICAgICAgICAgICAgIDxUb29sdGlwPkVkaXQ8L1Rvb2x0aXA+XG4gICAgICAgICAgICA8L1Rvb2x0aXBUcmlnZ2VyPlxuICAgICAgICAgICAgPFRvb2x0aXBUcmlnZ2VyPlxuICAgICAgICAgICAgICA8QWN0aW9uQnV0dG9uXG4gICAgICAgICAgICAgICAgcHJvbWluZW5jZT1cImxvd1wiXG4gICAgICAgICAgICAgICAgb25QcmVzcz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oaHJlZiwgJ19ibGFuaycsICdub29wZW5lcixub3JlZmVycmVyJylcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEljb24gc3JjPXtleHRlcm5hbExpbmtJY29ufSAvPlxuICAgICAgICAgICAgICA8L0FjdGlvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgPFRvb2x0aXA+XG4gICAgICAgICAgICAgICAgPFRleHQgdHJ1bmNhdGU9ezN9PntocmVmfTwvVGV4dD5cbiAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgPC9Ub29sdGlwVHJpZ2dlcj5cbiAgICAgICAgICAgIDxUb29sdGlwVHJpZ2dlcj5cbiAgICAgICAgICAgICAgPEFjdGlvbkJ1dHRvbiBwcm9taW5lbmNlPVwibG93XCIgb25QcmVzcz17dW5saW5rfT5cbiAgICAgICAgICAgICAgICA8SWNvbiBzcmM9e3VubGlua0ljb259IC8+XG4gICAgICAgICAgICAgIDwvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgICAgICB7LyogVE9ETzogbmVlZHMgbG9jYWxpemF0aW9uICovfVxuICAgICAgICAgICAgICA8VG9vbHRpcD5Vbmxpbms8L1Rvb2x0aXA+XG4gICAgICAgICAgICA8L1Rvb2x0aXBUcmlnZ2VyPlxuICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgPC9CbG9ja1BvcG92ZXI+XG4gICAgICA8L0Jsb2NrUG9wb3ZlclRyaWdnZXI+XG4gICAgICA8RGlhbG9nQ29udGFpbmVyXG4gICAgICAgIG9uRGlzbWlzcz17KCkgPT4ge1xuICAgICAgICAgIHNldERpYWxvZ09wZW4oZmFsc2UpXG4gICAgICAgICAgZm9jdXNXaXRoUHJldmlvdXNTZWxlY3Rpb24oZWRpdG9yKVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7ZGlhbG9nT3BlbiAmJiAoXG4gICAgICAgICAgPExpbmtEaWFsb2dcbiAgICAgICAgICAgIHRleHQ9e05vZGUuc3RyaW5nKGN1cnJlbnRFbGVtZW50KX1cbiAgICAgICAgICAgIGhyZWY9e2hyZWZ9XG4gICAgICAgICAgICBvblN1Ym1pdD17aHJlZiA9PiBzZXROb2RlKHsgaHJlZiB9KX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9EaWFsb2dDb250YWluZXI+XG4gICAgPC8+XG4gIClcbn1cblxuZnVuY3Rpb24gTGlua0RpYWxvZyh7XG4gIG9uU3VibWl0LFxuICAuLi5wcm9wc1xufToge1xuICBocmVmPzogc3RyaW5nXG4gIHRleHQ/OiBzdHJpbmdcbiAgb25TdWJtaXQ6IChocmVmOiBzdHJpbmcpID0+IHZvaWRcbn0pIHtcbiAgY29uc3QgW2hyZWYsIHNldEhyZWZdID0gdXNlU3RhdGUocHJvcHMuaHJlZiA/PyAnJylcbiAgY29uc3QgW3RvdWNoZWQsIHNldFRvdWNoZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IHsgZGlzbWlzcyB9ID0gdXNlRGlhbG9nQ29udGFpbmVyKClcbiAgY29uc3Qgc2FuaXRpc2VkSHJlZiA9IGVuY29kZVVSSShzYW5pdGl6ZVVybChocmVmKSlcbiAgY29uc3QgaXNJbnZhbGlkID0gdG91Y2hlZCAmJiAhaXNWYWxpZFVSTChocmVmKVxuXG4gIGZ1bmN0aW9uIG9uQmx1cigpIHtcbiAgICBpZiAoaHJlZiAhPT0gc2FuaXRpc2VkSHJlZiAmJiBzYW5pdGlzZWRIcmVmICE9PSAnYWJvdXQ6YmxhbmsnKSB7XG4gICAgICBzZXRIcmVmKHNhbml0aXNlZEhyZWYpXG4gICAgfVxuICAgIHNldFRvdWNoZWQodHJ1ZSlcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPERpYWxvZyBzaXplPVwic21hbGxcIj5cbiAgICAgIDxmb3JtXG4gICAgICAgIHN0eWxlPXt7IGRpc3BsYXk6ICdjb250ZW50cycgfX1cbiAgICAgICAgb25TdWJtaXQ9e2V2ZW50ID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSBldmVudC5jdXJyZW50VGFyZ2V0KSByZXR1cm5cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgICBpZiAoaXNJbnZhbGlkKSByZXR1cm5cblxuICAgICAgICAgIGRpc21pc3MoKVxuICAgICAgICAgIG9uU3VibWl0KHNhbml0aXNlZEhyZWYpXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxIZWFkaW5nPntwcm9wcy5ocmVmID8gJ0VkaXQnIDogJ0FkZCd9IGxpbms8L0hlYWRpbmc+XG4gICAgICAgIDxDb250ZW50PlxuICAgICAgICAgIDxGbGV4IGdhcD1cImxhcmdlXCIgZGlyZWN0aW9uPVwiY29sdW1uXCI+XG4gICAgICAgICAgICA8VGV4dEZpZWxkIGxhYmVsPVwiVGV4dFwiIHZhbHVlPXtwcm9wcy50ZXh0fSBpc1JlYWRPbmx5IC8+XG4gICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgIGF1dG9Gb2N1c1xuICAgICAgICAgICAgICBpc1JlcXVpcmVkXG4gICAgICAgICAgICAgIG9uQmx1cj17b25CbHVyfVxuICAgICAgICAgICAgICBsYWJlbD1cIkxpbmtcIlxuICAgICAgICAgICAgICBvbkNoYW5nZT17c2V0SHJlZn1cbiAgICAgICAgICAgICAgdmFsdWU9e2hyZWZ9XG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZT17aXNJbnZhbGlkICYmICdUaGlzIHR5cGUgb2YgVVJMIGlzIG5vdCBhY2NlcHRlZCd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvRmxleD5cbiAgICAgICAgPC9Db250ZW50PlxuICAgICAgICA8QnV0dG9uR3JvdXA+XG4gICAgICAgICAgPEJ1dHRvbiBvblByZXNzPXtkaXNtaXNzfT5DYW5jZWw8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uIGlzRGlzYWJsZWQ9e2lzSW52YWxpZH0gcHJvbWluZW5jZT1cImhpZ2hcIiB0eXBlPVwic3VibWl0XCI+XG4gICAgICAgICAgICBTYXZlXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvQnV0dG9uR3JvdXA+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9EaWFsb2c+XG4gIClcbn1cblxubGV0IF9saW5rSWNvbiA9IDxJY29uIHNyYz17bGlua0ljb259IC8+XG5cbmZ1bmN0aW9uIExpbmtCdXR0b24oKSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0b3IsXG4gICAgbGlua3M6IHsgaXNEaXNhYmxlZCwgaXNTZWxlY3RlZCB9LFxuICB9ID0gdXNlVG9vbGJhclN0YXRlKClcbiAgcmV0dXJuIHVzZU1lbW8oXG4gICAgKCkgPT4gKFxuICAgICAgPEFjdGlvbkJ1dHRvblxuICAgICAgICBwcm9taW5lbmNlPVwibG93XCJcbiAgICAgICAgaXNEaXNhYmxlZD17aXNEaXNhYmxlZH1cbiAgICAgICAgaXNTZWxlY3RlZD17aXNTZWxlY3RlZH1cbiAgICAgICAgb25QcmVzcz17KCkgPT4ge1xuICAgICAgICAgIHdyYXBMaW5rKGVkaXRvciwgJycpXG4gICAgICAgICAgUmVhY3RFZGl0b3IuZm9jdXMoZWRpdG9yKVxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7X2xpbmtJY29ufVxuICAgICAgPC9BY3Rpb25CdXR0b24+XG4gICAgKSxcbiAgICBbaXNTZWxlY3RlZCwgaXNEaXNhYmxlZCwgZWRpdG9yXVxuICApXG59XG5cbmV4cG9ydCBjb25zdCBsaW5rQnV0dG9uID0gKFxuICA8VG9vbHRpcFRyaWdnZXI+XG4gICAgPExpbmtCdXR0b24gLz5cbiAgICA8VG9vbHRpcD5cbiAgICAgIDxUZXh0Pkxpbms8L1RleHQ+XG4gICAgPC9Ub29sdGlwPlxuICA8L1Rvb2x0aXBUcmlnZ2VyPlxuKVxuIl0sIm5hbWVzIjpbIlJlYWN0RWRpdG9yIiwiTm9kZSIsIlRyYW5zZm9ybXMiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJ1c2VTbGF0ZVN0YXRpYyIsInVzZVN0YXRpY0VkaXRvciIsIkljb24iLCJsaW5rSWNvbiIsImV4dGVybmFsTGlua0ljb24iLCJlZGl0SWNvbiIsInVzZVRvb2xiYXJTdGF0ZSIsImZvY3VzV2l0aFByZXZpb3VzU2VsZWN0aW9uIiwidXNlRWxlbWVudFdpdGhTZXROb2RlcyIsInVzZUV2ZW50Q2FsbGJhY2siLCJpc1ZhbGlkVVJMIiwid3JhcExpbmsiLCJCbG9ja1BvcG92ZXIiLCJCbG9ja1BvcG92ZXJUcmlnZ2VyIiwidXNlQWN0aXZlQmxvY2tQb3BvdmVyIiwiQWN0aW9uQnV0dG9uIiwiQnV0dG9uIiwiQnV0dG9uR3JvdXAiLCJEaWFsb2ciLCJEaWFsb2dDb250YWluZXIiLCJ1c2VEaWFsb2dDb250YWluZXIiLCJGbGV4IiwiVG9vbHRpcCIsIlRvb2x0aXBUcmlnZ2VyIiwiSGVhZGluZyIsIlRleHQiLCJUZXh0RmllbGQiLCJDb250ZW50IiwidW5saW5rSWNvbiIsInNhbml0aXplVXJsIiwiTGlua0VsZW1lbnQiLCJhdHRyaWJ1dGVzIiwiY2hpbGRyZW4iLCJlbGVtZW50IiwiX19lbGVtZW50Rm9yR2V0dGluZ1BhdGgiLCJlZGl0b3IiLCJjdXJyZW50RWxlbWVudCIsInNldE5vZGUiLCJocmVmIiwiZGlhbG9nT3BlbiIsInNldERpYWxvZ09wZW4iLCJhY3RpdmVQb3BvdmVyRWxlbWVudCIsInNlbGVjdGVkIiwidW5saW5rIiwidW53cmFwTm9kZXMiLCJhdCIsImZpbmRQYXRoIiwiYSIsInBsYWNlbWVudCIsImdhcCIsInBhZGRpbmciLCJwcm9taW5lbmNlIiwib25QcmVzcyIsInNyYyIsIndpbmRvdyIsIm9wZW4iLCJ0cnVuY2F0ZSIsIm9uRGlzbWlzcyIsIkxpbmtEaWFsb2ciLCJ0ZXh0Iiwic3RyaW5nIiwib25TdWJtaXQiLCJwcm9wcyIsInNldEhyZWYiLCJ0b3VjaGVkIiwic2V0VG91Y2hlZCIsImRpc21pc3MiLCJzYW5pdGlzZWRIcmVmIiwiZW5jb2RlVVJJIiwiaXNJbnZhbGlkIiwib25CbHVyIiwic2l6ZSIsImZvcm0iLCJzdHlsZSIsImRpc3BsYXkiLCJldmVudCIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJwcmV2ZW50RGVmYXVsdCIsImRpcmVjdGlvbiIsImxhYmVsIiwidmFsdWUiLCJpc1JlYWRPbmx5IiwiYXV0b0ZvY3VzIiwiaXNSZXF1aXJlZCIsIm9uQ2hhbmdlIiwiZXJyb3JNZXNzYWdlIiwiaXNEaXNhYmxlZCIsInR5cGUiLCJfbGlua0ljb24iLCJMaW5rQnV0dG9uIiwibGlua3MiLCJpc1NlbGVjdGVkIiwiZm9jdXMiLCJsaW5rQnV0dG9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/link.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/lists-shared.ts":
/*!*******************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/lists-shared.ts ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isListNode: () => (/* binding */ isListNode),\n/* harmony export */   isListType: () => (/* binding */ isListType),\n/* harmony export */   nestList: () => (/* binding */ nestList),\n/* harmony export */   toggleList: () => (/* binding */ toggleList),\n/* harmony export */   unnestList: () => (/* binding */ unnestList),\n/* harmony export */   withList: () => (/* binding */ withList)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n/* harmony import */ var _toolbar_state_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./toolbar-state-shared */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state-shared.ts\");\n\n\n\nconst isListType = (type)=>type === 'ordered-list' || type === 'unordered-list';\nconst isListNode = (node)=>isListType(node.type);\nconst toggleList = (editor, format)=>{\n    const listAbove = (0,_toolbar_state_shared__WEBPACK_IMPORTED_MODULE_1__.getListTypeAbove)(editor);\n    const isActive = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.isElementActive)(editor, format) && (listAbove === 'none' || listAbove === format);\n    slate__WEBPACK_IMPORTED_MODULE_2__.Editor.withoutNormalizing(editor, ()=>{\n        slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.unwrapNodes(editor, {\n            match: isListNode,\n            split: true,\n            mode: isActive ? 'all' : 'lowest'\n        });\n        if (!isActive) {\n            slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.wrapNodes(editor, {\n                type: format,\n                children: []\n            }, {\n                match: (x)=>x.type !== 'list-item-content' && slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(x) && slate__WEBPACK_IMPORTED_MODULE_2__.Editor.isBlock(editor, x)\n            });\n        }\n    });\n};\nfunction getAncestorList(editor) {\n    if (editor.selection) {\n        const listItem = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.above(editor, {\n            match: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.nodeTypeMatcher)('list-item')\n        });\n        const list = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.above(editor, {\n            match: isListNode\n        });\n        if (listItem && list) {\n            return {\n                isInside: true,\n                listItem,\n                list\n            };\n        }\n    }\n    return {\n        isInside: false\n    };\n}\nfunction withList(editor) {\n    const { insertBreak, normalizeNode, deleteBackward } = editor;\n    editor.deleteBackward = (unit)=>{\n        if (editor.selection) {\n            const ancestorList = getAncestorList(editor);\n            if (ancestorList.isInside && slate__WEBPACK_IMPORTED_MODULE_2__.Range.isCollapsed(editor.selection) && slate__WEBPACK_IMPORTED_MODULE_2__.Editor.isStart(editor, editor.selection.anchor, ancestorList.list[1])) {\n                slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.unwrapNodes(editor, {\n                    match: isListNode,\n                    split: true\n                });\n                return;\n            }\n        }\n        deleteBackward(unit);\n    };\n    editor.insertBreak = ()=>{\n        const [listItem] = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.nodes(editor, {\n            match: (node)=>node.type === 'list-item',\n            mode: 'lowest'\n        });\n        if (listItem && slate__WEBPACK_IMPORTED_MODULE_2__.Node.string(listItem[0]) === '') {\n            slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.unwrapNodes(editor, {\n                match: isListNode,\n                split: true\n            });\n            return;\n        }\n        insertBreak();\n    };\n    editor.normalizeNode = (entry)=>{\n        const [node, path] = entry;\n        if (slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(node) || slate__WEBPACK_IMPORTED_MODULE_2__.Editor.isEditor(node)) {\n            const isElementBeingNormalizedAList = isListNode(node);\n            for (const [childNode, childPath] of slate__WEBPACK_IMPORTED_MODULE_2__.Node.children(editor, path)){\n                const index = childPath[childPath.length - 1];\n                // merge sibling lists\n                if (isListNode(childNode)) {\n                    if (node.children[childPath[childPath.length - 1] + 1]?.type === childNode.type) {\n                        const siblingNodePath = slate__WEBPACK_IMPORTED_MODULE_2__.Path.next(childPath);\n                        (0,_utils__WEBPACK_IMPORTED_MODULE_0__.moveChildren)(editor, siblingNodePath, [\n                            ...childPath,\n                            childNode.children.length\n                        ]);\n                        slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.removeNodes(editor, {\n                            at: siblingNodePath\n                        });\n                        return;\n                    }\n                    if (isElementBeingNormalizedAList) {\n                        const previousChild = node.children[index - 1];\n                        if (slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(previousChild)) {\n                            slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.moveNodes(editor, {\n                                at: childPath,\n                                to: [\n                                    ...slate__WEBPACK_IMPORTED_MODULE_2__.Path.previous(childPath),\n                                    previousChild.children.length - 1\n                                ]\n                            });\n                        } else {\n                            slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.unwrapNodes(editor, {\n                                at: childPath\n                            });\n                        }\n                        return;\n                    }\n                }\n                if (node.type === 'list-item' && childNode.type !== 'list-item-content' && index === 0 && slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(childNode) && slate__WEBPACK_IMPORTED_MODULE_2__.Editor.isBlock(editor, childNode)) {\n                    if (path[path.length - 1] !== 0) {\n                        const previousChild = slate__WEBPACK_IMPORTED_MODULE_2__.Node.get(editor, slate__WEBPACK_IMPORTED_MODULE_2__.Path.previous(path));\n                        if (slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(previousChild)) {\n                            slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.moveNodes(editor, {\n                                at: path,\n                                to: [\n                                    ...slate__WEBPACK_IMPORTED_MODULE_2__.Path.previous(path),\n                                    previousChild.children.length\n                                ]\n                            });\n                            return;\n                        }\n                    }\n                    slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.unwrapNodes(editor, {\n                        at: childPath\n                    });\n                    return;\n                }\n                if (node.type === 'list-item' && childNode.type === 'list-item-content' && index !== 0) {\n                    slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.splitNodes(editor, {\n                        at: childPath\n                    });\n                    return;\n                }\n            }\n        }\n        normalizeNode(entry);\n    };\n    return editor;\n}\nfunction nestList(editor) {\n    const block = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.above(editor, {\n        match: (n)=>slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(n) && slate__WEBPACK_IMPORTED_MODULE_2__.Editor.isBlock(editor, n)\n    });\n    if (!block || block[0].type !== 'list-item-content') {\n        return false;\n    }\n    const listItemPath = slate__WEBPACK_IMPORTED_MODULE_2__.Path.parent(block[1]);\n    // we're the first item in the list therefore we can't nest\n    if (listItemPath[listItemPath.length - 1] === 0) {\n        return false;\n    }\n    const previousListItemPath = slate__WEBPACK_IMPORTED_MODULE_2__.Path.previous(listItemPath);\n    const previousListItemNode = slate__WEBPACK_IMPORTED_MODULE_2__.Node.get(editor, previousListItemPath);\n    if (previousListItemNode.children.length !== 1) {\n        // there's a list nested inside our previous sibling list item so move there\n        slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.moveNodes(editor, {\n            at: listItemPath,\n            to: [\n                ...previousListItemPath,\n                previousListItemNode.children.length - 1,\n                previousListItemNode.children[previousListItemNode.children.length - 1].children.length\n            ]\n        });\n        return true;\n    }\n    const type = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.parent(editor, slate__WEBPACK_IMPORTED_MODULE_2__.Path.parent(block[1]))[0].type;\n    slate__WEBPACK_IMPORTED_MODULE_2__.Editor.withoutNormalizing(editor, ()=>{\n        slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.wrapNodes(editor, {\n            type,\n            children: []\n        }, {\n            at: listItemPath\n        });\n        slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.moveNodes(editor, {\n            to: [\n                ...previousListItemPath,\n                previousListItemNode.children.length\n            ],\n            at: listItemPath\n        });\n    });\n    return true;\n}\nfunction unnestList(editor) {\n    const block = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.above(editor, {\n        match: (n)=>slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(n) && slate__WEBPACK_IMPORTED_MODULE_2__.Editor.isBlock(editor, n)\n    });\n    if (block && block[0].type === 'list-item-content') {\n        slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.unwrapNodes(editor, {\n            match: isListNode,\n            split: true\n        });\n        return true;\n    }\n    return false;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9saXN0cy1zaGFyZWQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXNFO0FBQ0U7QUFDZjtBQUVsRCxNQUFNVSxhQUFhLENBQUNDLE9BQ3pCQSxTQUFTLGtCQUFrQkEsU0FBUyxpQkFBZ0I7QUFFL0MsTUFBTUMsYUFBYSxDQUN4QkMsT0FDa0VILFdBQVdHLEtBQUtGLElBQUksRUFBQztBQUVsRixNQUFNRyxhQUFhLENBQUNDLFFBQWdCQztJQUN6QyxNQUFNQyxZQUFZUix1RUFBZ0JBLENBQUNNO0lBQ25DLE1BQU1HLFdBQVdaLHVEQUFlQSxDQUFDUyxRQUFRQyxXQUFZQyxDQUFBQSxjQUFjLFVBQVVBLGNBQWNELE1BQUs7SUFDaEdoQix5Q0FBTUEsQ0FBQ21CLGtCQUFrQixDQUFDSixRQUFRO1FBQ2hDWCw2Q0FBVUEsQ0FBQ2dCLFdBQVcsQ0FBQ0wsUUFBUTtZQUM3Qk0sT0FBT1Q7WUFDUFUsT0FBTztZQUNQQyxNQUFNTCxXQUFXLFFBQVE7UUFDM0I7UUFDQSxJQUFJLENBQUNBLFVBQVU7WUFDYmQsNkNBQVVBLENBQUNvQixTQUFTLENBQ2xCVCxRQUNBO2dCQUFFSixNQUFNSztnQkFBUVMsVUFBVSxFQUFFO1lBQUMsR0FDN0I7Z0JBQ0VKLE9BQU9LLENBQUFBLElBQ0xBLEVBQUVmLElBQUksS0FBSyx1QkFBdUJWLDBDQUFPQSxDQUFDMEIsU0FBUyxDQUFDRCxNQUFNMUIseUNBQU1BLENBQUM0QixPQUFPLENBQUNiLFFBQVFXO1lBQ3JGO1FBRUo7SUFDRjtBQUNGLEVBQUM7QUFFRCxTQUFTRyxnQkFBZ0JkLE1BQWM7SUFDckMsSUFBSUEsT0FBT2UsU0FBUyxFQUFFO1FBQ3BCLE1BQU1DLFdBQVcvQix5Q0FBTUEsQ0FBQ2dDLEtBQUssQ0FBQ2pCLFFBQVE7WUFDcENNLE9BQU9iLHVEQUFlQSxDQUFDO1FBQ3pCO1FBQ0EsTUFBTXlCLE9BQU9qQyx5Q0FBTUEs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QUNULFFBQVE7WUFBRUo7WUFBTWMsVUFBVSxFQUFFO1FBQUMsR0FBRztZQUFFZ0MsSUFBSVU7UUFBYTtRQUN4RS9ELDZDQUFVQSxDQUFDdUQsU0FBUyxDQUFDNUMsUUFBUTtZQUMzQjZDLElBQUk7bUJBQUlTO2dCQUFzQkMscUJBQXFCN0MsUUFBUSxDQUFDNEIsTUFBTTthQUFDO1lBQ25FSSxJQUFJVTtRQUNOO0lBQ0Y7SUFDQSxPQUFPO0FBQ1Q7QUFFTyxTQUFTSSxXQUFXeEQsTUFBYztJQUN2QyxNQUFNa0QsUUFBUWpFLHlDQUFNQSxDQUFDZ0MsS0FBSyxDQUFDakIsUUFBUTtRQUNqQ00sT0FBTzZDLENBQUFBLElBQUtqRSwwQ0FBT0EsQ0FBQzBCLFNBQVMsQ0FBQ3VDLE1BQU1sRSx5Q0FBTUEsQ0FBQzRCLE9BQU8sQ0FBQ2IsUUFBUW1EO0lBQzdEO0lBRUEsSUFBSUQsU0FBU0EsS0FBSyxDQUFDLEVBQUUsQ0FBQ3RELElBQUksS0FBSyxxQkFBcUI7UUFDbERQLDZDQUFVQSxDQUFDZ0IsV0FBVyxDQUFDTCxRQUFRO1lBQzdCTSxPQUFPVDtZQUNQVSxPQUFPO1FBQ1Q7UUFDQSxPQUFPO0lBQ1Q7SUFDQSxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9saXN0cy1zaGFyZWQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWRpdG9yLCBFbGVtZW50LCBOb2RlLCBQYXRoLCBUcmFuc2Zvcm1zLCBSYW5nZSB9IGZyb20gJ3NsYXRlJ1xuaW1wb3J0IHsgaXNFbGVtZW50QWN0aXZlLCBtb3ZlQ2hpbGRyZW4sIG5vZGVUeXBlTWF0Y2hlciB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyBnZXRMaXN0VHlwZUFib3ZlIH0gZnJvbSAnLi90b29sYmFyLXN0YXRlLXNoYXJlZCdcblxuZXhwb3J0IGNvbnN0IGlzTGlzdFR5cGUgPSAodHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PlxuICB0eXBlID09PSAnb3JkZXJlZC1saXN0JyB8fCB0eXBlID09PSAndW5vcmRlcmVkLWxpc3QnXG5cbmV4cG9ydCBjb25zdCBpc0xpc3ROb2RlID0gKFxuICBub2RlOiBOb2RlXG4pOiBub2RlIGlzIEVsZW1lbnQgJiB7IHR5cGU6ICdvcmRlcmVkLWxpc3QnIHwgJ3Vub3JkZXJlZC1saXN0JyB9ID0+IGlzTGlzdFR5cGUobm9kZS50eXBlKVxuXG5leHBvcnQgY29uc3QgdG9nZ2xlTGlzdCA9IChlZGl0b3I6IEVkaXRvciwgZm9ybWF0OiAnb3JkZXJlZC1saXN0JyB8ICd1bm9yZGVyZWQtbGlzdCcpID0+IHtcbiAgY29uc3QgbGlzdEFib3ZlID0gZ2V0TGlzdFR5cGVBYm92ZShlZGl0b3IpXG4gIGNvbnN0IGlzQWN0aXZlID0gaXNFbGVtZW50QWN0aXZlKGVkaXRvciwgZm9ybWF0KSAmJiAobGlzdEFib3ZlID09PSAnbm9uZScgfHwgbGlzdEFib3ZlID09PSBmb3JtYXQpXG4gIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCAoKSA9PiB7XG4gICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHtcbiAgICAgIG1hdGNoOiBpc0xpc3ROb2RlLFxuICAgICAgc3BsaXQ6IHRydWUsXG4gICAgICBtb2RlOiBpc0FjdGl2ZSA/ICdhbGwnIDogJ2xvd2VzdCcsXG4gICAgfSlcbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICBUcmFuc2Zvcm1zLndyYXBOb2RlcyhcbiAgICAgICAgZWRpdG9yLFxuICAgICAgICB7IHR5cGU6IGZvcm1hdCwgY2hpbGRyZW46IFtdIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBtYXRjaDogeCA9PlxuICAgICAgICAgICAgeC50eXBlICE9PSAnbGlzdC1pdGVtLWNvbnRlbnQnICYmIEVsZW1lbnQuaXNFbGVtZW50KHgpICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgeCksXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gIH0pXG59XG5cbmZ1bmN0aW9uIGdldEFuY2VzdG9yTGlzdChlZGl0b3I6IEVkaXRvcikge1xuICBpZiAoZWRpdG9yLnNlbGVjdGlvbikge1xuICAgIGNvbnN0IGxpc3RJdGVtID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgbWF0Y2g6IG5vZGVUeXBlTWF0Y2hlcignbGlzdC1pdGVtJyksXG4gICAgfSlcbiAgICBjb25zdCBsaXN0ID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgbWF0Y2g6IGlzTGlzdE5vZGUsXG4gICAgfSlcbiAgICBpZiAobGlzdEl0ZW0gJiYgbGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNJbnNpZGU6IHRydWUsXG4gICAgICAgIGxpc3RJdGVtLFxuICAgICAgICBsaXN0LFxuICAgICAgfSBhcyBjb25zdFxuICAgIH1cbiAgfVxuICByZXR1cm4geyBpc0luc2lkZTogZmFsc2UgfSBhcyBjb25zdFxufVxuXG5leHBvcnQgZnVuY3Rpb24gd2l0aExpc3QoZWRpdG9yOiBFZGl0b3IpOiBFZGl0b3Ige1xuICBjb25zdCB7IGluc2VydEJyZWFrLCBub3JtYWxpemVOb2RlLCBkZWxldGVCYWNrd2FyZCB9ID0gZWRpdG9yXG4gIGVkaXRvci5kZWxldGVCYWNrd2FyZCA9IHVuaXQgPT4ge1xuICAgIGlmIChlZGl0b3Iuc2VsZWN0aW9uKSB7XG4gICAgICBjb25zdCBhbmNlc3Rvckxpc3QgPSBnZXRBbmNlc3Rvckxpc3QoZWRpdG9yKVxuICAgICAgaWYgKFxuICAgICAgICBhbmNlc3Rvckxpc3QuaXNJbnNpZGUgJiZcbiAgICAgICAgUmFuZ2UuaXNDb2xsYXBzZWQoZWRpdG9yLnNlbGVjdGlvbikgJiZcbiAgICAgICAgRWRpdG9yLmlzU3RhcnQoZWRpdG9yLCBlZGl0b3Iuc2VsZWN0aW9uLmFuY2hvciwgYW5jZXN0b3JMaXN0Lmxpc3RbMV0pXG4gICAgICApIHtcbiAgICAgICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBtYXRjaDogaXNMaXN0Tm9kZSxcbiAgICAgICAgICBzcGxpdDogdHJ1ZSxcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICAgIGRlbGV0ZUJhY2t3YXJkKHVuaXQpXG4gIH1cbiAgZWRpdG9yLmluc2VydEJyZWFrID0gKCkgPT4ge1xuICAgIGNvbnN0IFtsaXN0SXRlbV0gPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICBtYXRjaDogbm9kZSA9PiBub2RlLnR5cGUgPT09ICdsaXN0LWl0ZW0nLFxuICAgICAgbW9kZTogJ2xvd2VzdCcsXG4gICAgfSlcbiAgICBpZiAobGlzdEl0ZW0gJiYgTm9kZS5zdHJpbmcobGlzdEl0ZW1bMF0pID09PSAnJykge1xuICAgICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgbWF0Y2g6IGlzTGlzdE5vZGUsXG4gICAgICAgIHNwbGl0OiB0cnVlLFxuICAgICAgfSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGluc2VydEJyZWFrKClcbiAgfVxuXG4gIGVkaXRvci5ub3JtYWxpemVOb2RlID0gZW50cnkgPT4ge1xuICAgIGNvbnN0IFtub2RlLCBwYXRoXSA9IGVudHJ5XG4gICAgaWYgKEVsZW1lbnQuaXNFbGVtZW50KG5vZGUpIHx8IEVkaXRvci5pc0VkaXRvcihub2RlKSkge1xuICAgICAgY29uc3QgaXNFbGVtZW50QmVpbmdOb3JtYWxpemVkQUxpc3QgPSBpc0xpc3ROb2RlKG5vZGUpXG4gICAgICBmb3IgKGNvbnN0IFtjaGlsZE5vZGUsIGNoaWxkUGF0aF0gb2YgTm9kZS5jaGlsZHJlbihlZGl0b3IsIHBhdGgpKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gY2hpbGRQYXRoW2NoaWxkUGF0aC5sZW5ndGggLSAxXVxuICAgICAgICAvLyBtZXJnZSBzaWJsaW5nIGxpc3RzXG4gICAgICAgIGlmIChpc0xpc3ROb2RlKGNoaWxkTm9kZSkpIHtcbiAgICAgICAgICBpZiAobm9kZS5jaGlsZHJlbltjaGlsZFBhdGhbY2hpbGRQYXRoLmxlbmd0aCAtIDFdICsgMV0/LnR5cGUgPT09IGNoaWxkTm9kZS50eXBlKSB7XG4gICAgICAgICAgICBjb25zdCBzaWJsaW5nTm9kZVBhdGggPSBQYXRoLm5leHQoY2hpbGRQYXRoKVxuICAgICAgICAgICAgbW92ZUNoaWxkcmVuKGVkaXRvciwgc2libGluZ05vZGVQYXRoLCBbLi4uY2hpbGRQYXRoLCBjaGlsZE5vZGUuY2hpbGRyZW4ubGVuZ3RoXSlcbiAgICAgICAgICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7IGF0OiBzaWJsaW5nTm9kZVBhdGggfSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNFbGVtZW50QmVpbmdOb3JtYWxpemVkQUxpc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzQ2hpbGQgPSBub2RlLmNoaWxkcmVuW2luZGV4IC0gMV1cbiAgICAgICAgICAgIGlmIChFbGVtZW50LmlzRWxlbWVudChwcmV2aW91c0NoaWxkKSkge1xuICAgICAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgICBhdDogY2hpbGRQYXRoLFxuICAgICAgICAgICAgICAgIHRvOiBbLi4uUGF0aC5wcmV2aW91cyhjaGlsZFBhdGgpLCBwcmV2aW91c0NoaWxkLmNoaWxkcmVuLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHsgYXQ6IGNoaWxkUGF0aCB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBub2RlLnR5cGUgPT09ICdsaXN0LWl0ZW0nICYmXG4gICAgICAgICAgY2hpbGROb2RlLnR5cGUgIT09ICdsaXN0LWl0ZW0tY29udGVudCcgJiZcbiAgICAgICAgICBpbmRleCA9PT0gMCAmJlxuICAgICAgICAgIEVsZW1lbnQuaXNFbGVtZW50KGNoaWxkTm9kZSkgJiZcbiAgICAgICAgICBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIGNoaWxkTm9kZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKHBhdGhbcGF0aC5sZW5ndGggLSAxXSAhPT0gMCkge1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNDaGlsZCA9IE5vZGUuZ2V0KGVkaXRvciwgUGF0aC5wcmV2aW91cyhwYXRoKSlcblxuICAgICAgICAgICAgaWYgKEVsZW1lbnQuaXNFbGVtZW50KHByZXZpb3VzQ2hpbGQpKSB7XG4gICAgICAgICAgICAgIFRyYW5zZm9ybXMubW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgICAgIGF0OiBwYXRoLFxuICAgICAgICAgICAgICAgIHRvOiBbLi4uUGF0aC5wcmV2aW91cyhwYXRoKSwgcHJldmlvdXNDaGlsZC5jaGlsZHJlbi5sZW5ndGhdLFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHsgYXQ6IGNoaWxkUGF0aCB9KVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnR5cGUgPT09ICdsaXN0LWl0ZW0nICYmIGNoaWxkTm9kZS50eXBlID09PSAnbGlzdC1pdGVtLWNvbnRlbnQnICYmIGluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgVHJhbnNmb3Jtcy5zcGxpdE5vZGVzKGVkaXRvciwgeyBhdDogY2hpbGRQYXRoIH0pXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBub3JtYWxpemVOb2RlKGVudHJ5KVxuICB9XG4gIHJldHVybiBlZGl0b3Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5lc3RMaXN0KGVkaXRvcjogRWRpdG9yKSB7XG4gIGNvbnN0IGJsb2NrID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgIG1hdGNoOiBuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbiksXG4gIH0pXG5cbiAgaWYgKCFibG9jayB8fCBibG9ja1swXS50eXBlICE9PSAnbGlzdC1pdGVtLWNvbnRlbnQnKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgY29uc3QgbGlzdEl0ZW1QYXRoID0gUGF0aC5wYXJlbnQoYmxvY2tbMV0pXG4gIC8vIHdlJ3JlIHRoZSBmaXJzdCBpdGVtIGluIHRoZSBsaXN0IHRoZXJlZm9yZSB3ZSBjYW4ndCBuZXN0XG4gIGlmIChsaXN0SXRlbVBhdGhbbGlzdEl0ZW1QYXRoLmxlbmd0aCAtIDFdID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgY29uc3QgcHJldmlvdXNMaXN0SXRlbVBhdGggPSBQYXRoLnByZXZpb3VzKGxpc3RJdGVtUGF0aClcbiAgY29uc3QgcHJldmlvdXNMaXN0SXRlbU5vZGUgPSBOb2RlLmdldChlZGl0b3IsIHByZXZpb3VzTGlzdEl0ZW1QYXRoKSBhcyBFbGVtZW50XG4gIGlmIChwcmV2aW91c0xpc3RJdGVtTm9kZS5jaGlsZHJlbi5sZW5ndGggIT09IDEpIHtcbiAgICAvLyB0aGVyZSdzIGEgbGlzdCBuZXN0ZWQgaW5zaWRlIG91ciBwcmV2aW91cyBzaWJsaW5nIGxpc3QgaXRlbSBzbyBtb3ZlIHRoZXJlXG4gICAgVHJhbnNmb3Jtcy5tb3ZlTm9kZXMoZWRpdG9yLCB7XG4gICAgICBhdDogbGlzdEl0ZW1QYXRoLFxuICAgICAgdG86IFtcbiAgICAgICAgLi4ucHJldmlvdXNMaXN0SXRlbVBhdGgsXG4gICAgICAgIHByZXZpb3VzTGlzdEl0ZW1Ob2RlLmNoaWxkcmVuLmxlbmd0aCAtIDEsXG4gICAgICAgIChwcmV2aW91c0xpc3RJdGVtTm9kZS5jaGlsZHJlbltwcmV2aW91c0xpc3RJdGVtTm9kZS5jaGlsZHJlbi5sZW5ndGggLSAxXSBhcyBhbnkpLmNoaWxkcmVuXG4gICAgICAgICAgLmxlbmd0aCxcbiAgICAgIF0sXG4gICAgfSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIGNvbnN0IHR5cGUgPSBFZGl0b3IucGFyZW50KGVkaXRvciwgUGF0aC5wYXJlbnQoYmxvY2tbMV0pKVswXS50eXBlIGFzXG4gICAgfCAnb3JkZXJlZC1saXN0J1xuICAgIHwgJ3Vub3JkZXJlZC1saXN0J1xuICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgKCkgPT4ge1xuICAgIFRyYW5zZm9ybXMud3JhcE5vZGVzKGVkaXRvciwgeyB0eXBlLCBjaGlsZHJlbjogW10gfSwgeyBhdDogbGlzdEl0ZW1QYXRoIH0pXG4gICAgVHJhbnNmb3Jtcy5tb3ZlTm9kZXMoZWRpdG9yLCB7XG4gICAgICB0bzogWy4uLnByZXZpb3VzTGlzdEl0ZW1QYXRoLCBwcmV2aW91c0xpc3RJdGVtTm9kZS5jaGlsZHJlbi5sZW5ndGhdLFxuICAgICAgYXQ6IGxpc3RJdGVtUGF0aCxcbiAgICB9KVxuICB9KVxuICByZXR1cm4gdHJ1ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5uZXN0TGlzdChlZGl0b3I6IEVkaXRvcikge1xuICBjb25zdCBibG9jayA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICBtYXRjaDogbiA9PiBFbGVtZW50LmlzRWxlbWVudChuKSAmJiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pLFxuICB9KVxuXG4gIGlmIChibG9jayAmJiBibG9ja1swXS50eXBlID09PSAnbGlzdC1pdGVtLWNvbnRlbnQnKSB7XG4gICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHtcbiAgICAgIG1hdGNoOiBpc0xpc3ROb2RlLFxuICAgICAgc3BsaXQ6IHRydWUsXG4gICAgfSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuIl0sIm5hbWVzIjpbIkVkaXRvciIsIkVsZW1lbnQiLCJOb2RlIiwiUGF0aCIsIlRyYW5zZm9ybXMiLCJSYW5nZSIsImlzRWxlbWVudEFjdGl2ZSIsIm1vdmVDaGlsZHJlbiIsIm5vZGVUeXBlTWF0Y2hlciIsImdldExpc3RUeXBlQWJvdmUiLCJpc0xpc3RUeXBlIiwidHlwZSIsImlzTGlzdE5vZGUiLCJub2RlIiwidG9nZ2xlTGlzdCIsImVkaXRvciIsImZvcm1hdCIsImxpc3RBYm92ZSIsImlzQWN0aXZlIiwid2l0aG91dE5vcm1hbGl6aW5nIiwidW53cmFwTm9kZXMiLCJtYXRjaCIsInNwbGl0IiwibW9kZSIsIndyYXBOb2RlcyIsImNoaWxkcmVuIiwieCIsImlzRWxlbWVudCIsImlzQmxvY2siLCJnZXRBbmNlc3Rvckxpc3QiLCJzZWxlY3Rpb24iLCJsaXN0SXRlbSIsImFib3ZlIiwibGlzdCIsImlzSW5zaWRlIiwid2l0aExpc3QiLCJpbnNlcnRCcmVhayIsIm5vcm1hbGl6ZU5vZGUiLCJkZWxldGVCYWNrd2FyZCIsInVuaXQiLCJhbmNlc3Rvckxpc3QiLCJpc0NvbGxhcHNlZCIsImlzU3RhcnQiLCJhbmNob3IiLCJub2RlcyIsInN0cmluZyIsImVudHJ5IiwicGF0aCIsImlzRWRpdG9yIiwiaXNFbGVtZW50QmVpbmdOb3JtYWxpemVkQUxpc3QiLCJjaGlsZE5vZGUiLCJjaGlsZFBhdGgiLCJpbmRleCIsImxlbmd0aCIsInNpYmxpbmdOb2RlUGF0aCIsIm5leHQiLCJyZW1vdmVOb2RlcyIsImF0IiwicHJldmlvdXNDaGlsZCIsIm1vdmVOb2RlcyIsInRvIiwicHJldmlvdXMiLCJnZXQiLCJzcGxpdE5vZGVzIiwibmVzdExpc3QiLCJibG9jayIsIm4iLCJsaXN0SXRlbVBhdGgiLCJwYXJlbnQiLCJwcmV2aW91c0xpc3RJdGVtUGF0aCIsInByZXZpb3VzTGlzdEl0ZW1Ob2RlIiwidW5uZXN0TGlzdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/lists-shared.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/lists.tsx":
/*!*************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/lists.tsx ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ListButtons: () => (/* binding */ ListButtons),\n/* harmony export */   isListNode: () => (/* binding */ isListNode),\n/* harmony export */   isListType: () => (/* binding */ isListType)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _toolbar_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toolbar-state */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state.tsx\");\n/* harmony import */ var _lists_shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lists-shared */ \"../../../../packages/fields-document/src/DocumentEditor/lists-shared.ts\");\n/* harmony import */ var _keystar_ui_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/icon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var _keystar_ui_icon_icons_listIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystar/ui/icon/icons/listIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-listIcon.js\");\n/* harmony import */ var _keystar_ui_icon_icons_listOrderedIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/icon/icons/listOrderedIcon */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-icon-icons-listOrderedIcon.js\");\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var _keystar_ui_editor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystar/ui/editor */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-editor.js\");\n/* harmony import */ var _keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystar/ui/tooltip */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-tooltip.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst isListType = (type)=>type === 'ordered-list' || type === 'unordered-list';\nconst isListNode = (node)=>isListType(node.type);\nfunction ListButtons(props) {\n    const { editor, lists } = (0,_toolbar_state__WEBPACK_IMPORTED_MODULE_2__.useToolbarState)();\n    const items = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ListButtons.useMemo[items]\": ()=>{\n            return [\n                !!props.lists.unordered && {\n                    label: 'Bullet list',\n                    key: 'unordered',\n                    shortcut: '-',\n                    icon: _keystar_ui_icon_icons_listIcon__WEBPACK_IMPORTED_MODULE_6__.listIcon\n                },\n                !!props.lists.unordered && {\n                    label: 'Numbered list',\n                    key: 'ordered',\n                    shortcut: '1.',\n                    icon: _keystar_ui_icon_icons_listOrderedIcon__WEBPACK_IMPORTED_MODULE_7__.listOrderedIcon\n                }\n            ].filter(removeFalse);\n        }\n    }[\"ListButtons.useMemo[items]\"], [\n        props.lists\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"ListButtons.useMemo\": ()=>{\n            const disabledKeys = [];\n            if (lists.ordered.isDisabled) disabledKeys.push('ordered');\n            if (lists.unordered.isDisabled) disabledKeys.push('unordered');\n            const activeListType = lists.ordered.isSelected ? 'ordered' : lists.unordered.isSelected ? 'unordered' : null;\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_editor__WEBPACK_IMPORTED_MODULE_8__.EditorToolbarGroup, {\n                \"aria-label\": \"Lists\",\n                value: activeListType,\n                disabledKeys: disabledKeys,\n                onChange: {\n                    \"ListButtons.useMemo\": (key)=>{\n                        const format = `${key}-list`;\n                        (0,_lists_shared__WEBPACK_IMPORTED_MODULE_3__.toggleList)(editor, format);\n                        slate_react__WEBPACK_IMPORTED_MODULE_10__.ReactEditor.focus(editor);\n                    }\n                }[\"ListButtons.useMemo\"],\n                selectionMode: \"single\",\n                children: items.map({\n                    \"ListButtons.useMemo\": (item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipTrigger, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_editor__WEBPACK_IMPORTED_MODULE_8__.EditorToolbarItem, {\n                                    value: item.key,\n                                    \"aria-label\": item.label,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_icon__WEBPACK_IMPORTED_MODULE_4__.Icon, {\n                                        src: item.icon\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/lists.tsx\",\n                                        lineNumber: 66,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/lists.tsx\",\n                                    lineNumber: 65,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.Tooltip, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_5__.Text, {\n                                            children: item.label\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/lists.tsx\",\n                                            lineNumber: 69,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_5__.Kbd, {\n                                            children: item.shortcut\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/lists.tsx\",\n                                            lineNumber: 70,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/lists.tsx\",\n                                    lineNumber: 68,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, item.key, true, {\n                            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/lists.tsx\",\n                            lineNumber: 64,\n                            columnNumber: 11\n                        }, this)\n                }[\"ListButtons.useMemo\"])\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/lists.tsx\",\n                lineNumber: 52,\n                columnNumber: 7\n            }, this);\n        }\n    }[\"ListButtons.useMemo\"], [\n        editor,\n        lists.ordered.isDisabled,\n        lists.ordered.isSelected,\n        lists.unordered.isDisabled,\n        lists.unordered.isSelected,\n        props.lists.ordered,\n        props.lists.unordered\n    ]);\n}\nfunction removeFalse(val) {\n    return val !== false;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9saXN0cy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFHa0I7QUFDTjtBQUNKO0FBQ1c7QUFDUTtBQUNjO0FBQy9CO0FBQ2lDO0FBQ2I7QUFFdEQsTUFBTWEsYUFBYSxDQUFDQyxPQUN6QkEsU0FBUyxrQkFBa0JBLFNBQVMsaUJBQWdCO0FBRS9DLE1BQU1DLGFBQWEsQ0FDeEJDLE9BQ2tFSCxXQUFXRyxLQUFLRixJQUFJLEVBQUM7QUFFbEYsU0FBU0csWUFBWUMsS0FBMEQ7SUFDcEYsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLEtBQUssRUFBRSxHQUFHbkIsK0RBQWVBO0lBRXpDLE1BQU1vQixRQUFRckIsOENBQU9BO3NDQUFDO1lBQ3BCLE9BQU87Z0JBQ0wsQ0FBQyxDQUFDa0IsTUFBTUUsS0FBSyxDQUFDRSxTQUFTLElBQUk7b0JBQ3pCQyxPQUFPO29CQUNQQyxLQUFLO29CQUNMQyxVQUFVO29CQUNWQyxNQUFNcEIscUVBQVFBO2dCQUNoQjtnQkFDQSxDQUFDLENBQUNZLE1BQU1FLEtBQUssQ0FBQ0UsU0FBUyxJQUFJO29CQUN6QkMsT0FBTztvQkFDUEMsS0FBSztvQkFDTEMsVUFBVTtvQkFDVkMsTUFBTW5CLG1GQUFlQTtnQkFDdkI7YUFDRCxDQUFDb0IsTUFBTSxDQUFDQztRQUNYO3FDQUFHO1FBQUNWLE1BQU1FLEtBQUs7S0FBQztJQUVoQixPQUFPcEIsOENBQU9BOytCQUFDO1lBQ2IsTUFBTTZCLGVBQXlCLEVBQUU7WUFDakMsSUFBSVQsTUFBTVUsT0FBTyxDQUFDQyxVQUFVLEVBQUVGLGFBQWFHLElBQUksQ0FBQztZQUNoRCxJQUFJWixNQUFNRSxTQUFTLENBQUNTLFVBQVUsRUFBRUYsYUFBYUcsSUFBSSxDQUFDO1lBQ2xELE1BQU1DLGlCQUFpQmIsTUFBTVUsT0FBTyxDQUFDSSxVQUFVLEdBQzNDLFlBQ0FkLE1BQU1FLFNBQVMsQ0FBQ1ksVUFBVSxHQUN4QixjQUNBO1lBRU4scUJBQ0UsOERBQUN6QixrRUFBa0JBO2dCQUNqQjBCLGNBQVc7Z0JBQ1hDLE9BQU9IO2dCQUNQSixjQUFjQTtnQkFDZFEsUUFBUTsyQ0FBRWIsQ0FBQUE7d0JBQ1IsTUFBTWMsU0FBUyxHQUFHZCxJQUErQixLQUFLLENBQUM7d0JBQ3ZEdEIseURBQVVBLENBQUNpQixRQUFRbUI7d0JBQ25COUIscURBQVdBLENBQUMrQixLQUFLLENBQUNwQjtvQkFDcEI7O2dCQUNBcUIsZUFBYzswQkFFYm5CLE1BQU1vQixHQUFHOzJDQUFDQyxDQUFBQSxxQkFDVCw4REFBQy9CLCtEQUFjQTs7OENBQ2IsOERBQUNELGlFQUFpQkE7b0NBQUMwQixPQUFPTSxLQUFLbEIsR0FBRztvQ0FBRVcsY0FBWU8sS0FBS25CLEtBQUs7OENBQ3hELDRFQUFDcEIsa0RBQUlBO3dDQUFDd0MsS0FBS0QsS0FBS2hCLElBQUk7Ozs7Ozs7Ozs7OzhDQUV0Qiw4REFBQ2Qsd0RBQU9BOztzREFDTiw4REFBQ1Asd0RBQUlBO3NEQUFFcUMsS0FBS25CLEtBQUs7Ozs7OztzREFDakIsOERBQUNuQix1REFBR0E7c0RBQUVzQyxLQUFLakIsUUFBUTs7Ozs7Ozs7Ozs7OzsyQkFORmlCLEtBQUtsQixHQUFHOzs7Ozs7Ozs7OztRQVlyQzs4QkFBRztRQUNETDtRQUNBQyxNQUFNVSxPQUFPLENBQUNDLFVBQVU7UUFDeEJYLE1BQU1VLE9BQU8sQ0FBQ0ksVUFBVTtRQUN4QmQsTUFBTUUsU0FBUyxDQUFDUyxVQUFVO1FBQzFCWCxNQUFNRSxTQUFTLENBQUNZLFVBQVU7UUFDMUJoQixNQUFNRSxLQUFLLENBQUNVLE9BQU87UUFDbkJaLE1BQU1FLEtBQUssQ0FBQ0UsU0FBUztLQUN0QjtBQUNIO0FBRUEsU0FBU00sWUFBZWdCLEdBQU07SUFDNUIsT0FBT0EsUUFBUTtBQUNqQiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL2xpc3RzLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB0eXBlIEVsZW1lbnQsIHR5cGUgTm9kZSB9IGZyb20gJ3NsYXRlJ1xuXG5pbXBvcnQgeyB1c2VUb29sYmFyU3RhdGUgfSBmcm9tICcuL3Rvb2xiYXItc3RhdGUnXG5pbXBvcnQgeyB0b2dnbGVMaXN0IH0gZnJvbSAnLi9saXN0cy1zaGFyZWQnXG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnQGtleXN0YXIvdWkvaWNvbidcbmltcG9ydCB7IEtiZCwgVGV4dCB9IGZyb20gJ0BrZXlzdGFyL3VpL3R5cG9ncmFwaHknXG5pbXBvcnQgeyBsaXN0SWNvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL2ljb24vaWNvbnMvbGlzdEljb24nXG5pbXBvcnQgeyBsaXN0T3JkZXJlZEljb24gfSBmcm9tICdAa2V5c3Rhci91aS9pY29uL2ljb25zL2xpc3RPcmRlcmVkSWNvbidcbmltcG9ydCB7IFJlYWN0RWRpdG9yIH0gZnJvbSAnc2xhdGUtcmVhY3QnXG5pbXBvcnQgeyBFZGl0b3JUb29sYmFyR3JvdXAsIEVkaXRvclRvb2xiYXJJdGVtIH0gZnJvbSAnQGtleXN0YXIvdWkvZWRpdG9yJ1xuaW1wb3J0IHsgVG9vbHRpcFRyaWdnZXIsIFRvb2x0aXAgfSBmcm9tICdAa2V5c3Rhci91aS90b29sdGlwJ1xuXG5leHBvcnQgY29uc3QgaXNMaXN0VHlwZSA9ICh0eXBlOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+XG4gIHR5cGUgPT09ICdvcmRlcmVkLWxpc3QnIHx8IHR5cGUgPT09ICd1bm9yZGVyZWQtbGlzdCdcblxuZXhwb3J0IGNvbnN0IGlzTGlzdE5vZGUgPSAoXG4gIG5vZGU6IE5vZGVcbik6IG5vZGUgaXMgRWxlbWVudCAmIHsgdHlwZTogJ29yZGVyZWQtbGlzdCcgfCAndW5vcmRlcmVkLWxpc3QnIH0gPT4gaXNMaXN0VHlwZShub2RlLnR5cGUpXG5cbmV4cG9ydCBmdW5jdGlvbiBMaXN0QnV0dG9ucyhwcm9wczogeyBsaXN0czogeyBvcmRlcmVkOiBib29sZWFuOyB1bm9yZGVyZWQ6IGJvb2xlYW4gfSB9KSB7XG4gIGNvbnN0IHsgZWRpdG9yLCBsaXN0cyB9ID0gdXNlVG9vbGJhclN0YXRlKClcblxuICBjb25zdCBpdGVtcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBbXG4gICAgICAhIXByb3BzLmxpc3RzLnVub3JkZXJlZCAmJiB7XG4gICAgICAgIGxhYmVsOiAnQnVsbGV0IGxpc3QnLFxuICAgICAgICBrZXk6ICd1bm9yZGVyZWQnLFxuICAgICAgICBzaG9ydGN1dDogJy3ijrUnLFxuICAgICAgICBpY29uOiBsaXN0SWNvbixcbiAgICAgIH0sXG4gICAgICAhIXByb3BzLmxpc3RzLnVub3JkZXJlZCAmJiB7XG4gICAgICAgIGxhYmVsOiAnTnVtYmVyZWQgbGlzdCcsXG4gICAgICAgIGtleTogJ29yZGVyZWQnLFxuICAgICAgICBzaG9ydGN1dDogJzEu4o61JyxcbiAgICAgICAgaWNvbjogbGlzdE9yZGVyZWRJY29uLFxuICAgICAgfSxcbiAgICBdLmZpbHRlcihyZW1vdmVGYWxzZSlcbiAgfSwgW3Byb3BzLmxpc3RzXSlcblxuICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZGlzYWJsZWRLZXlzOiBzdHJpbmdbXSA9IFtdXG4gICAgaWYgKGxpc3RzLm9yZGVyZWQuaXNEaXNhYmxlZCkgZGlzYWJsZWRLZXlzLnB1c2goJ29yZGVyZWQnKVxuICAgIGlmIChsaXN0cy51bm9yZGVyZWQuaXNEaXNhYmxlZCkgZGlzYWJsZWRLZXlzLnB1c2goJ3Vub3JkZXJlZCcpXG4gICAgY29uc3QgYWN0aXZlTGlzdFR5cGUgPSBsaXN0cy5vcmRlcmVkLmlzU2VsZWN0ZWRcbiAgICAgID8gJ29yZGVyZWQnXG4gICAgICA6IGxpc3RzLnVub3JkZXJlZC5pc1NlbGVjdGVkXG4gICAgICAgID8gJ3Vub3JkZXJlZCdcbiAgICAgICAgOiBudWxsXG5cbiAgICByZXR1cm4gKFxuICAgICAgPEVkaXRvclRvb2xiYXJHcm91cFxuICAgICAgICBhcmlhLWxhYmVsPVwiTGlzdHNcIlxuICAgICAgICB2YWx1ZT17YWN0aXZlTGlzdFR5cGV9XG4gICAgICAgIGRpc2FibGVkS2V5cz17ZGlzYWJsZWRLZXlzfVxuICAgICAgICBvbkNoYW5nZT17a2V5ID0+IHtcbiAgICAgICAgICBjb25zdCBmb3JtYXQgPSBgJHtrZXkgYXMgJ29yZGVyZWQnIHwgJ3Vub3JkZXJlZCd9LWxpc3RgIGFzIGNvbnN0XG4gICAgICAgICAgdG9nZ2xlTGlzdChlZGl0b3IsIGZvcm1hdClcbiAgICAgICAgICBSZWFjdEVkaXRvci5mb2N1cyhlZGl0b3IpXG4gICAgICAgIH19XG4gICAgICAgIHNlbGVjdGlvbk1vZGU9XCJzaW5nbGVcIlxuICAgICAgPlxuICAgICAgICB7aXRlbXMubWFwKGl0ZW0gPT4gKFxuICAgICAgICAgIDxUb29sdGlwVHJpZ2dlciBrZXk9e2l0ZW0ua2V5fT5cbiAgICAgICAgICAgIDxFZGl0b3JUb29sYmFySXRlbSB2YWx1ZT17aXRlbS5rZXl9IGFyaWEtbGFiZWw9e2l0ZW0ubGFiZWx9PlxuICAgICAgICAgICAgICA8SWNvbiBzcmM9e2l0ZW0uaWNvbn0gLz5cbiAgICAgICAgICAgIDwvRWRpdG9yVG9vbGJhckl0ZW0+XG4gICAgICAgICAgICA8VG9vbHRpcD5cbiAgICAgICAgICAgICAgPFRleHQ+e2l0ZW0ubGFiZWx9PC9UZXh0PlxuICAgICAgICAgICAgICA8S2JkPntpdGVtLnNob3J0Y3V0fTwvS2JkPlxuICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgIDwvVG9vbHRpcFRyaWdnZXI+XG4gICAgICAgICkpfVxuICAgICAgPC9FZGl0b3JUb29sYmFyR3JvdXA+XG4gICAgKVxuICB9LCBbXG4gICAgZWRpdG9yLFxuICAgIGxpc3RzLm9yZGVyZWQuaXNEaXNhYmxlZCxcbiAgICBsaXN0cy5vcmRlcmVkLmlzU2VsZWN0ZWQsXG4gICAgbGlzdHMudW5vcmRlcmVkLmlzRGlzYWJsZWQsXG4gICAgbGlzdHMudW5vcmRlcmVkLmlzU2VsZWN0ZWQsXG4gICAgcHJvcHMubGlzdHMub3JkZXJlZCxcbiAgICBwcm9wcy5saXN0cy51bm9yZGVyZWQsXG4gIF0pXG59XG5cbmZ1bmN0aW9uIHJlbW92ZUZhbHNlPFQ+KHZhbDogVCk6IHZhbCBpcyBFeGNsdWRlPFQsIGZhbHNlPiB7XG4gIHJldHVybiB2YWwgIT09IGZhbHNlXG59XG4iXSwibmFtZXMiOlsidXNlTWVtbyIsInVzZVRvb2xiYXJTdGF0ZSIsInRvZ2dsZUxpc3QiLCJJY29uIiwiS2JkIiwiVGV4dCIsImxpc3RJY29uIiwibGlzdE9yZGVyZWRJY29uIiwiUmVhY3RFZGl0b3IiLCJFZGl0b3JUb29sYmFyR3JvdXAiLCJFZGl0b3JUb29sYmFySXRlbSIsIlRvb2x0aXBUcmlnZ2VyIiwiVG9vbHRpcCIsImlzTGlzdFR5cGUiLCJ0eXBlIiwiaXNMaXN0Tm9kZSIsIm5vZGUiLCJMaXN0QnV0dG9ucyIsInByb3BzIiwiZWRpdG9yIiwibGlzdHMiLCJpdGVtcyIsInVub3JkZXJlZCIsImxhYmVsIiwia2V5Iiwic2hvcnRjdXQiLCJpY29uIiwiZmlsdGVyIiwicmVtb3ZlRmFsc2UiLCJkaXNhYmxlZEtleXMiLCJvcmRlcmVkIiwiaXNEaXNhYmxlZCIsInB1c2giLCJhY3RpdmVMaXN0VHlwZSIsImlzU2VsZWN0ZWQiLCJhcmlhLWxhYmVsIiwidmFsdWUiLCJvbkNoYW5nZSIsImZvcm1hdCIsImZvY3VzIiwic2VsZWN0aW9uTW9kZSIsIm1hcCIsIml0ZW0iLCJzcmMiLCJ2YWwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/lists.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/marks.tsx":
/*!*************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/marks.tsx ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   allMarkdownShortcuts: () => (/* binding */ allMarkdownShortcuts),\n/* harmony export */   withMarks: () => (/* binding */ withMarks)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _toolbar_state_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toolbar-state-shared */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state-shared.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n\n\n\nconst allMarkdownShortcuts = {\n    bold: [\n        '**',\n        '__'\n    ],\n    italic: [\n        '*',\n        '_'\n    ],\n    strikethrough: [\n        '~~'\n    ],\n    code: [\n        '`'\n    ]\n};\nfunction applyMark(editor, mark, shortcutText, startOfStartPoint) {\n    // so that this starts a new undo group\n    editor.writeHistory('undos', {\n        operations: [],\n        selectionBefore: null\n    });\n    const startPointRef = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.pointRef(editor, startOfStartPoint);\n    slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.delete(editor, {\n        at: editor.selection.anchor,\n        distance: shortcutText.length,\n        reverse: true\n    });\n    slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.delete(editor, {\n        at: startOfStartPoint,\n        distance: shortcutText.length\n    });\n    slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.setNodes(editor, {\n        [mark]: true\n    }, {\n        match: slate__WEBPACK_IMPORTED_MODULE_2__.Text.isText,\n        split: true,\n        at: {\n            anchor: startPointRef.unref(),\n            focus: editor.selection.anchor\n        }\n    });\n    // once you've ended the shortcut, you're done with the mark\n    // so we need to remove it so the text you insert after doesn't have it\n    editor.removeMark(mark);\n}\nfunction withMarks(editorDocumentFeatures, componentBlocks, editor) {\n    const { insertText, insertBreak } = editor;\n    editor.insertBreak = ()=>{\n        insertBreak();\n        const marksAfterInsertBreak = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.marks(editor);\n        if (!marksAfterInsertBreak || !editor.selection) return;\n        const parentBlock = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.above(editor, {\n            match: (node)=>slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_2__.Editor.isBlock(editor, node)\n        });\n        if (!parentBlock) return;\n        const point = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.EditorAfterButIgnoringingPointsWithNoContent)(editor, editor.selection.anchor);\n        const marksAfterInsertBreakArr = Object.keys(marksAfterInsertBreak);\n        if (!point || !slate__WEBPACK_IMPORTED_MODULE_2__.Path.isDescendant(point.path, parentBlock[1])) {\n            for (const mark of marksAfterInsertBreakArr){\n                editor.removeMark(mark);\n            }\n            return;\n        }\n        const textNode = slate__WEBPACK_IMPORTED_MODULE_2__.Node.get(editor, point.path);\n        for (const mark of marksAfterInsertBreakArr){\n            if (!textNode[mark]) {\n                editor.removeMark(mark);\n            }\n        }\n    };\n    const selectedMarkdownShortcuts = {};\n    const enabledMarks = editorDocumentFeatures.formatting.inlineMarks;\n    Object.keys(allMarkdownShortcuts).forEach((mark)=>{\n        if (enabledMarks[mark]) {\n            selectedMarkdownShortcuts[mark] = allMarkdownShortcuts[mark];\n        }\n    });\n    if (Object.keys(selectedMarkdownShortcuts).length === 0) return editor;\n    editor.insertText = (text)=>{\n        insertText(text);\n        if (editor.selection && slate__WEBPACK_IMPORTED_MODULE_2__.Range.isCollapsed(editor.selection)) {\n            for (const [mark, shortcuts] of Object.entries(selectedMarkdownShortcuts)){\n                for (const shortcutText of shortcuts){\n                    if (text === shortcutText[shortcutText.length - 1]) {\n                        // this function is not inlined because\n                        // https://github.com/swc-project/swc/issues/2622\n                        const startOfBlock = getStartOfBlock(editor);\n                        const startOfBlockToEndOfShortcutString = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.string(editor, {\n                            anchor: editor.selection.anchor,\n                            focus: startOfBlock\n                        });\n                        const hasWhitespaceBeforeEndOfShortcut = /\\s/.test(startOfBlockToEndOfShortcutString.slice(-shortcutText.length - 1, -shortcutText.length));\n                        const endOfShortcutContainsExpectedContent = shortcutText === startOfBlockToEndOfShortcutString.slice(-shortcutText.length);\n                        if (hasWhitespaceBeforeEndOfShortcut || !endOfShortcutContainsExpectedContent) {\n                            continue;\n                        }\n                        const strToMatchOn = startOfBlockToEndOfShortcutString.slice(0, -shortcutText.length - 1);\n                        // TODO: use regex probs\n                        for (const [offsetFromStartOfBlock] of [\n                            ...strToMatchOn\n                        ].reverse().entries()){\n                            const expectedShortcutText = strToMatchOn.slice(offsetFromStartOfBlock, offsetFromStartOfBlock + shortcutText.length);\n                            if (expectedShortcutText !== shortcutText) {\n                                continue;\n                            }\n                            const startOfStartOfShortcut = offsetFromStartOfBlock === 0 ? startOfBlock : (0,_utils__WEBPACK_IMPORTED_MODULE_1__.EditorAfterButIgnoringingPointsWithNoContent)(editor, startOfBlock, {\n                                distance: offsetFromStartOfBlock\n                            });\n                            const endOfStartOfShortcut = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.after(editor, startOfStartOfShortcut, {\n                                distance: shortcutText.length\n                            });\n                            if (offsetFromStartOfBlock !== 0 && !/\\s/.test(slate__WEBPACK_IMPORTED_MODULE_2__.Editor.string(editor, {\n                                anchor: slate__WEBPACK_IMPORTED_MODULE_2__.Editor.before(editor, startOfStartOfShortcut, {\n                                    unit: 'character'\n                                }),\n                                focus: startOfStartOfShortcut\n                            }))) {\n                                continue;\n                            }\n                            const contentBetweenShortcuts = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.string(editor, {\n                                anchor: endOfStartOfShortcut,\n                                focus: editor.selection.anchor\n                            }).slice(0, -shortcutText.length);\n                            if (contentBetweenShortcuts === '' || /\\s/.test(contentBetweenShortcuts[0])) {\n                                continue;\n                            }\n                            // this is a bit of a weird one\n                            // let's say you had <text>__thing _<cursor /></text> and you insert `_`.\n                            // without the below, that would turn into <text italic>_thing _<cursor /></text>\n                            // but it's probably meant to be bold but it's not because of the space before the ending _\n                            // there's probably a better way to do this but meh, this works\n                            if (mark === 'italic' && (contentBetweenShortcuts[0] === '_' || contentBetweenShortcuts[0] === '*')) {\n                                continue;\n                            }\n                            const ancestorComponentChildFieldDocumentFeatures = (0,_toolbar_state_shared__WEBPACK_IMPORTED_MODULE_0__.getAncestorComponentChildFieldDocumentFeatures)(editor, editorDocumentFeatures, componentBlocks);\n                            if (ancestorComponentChildFieldDocumentFeatures && ancestorComponentChildFieldDocumentFeatures.inlineMarks !== 'inherit' && ancestorComponentChildFieldDocumentFeatures.inlineMarks[mark] === false) {\n                                continue;\n                            }\n                            applyMark(editor, mark, shortcutText, startOfStartOfShortcut);\n                            return;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    return editor;\n}\nfunction getStartOfBlock(editor) {\n    return slate__WEBPACK_IMPORTED_MODULE_2__.Editor.start(editor, slate__WEBPACK_IMPORTED_MODULE_2__.Editor.above(editor, {\n        match: (node)=>slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_2__.Editor.isBlock(editor, node)\n    })[1]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9tYXJrcy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0Y7QUFHRDtBQUNOO0FBRTFFLE1BQU1TLHVCQUF1QjtJQUNsQ0MsTUFBTTtRQUFDO1FBQU07S0FBSztJQUNsQkMsUUFBUTtRQUFDO1FBQUs7S0FBSTtJQUNsQkMsZUFBZTtRQUFDO0tBQUs7SUFDckJDLE1BQU07UUFBQztLQUFJO0FBQ2IsRUFBQztBQUVELFNBQVNDLFVBQVVDLE1BQWMsRUFBRUMsSUFBWSxFQUFFQyxZQUFvQixFQUFFQyxpQkFBd0I7SUFDN0YsdUNBQXVDO0lBQ3ZDSCxPQUFPSSxZQUFZLENBQUMsU0FBUztRQUFFQyxZQUFZLEVBQUU7UUFBRUMsaUJBQWlCO0lBQUs7SUFDckUsTUFBTUMsZ0JBQWdCdEIseUNBQU1BLENBQUN1QixRQUFRLENBQUNSLFFBQVFHO0lBRTlDWiw2Q0FBVUEsQ0FBQ2tCLE1BQU0sQ0FBQ1QsUUFBUTtRQUN4QlUsSUFBSVYsT0FBT1csU0FBUyxDQUFFQyxNQUFNO1FBQzVCQyxVQUFVWCxhQUFhWSxNQUFNO1FBQzdCQyxTQUFTO0lBQ1g7SUFDQXhCLDZDQUFVQSxDQUFDa0IsTUFBTSxDQUFDVCxRQUFRO1FBQUVVLElBQUlQO1FBQW1CVSxVQUFVWCxhQUFhWSxNQUFNO0lBQUM7SUFFakZ2Qiw2Q0FBVUEsQ0FBQ3lCLFFBQVEsQ0FDakJoQixRQUNBO1FBQUUsQ0FBQ0MsS0FBSyxFQUFFO0lBQUssR0FDZjtRQUNFZ0IsT0FBTzNCLHVDQUFJQSxDQUFDNEIsTUFBTTtRQUNsQkMsT0FBTztRQUNQVCxJQUFJO1lBQUVFLFFBQVFMLGNBQWNhLEtBQUs7WUFBS0MsT0FBT3JCLE9BQU9XLFNBQVMsQ0FBRUMsTUFBTTtRQUFDO0lBQ3hFO0lBRUYsNERBQTREO0lBQzVELHVFQUF1RTtJQUN2RVosT0FBT3NCLFVBQVUsQ0FBQ3JCO0FBQ3BCO0FBRU8sU0FBU3NCLFVBQ2RDLHNC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QVMsWUFDUm1FLENBQUFBLHVCQUF1QixDQUFDLEVBQUUsS0FBSyxPQUFPQSx1QkFBdUIsQ0FBQyxFQUFFLEtBQUssR0FBRSxHQUN4RTtnQ0FDQTs0QkFDRjs0QkFDQSxNQUFNQyw4Q0FDSjdFLHFHQUE4Q0EsQ0FDNUNRLFFBQ0F3Qix3QkFDQUM7NEJBRUosSUFDRTRDLCtDQUNBQSw0Q0FBNEN2QixXQUFXLEtBQUssYUFDNUR1Qiw0Q0FBNEN2QixXQUFXLENBQUM3QyxLQUFhLEtBQUssT0FDMUU7Z0NBQ0E7NEJBQ0Y7NEJBQ0FGLFVBQVVDLFFBQVFDLE1BQU1DLGNBQWM2RDs0QkFDdEM7d0JBQ0Y7b0JBQ0Y7Z0JBQ0Y7WUFDRjtRQUNGO0lBQ0Y7SUFFQSxPQUFPL0Q7QUFDVDtBQUVBLFNBQVNxRCxnQkFBZ0JyRCxNQUFjO0lBQ3JDLE9BQU9mLHlDQUFNQSxDQUFDcUYsS0FBSyxDQUNqQnRFLFFBQ0FmLHlDQUFNQSxDQUFDOEMsS0FBSyxDQUFDL0IsUUFBUTtRQUNuQmlCLE9BQU9lLENBQUFBLE9BQVE5QywwQ0FBT0EsQ0FBQytDLFNBQVMsQ0FBQ0QsU0FBUy9DLHlDQUFNQSxDQUFDaUQsT0FBTyxDQUFDbEMsUUFBUWdDO0lBQ25FLEVBQUcsQ0FBQyxFQUFFO0FBRVYiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9tYXJrcy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBQb2ludCwgRWRpdG9yLCBFbGVtZW50LCBOb2RlLCBQYXRoLCBSYW5nZSwgVGV4dCwgVHJhbnNmb3JtcyB9IGZyb20gJ3NsYXRlJ1xuaW1wb3J0IHsgdHlwZSBEb2N1bWVudEZlYXR1cmVzIH0gZnJvbSAnLi4vdmlld3Mtc2hhcmVkJ1xuaW1wb3J0IHsgdHlwZSBDb21wb25lbnRCbG9jayB9IGZyb20gJy4vY29tcG9uZW50LWJsb2Nrcy9hcGktc2hhcmVkJ1xuaW1wb3J0IHsgZ2V0QW5jZXN0b3JDb21wb25lbnRDaGlsZEZpZWxkRG9jdW1lbnRGZWF0dXJlcyB9IGZyb20gJy4vdG9vbGJhci1zdGF0ZS1zaGFyZWQnXG5pbXBvcnQgeyB0eXBlIE1hcmssIEVkaXRvckFmdGVyQnV0SWdub3JpbmdpbmdQb2ludHNXaXRoTm9Db250ZW50IH0gZnJvbSAnLi91dGlscydcblxuZXhwb3J0IGNvbnN0IGFsbE1hcmtkb3duU2hvcnRjdXRzID0ge1xuICBib2xkOiBbJyoqJywgJ19fJ10sXG4gIGl0YWxpYzogWycqJywgJ18nXSxcbiAgc3RyaWtldGhyb3VnaDogWyd+fiddLFxuICBjb2RlOiBbJ2AnXSxcbn1cblxuZnVuY3Rpb24gYXBwbHlNYXJrKGVkaXRvcjogRWRpdG9yLCBtYXJrOiBzdHJpbmcsIHNob3J0Y3V0VGV4dDogc3RyaW5nLCBzdGFydE9mU3RhcnRQb2ludDogUG9pbnQpIHtcbiAgLy8gc28gdGhhdCB0aGlzIHN0YXJ0cyBhIG5ldyB1bmRvIGdyb3VwXG4gIGVkaXRvci53cml0ZUhpc3RvcnkoJ3VuZG9zJywgeyBvcGVyYXRpb25zOiBbXSwgc2VsZWN0aW9uQmVmb3JlOiBudWxsIH0pXG4gIGNvbnN0IHN0YXJ0UG9pbnRSZWYgPSBFZGl0b3IucG9pbnRSZWYoZWRpdG9yLCBzdGFydE9mU3RhcnRQb2ludClcblxuICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHtcbiAgICBhdDogZWRpdG9yLnNlbGVjdGlvbiEuYW5jaG9yLFxuICAgIGRpc3RhbmNlOiBzaG9ydGN1dFRleHQubGVuZ3RoLFxuICAgIHJldmVyc2U6IHRydWUsXG4gIH0pXG4gIFRyYW5zZm9ybXMuZGVsZXRlKGVkaXRvciwgeyBhdDogc3RhcnRPZlN0YXJ0UG9pbnQsIGRpc3RhbmNlOiBzaG9ydGN1dFRleHQubGVuZ3RoIH0pXG5cbiAgVHJhbnNmb3Jtcy5zZXROb2RlcyhcbiAgICBlZGl0b3IsXG4gICAgeyBbbWFya106IHRydWUgfSxcbiAgICB7XG4gICAgICBtYXRjaDogVGV4dC5pc1RleHQsXG4gICAgICBzcGxpdDogdHJ1ZSxcbiAgICAgIGF0OiB7IGFuY2hvcjogc3RhcnRQb2ludFJlZi51bnJlZigpISwgZm9jdXM6IGVkaXRvci5zZWxlY3Rpb24hLmFuY2hvciB9LFxuICAgIH1cbiAgKVxuICAvLyBvbmNlIHlvdSd2ZSBlbmRlZCB0aGUgc2hvcnRjdXQsIHlvdSdyZSBkb25lIHdpdGggdGhlIG1hcmtcbiAgLy8gc28gd2UgbmVlZCB0byByZW1vdmUgaXQgc28gdGhlIHRleHQgeW91IGluc2VydCBhZnRlciBkb2Vzbid0IGhhdmUgaXRcbiAgZWRpdG9yLnJlbW92ZU1hcmsobWFyaylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhNYXJrcyhcbiAgZWRpdG9yRG9jdW1lbnRGZWF0dXJlczogRG9jdW1lbnRGZWF0dXJlcyxcbiAgY29tcG9uZW50QmxvY2tzOiBSZWNvcmQ8c3RyaW5nLCBDb21wb25lbnRCbG9jaz4sXG4gIGVkaXRvcjogRWRpdG9yXG4pOiBFZGl0b3Ige1xuICBjb25zdCB7IGluc2VydFRleHQsIGluc2VydEJyZWFrIH0gPSBlZGl0b3JcblxuICBlZGl0b3IuaW5zZXJ0QnJlYWsgPSAoKSA9PiB7XG4gICAgaW5zZXJ0QnJlYWsoKVxuICAgIGNvbnN0IG1hcmtzQWZ0ZXJJbnNlcnRCcmVhayA9IEVkaXRvci5tYXJrcyhlZGl0b3IpXG4gICAgaWYgKCFtYXJrc0FmdGVySW5zZXJ0QnJlYWsgfHwgIWVkaXRvci5zZWxlY3Rpb24pIHJldHVyblxuICAgIGNvbnN0IHBhcmVudEJsb2NrID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgbWF0Y2g6IG5vZGUgPT4gRWxlbWVudC5pc0VsZW1lbnQobm9kZSkgJiYgRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBub2RlKSxcbiAgICB9KVxuICAgIGlmICghcGFyZW50QmxvY2spIHJldHVyblxuICAgIGNvbnN0IHBvaW50ID0gRWRpdG9yQWZ0ZXJCdXRJZ25vcmluZ2luZ1BvaW50c1dpdGhOb0NvbnRlbnQoZWRpdG9yLCBlZGl0b3Iuc2VsZWN0aW9uLmFuY2hvcilcbiAgICBjb25zdCBtYXJrc0FmdGVySW5zZXJ0QnJlYWtBcnIgPSBPYmplY3Qua2V5cyhcbiAgICAgIG1hcmtzQWZ0ZXJJbnNlcnRCcmVha1xuICAgICkgYXMgKGtleW9mIHR5cGVvZiBtYXJrc0FmdGVySW5zZXJ0QnJlYWspW11cbiAgICBpZiAoIXBvaW50IHx8ICFQYXRoLmlzRGVzY2VuZGFudChwb2ludC5wYXRoLCBwYXJlbnRCbG9ja1sxXSkpIHtcbiAgICAgIGZvciAoY29uc3QgbWFyayBvZiBtYXJrc0FmdGVySW5zZXJ0QnJlYWtBcnIpIHtcbiAgICAgICAgZWRpdG9yLnJlbW92ZU1hcmsobWFyaylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHRleHROb2RlID0gTm9kZS5nZXQoZWRpdG9yLCBwb2ludC5wYXRoKSBhcyBUZXh0XG5cbiAgICBmb3IgKGNvbnN0IG1hcmsgb2YgbWFya3NBZnRlckluc2VydEJyZWFrQXJyKSB7XG4gICAgICBpZiAoIXRleHROb2RlW21hcmtdKSB7XG4gICAgICAgIGVkaXRvci5yZW1vdmVNYXJrKG1hcmspXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2VsZWN0ZWRNYXJrZG93blNob3J0Y3V0czogUGFydGlhbDx0eXBlb2YgYWxsTWFya2Rvd25TaG9ydGN1dHM+ID0ge31cbiAgY29uc3QgZW5hYmxlZE1hcmtzID0gZWRpdG9yRG9jdW1lbnRGZWF0dXJlcy5mb3JtYXR0aW5nLmlubGluZU1hcmtzXG4gIDsoT2JqZWN0LmtleXMoYWxsTWFya2Rvd25TaG9ydGN1dHMpIGFzIChrZXlvZiB0eXBlb2YgYWxsTWFya2Rvd25TaG9ydGN1dHMpW10pLmZvckVhY2gobWFyayA9PiB7XG4gICAgaWYgKGVuYWJsZWRNYXJrc1ttYXJrXSkge1xuICAgICAgc2VsZWN0ZWRNYXJrZG93blNob3J0Y3V0c1ttYXJrXSA9IGFsbE1hcmtkb3duU2hvcnRjdXRzW21hcmtdXG4gICAgfVxuICB9KVxuXG4gIGlmIChPYmplY3Qua2V5cyhzZWxlY3RlZE1hcmtkb3duU2hvcnRjdXRzKS5sZW5ndGggPT09IDApIHJldHVybiBlZGl0b3JcblxuICBlZGl0b3IuaW5zZXJ0VGV4dCA9IHRleHQgPT4ge1xuICAgIGluc2VydFRleHQodGV4dClcbiAgICBpZiAoZWRpdG9yLnNlbGVjdGlvbiAmJiBSYW5nZS5pc0NvbGxhcHNlZChlZGl0b3Iuc2VsZWN0aW9uKSkge1xuICAgICAgZm9yIChjb25zdCBbbWFyaywgc2hvcnRjdXRzXSBvZiBPYmplY3QuZW50cmllcyhzZWxlY3RlZE1hcmtkb3duU2hvcnRjdXRzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHNob3J0Y3V0VGV4dCBvZiBzaG9ydGN1dHMhKSB7XG4gICAgICAgICAgaWYgKHRleHQgPT09IHNob3J0Y3V0VGV4dFtzaG9ydGN1dFRleHQubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIC8vIHRoaXMgZnVuY3Rpb24gaXMgbm90IGlubGluZWQgYmVjYXVzZVxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3Yy1wcm9qZWN0L3N3Yy9pc3N1ZXMvMjYyMlxuICAgICAgICAgICAgY29uc3Qgc3RhcnRPZkJsb2NrID0gZ2V0U3RhcnRPZkJsb2NrKGVkaXRvcilcblxuICAgICAgICAgICAgY29uc3Qgc3RhcnRPZkJsb2NrVG9FbmRPZlNob3J0Y3V0U3RyaW5nID0gRWRpdG9yLnN0cmluZyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgYW5jaG9yOiBlZGl0b3Iuc2VsZWN0aW9uLmFuY2hvcixcbiAgICAgICAgICAgICAgZm9jdXM6IHN0YXJ0T2ZCbG9jayxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjb25zdCBoYXNXaGl0ZXNwYWNlQmVmb3JlRW5kT2ZTaG9ydGN1dCA9IC9cXHMvLnRlc3QoXG4gICAgICAgICAgICAgIHN0YXJ0T2ZCbG9ja1RvRW5kT2ZTaG9ydGN1dFN0cmluZy5zbGljZShcbiAgICAgICAgICAgICAgICAtc2hvcnRjdXRUZXh0Lmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgLXNob3J0Y3V0VGV4dC5sZW5ndGhcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICBjb25zdCBlbmRPZlNob3J0Y3V0Q29udGFpbnNFeHBlY3RlZENvbnRlbnQgPVxuICAgICAgICAgICAgICBzaG9ydGN1dFRleHQgPT09IHN0YXJ0T2ZCbG9ja1RvRW5kT2ZTaG9ydGN1dFN0cmluZy5zbGljZSgtc2hvcnRjdXRUZXh0Lmxlbmd0aClcblxuICAgICAgICAgICAgaWYgKGhhc1doaXRlc3BhY2VCZWZvcmVFbmRPZlNob3J0Y3V0IHx8ICFlbmRPZlNob3J0Y3V0Q29udGFpbnNFeHBlY3RlZENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc3RyVG9NYXRjaE9uID0gc3RhcnRPZkJsb2NrVG9FbmRPZlNob3J0Y3V0U3RyaW5nLnNsaWNlKFxuICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAtc2hvcnRjdXRUZXh0Lmxlbmd0aCAtIDFcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC8vIFRPRE86IHVzZSByZWdleCBwcm9ic1xuICAgICAgICAgICAgZm9yIChjb25zdCBbb2Zmc2V0RnJvbVN0YXJ0T2ZCbG9ja10gb2YgWy4uLnN0clRvTWF0Y2hPbl0ucmV2ZXJzZSgpLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICBjb25zdCBleHBlY3RlZFNob3J0Y3V0VGV4dCA9IHN0clRvTWF0Y2hPbi5zbGljZShcbiAgICAgICAgICAgICAgICBvZmZzZXRGcm9tU3RhcnRPZkJsb2NrLFxuICAgICAgICAgICAgICAgIG9mZnNldEZyb21TdGFydE9mQmxvY2sgKyBzaG9ydGN1dFRleHQubGVuZ3RoXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgaWYgKGV4cGVjdGVkU2hvcnRjdXRUZXh0ICE9PSBzaG9ydGN1dFRleHQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY29uc3Qgc3RhcnRPZlN0YXJ0T2ZTaG9ydGN1dCA9XG4gICAgICAgICAgICAgICAgb2Zmc2V0RnJvbVN0YXJ0T2ZCbG9jayA9PT0gMFxuICAgICAgICAgICAgICAgICAgPyBzdGFydE9mQmxvY2tcbiAgICAgICAgICAgICAgICAgIDogRWRpdG9yQWZ0ZXJCdXRJZ25vcmluZ2luZ1BvaW50c1dpdGhOb0NvbnRlbnQoZWRpdG9yLCBzdGFydE9mQmxvY2ssIHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZTogb2Zmc2V0RnJvbVN0YXJ0T2ZCbG9jayxcbiAgICAgICAgICAgICAgICAgICAgfSkhXG5cbiAgICAgICAgICAgICAgY29uc3QgZW5kT2ZTdGFydE9mU2hvcnRjdXQgPSBFZGl0b3IuYWZ0ZXIoZWRpdG9yLCBzdGFydE9mU3RhcnRPZlNob3J0Y3V0LCB7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IHNob3J0Y3V0VGV4dC5sZW5ndGgsXG4gICAgICAgICAgICAgIH0pIVxuXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBvZmZzZXRGcm9tU3RhcnRPZkJsb2NrICE9PSAwICYmXG4gICAgICAgICAgICAgICAgIS9cXHMvLnRlc3QoXG4gICAgICAgICAgICAgICAgICBFZGl0b3Iuc3RyaW5nKGVkaXRvciwge1xuICAgICAgICAgICAgICAgICAgICBhbmNob3I6IEVkaXRvci5iZWZvcmUoZWRpdG9yLCBzdGFydE9mU3RhcnRPZlNob3J0Y3V0LCB7IHVuaXQ6ICdjaGFyYWN0ZXInIH0pISxcbiAgICAgICAgICAgICAgICAgICAgZm9jdXM6IHN0YXJ0T2ZTdGFydE9mU2hvcnRjdXQsXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRCZXR3ZWVuU2hvcnRjdXRzID0gRWRpdG9yLnN0cmluZyhlZGl0b3IsIHtcbiAgICAgICAgICAgICAgICBhbmNob3I6IGVuZE9mU3RhcnRPZlNob3J0Y3V0LFxuICAgICAgICAgICAgICAgIGZvY3VzOiBlZGl0b3Iuc2VsZWN0aW9uLmFuY2hvcixcbiAgICAgICAgICAgICAgfSkuc2xpY2UoMCwgLXNob3J0Y3V0VGV4dC5sZW5ndGgpXG5cbiAgICAgICAgICAgICAgaWYgKGNvbnRlbnRCZXR3ZWVuU2hvcnRjdXRzID09PSAnJyB8fCAvXFxzLy50ZXN0KGNvbnRlbnRCZXR3ZWVuU2hvcnRjdXRzWzBdKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyB0aGlzIGlzIGEgYml0IG9mIGEgd2VpcmQgb25lXG4gICAgICAgICAgICAgIC8vIGxldCdzIHNheSB5b3UgaGFkIDx0ZXh0Pl9fdGhpbmcgXzxjdXJzb3IgLz48L3RleHQ+IGFuZCB5b3UgaW5zZXJ0IGBfYC5cbiAgICAgICAgICAgICAgLy8gd2l0aG91dCB0aGUgYmVsb3csIHRoYXQgd291bGQgdHVybiBpbnRvIDx0ZXh0IGl0YWxpYz5fdGhpbmcgXzxjdXJzb3IgLz48L3RleHQ+XG4gICAgICAgICAgICAgIC8vIGJ1dCBpdCdzIHByb2JhYmx5IG1lYW50IHRvIGJlIGJvbGQgYnV0IGl0J3Mgbm90IGJlY2F1c2Ugb2YgdGhlIHNwYWNlIGJlZm9yZSB0aGUgZW5kaW5nIF9cbiAgICAgICAgICAgICAgLy8gdGhlcmUncyBwcm9iYWJseSBhIGJldHRlciB3YXkgdG8gZG8gdGhpcyBidXQgbWVoLCB0aGlzIHdvcmtzXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBtYXJrID09PSAnaXRhbGljJyAmJlxuICAgICAgICAgICAgICAgIChjb250ZW50QmV0d2VlblNob3J0Y3V0c1swXSA9PT0gJ18nIHx8IGNvbnRlbnRCZXR3ZWVuU2hvcnRjdXRzWzBdID09PSAnKicpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgYW5jZXN0b3JDb21wb25lbnRDaGlsZEZpZWxkRG9jdW1lbnRGZWF0dXJlcyA9XG4gICAgICAgICAgICAgICAgZ2V0QW5jZXN0b3JDb21wb25lbnRDaGlsZEZpZWxkRG9jdW1lbnRGZWF0dXJlcyhcbiAgICAgICAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgICAgICAgIGVkaXRvckRvY3VtZW50RmVhdHVyZXMsXG4gICAgICAgICAgICAgICAgICBjb21wb25lbnRCbG9ja3NcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBhbmNlc3RvckNvbXBvbmVudENoaWxkRmllbGREb2N1bWVudEZlYXR1cmVzICYmXG4gICAgICAgICAgICAgICAgYW5jZXN0b3JDb21wb25lbnRDaGlsZEZpZWxkRG9jdW1lbnRGZWF0dXJlcy5pbmxpbmVNYXJrcyAhPT0gJ2luaGVyaXQnICYmXG4gICAgICAgICAgICAgICAgYW5jZXN0b3JDb21wb25lbnRDaGlsZEZpZWxkRG9jdW1lbnRGZWF0dXJlcy5pbmxpbmVNYXJrc1ttYXJrIGFzIE1hcmtdID09PSBmYWxzZVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGFwcGx5TWFyayhlZGl0b3IsIG1hcmssIHNob3J0Y3V0VGV4dCwgc3RhcnRPZlN0YXJ0T2ZTaG9ydGN1dClcbiAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGVkaXRvclxufVxuXG5mdW5jdGlvbiBnZXRTdGFydE9mQmxvY2soZWRpdG9yOiBFZGl0b3IpIHtcbiAgcmV0dXJuIEVkaXRvci5zdGFydChcbiAgICBlZGl0b3IsXG4gICAgRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgbWF0Y2g6IG5vZGUgPT4gRWxlbWVudC5pc0VsZW1lbnQobm9kZSkgJiYgRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBub2RlKSxcbiAgICB9KSFbMV1cbiAgKVxufVxuIl0sIm5hbWVzIjpbIkVkaXRvciIsIkVsZW1lbnQiLCJOb2RlIiwiUGF0aCIsIlJhbmdlIiwiVGV4dCIsIlRyYW5zZm9ybXMiLCJnZXRBbmNlc3RvckNvbXBvbmVudENoaWxkRmllbGREb2N1bWVudEZlYXR1cmVzIiwiRWRpdG9yQWZ0ZXJCdXRJZ25vcmluZ2luZ1BvaW50c1dpdGhOb0NvbnRlbnQiLCJhbGxNYXJrZG93blNob3J0Y3V0cyIsImJvbGQiLCJpdGFsaWMiLCJzdHJpa2V0aHJvdWdoIiwiY29kZSIsImFwcGx5TWFyayIsImVkaXRvciIsIm1hcmsiLCJzaG9ydGN1dFRleHQiLCJzdGFydE9mU3RhcnRQb2ludCIsIndyaXRlSGlzdG9yeSIsIm9wZXJhdGlvbnMiLCJzZWxlY3Rpb25CZWZvcmUiLCJzdGFydFBvaW50UmVmIiwicG9pbnRSZWYiLCJkZWxldGUiLCJhdCIsInNlbGVjdGlvbiIsImFuY2hvciIsImRpc3RhbmNlIiwibGVuZ3RoIiwicmV2ZXJzZSIsInNldE5vZGVzIiwibWF0Y2giLCJpc1RleHQiLCJzcGxpdCIsInVucmVmIiwiZm9jdXMiLCJyZW1vdmVNYXJrIiwid2l0aE1hcmtzIiwiZWRpdG9yRG9jdW1lbnRGZWF0dXJlcyIsImNvbXBvbmVudEJsb2NrcyIsImluc2VydFRleHQiLCJpbnNlcnRCcmVhayIsIm1hcmtzQWZ0ZXJJbnNlcnRCcmVhayIsIm1hcmtzIiwicGFyZW50QmxvY2siLCJhYm92ZSIsIm5vZGUiLCJpc0VsZW1lbnQiLCJpc0Jsb2NrIiwicG9pbnQiLCJtYXJrc0FmdGVySW5zZXJ0QnJlYWtBcnIiLCJPYmplY3QiLCJrZXlzIiwiaXNEZXNjZW5kYW50IiwicGF0aCIsInRleHROb2RlIiwiZ2V0Iiwic2VsZWN0ZWRNYXJrZG93blNob3J0Y3V0cyIsImVuYWJsZWRNYXJrcyIsImZvcm1hdHRpbmciLCJpbmxpbmVNYXJrcyIsImZvckVhY2giLCJ0ZXh0IiwiaXNDb2xsYXBzZWQiLCJzaG9ydGN1dHMiLCJlbnRyaWVzIiwic3RhcnRPZkJsb2NrIiwiZ2V0U3RhcnRPZkJsb2NrIiwic3RhcnRPZkJsb2NrVG9FbmRPZlNob3J0Y3V0U3RyaW5nIiwic3RyaW5nIiwiaGFzV2hpdGVzcGFjZUJlZm9yZUVuZE9mU2hvcnRjdXQiLCJ0ZXN0Iiwic2xpY2UiLCJlbmRPZlNob3J0Y3V0Q29udGFpbnNFeHBlY3RlZENvbnRlbnQiLCJzdHJUb01hdGNoT24iLCJvZmZzZXRGcm9tU3RhcnRPZkJsb2NrIiwiZXhwZWN0ZWRTaG9ydGN1dFRleHQiLCJzdGFydE9mU3RhcnRPZlNob3J0Y3V0IiwiZW5kT2ZTdGFydE9mU2hvcnRjdXQiLCJhZnRlciIsImJlZm9yZSIsInVuaXQiLCJjb250ZW50QmV0d2VlblNob3J0Y3V0cyIsImFuY2VzdG9yQ29tcG9uZW50Q2hpbGRGaWVsZERvY3VtZW50RmVhdHVyZXMiLCJzdGFydCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/marks.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/paragraphs.ts":
/*!*****************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/paragraphs.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   paragraphElement: () => (/* binding */ paragraphElement),\n/* harmony export */   withParagraphs: () => (/* binding */ withParagraphs)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n\nconst paragraphElement = ()=>({\n        type: 'paragraph',\n        children: [\n            {\n                text: ''\n            }\n        ]\n    });\nfunction withParagraphs(editor) {\n    const { normalizeNode } = editor;\n    editor.normalizeNode = (entry)=>{\n        const [node, path] = entry;\n        if (slate__WEBPACK_IMPORTED_MODULE_0__.Editor.isEditor(node)) {\n            const lastNode = node.children[node.children.length - 1];\n            if (lastNode?.type !== 'paragraph') {\n                slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.insertNodes(editor, paragraphElement(), {\n                    at: [\n                        ...path,\n                        node.children.length\n                    ]\n                });\n                return;\n            }\n        }\n        normalizeNode(entry);\n    };\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9wYXJhZ3JhcGhzLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwQztBQUVuQyxNQUFNRSxtQkFBbUIsSUFBTztRQUNyQ0MsTUFBTTtRQUNOQyxVQUFVO1lBQUM7Z0JBQUVDLE1BQU07WUFBRztTQUFFO0lBQzFCLEdBQUU7QUFFSyxTQUFTQyxlQUFlQyxNQUFjO0lBQzNDLE1BQU0sRUFBRUMsYUFBYSxFQUFFLEdBQUdEO0lBRTFCQSxPQUFPQyxhQUFhLEdBQUdDLENBQUFBO1FBQ3JCLE1BQU0sQ0FBQ0MsTUFBTUMsS0FBSyxHQUFHRjtRQUVyQixJQUFJVCx5Q0FBTUEsQ0FBQ1ksUUFBUSxDQUFDRixPQUFPO1lBQ3pCLE1BQU1HLFdBQVdILEtBQUtOLFFBQVEsQ0FBQ00sS0FBS04sUUFBUSxDQUFDVSxNQUFNLEdBQUcsRUFBRTtZQUN4RCxJQUFJRCxVQUFVVixTQUFTLGFBQWE7Z0JBQ2xDRiw2Q0FBVUEsQ0FBQ2MsV0FBVyxDQUFDUixRQUFRTCxvQkFBb0I7b0JBQ2pEYyxJQUFJOzJCQUFJTDt3QkFBTUQsS0FBS04sUUFBUSxDQUFDVSxNQUFNO3FCQUFDO2dCQUNyQztnQkFDQTtZQUNGO1FBQ0Y7UUFFQU4sY0FBY0M7SUFDaEI7SUFFQSxPQUFPRjtBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvcGFyYWdyYXBocy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZGl0b3IsIFRyYW5zZm9ybXMgfSBmcm9tICdzbGF0ZSdcblxuZXhwb3J0IGNvbnN0IHBhcmFncmFwaEVsZW1lbnQgPSAoKSA9PiAoe1xuICB0eXBlOiAncGFyYWdyYXBoJyBhcyBjb25zdCxcbiAgY2hpbGRyZW46IFt7IHRleHQ6ICcnIH1dLFxufSlcblxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhQYXJhZ3JhcGhzKGVkaXRvcjogRWRpdG9yKTogRWRpdG9yIHtcbiAgY29uc3QgeyBub3JtYWxpemVOb2RlIH0gPSBlZGl0b3JcblxuICBlZGl0b3Iubm9ybWFsaXplTm9kZSA9IGVudHJ5ID0+IHtcbiAgICBjb25zdCBbbm9kZSwgcGF0aF0gPSBlbnRyeVxuXG4gICAgaWYgKEVkaXRvci5pc0VkaXRvcihub2RlKSkge1xuICAgICAgY29uc3QgbGFzdE5vZGUgPSBub2RlLmNoaWxkcmVuW25vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMV1cbiAgICAgIGlmIChsYXN0Tm9kZT8udHlwZSAhPT0gJ3BhcmFncmFwaCcpIHtcbiAgICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIHBhcmFncmFwaEVsZW1lbnQoKSwge1xuICAgICAgICAgIGF0OiBbLi4ucGF0aCwgbm9kZS5jaGlsZHJlbi5sZW5ndGhdLFxuICAgICAgICB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG5cbiAgICBub3JtYWxpemVOb2RlKGVudHJ5KVxuICB9XG5cbiAgcmV0dXJuIGVkaXRvclxufVxuIl0sIm5hbWVzIjpbIkVkaXRvciIsIlRyYW5zZm9ybXMiLCJwYXJhZ3JhcGhFbGVtZW50IiwidHlwZSIsImNoaWxkcmVuIiwidGV4dCIsIndpdGhQYXJhZ3JhcGhzIiwiZWRpdG9yIiwibm9ybWFsaXplTm9kZSIsImVudHJ5Iiwibm9kZSIsInBhdGgiLCJpc0VkaXRvciIsImxhc3ROb2RlIiwibGVuZ3RoIiwiaW5zZXJ0Tm9kZXMiLCJhdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/paragraphs.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/pasting/html.ts":
/*!*******************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/pasting/html.ts ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deserializeHTML: () => (/* binding */ deserializeHTML),\n/* harmony export */   deserializeHTMLNode: () => (/* binding */ deserializeHTMLNode)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _editor_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../editor-shared */ \"../../../../packages/fields-document/src/DocumentEditor/editor-shared.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/pasting/utils.ts\");\n// very loosely based on https://github.com/ianstormtaylor/slate/blob/d22c76ae1313fe82111317417912a2670e73f5c9/site/examples/paste-html.tsx\n\n\n\nfunction getAlignmentFromElement(element) {\n    const parent = element.parentElement;\n    // confluence\n    const attribute = parent?.getAttribute('data-align');\n    // note: we don't show html that confluence would parse as alignment\n    // we could change that but meh\n    // (they match on div.fabric-editor-block-mark with data-align)\n    if (attribute === 'center' || attribute === 'end') {\n        return attribute;\n    }\n    if (element instanceof HTMLElement) {\n        // Google docs\n        const textAlign = element.style.textAlign;\n        if (textAlign === 'center') {\n            return 'center';\n        }\n        // TODO: RTL things?\n        if (textAlign === 'right' || textAlign === 'end') {\n            return 'end';\n        }\n    }\n}\nconst headings = {\n    H1: 1,\n    H2: 2,\n    H3: 3,\n    H4: 4,\n    H5: 5,\n    H6: 6\n};\nconst TEXT_TAGS = {\n    CODE: 'code',\n    DEL: 'strikethrough',\n    S: 'strikethrough',\n    STRIKE: 'strikethrough',\n    EM: 'italic',\n    I: 'italic',\n    STRONG: 'bold',\n    U: 'underline',\n    SUP: 'superscript',\n    SUB: 'subscript',\n    KBD: 'keyboard'\n};\nfunction marksFromElementAttributes(element) {\n    const marks = new Set();\n    const style = element.style;\n    const { nodeName } = element;\n    const markFromNodeName = TEXT_TAGS[nodeName];\n    if (markFromNodeName) {\n        marks.add(markFromNodeName);\n    }\n    const { fontWeight, textDecoration, verticalAlign } = style;\n    if (textDecoration === 'underline') {\n        marks.add('underline');\n    } else if (textDecoration === 'line-through') {\n        marks.add('strikethrough');\n    }\n    // confluence\n    if (nodeName === 'SPAN' && element.classList.contains('code')) {\n        marks.add('code');\n    }\n    // Google Docs does weird things with <b>\n    if (nodeName === 'B' && fontWeight !== 'normal') {\n        marks.add('bold');\n    } else if (typeof fontWeight === 'string' && (fontWeight === 'bold' || fontWeight === 'bolder' || fontWeight === '1000' || /^[5-9]\\d{2}$/.test(fontWeight))) {\n        marks.add('bold');\n    }\n    if (style.fontStyle === 'italic') {\n        marks.add('italic');\n    }\n    // Google Docs uses vertical align for subscript and superscript instead of <sup> and <sub>\n    if (verticalAlign === 'super') {\n        marks.add('superscript');\n    } else if (verticalAlign === 'sub') {\n        marks.add('subscript');\n    }\n    return marks;\n}\nfunction deserializeHTML(html) {\n    const parsed = new DOMParser().parseFromString(html, 'text/html');\n    return fixNodesForBlockChildren(deserializeNodes(parsed.body.childNodes));\n}\nfunction deserializeHTMLNode(el) {\n    if (!(el instanceof globalThis.HTMLElement)) {\n        const text = el.textContent;\n        if (!text) {\n            return [];\n        }\n        return (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getInlineNodes)(text);\n    }\n    if (el.nodeName === 'BR') {\n        return (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getInlineNodes)('\\n');\n    }\n    if (el.nodeName === 'IMG') {\n        const alt = el.getAttribute('alt');\n        return (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getInlineNodes)(alt ?? '');\n    }\n    if (el.nodeName === 'HR') {\n        return [\n            {\n                type: 'divider',\n                children: [\n                    {\n                        text: ''\n                    }\n                ]\n            }\n        ];\n    }\n    const marks = marksFromElementAttributes(el);\n    // Dropbox Paper displays blockquotes as lists for some reason\n    if (el.classList.contains('listtype-quote')) {\n        marks.delete('italic');\n        return (0,_utils__WEBPACK_IMPORTED_MODULE_1__.addMarksToChildren)(marks, ()=>[\n                {\n                    type: 'blockquote',\n                    children: fixNodesForBlockChildren(deserializeNodes(el.childNodes))\n                }\n            ]);\n    }\n    return (0,_utils__WEBPACK_IMPORTED_MODULE_1__.addMarksToChildren)(marks, ()=>{\n        const { nodeName } = el;\n        if (nodeName === 'A') {\n            const href = el.getAttribute('href');\n            if (href) {\n                return (0,_utils__WEBPACK_IMPORTED_MODULE_1__.setLinkForChildren)(href, ()=>(0,_utils__WEBPACK_IMPORTED_MODULE_1__.forceDisableMarkForChildren)('underline', ()=>deserializeNodes(el.childNodes)));\n            }\n        }\n        if (nodeName === 'PRE' && el.textContent) {\n            return [\n                {\n                    type: 'code',\n                    children: [\n                        {\n                            text: el.textContent || ''\n                        }\n                    ]\n                }\n            ];\n        }\n        const deserialized = deserializeNodes(el.childNodes);\n        const children = fixNodesForBlockChildren(deserialized);\n        if (nodeName === 'LI') {\n            let nestedList;\n            const listItemContent = {\n                type: 'list-item-content',\n                children: children.filter((node)=>{\n                    if (nestedList === undefined && (node.type === 'ordered-list' || node.type === 'unordered-list')) {\n                        nestedList = node;\n                        return false;\n                    }\n                    return true;\n                })\n            };\n            const listItemChildren = nestedList ? [\n                listItemContent,\n                nestedList\n            ] : [\n                listItemContent\n            ];\n            return [\n                {\n                    type: 'list-item',\n                    children: listItemChildren\n                }\n            ];\n        }\n        if (nodeName === 'P') {\n            return [\n                {\n                    type: 'paragraph',\n                    textAlign: getAlignmentFromElement(el),\n                    children\n                }\n            ];\n        }\n        const headingLevel = headings[nodeName];\n        if (typeof headingLevel === 'number') {\n            return [\n                {\n                    type: 'heading',\n                    level: headingLevel,\n                    textAlign: getAlignmentFromElement(el),\n                    children\n                }\n            ];\n        }\n        if (nodeName === 'BLOCKQUOTE') {\n            return [\n                {\n                    type: 'blockquote',\n                    children\n                }\n            ];\n        }\n        if (nodeName === 'OL') {\n            return [\n                {\n                    type: 'ordered-list',\n                    children\n                }\n            ];\n        }\n        if (nodeName === 'UL') {\n            return [\n                {\n                    type: 'unordered-list',\n                    children\n                }\n            ];\n        }\n        if (nodeName === 'DIV' && !(0,_editor_shared__WEBPACK_IMPORTED_MODULE_0__.isBlock)(children[0])) {\n            return [\n                {\n                    type: 'paragraph',\n                    children\n                }\n            ];\n        }\n        return deserialized;\n    });\n}\nfunction deserializeNodes(nodes) {\n    const outputNodes = [];\n    for (const node of nodes){\n        outputNodes.push(...deserializeHTMLNode(node));\n    }\n    return outputNodes;\n}\nfunction fixNodesForBlockChildren(deserializedNodes) {\n    if (!deserializedNodes.length) {\n        // Slate also gets unhappy if an element has no children\n        // the empty text nodes will get normalized away if they're not needed\n        return [\n            {\n                text: ''\n            }\n        ];\n    }\n    if (deserializedNodes.some(_editor_shared__WEBPACK_IMPORTED_MODULE_0__.isBlock)) {\n        const result = [];\n        let queuedInlines = [];\n        const flushInlines = ()=>{\n            if (queuedInlines.length) {\n                result.push({\n                    type: 'paragraph',\n                    children: queuedInlines\n                });\n                queuedInlines = [];\n            }\n        };\n        for (const node of deserializedNodes){\n            if ((0,_editor_shared__WEBPACK_IMPORTED_MODULE_0__.isBlock)(node)) {\n                flushInlines();\n                result.push(node);\n                continue;\n            }\n            // we want to ignore whitespace between block level elements\n            // useful info about whitespace in html:\n            // https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Whitespace\n            if (slate__WEBPACK_IMPORTED_MODULE_2__.Node.string(node).trim() !== '') {\n                queuedInlines.push(node);\n            }\n        }\n        flushInlines();\n        return result;\n    }\n    return deserializedNodes;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9wYXN0aW5nL2h0bWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSwySUFBMkk7QUFDL0c7QUFDMEI7QUFRdEM7QUFFaEIsU0FBU00sd0JBQXdCQyxPQUEyQjtJQUMxRCxNQUFNQyxTQUFTRCxRQUFRRSxhQUFhO0lBQ3BDLGFBQWE7SUFDYixNQUFNQyxZQUFZRixRQUFRRyxhQUFhO0lBQ3ZDLG9FQUFvRTtJQUNwRSwrQkFBK0I7SUFDL0IsK0RBQStEO0lBQy9ELElBQUlELGNBQWMsWUFBWUEsY0FBYyxPQUFPO1FBQ2pELE9BQU9BO0lBQ1Q7SUFDQSxJQUFJSCxtQkFBbUJLLGFBQWE7UUFDbEMsY0FBYztRQUNkLE1BQU1DLFlBQVlOLFFBQVFPLEtBQUssQ0FBQ0QsU0FBUztRQUN6QyxJQUFJQSxjQUFjLFVBQVU7WUFDMUIsT0FBTztRQUNUO1FBQ0Esb0JBQW9CO1FBQ3BCLElBQUlBLGNBQWMsV0FBV0EsY0FBYyxPQUFPO1lBQ2hELE9BQU87UUFDVDtJQUNGO0FBQ0Y7QUFFQSxNQUFNRSxXQUE4RTtJQUNsRkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7QUFDTjtBQUVBLE1BQU1DLFlBQThDO0lBQ2xEQyxNQUFNO0lBQ05DLEtBQUs7SUFDTEMsR0FBRztJQUNIQyxRQUFRO0lBQ1JDLElBQUk7SUFDSkMsR0FBRztJQUNIQyxRQUFRO0lBQ1JDLEdBQUc7SUFDSEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7QUFDUDtBQUVBLFNBQVNDLDJCQUEyQjNCLE9BQStCO0lBQ2pFLE1BQU00QixRQUFRLElBQUlDO0lBQ2xCLE1BQU10QixRQUFRUCxRQUFRTyxLQUFLO0lBQzNCLE1BQU0sRUFBRXVCLFFBQVEsRUFBRSxHQUFHOUI7SUFDckIsTUFBTStCLG1CQUFtQmhCLFNBQVMsQ0FBQ2UsU0FBUztJQUM1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TWUsSUFBSSxPQUFPLElBQUk7Z0JBQ25DSCxjQUFjTCxJQUFJLENBQUNQO1lBQ3JCO1FBQ0Y7UUFDQWE7UUFDQSxPQUFPRjtJQUNUO0lBQ0EsT0FBT0g7QUFDVCIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL3Bhc3RpbmcvaHRtbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB2ZXJ5IGxvb3NlbHkgYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2lhbnN0b3JtdGF5bG9yL3NsYXRlL2Jsb2IvZDIyYzc2YWUxMzEzZmU4MjExMTMxNzQxNzkxMmEyNjcwZTczZjVjOS9zaXRlL2V4YW1wbGVzL3Bhc3RlLWh0bWwudHN4XG5pbXBvcnQgeyBOb2RlIH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgeyB0eXBlIEJsb2NrLCBpc0Jsb2NrIH0gZnJvbSAnLi4vZWRpdG9yLXNoYXJlZCdcbmltcG9ydCB7IHR5cGUgTWFyayB9IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHtcbiAgdHlwZSBJbmxpbmVGcm9tRXh0ZXJuYWxQYXN0ZSxcbiAgYWRkTWFya3NUb0NoaWxkcmVuLFxuICBnZXRJbmxpbmVOb2RlcyxcbiAgZm9yY2VEaXNhYmxlTWFya0ZvckNoaWxkcmVuLFxuICBzZXRMaW5rRm9yQ2hpbGRyZW4sXG59IGZyb20gJy4vdXRpbHMnXG5cbmZ1bmN0aW9uIGdldEFsaWdubWVudEZyb21FbGVtZW50KGVsZW1lbnQ6IGdsb2JhbFRoaXMuRWxlbWVudCk6ICdjZW50ZXInIHwgJ2VuZCcgfCB1bmRlZmluZWQge1xuICBjb25zdCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgLy8gY29uZmx1ZW5jZVxuICBjb25zdCBhdHRyaWJ1dGUgPSBwYXJlbnQ/LmdldEF0dHJpYnV0ZSgnZGF0YS1hbGlnbicpXG4gIC8vIG5vdGU6IHdlIGRvbid0IHNob3cgaHRtbCB0aGF0IGNvbmZsdWVuY2Ugd291bGQgcGFyc2UgYXMgYWxpZ25tZW50XG4gIC8vIHdlIGNvdWxkIGNoYW5nZSB0aGF0IGJ1dCBtZWhcbiAgLy8gKHRoZXkgbWF0Y2ggb24gZGl2LmZhYnJpYy1lZGl0b3ItYmxvY2stbWFyayB3aXRoIGRhdGEtYWxpZ24pXG4gIGlmIChhdHRyaWJ1dGUgPT09ICdjZW50ZXInIHx8IGF0dHJpYnV0ZSA9PT0gJ2VuZCcpIHtcbiAgICByZXR1cm4gYXR0cmlidXRlXG4gIH1cbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgIC8vIEdvb2dsZSBkb2NzXG4gICAgY29uc3QgdGV4dEFsaWduID0gZWxlbWVudC5zdHlsZS50ZXh0QWxpZ25cbiAgICBpZiAodGV4dEFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgcmV0dXJuICdjZW50ZXInXG4gICAgfVxuICAgIC8vIFRPRE86IFJUTCB0aGluZ3M/XG4gICAgaWYgKHRleHRBbGlnbiA9PT0gJ3JpZ2h0JyB8fCB0ZXh0QWxpZ24gPT09ICdlbmQnKSB7XG4gICAgICByZXR1cm4gJ2VuZCdcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgaGVhZGluZ3M6IFJlY29yZDxzdHJpbmcsIChOb2RlICYgeyB0eXBlOiAnaGVhZGluZycgfSlbJ2xldmVsJ10gfCB1bmRlZmluZWQ+ID0ge1xuICBIMTogMSxcbiAgSDI6IDIsXG4gIEgzOiAzLFxuICBINDogNCxcbiAgSDU6IDUsXG4gIEg2OiA2LFxufVxuXG5jb25zdCBURVhUX1RBR1M6IFJlY29yZDxzdHJpbmcsIE1hcmsgfCB1bmRlZmluZWQ+ID0ge1xuICBDT0RFOiAnY29kZScsXG4gIERFTDogJ3N0cmlrZXRocm91Z2gnLFxuICBTOiAnc3RyaWtldGhyb3VnaCcsXG4gIFNUUklLRTogJ3N0cmlrZXRocm91Z2gnLFxuICBFTTogJ2l0YWxpYycsXG4gIEk6ICdpdGFsaWMnLFxuICBTVFJPTkc6ICdib2xkJyxcbiAgVTogJ3VuZGVybGluZScsXG4gIFNVUDogJ3N1cGVyc2NyaXB0JyxcbiAgU1VCOiAnc3Vic2NyaXB0JyxcbiAgS0JEOiAna2V5Ym9hcmQnLFxufVxuXG5mdW5jdGlvbiBtYXJrc0Zyb21FbGVtZW50QXR0cmlidXRlcyhlbGVtZW50OiBnbG9iYWxUaGlzLkhUTUxFbGVtZW50KSB7XG4gIGNvbnN0IG1hcmtzID0gbmV3IFNldDxNYXJrPigpXG4gIGNvbnN0IHN0eWxlID0gZWxlbWVudC5zdHlsZVxuICBjb25zdCB7IG5vZGVOYW1lIH0gPSBlbGVtZW50XG4gIGNvbnN0IG1hcmtGcm9tTm9kZU5hbWUgPSBURVhUX1RBR1Nbbm9kZU5hbWVdXG4gIGlmIChtYXJrRnJvbU5vZGVOYW1lKSB7XG4gICAgbWFya3MuYWRkKG1hcmtGcm9tTm9kZU5hbWUpXG4gIH1cbiAgY29uc3QgeyBmb250V2VpZ2h0LCB0ZXh0RGVjb3JhdGlvbiwgdmVydGljYWxBbGlnbiB9ID0gc3R5bGVcblxuICBpZiAodGV4dERlY29yYXRpb24gPT09ICd1bmRlcmxpbmUnKSB7XG4gICAgbWFya3MuYWRkKCd1bmRlcmxpbmUnKVxuICB9IGVsc2UgaWYgKHRleHREZWNvcmF0aW9uID09PSAnbGluZS10aHJvdWdoJykge1xuICAgIG1hcmtzLmFkZCgnc3RyaWtldGhyb3VnaCcpXG4gIH1cbiAgLy8gY29uZmx1ZW5jZVxuICBpZiAobm9kZU5hbWUgPT09ICdTUEFOJyAmJiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnY29kZScpKSB7XG4gICAgbWFya3MuYWRkKCdjb2RlJylcbiAgfVxuICAvLyBHb29nbGUgRG9jcyBkb2VzIHdlaXJkIHRoaW5ncyB3aXRoIDxiPlxuICBpZiAobm9kZU5hbWUgPT09ICdCJyAmJiBmb250V2VpZ2h0ICE9PSAnbm9ybWFsJykge1xuICAgIG1hcmtzLmFkZCgnYm9sZCcpXG4gIH0gZWxzZSBpZiAoXG4gICAgdHlwZW9mIGZvbnRXZWlnaHQgPT09ICdzdHJpbmcnICYmXG4gICAgKGZvbnRXZWlnaHQgPT09ICdib2xkJyB8fFxuICAgICAgZm9udFdlaWdodCA9PT0gJ2JvbGRlcicgfHxcbiAgICAgIGZvbnRXZWlnaHQgPT09ICcxMDAwJyB8fFxuICAgICAgL15bNS05XVxcZHsyfSQvLnRlc3QoZm9udFdlaWdodCkpXG4gICkge1xuICAgIG1hcmtzLmFkZCgnYm9sZCcpXG4gIH1cbiAgaWYgKHN0eWxlLmZvbnRTdHlsZSA9PT0gJ2l0YWxpYycpIHtcbiAgICBtYXJrcy5hZGQoJ2l0YWxpYycpXG4gIH1cbiAgLy8gR29vZ2xlIERvY3MgdXNlcyB2ZXJ0aWNhbCBhbGlnbiBmb3Igc3Vic2NyaXB0IGFuZCBzdXBlcnNjcmlwdCBpbnN0ZWFkIG9mIDxzdXA+IGFuZCA8c3ViPlxuICBpZiAodmVydGljYWxBbGlnbiA9PT0gJ3N1cGVyJykge1xuICAgIG1hcmtzLmFkZCgnc3VwZXJzY3JpcHQnKVxuICB9IGVsc2UgaWYgKHZlcnRpY2FsQWxpZ24gPT09ICdzdWInKSB7XG4gICAgbWFya3MuYWRkKCdzdWJzY3JpcHQnKVxuICB9XG4gIHJldHVybiBtYXJrc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVIVE1MKGh0bWw6IHN0cmluZykge1xuICBjb25zdCBwYXJzZWQgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGh0bWwsICd0ZXh0L2h0bWwnKVxuICByZXR1cm4gZml4Tm9kZXNGb3JCbG9ja0NoaWxkcmVuKGRlc2VyaWFsaXplTm9kZXMocGFyc2VkLmJvZHkuY2hpbGROb2RlcykpXG59XG5cbnR5cGUgRGVzZXJpYWxpemVkTm9kZSA9IElubGluZUZyb21FeHRlcm5hbFBhc3RlIHwgQmxvY2tcblxudHlwZSBEZXNlcmlhbGl6ZWROb2RlcyA9IFtEZXNlcmlhbGl6ZWROb2RlLCAuLi5EZXNlcmlhbGl6ZWROb2RlW11dXG5cbmV4cG9ydCBmdW5jdGlvbiBkZXNlcmlhbGl6ZUhUTUxOb2RlKGVsOiBnbG9iYWxUaGlzLk5vZGUpOiBEZXNlcmlhbGl6ZWROb2RlW10ge1xuICBpZiAoIShlbCBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuSFRNTEVsZW1lbnQpKSB7XG4gICAgY29uc3QgdGV4dCA9IGVsLnRleHRDb250ZW50XG4gICAgaWYgKCF0ZXh0KSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgcmV0dXJuIGdldElubGluZU5vZGVzKHRleHQpXG4gIH1cbiAgaWYgKGVsLm5vZGVOYW1lID09PSAnQlInKSB7XG4gICAgcmV0dXJuIGdldElubGluZU5vZGVzKCdcXG4nKVxuICB9XG5cbiAgaWYgKGVsLm5vZGVOYW1lID09PSAnSU1HJykge1xuICAgIGNvbnN0IGFsdCA9IGVsLmdldEF0dHJpYnV0ZSgnYWx0JylcbiAgICByZXR1cm4gZ2V0SW5saW5lTm9kZXMoYWx0ID8/ICcnKVxuICB9XG5cbiAgaWYgKGVsLm5vZGVOYW1lID09PSAnSFInKSB7XG4gICAgcmV0dXJuIFt7IHR5cGU6ICdkaXZpZGVyJywgY2hpbGRyZW46IFt7IHRleHQ6ICcnIH1dIH1dXG4gIH1cblxuICBjb25zdCBtYXJrcyA9IG1hcmtzRnJvbUVsZW1lbnRBdHRyaWJ1dGVzKGVsKVxuXG4gIC8vIERyb3Bib3ggUGFwZXIgZGlzcGxheXMgYmxvY2txdW90ZXMgYXMgbGlzdHMgZm9yIHNvbWUgcmVhc29uXG4gIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3R0eXBlLXF1b3RlJykpIHtcbiAgICBtYXJrcy5kZWxldGUoJ2l0YWxpYycpXG4gICAgcmV0dXJuIGFkZE1hcmtzVG9DaGlsZHJlbihtYXJrcywgKCkgPT4gW1xuICAgICAgeyB0eXBlOiAnYmxvY2txdW90ZScsIGNoaWxkcmVuOiBmaXhOb2Rlc0ZvckJsb2NrQ2hpbGRyZW4oZGVzZXJpYWxpemVOb2RlcyhlbC5jaGlsZE5vZGVzKSkgfSxcbiAgICBdKVxuICB9XG5cbiAgcmV0dXJuIGFkZE1hcmtzVG9DaGlsZHJlbihtYXJrcywgKCk6IERlc2VyaWFsaXplZE5vZGVbXSA9PiB7XG4gICAgY29uc3QgeyBub2RlTmFtZSB9ID0gZWxcblxuICAgIGlmIChub2RlTmFtZSA9PT0gJ0EnKSB7XG4gICAgICBjb25zdCBocmVmID0gZWwuZ2V0QXR0cmlidXRlKCdocmVmJylcbiAgICAgIGlmIChocmVmKSB7XG4gICAgICAgIHJldHVybiBzZXRMaW5rRm9yQ2hpbGRyZW4oaHJlZiwgKCkgPT5cbiAgICAgICAgICBmb3JjZURpc2FibGVNYXJrRm9yQ2hpbGRyZW4oJ3VuZGVybGluZScsICgpID0+IGRlc2VyaWFsaXplTm9kZXMoZWwuY2hpbGROb2RlcykpXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobm9kZU5hbWUgPT09ICdQUkUnICYmIGVsLnRleHRDb250ZW50KSB7XG4gICAgICByZXR1cm4gW3sgdHlwZTogJ2NvZGUnLCBjaGlsZHJlbjogW3sgdGV4dDogZWwudGV4dENvbnRlbnQgfHwgJycgfV0gfV1cbiAgICB9XG5cbiAgICBjb25zdCBkZXNlcmlhbGl6ZWQgPSBkZXNlcmlhbGl6ZU5vZGVzKGVsLmNoaWxkTm9kZXMpXG4gICAgY29uc3QgY2hpbGRyZW4gPSBmaXhOb2Rlc0ZvckJsb2NrQ2hpbGRyZW4oZGVzZXJpYWxpemVkKVxuXG4gICAgaWYgKG5vZGVOYW1lID09PSAnTEknKSB7XG4gICAgICBsZXQgbmVzdGVkTGlzdDogQmxvY2sgfCB1bmRlZmluZWRcblxuICAgICAgY29uc3QgbGlzdEl0ZW1Db250ZW50ID0ge1xuICAgICAgICB0eXBlOiAnbGlzdC1pdGVtLWNvbnRlbnQnIGFzIGNvbnN0LFxuICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4uZmlsdGVyKG5vZGUgPT4ge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG5lc3RlZExpc3QgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG5vZGUudHlwZSA9PT0gJ29yZGVyZWQtbGlzdCcgfHwgbm9kZS50eXBlID09PSAndW5vcmRlcmVkLWxpc3QnKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgbmVzdGVkTGlzdCA9IG5vZGVcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxpc3RJdGVtQ2hpbGRyZW4gPSBuZXN0ZWRMaXN0ID8gW2xpc3RJdGVtQ29udGVudCwgbmVzdGVkTGlzdF0gOiBbbGlzdEl0ZW1Db250ZW50XVxuICAgICAgcmV0dXJuIFt7IHR5cGU6ICdsaXN0LWl0ZW0nLCBjaGlsZHJlbjogbGlzdEl0ZW1DaGlsZHJlbiB9XVxuICAgIH1cblxuICAgIGlmIChub2RlTmFtZSA9PT0gJ1AnKSB7XG4gICAgICByZXR1cm4gW3sgdHlwZTogJ3BhcmFncmFwaCcsIHRleHRBbGlnbjogZ2V0QWxpZ25tZW50RnJvbUVsZW1lbnQoZWwpLCBjaGlsZHJlbiB9XVxuICAgIH1cblxuICAgIGNvbnN0IGhlYWRpbmdMZXZlbCA9IGhlYWRpbmdzW25vZGVOYW1lXVxuXG4gICAgaWYgKHR5cGVvZiBoZWFkaW5nTGV2ZWwgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICB7IHR5cGU6ICdoZWFkaW5nJywgbGV2ZWw6IGhlYWRpbmdMZXZlbCwgdGV4dEFsaWduOiBnZXRBbGlnbm1lbnRGcm9tRWxlbWVudChlbCksIGNoaWxkcmVuIH0sXG4gICAgICBdXG4gICAgfVxuXG4gICAgaWYgKG5vZGVOYW1lID09PSAnQkxPQ0tRVU9URScpIHtcbiAgICAgIHJldHVybiBbeyB0eXBlOiAnYmxvY2txdW90ZScsIGNoaWxkcmVuIH1dXG4gICAgfVxuICAgIGlmIChub2RlTmFtZSA9PT0gJ09MJykge1xuICAgICAgcmV0dXJuIFt7IHR5cGU6ICdvcmRlcmVkLWxpc3QnLCBjaGlsZHJlbiB9XVxuICAgIH1cbiAgICBpZiAobm9kZU5hbWUgPT09ICdVTCcpIHtcbiAgICAgIHJldHVybiBbeyB0eXBlOiAndW5vcmRlcmVkLWxpc3QnLCBjaGlsZHJlbiB9XVxuICAgIH1cbiAgICBpZiAobm9kZU5hbWUgPT09ICdESVYnICYmICFpc0Jsb2NrKGNoaWxkcmVuWzBdKSkge1xuICAgICAgcmV0dXJuIFt7IHR5cGU6ICdwYXJhZ3JhcGgnLCBjaGlsZHJlbiB9XVxuICAgIH1cbiAgICByZXR1cm4gZGVzZXJpYWxpemVkXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGRlc2VyaWFsaXplTm9kZXMobm9kZXM6IEl0ZXJhYmxlPGdsb2JhbFRoaXMuTm9kZT4pOiBEZXNlcmlhbGl6ZWROb2RlW10ge1xuICBjb25zdCBvdXRwdXROb2RlczogKElubGluZUZyb21FeHRlcm5hbFBhc3RlIHwgQmxvY2spW10gPSBbXVxuICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIHtcbiAgICBvdXRwdXROb2Rlcy5wdXNoKC4uLmRlc2VyaWFsaXplSFRNTE5vZGUobm9kZSkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dE5vZGVzXG59XG5cbmZ1bmN0aW9uIGZpeE5vZGVzRm9yQmxvY2tDaGlsZHJlbihkZXNlcmlhbGl6ZWROb2RlczogRGVzZXJpYWxpemVkTm9kZVtdKTogRGVzZXJpYWxpemVkTm9kZXMge1xuICBpZiAoIWRlc2VyaWFsaXplZE5vZGVzLmxlbmd0aCkge1xuICAgIC8vIFNsYXRlIGFsc28gZ2V0cyB1bmhhcHB5IGlmIGFuIGVsZW1lbnQgaGFzIG5vIGNoaWxkcmVuXG4gICAgLy8gdGhlIGVtcHR5IHRleHQgbm9kZXMgd2lsbCBnZXQgbm9ybWFsaXplZCBhd2F5IGlmIHRoZXkncmUgbm90IG5lZWRlZFxuICAgIHJldHVybiBbeyB0ZXh0OiAnJyB9XVxuICB9XG4gIGlmIChkZXNlcmlhbGl6ZWROb2Rlcy5zb21lKGlzQmxvY2spKSB7XG4gICAgY29uc3QgcmVzdWx0OiBEZXNlcmlhbGl6ZWROb2RlW10gPSBbXVxuICAgIGxldCBxdWV1ZWRJbmxpbmVzOiBJbmxpbmVGcm9tRXh0ZXJuYWxQYXN0ZVtdID0gW11cbiAgICBjb25zdCBmbHVzaElubGluZXMgPSAoKSA9PiB7XG4gICAgICBpZiAocXVldWVkSW5saW5lcy5sZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goeyB0eXBlOiAncGFyYWdyYXBoJywgY2hpbGRyZW46IHF1ZXVlZElubGluZXMgfSlcbiAgICAgICAgcXVldWVkSW5saW5lcyA9IFtdXG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBkZXNlcmlhbGl6ZWROb2Rlcykge1xuICAgICAgaWYgKGlzQmxvY2sobm9kZSkpIHtcbiAgICAgICAgZmx1c2hJbmxpbmVzKClcbiAgICAgICAgcmVzdWx0LnB1c2gobm9kZSlcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIC8vIHdlIHdhbnQgdG8gaWdub3JlIHdoaXRlc3BhY2UgYmV0d2VlbiBibG9jayBsZXZlbCBlbGVtZW50c1xuICAgICAgLy8gdXNlZnVsIGluZm8gYWJvdXQgd2hpdGVzcGFjZSBpbiBodG1sOlxuICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RvY3VtZW50X09iamVjdF9Nb2RlbC9XaGl0ZXNwYWNlXG4gICAgICBpZiAoTm9kZS5zdHJpbmcobm9kZSkudHJpbSgpICE9PSAnJykge1xuICAgICAgICBxdWV1ZWRJbmxpbmVzLnB1c2gobm9kZSlcbiAgICAgIH1cbiAgICB9XG4gICAgZmx1c2hJbmxpbmVzKClcbiAgICByZXR1cm4gcmVzdWx0IGFzIERlc2VyaWFsaXplZE5vZGVzXG4gIH1cbiAgcmV0dXJuIGRlc2VyaWFsaXplZE5vZGVzIGFzIERlc2VyaWFsaXplZE5vZGVzXG59XG4iXSwibmFtZXMiOlsiTm9kZSIsImlzQmxvY2siLCJhZGRNYXJrc1RvQ2hpbGRyZW4iLCJnZXRJbmxpbmVOb2RlcyIsImZvcmNlRGlzYWJsZU1hcmtGb3JDaGlsZHJlbiIsInNldExpbmtGb3JDaGlsZHJlbiIsImdldEFsaWdubWVudEZyb21FbGVtZW50IiwiZWxlbWVudCIsInBhcmVudCIsInBhcmVudEVsZW1lbnQiLCJhdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJIVE1MRWxlbWVudCIsInRleHRBbGlnbiIsInN0eWxlIiwiaGVhZGluZ3MiLCJIMSIsIkgyIiwiSDMiLCJINCIsIkg1IiwiSDYiLCJURVhUX1RBR1MiLCJDT0RFIiwiREVMIiwiUyIsIlNUUklLRSIsIkVNIiwiSSIsIlNUUk9ORyIsIlUiLCJTVVAiLCJTVUIiLCJLQkQiLCJtYXJrc0Zyb21FbGVtZW50QXR0cmlidXRlcyIsIm1hcmtzIiwiU2V0Iiwibm9kZU5hbWUiLCJtYXJrRnJvbU5vZGVOYW1lIiwiYWRkIiwiZm9udFdlaWdodCIsInRleHREZWNvcmF0aW9uIiwidmVydGljYWxBbGlnbiIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwidGVzdCIsImZvbnRTdHlsZSIsImRlc2VyaWFsaXplSFRNTCIsImh0bWwiLCJwYXJzZWQiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJmaXhOb2Rlc0ZvckJsb2NrQ2hpbGRyZW4iLCJkZXNlcmlhbGl6ZU5vZGVzIiwiYm9keSIsImNoaWxkTm9kZXMiLCJkZXNlcmlhbGl6ZUhUTUxOb2RlIiwiZWwiLCJnbG9iYWxUaGlzIiwidGV4dCIsInRleHRDb250ZW50IiwiYWx0IiwidHlwZSIsImNoaWxkcmVuIiwiZGVsZXRlIiwiaHJlZiIsImRlc2VyaWFsaXplZCIsIm5lc3RlZExpc3QiLCJsaXN0SXRlbUNvbnRlbnQiLCJmaWx0ZXIiLCJub2RlIiwidW5kZWZpbmVkIiwibGlzdEl0ZW1DaGlsZHJlbiIsImhlYWRpbmdMZXZlbCIsImxldmVsIiwibm9kZXMiLCJvdXRwdXROb2RlcyIsInB1c2giLCJkZXNlcmlhbGl6ZWROb2RlcyIsImxlbmd0aCIsInNvbWUiLCJyZXN1bHQiLCJxdWV1ZWRJbmxpbmVzIiwiZmx1c2hJbmxpbmVzIiwic3RyaW5nIiwidHJpbSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/pasting/html.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/pasting/index.ts":
/*!********************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/pasting/index.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withPasting: () => (/* binding */ withPasting)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _isValidURL__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../isValidURL */ \"../../../../packages/fields-document/src/DocumentEditor/isValidURL.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n/* harmony import */ var _html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./html */ \"../../../../packages/fields-document/src/DocumentEditor/pasting/html.ts\");\n/* harmony import */ var _markdown__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./markdown */ \"../../../../packages/fields-document/src/DocumentEditor/pasting/markdown.ts\");\n\n\n\n\n\nconst urlPattern = /https?:\\/\\//;\nfunction insertFragmentButDifferent(editor, nodes) {\n    const firstNode = nodes[0];\n    if (slate__WEBPACK_IMPORTED_MODULE_4__.Element.isElement(firstNode) && slate__WEBPACK_IMPORTED_MODULE_4__.Editor.isBlock(editor, firstNode)) {\n        (0,_utils__WEBPACK_IMPORTED_MODULE_1__.insertNodesButReplaceIfSelectionIsAtEmptyParagraphOrHeading)(editor, nodes);\n    } else {\n        slate__WEBPACK_IMPORTED_MODULE_4__.Transforms.insertFragment(editor, nodes);\n    }\n}\nfunction withPasting(editor) {\n    const { insertData, setFragmentData } = editor;\n    editor.setFragmentData = (data)=>{\n        if (editor.selection) {\n            data.setData('application/x-keystone-document-editor', 'true');\n        }\n        setFragmentData(data);\n    };\n    editor.insertData = (data)=>{\n        // this exists because behind the scenes, Slate sets the slate document\n        // on the data transfer, this is great because it means when you copy and paste\n        // something in the editor or between editors, it'll use the actual Slate data\n        // rather than the serialized html so component blocks and etc. will work fine\n        // we're setting application/x-keystone-document-editor\n        // though so that we only accept slate data from Keystone's editor\n        // because other editors will likely have a different structure\n        // so we'll rely on the html deserialization instead\n        // (note that yes, we do call insertData at the end of this function\n        // which is where Slate's logic will run, it'll never do anything there though\n        // since anything that will have slate data will also have text/html which we handle\n        // before we call insertData)\n        // TODO: handle the case of copying between editors with different components blocks\n        // (right now, things will blow up in most cases)\n        if (data.getData('application/x-keystone-document-editor') === 'true') {\n            insertData(data);\n            return;\n        }\n        const blockAbove = slate__WEBPACK_IMPORTED_MODULE_4__.Editor.above(editor, {\n            match: (node)=>slate__WEBPACK_IMPORTED_MODULE_4__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_4__.Editor.isBlock(editor, node)\n        });\n        if (blockAbove?.[0].type === 'code') {\n            const plain = data.getData('text/plain');\n            editor.insertText(plain);\n            return;\n        }\n        const vsCodeEditorData = data.getData('vscode-editor-data');\n        if (vsCodeEditorData) {\n            try {\n                const vsCodeData = JSON.parse(vsCodeEditorData);\n                if (vsCodeData?.mode === 'markdown' || vsCodeData?.mode === 'mdx') {\n                    const plain = data.getData('text/plain');\n                    if (plain) {\n                        const fragment = (0,_markdown__WEBPACK_IMPORTED_MODULE_3__.deserializeMarkdown)(plain);\n                        insertFragmentButDifferent(editor, fragment);\n                        return;\n                    }\n                }\n            } catch (err) {\n                console.log(err);\n            }\n        }\n        const plain = data.getData('text/plain');\n        if (// isValidURL is a bit more permissive than a user might expect\n        // so for pasting, we'll constrain it to starting with https:// or http://\n        urlPattern.test(plain) && (0,_isValidURL__WEBPACK_IMPORTED_MODULE_0__.isValidURL)(plain) && editor.selection && !slate__WEBPACK_IMPORTED_MODULE_4__.Range.isCollapsed(editor.selection) && // we only want to turn the selected text into a link if the selection is within the same block\n        slate__WEBPACK_IMPORTED_MODULE_4__.Editor.above(editor, {\n            match: (node)=>slate__WEBPACK_IMPORTED_MODULE_4__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_4__.Editor.isBlock(editor, node) && !(slate__WEBPACK_IMPORTED_MODULE_4__.Element.isElement(node.children[0]) && slate__WEBPACK_IMPORTED_MODULE_4__.Editor.isBlock(editor, node.children[0]))\n        }) && // and there is only text(potentially with marks) in the selection\n        // no other links or inline relationships\n        slate__WEBPACK_IMPORTED_MODULE_4__.Editor.nodes(editor, {\n            match: (node)=>slate__WEBPACK_IMPORTED_MODULE_4__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_4__.Editor.isInline(editor, node)\n        }).next().done) {\n            slate__WEBPACK_IMPORTED_MODULE_4__.Transforms.wrapNodes(editor, {\n                type: 'link',\n                href: plain,\n                children: []\n            }, {\n                split: true\n            });\n            return;\n        }\n        const html = data.getData('text/html');\n        if (html) {\n            const fragment = (0,_html__WEBPACK_IMPORTED_MODULE_2__.deserializeHTML)(html);\n            insertFragmentButDifferent(editor, fragment);\n            return;\n        }\n        if (plain) {\n            const fragment = (0,_markdown__WEBPACK_IMPORTED_MODULE_3__.deserializeMarkdown)(plain);\n            insertFragmentButDifferent(editor, fragment);\n            return;\n        }\n        insertData(data);\n    };\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9wYXN0aW5nL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyRTtBQUNqQztBQUM0QztBQUM5QztBQUNRO0FBRWhELE1BQU1RLGFBQWE7QUFFbkIsU0FBU0MsMkJBQTJCQyxNQUFjLEVBQUVDLEtBQW1CO0lBQ3JFLE1BQU1DLFlBQVlELEtBQUssQ0FBQyxFQUFFO0lBQzFCLElBQUlYLDBDQUFPQSxDQUFDYSxTQUFTLENBQUNELGNBQWNYLHlDQUFNQSxDQUFDYSxPQUFPLENBQUNKLFFBQVFFLFlBQVk7UUFDckVQLG1HQUEyREEsQ0FBQ0ssUUFBUUM7SUFDdEUsT0FBTztRQUNMVCw2Q0FBVUEsQ0FBQ2EsY0FBYyxDQUFDTCxRQUFRQztJQUNwQztBQUNGO0FBRU8sU0FBU0ssWUFBWU4sTUFBYztJQUN4QyxNQUFNLEVBQUVPLFVBQVUsRUFBRUMsZUFBZSxFQUFFLEdBQUdSO0lBRXhDQSxPQUFPUSxlQUFlLEdBQUdDLENBQUFBO1FBQ3ZCLElBQUlULE9BQU9VLFNBQVMsRUFBRTtZQUNwQkQsS0FBS0UsT0FBTyxDQUFDLDBDQUEwQztRQUN6RDtRQUNBSCxnQkFBZ0JDO0lBQ2xCO0lBRUFULE9BQU9PLFVBQVUsR0FBR0UsQ0FBQUE7UUFDbEIsdUVBQXVFO1FBQ3ZFLCtFQUErRTtRQUMvRSw4RUFBOEU7UUFDOUUsOEVBQThFO1FBQzlFLHVEQUF1RDtRQUN2RCxrRUFBa0U7UUFDbEUsK0RBQStEO1FBQy9ELG9EQUFvRDtRQUNwRCxvRUFBb0U7UUFDcEUsOEVBQThFO1FBQzlFLG9GQUFvRjtRQUNwRiw2QkFBNkI7UUFDN0Isb0ZBQW9GO1FBQ3BGLGlEQUFpRDtRQUNqRCxJQUFJQSxLQUFLRyxPQUFPLENBQUMsOENBQThDLFFBQVE7WUFDckVMLFdBQVdFO1lBQ1g7UUFDRjtRQUNBLE1BQU1JLGFBQWF0Qix5Q0FBTUEsQ0FBQ3VCLEtBQUssQ0FBQ2QsUUFBUTtZQUN0Q2UsT0FBT0MsQ0FBQUEsT0FBUTFCLDBDQUFPQSxDQUFDYSxTQUFTLENBQUNhLFNBQVN6Qix5Q0FBTUEsQ0FBQ2EsT0FBTyxDQUFDSixRQUFRZ0I7UUFDbkU7UUFDQSxJQUFJSCxZQUFZLENBQUMsRUFBRSxDQUFDSSxTQUFTLFFBQVE7WUFDbkMsTUFBTUMsUUFBUVQsS0FBS0csT0FBTyxDQUFDO1lBQzNCWixPQUFPbUIsVUFBVSxDQUFDRDtZQUNsQjtRQUNGO1FBQ0EsTUFBTUUsbUJBQW1CWCxLQUFLRyxPQUFPLENBQUM7UUFDdEMsSUFBSVEsa0JBQWtCO1lBQ3BCLElBQUk7Z0JBQ0YsTUFBTUMsYUFBYUMsS0FBS0MsS0FBSyxDQUFDSDtnQkFDOUIsSUFBSUMsWUFBWUcsU0FBUyxjQUFjSCxZQUFZRyxTQUFTLE9BQU87b0JBQ2pFLE1BQU1OLFFBQVFULEtBQUtHLE9BQU8sQ0FBQztvQkFDM0IsSUFBSU0sT0FBTzt3QkFDVCxNQUFNTyxXQUFXNUIsOERBQW1CQSxDQUFDcUI7d0JBQ3JDbkIsMkJBQTJCQyxRQUFReUI7d0JBQ25DO29CQUNGO2dCQUNGO1lBQ0YsRUFBRSxPQUFPQyxLQUFLO2dCQUNaQyxRQUFRQyxHQUFHLENBQUNGO1lBQ2Q7UUFDRjtRQUVBLE1BQU1SLFFBQVFULEtBQUtHLE9BQU8sQ0FBQztRQUUzQixJQUNFLCtEQUErRDtRQUMvRCwwRUFBMEU7UUFDMUVkLFdBQVcrQixJQUFJLENBQUNYLFVBQ2hCeEIsdURBQVVBLENBQUN3QixVQUNYbEIsT0FBT1UsU0FBUyxJQUNoQixDQUFDakIsd0NBQUtBLENBQUNxQyxXQUFXLENBQUM5QixPQUFPVSxTQUFTLEtBQ25DLCtGQUErRjtRQUMvRm5CLHlDQUFNQSxDQUFDdUIsS0FBSyxDQUFDZCxRQUFRO1lBQ25CZSxPQUFPQyxDQUFBQSxPQUNMMUIsMENBQU9BLENBQUNhLFNBQVMsQ0FBQ2EsU0FDbEJ6Qix5Q0FBTUEsQ0FBQ2EsT0FBTyxDQUFDSixRQUFRZ0IsU0FDdkIsQ0FBRTFCLENBQUFBLDBDQUFPQSxDQUFDYSxTQUFTLENBQUNhLEtBQUtlLFFBQVEsQ0FBQyxFQUFFLEtBQUt4Qyx5Q0FBTUEsQ0FBQ2EsT0FBTyxDQUFDSixRQUFRZ0IsS0FBS2UsUUFBUSxDQUFDLEVBQUU7UUFDcEYsTUFDQSxrRUFBa0U7UUFDbEUseUNBQXlDO1FBQ3pDeEMseUNBQU1BLENBQUNVLEtBQUssQ0FBQ0QsUUFBUTtZQUNuQmUsT0FBT0MsQ0FBQUEsT0FBUTFCLDBDQUFPQSxDQUFDYSxTQUFTLENBQUNhLFNBQVN6Qix5Q0FBTUEsQ0FBQ3lDLFFBQVEsQ0FBQ2hDLFFBQVFnQjtRQUNwRSxHQUFHaUIsSUFBSSxHQUFHQyxJQUFJLEVBQ2Q7WUFDQTFDLDZDQUFVQSxDQUFDMkMsU0FBUyxDQUFDbkMsUUFBUTtnQkFBRWlCLE1BQU07Z0JBQVFtQixNQUFNbEI7Z0JBQU9hLFVBQVUsRUFBRTtZQUFDLEdBQUc7Z0JBQUVNLE9BQU87WUFBSztZQUN4RjtRQUNGO1FBRUEsTUFBTUMsT0FBTzdCLEtBQUtHLE9BQU8sQ0FBQztRQUMxQixJQUFJMEIsTUFBTTtZQUNSLE1BQU1iLFdBQVc3QixzREFBZUEsQ0FBQzBDO1lBQ2pDdkMsMkJBQTJCQyxRQUFReUI7WUFDbkM7UUFDRjtRQUVBLElBQUlQLE9BQU87WUFDVCxNQUFNTyxXQUFXNUIsOERBQW1CQSxDQUFDcUI7WUFDckNuQiwyQkFBMkJDLFFBQVF5QjtZQUNuQztRQUNGO1FBRUFsQixXQUFXRTtJQUNiO0lBRUEsT0FBT1Q7QUFDVCIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL3Bhc3RpbmcvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBEZXNjZW5kYW50LCBFbGVtZW50LCBFZGl0b3IsIFRyYW5zZm9ybXMsIFJhbmdlIH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgeyBpc1ZhbGlkVVJMIH0gZnJvbSAnLi4vaXNWYWxpZFVSTCdcbmltcG9ydCB7IGluc2VydE5vZGVzQnV0UmVwbGFjZUlmU2VsZWN0aW9uSXNBdEVtcHR5UGFyYWdyYXBoT3JIZWFkaW5nIH0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgeyBkZXNlcmlhbGl6ZUhUTUwgfSBmcm9tICcuL2h0bWwnXG5pbXBvcnQgeyBkZXNlcmlhbGl6ZU1hcmtkb3duIH0gZnJvbSAnLi9tYXJrZG93bidcblxuY29uc3QgdXJsUGF0dGVybiA9IC9odHRwcz86XFwvXFwvL1xuXG5mdW5jdGlvbiBpbnNlcnRGcmFnbWVudEJ1dERpZmZlcmVudChlZGl0b3I6IEVkaXRvciwgbm9kZXM6IERlc2NlbmRhbnRbXSkge1xuICBjb25zdCBmaXJzdE5vZGUgPSBub2Rlc1swXVxuICBpZiAoRWxlbWVudC5pc0VsZW1lbnQoZmlyc3ROb2RlKSAmJiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIGZpcnN0Tm9kZSkpIHtcbiAgICBpbnNlcnROb2Rlc0J1dFJlcGxhY2VJZlNlbGVjdGlvbklzQXRFbXB0eVBhcmFncmFwaE9ySGVhZGluZyhlZGl0b3IsIG5vZGVzKVxuICB9IGVsc2Uge1xuICAgIFRyYW5zZm9ybXMuaW5zZXJ0RnJhZ21lbnQoZWRpdG9yLCBub2RlcylcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd2l0aFBhc3RpbmcoZWRpdG9yOiBFZGl0b3IpOiBFZGl0b3Ige1xuICBjb25zdCB7IGluc2VydERhdGEsIHNldEZyYWdtZW50RGF0YSB9ID0gZWRpdG9yXG5cbiAgZWRpdG9yLnNldEZyYWdtZW50RGF0YSA9IGRhdGEgPT4ge1xuICAgIGlmIChlZGl0b3Iuc2VsZWN0aW9uKSB7XG4gICAgICBkYXRhLnNldERhdGEoJ2FwcGxpY2F0aW9uL3gta2V5c3RvbmUtZG9jdW1lbnQtZWRpdG9yJywgJ3RydWUnKVxuICAgIH1cbiAgICBzZXRGcmFnbWVudERhdGEoZGF0YSlcbiAgfVxuXG4gIGVkaXRvci5pbnNlcnREYXRhID0gZGF0YSA9PiB7XG4gICAgLy8gdGhpcyBleGlzdHMgYmVjYXVzZSBiZWhpbmQgdGhlIHNjZW5lcywgU2xhdGUgc2V0cyB0aGUgc2xhdGUgZG9jdW1lbnRcbiAgICAvLyBvbiB0aGUgZGF0YSB0cmFuc2ZlciwgdGhpcyBpcyBncmVhdCBiZWNhdXNlIGl0IG1lYW5zIHdoZW4geW91IGNvcHkgYW5kIHBhc3RlXG4gICAgLy8gc29tZXRoaW5nIGluIHRoZSBlZGl0b3Igb3IgYmV0d2VlbiBlZGl0b3JzLCBpdCdsbCB1c2UgdGhlIGFjdHVhbCBTbGF0ZSBkYXRhXG4gICAgLy8gcmF0aGVyIHRoYW4gdGhlIHNlcmlhbGl6ZWQgaHRtbCBzbyBjb21wb25lbnQgYmxvY2tzIGFuZCBldGMuIHdpbGwgd29yayBmaW5lXG4gICAgLy8gd2UncmUgc2V0dGluZyBhcHBsaWNhdGlvbi94LWtleXN0b25lLWRvY3VtZW50LWVkaXRvclxuICAgIC8vIHRob3VnaCBzbyB0aGF0IHdlIG9ubHkgYWNjZXB0IHNsYXRlIGRhdGEgZnJvbSBLZXlzdG9uZSdzIGVkaXRvclxuICAgIC8vIGJlY2F1c2Ugb3RoZXIgZWRpdG9ycyB3aWxsIGxpa2VseSBoYXZlIGEgZGlmZmVyZW50IHN0cnVjdHVyZVxuICAgIC8vIHNvIHdlJ2xsIHJlbHkgb24gdGhlIGh0bWwgZGVzZXJpYWxpemF0aW9uIGluc3RlYWRcbiAgICAvLyAobm90ZSB0aGF0IHllcywgd2UgZG8gY2FsbCBpbnNlcnREYXRhIGF0IHRoZSBlbmQgb2YgdGhpcyBmdW5jdGlvblxuICAgIC8vIHdoaWNoIGlzIHdoZXJlIFNsYXRlJ3MgbG9naWMgd2lsbCBydW4sIGl0J2xsIG5ldmVyIGRvIGFueXRoaW5nIHRoZXJlIHRob3VnaFxuICAgIC8vIHNpbmNlIGFueXRoaW5nIHRoYXQgd2lsbCBoYXZlIHNsYXRlIGRhdGEgd2lsbCBhbHNvIGhhdmUgdGV4dC9odG1sIHdoaWNoIHdlIGhhbmRsZVxuICAgIC8vIGJlZm9yZSB3ZSBjYWxsIGluc2VydERhdGEpXG4gICAgLy8gVE9ETzogaGFuZGxlIHRoZSBjYXNlIG9mIGNvcHlpbmcgYmV0d2VlbiBlZGl0b3JzIHdpdGggZGlmZmVyZW50IGNvbXBvbmVudHMgYmxvY2tzXG4gICAgLy8gKHJpZ2h0IG5vdywgdGhpbmdzIHdpbGwgYmxvdyB1cCBpbiBtb3N0IGNhc2VzKVxuICAgIGlmIChkYXRhLmdldERhdGEoJ2FwcGxpY2F0aW9uL3gta2V5c3RvbmUtZG9jdW1lbnQtZWRpdG9yJykgPT09ICd0cnVlJykge1xuICAgICAgaW5zZXJ0RGF0YShkYXRhKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IGJsb2NrQWJvdmUgPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgICBtYXRjaDogbm9kZSA9PiBFbGVtZW50LmlzRWxlbWVudChub2RlKSAmJiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG5vZGUpLFxuICAgIH0pXG4gICAgaWYgKGJsb2NrQWJvdmU/LlswXS50eXBlID09PSAnY29kZScpIHtcbiAgICAgIGNvbnN0IHBsYWluID0gZGF0YS5nZXREYXRhKCd0ZXh0L3BsYWluJylcbiAgICAgIGVkaXRvci5pbnNlcnRUZXh0KHBsYWluKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHZzQ29kZUVkaXRvckRhdGEgPSBkYXRhLmdldERhdGEoJ3ZzY29kZS1lZGl0b3ItZGF0YScpXG4gICAgaWYgKHZzQ29kZUVkaXRvckRhdGEpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHZzQ29kZURhdGEgPSBKU09OLnBhcnNlKHZzQ29kZUVkaXRvckRhdGEpXG4gICAgICAgIGlmICh2c0NvZGVEYXRhPy5tb2RlID09PSAnbWFya2Rvd24nIHx8IHZzQ29kZURhdGE/Lm1vZGUgPT09ICdtZHgnKSB7XG4gICAgICAgICAgY29uc3QgcGxhaW4gPSBkYXRhLmdldERhdGEoJ3RleHQvcGxhaW4nKVxuICAgICAgICAgIGlmIChwbGFpbikge1xuICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBkZXNlcmlhbGl6ZU1hcmtkb3duKHBsYWluKVxuICAgICAgICAgICAgaW5zZXJ0RnJhZ21lbnRCdXREaWZmZXJlbnQoZWRpdG9yLCBmcmFnbWVudClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwbGFpbiA9IGRhdGEuZ2V0RGF0YSgndGV4dC9wbGFpbicpXG5cbiAgICBpZiAoXG4gICAgICAvLyBpc1ZhbGlkVVJMIGlzIGEgYml0IG1vcmUgcGVybWlzc2l2ZSB0aGFuIGEgdXNlciBtaWdodCBleHBlY3RcbiAgICAgIC8vIHNvIGZvciBwYXN0aW5nLCB3ZSdsbCBjb25zdHJhaW4gaXQgdG8gc3RhcnRpbmcgd2l0aCBodHRwczovLyBvciBodHRwOi8vXG4gICAgICB1cmxQYXR0ZXJuLnRlc3QocGxhaW4pICYmXG4gICAgICBpc1ZhbGlkVVJMKHBsYWluKSAmJlxuICAgICAgZWRpdG9yLnNlbGVjdGlvbiAmJlxuICAgICAgIVJhbmdlLmlzQ29sbGFwc2VkKGVkaXRvci5zZWxlY3Rpb24pICYmXG4gICAgICAvLyB3ZSBvbmx5IHdhbnQgdG8gdHVybiB0aGUgc2VsZWN0ZWQgdGV4dCBpbnRvIGEgbGluayBpZiB0aGUgc2VsZWN0aW9uIGlzIHdpdGhpbiB0aGUgc2FtZSBibG9ja1xuICAgICAgRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgICBtYXRjaDogbm9kZSA9PlxuICAgICAgICAgIEVsZW1lbnQuaXNFbGVtZW50KG5vZGUpICYmXG4gICAgICAgICAgRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBub2RlKSAmJlxuICAgICAgICAgICEoRWxlbWVudC5pc0VsZW1lbnQobm9kZS5jaGlsZHJlblswXSkgJiYgRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBub2RlLmNoaWxkcmVuWzBdKSksXG4gICAgICB9KSAmJlxuICAgICAgLy8gYW5kIHRoZXJlIGlzIG9ubHkgdGV4dChwb3RlbnRpYWxseSB3aXRoIG1hcmtzKSBpbiB0aGUgc2VsZWN0aW9uXG4gICAgICAvLyBubyBvdGhlciBsaW5rcyBvciBpbmxpbmUgcmVsYXRpb25zaGlwc1xuICAgICAgRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgICBtYXRjaDogbm9kZSA9PiBFbGVtZW50LmlzRWxlbWVudChub2RlKSAmJiBFZGl0b3IuaXNJbmxpbmUoZWRpdG9yLCBub2RlKSxcbiAgICAgIH0pLm5leHQoKS5kb25lXG4gICAgKSB7XG4gICAgICBUcmFuc2Zvcm1zLndyYXBOb2RlcyhlZGl0b3IsIHsgdHlwZTogJ2xpbmsnLCBocmVmOiBwbGFpbiwgY2hpbGRyZW46IFtdIH0sIHsgc3BsaXQ6IHRydWUgfSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGh0bWwgPSBkYXRhLmdldERhdGEoJ3RleHQvaHRtbCcpXG4gICAgaWYgKGh0bWwpIHtcbiAgICAgIGNvbnN0IGZyYWdtZW50ID0gZGVzZXJpYWxpemVIVE1MKGh0bWwpXG4gICAgICBpbnNlcnRGcmFnbWVudEJ1dERpZmZlcmVudChlZGl0b3IsIGZyYWdtZW50KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHBsYWluKSB7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IGRlc2VyaWFsaXplTWFya2Rvd24ocGxhaW4pXG4gICAgICBpbnNlcnRGcmFnbWVudEJ1dERpZmZlcmVudChlZGl0b3IsIGZyYWdtZW50KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaW5zZXJ0RGF0YShkYXRhKVxuICB9XG5cbiAgcmV0dXJuIGVkaXRvclxufVxuIl0sIm5hbWVzIjpbIkVsZW1lbnQiLCJFZGl0b3IiLCJUcmFuc2Zvcm1zIiwiUmFuZ2UiLCJpc1ZhbGlkVVJMIiwiaW5zZXJ0Tm9kZXNCdXRSZXBsYWNlSWZTZWxlY3Rpb25Jc0F0RW1wdHlQYXJhZ3JhcGhPckhlYWRpbmciLCJkZXNlcmlhbGl6ZUhUTUwiLCJkZXNlcmlhbGl6ZU1hcmtkb3duIiwidXJsUGF0dGVybiIsImluc2VydEZyYWdtZW50QnV0RGlmZmVyZW50IiwiZWRpdG9yIiwibm9kZXMiLCJmaXJzdE5vZGUiLCJpc0VsZW1lbnQiLCJpc0Jsb2NrIiwiaW5zZXJ0RnJhZ21lbnQiLCJ3aXRoUGFzdGluZyIsImluc2VydERhdGEiLCJzZXRGcmFnbWVudERhdGEiLCJkYXRhIiwic2VsZWN0aW9uIiwic2V0RGF0YSIsImdldERhdGEiLCJibG9ja0Fib3ZlIiwiYWJvdmUiLCJtYXRjaCIsIm5vZGUiLCJ0eXBlIiwicGxhaW4iLCJpbnNlcnRUZXh0IiwidnNDb2RlRWRpdG9yRGF0YSIsInZzQ29kZURhdGEiLCJKU09OIiwicGFyc2UiLCJtb2RlIiwiZnJhZ21lbnQiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwidGVzdCIsImlzQ29sbGFwc2VkIiwiY2hpbGRyZW4iLCJpc0lubGluZSIsIm5leHQiLCJkb25lIiwid3JhcE5vZGVzIiwiaHJlZiIsInNwbGl0IiwiaHRtbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/pasting/index.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/pasting/markdown.ts":
/*!***********************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/pasting/markdown.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deserializeMarkdown: () => (/* binding */ deserializeMarkdown)\n/* harmony export */ });\n/* harmony import */ var mdast_util_from_markdown__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mdast-util-from-markdown */ \"../../../../node_modules/.pnpm/mdast-util-from-markdown@0.8.5/node_modules/mdast-util-from-markdown/index.js\");\n/* harmony import */ var mdast_util_from_markdown__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mdast_util_from_markdown__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mdast_util_gfm_autolink_literal_from_markdown__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mdast-util-gfm-autolink-literal/from-markdown */ \"../../../../node_modules/.pnpm/mdast-util-gfm-autolink-literal@0.1.3/node_modules/mdast-util-gfm-autolink-literal/from-markdown.js\");\n/* harmony import */ var micromark_extension_gfm_autolink_literal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! micromark-extension-gfm-autolink-literal */ \"../../../../node_modules/.pnpm/micromark-extension-gfm-autolink-literal@0.5.7/node_modules/micromark-extension-gfm-autolink-literal/index.js\");\n/* harmony import */ var micromark_extension_gfm_autolink_literal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(micromark_extension_gfm_autolink_literal__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var mdast_util_gfm_strikethrough_from_markdown__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mdast-util-gfm-strikethrough/from-markdown */ \"../../../../node_modules/.pnpm/mdast-util-gfm-strikethrough@0.2.3/node_modules/mdast-util-gfm-strikethrough/from-markdown.js\");\n/* harmony import */ var micromark_extension_gfm_strikethrough__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! micromark-extension-gfm-strikethrough */ \"../../../../node_modules/.pnpm/micromark-extension-gfm-strikethrough@0.6.5/node_modules/micromark-extension-gfm-strikethrough/index.js\");\n/* harmony import */ var micromark_extension_gfm_strikethrough__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(micromark_extension_gfm_strikethrough__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/pasting/utils.ts\");\n\n// @ts-expect-error\n\n// @ts-expect-error\n\n// @ts-expect-error\n\n\n\nconst markdownConfig = {\n    mdastExtensions: [\n        mdast_util_gfm_autolink_literal_from_markdown__WEBPACK_IMPORTED_MODULE_1__,\n        mdast_util_gfm_strikethrough_from_markdown__WEBPACK_IMPORTED_MODULE_3__\n    ],\n    extensions: [\n        (micromark_extension_gfm_autolink_literal__WEBPACK_IMPORTED_MODULE_2___default()),\n        micromark_extension_gfm_strikethrough__WEBPACK_IMPORTED_MODULE_4___default()()\n    ]\n};\nfunction deserializeMarkdown(markdown) {\n    const root = mdast_util_from_markdown__WEBPACK_IMPORTED_MODULE_0___default()(markdown, markdownConfig);\n    let nodes = root.children;\n    if (nodes.length === 1 && nodes[0].type === 'paragraph') {\n        nodes = nodes[0].children;\n    }\n    return deserializeChildren(nodes, markdown);\n}\nfunction deserializeChildren(nodes, input) {\n    const outputNodes = [];\n    for (const node of nodes){\n        const result = deserializeMarkdownNode(node, input);\n        if (result.length) {\n            outputNodes.push(...result);\n        }\n    }\n    if (!outputNodes.length) {\n        outputNodes.push({\n            text: ''\n        });\n    }\n    return outputNodes;\n}\nfunction deserializeMarkdownNode(node, input) {\n    switch(node.type){\n        case 'blockquote':\n            return [\n                {\n                    type: 'blockquote',\n                    children: deserializeChildren(node.children, input)\n                }\n            ];\n        case 'link':\n            {\n                // arguably this could just return a link node rather than use setLinkForChildren since the children _should_ only be inlines\n                // but rather than relying on the markdown parser we use being correct in this way since it isn't nicely codified in types\n                // let's be safe since we already have the code to do it the safer way because of html pasting\n                return (0,_utils__WEBPACK_IMPORTED_MODULE_5__.setLinkForChildren)(node.url, ()=>deserializeChildren(node.children, input));\n            }\n        case 'code':\n            return [\n                {\n                    type: 'code',\n                    children: [\n                        {\n                            text: node.value\n                        }\n                    ]\n                }\n            ];\n        case 'paragraph':\n            return [\n                {\n                    type: 'paragraph',\n                    children: deserializeChildren(node.children, input)\n                }\n            ];\n        case 'heading':\n            {\n                return [\n                    {\n                        type: 'heading',\n                        level: node.depth,\n                        children: deserializeChildren(node.children, input)\n                    }\n                ];\n            }\n        case 'list':\n            {\n                return [\n                    {\n                        type: node.ordered ? 'ordered-list' : 'unordered-list',\n                        children: deserializeChildren(node.children, input)\n                    }\n                ];\n            }\n        case 'listItem':\n            return [\n                {\n                    type: 'list-item',\n                    children: deserializeChildren(node.children, input)\n                }\n            ];\n        case 'thematicBreak':\n            return [\n                {\n                    type: 'divider',\n                    children: [\n                        {\n                            text: ''\n                        }\n                    ]\n                }\n            ];\n        case 'break':\n            return (0,_utils__WEBPACK_IMPORTED_MODULE_5__.getInlineNodes)('\\n');\n        case 'delete':\n            return (0,_utils__WEBPACK_IMPORTED_MODULE_5__.addMarkToChildren)('strikethrough', ()=>deserializeChildren(node.children, input));\n        case 'strong':\n            return (0,_utils__WEBPACK_IMPORTED_MODULE_5__.addMarkToChildren)('bold', ()=>deserializeChildren(node.children, input));\n        case 'emphasis':\n            return (0,_utils__WEBPACK_IMPORTED_MODULE_5__.addMarkToChildren)('italic', ()=>deserializeChildren(node.children, input));\n        case 'inlineCode':\n            return (0,_utils__WEBPACK_IMPORTED_MODULE_5__.addMarkToChildren)('code', ()=>(0,_utils__WEBPACK_IMPORTED_MODULE_5__.getInlineNodes)(node.value));\n        case 'text':\n            return (0,_utils__WEBPACK_IMPORTED_MODULE_5__.getInlineNodes)(node.value);\n    }\n    return (0,_utils__WEBPACK_IMPORTED_MODULE_5__.getInlineNodes)(input.slice(node.position.start.offset, node.position.end.offset));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9wYXN0aW5nL21hcmtkb3duLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBNEQ7QUFDNUQsbUJBQW1CO0FBQzZFO0FBQ2hHLG1CQUFtQjtBQUNpRTtBQUNwRixtQkFBbUI7QUFDMkU7QUFDWjtBQU9sRTtBQUVoQixNQUFNUSxpQkFBaUI7SUFDckJDLGlCQUFpQjtRQUFDUiwwRUFBb0NBO1FBQUVFLHVFQUFxQ0E7S0FBQztJQUM5Rk8sWUFBWTtRQUFDUixpRkFBNkJBO1FBQUVFLDRFQUE4QkE7S0FBRztBQUMvRTtBQUVPLFNBQVNPLG9CQUFvQkMsUUFBZ0I7SUFDbEQsTUFBTUMsT0FBT2IsK0RBQXFCQSxDQUFDWSxVQUFVSjtJQUM3QyxJQUFJTSxRQUFRRCxLQUFLRSxRQUFRO0lBQ3pCLElBQUlELE1BQU1FLE1BQU0sS0FBSyxLQUFLRixLQUFLLENBQUMsRUFBRSxDQUFDRyxJQUFJLEtBQUssYUFBYTtRQUN2REgsUUFBUUEsS0FBSyxDQUFDLEVBQUUsQ0FBQ0MsUUFBUTtJQUMzQjtJQUNBLE9BQU9HLG9CQUFvQkosT0FBT0Y7QUFDcEM7QUFJQSxTQUFTTSxvQkFBb0JKLEtBQWUsRUFBRUssS0FBYTtJQUN6RCxNQUFNQyxjQUFtRCxFQUFFO0lBQzNELEtBQUssTUFBTUMsUUFBUVAsTUFBTztRQUN4QixNQUFNUSxTQUFTQyx3QkFBd0JGLE1BQU1GO1FBQzdDLElBQUlHLE9BQU9OLE1BQU0sRUFBRTtZQUNqQkksWUFBWUksSUFBSSxJQUFJRjtRQUN0QjtJQUNGO0lBQ0EsSUFBSSxDQUFDRixZQUFZSixNQUFNLEVBQUU7UUFDdkJJLFlBQVlJLElBQUksQ0FBQztZQUFFQyxNQUFNO1FBQUc7SUFDOUI7SUFDQSxPQUFPTDtBQUNUO0FBRUEsU0FBU0csd0JBQXdCRixJQUFZLEVBQUVGLEtBQWE7SUFDMUQsT0FBUUUsS0FBS0osSUFBSTtRQUNmLEtBQUs7WUFDSCxPQUFPO2dCQUFDO29CQUFFQSxNQUFNO29CQUFjRixVQUFVRyxvQkFBb0JHLEtBQUtOLFFBQVEsRUFBRUk7Z0JBQU87YUFBRTtRQUN0RixLQUFLO1lBQVE7Z0JBQ1gsNkhBQTZIO2dCQUM3SCwwSEFBMEg7Z0JBQzFILDhGQUE4RjtnQkFDOUYsT0FBT1osMERBQWtCQSxDQUFDYyxLQUFLSyxHQUFHLEVBQUUsSUFBTVIsb0JBQW9CRyxLQUFLTixRQUFRLEVBQUVJO1lBQy9FO1FBQ0EsS0FBSztZQUNILE9BQU87Z0JBQUM7b0JBQUVGLE1BQU07b0JBQVFGLFVBQVU7d0JBQUM7NEJBQUVVLE1BQU1KLEtBQUtNLEtBQUs7d0JBQUM7cUJBQUU7Z0JBQUM7YUFBRTtRQUM3RCxLQUFLO1lBQ0gsT0FBTztnQkFBQztvQkFBRVYsTUFBTTtvQkFBYUYsVUFBVUcsb0JBQW9CRyxLQUFLTixRQUFRLEVBQUVJO2dCQUFPO2FBQUU7UUFDckYsS0FBSztZQUFXO2dCQUNkLE9BQU87b0JBQ0w7d0JBQ0VGLE1BQU07d0JBQ05XLE9BQU9QLEtBQUtRLEtBQUs7d0JBQ2pCZCxVQUFVRyxvQkFBb0JHLEtBQUtOLFFBQVEsRUFBRUk7b0JBQy9DO2lCQUNEO1lBQ0g7UUFDQSxLQUFLO1lBQVE7Z0JBQ1gsT0FBTztvQkFDTDt3QkFDRUYsTUFBTUksS0FBS1MsT0FBTyxHQUFHLGlCQUFpQjt3QkFDdENmLFVBQVVHLG9CQUFvQkcsS0FBS04sUUFBUSxFQUFFSTtvQkFDL0M7aUJBQ0Q7WUFDSDtRQUNBLEtBQUs7WUFDSCxPQUFPO2dCQUFDO29CQUFFRixNQUFNO29CQUFhRixVQUFVRyxvQkFBb0JHLEtBQUtOLFFBQVEsRUFBRUk7Z0JBQU87YUFBRTtRQUNyRixLQUFLO1lBQ0gsT0FBTztnQkFBQztvQkFBRUYsTUFBTTtvQkFBV0YsVUFBVTt3QkFBQzs0QkFBRVUsTUFBTTt3QkFBRztxQkFBRTtnQkFBQzthQUFFO1FBQ3hELEtBQUs7WUFDSCxPQUFPbkIsc0RBQWNBLENBQUM7UUFDeEIsS0FBSztZQUNILE9BQU9ELHlEQUFpQkEsQ0FBQyxpQkFBaUIsSUFBTWEsb0JBQW9CRyxLQUFLTixRQUFRLEVBQUVJO1FBQ3JGLEtBQUs7WUFDSCxPQUFPZCx5REFBaUJBLENBQUMsUUFBUSxJQUFNYSxvQkFBb0JHLEtBQUtOLFFBQVEsRUFBRUk7UUFDNUUsS0FBSztZQUNILE9BQU9kLHlEQUFpQkEsQ0FBQyxVQUFVLElBQU1hLG9CQUFvQkcsS0FBS04sUUFBUSxFQUFFSTtRQUM5RSxLQUFLO1lBQ0gsT0FBT2QseURBQWlCQSxDQUFDLFFBQVEsSUFBTUMsc0RBQWNBLENBQUNlLEtBQUtNLEtBQUs7UUFDbEUsS0FBSztZQUNILE9BQU9yQixzREFBY0EsQ0FBQ2UsS0FBS00sS0FBSztJQUNwQztJQUNBLE9BQU9yQixzREFBY0EsQ0FBQ2EsTUFBTVksS0FBSyxDQUFDVixLQUFLVyxRQUFRLENBQUVDLEtBQUssQ0FBQ0MsTUFBTSxFQUFFYixLQUFLVyxRQUFRLENBQUVHLEdBQUcsQ0FBQ0QsTUFBTTtBQUMxRiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL3Bhc3RpbmcvbWFya2Rvd24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1kQVNUVXRpbEZyb21NYXJrZG93biBmcm9tICdtZGFzdC11dGlsLWZyb20tbWFya2Rvd24nXG4vLyBAdHMtZXhwZWN0LWVycm9yXG5pbXBvcnQgYXV0b0xpbmtMaXRlcmFsRnJvbU1hcmtkb3duRXh0ZW5zaW9uIGZyb20gJ21kYXN0LXV0aWwtZ2ZtLWF1dG9saW5rLWxpdGVyYWwvZnJvbS1tYXJrZG93bidcbi8vIEB0cy1leHBlY3QtZXJyb3JcbmltcG9ydCBhdXRvTGlua0xpdGVyYWxNYXJrZG93blN5bnRheCBmcm9tICdtaWNyb21hcmstZXh0ZW5zaW9uLWdmbS1hdXRvbGluay1saXRlcmFsJ1xuLy8gQHRzLWV4cGVjdC1lcnJvclxuaW1wb3J0IGdmbVN0cmlrZXRocm91Z2hGcm9tTWFya2Rvd25FeHRlbnNpb24gZnJvbSAnbWRhc3QtdXRpbC1nZm0tc3RyaWtldGhyb3VnaC9mcm9tLW1hcmtkb3duJ1xuaW1wb3J0IGdmbVN0cmlrZXRocm91Z2hNYXJrZG93blN5bnRheCBmcm9tICdtaWNyb21hcmstZXh0ZW5zaW9uLWdmbS1zdHJpa2V0aHJvdWdoJ1xuaW1wb3J0IHsgdHlwZSBCbG9jayB9IGZyb20gJy4uL2VkaXRvci1zaGFyZWQnXG5pbXBvcnQge1xuICB0eXBlIElubGluZUZyb21FeHRlcm5hbFBhc3RlLFxuICBhZGRNYXJrVG9DaGlsZHJlbixcbiAgZ2V0SW5saW5lTm9kZXMsXG4gIHNldExpbmtGb3JDaGlsZHJlbixcbn0gZnJvbSAnLi91dGlscydcblxuY29uc3QgbWFya2Rvd25Db25maWcgPSB7XG4gIG1kYXN0RXh0ZW5zaW9uczogW2F1dG9MaW5rTGl0ZXJhbEZyb21NYXJrZG93bkV4dGVuc2lvbiwgZ2ZtU3RyaWtldGhyb3VnaEZyb21NYXJrZG93bkV4dGVuc2lvbl0sXG4gIGV4dGVuc2lvbnM6IFthdXRvTGlua0xpdGVyYWxNYXJrZG93blN5bnRheCwgZ2ZtU3RyaWtldGhyb3VnaE1hcmtkb3duU3ludGF4KCldLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVNYXJrZG93bihtYXJrZG93bjogc3RyaW5nKSB7XG4gIGNvbnN0IHJvb3QgPSBtZEFTVFV0aWxGcm9tTWFya2Rvd24obWFya2Rvd24sIG1hcmtkb3duQ29uZmlnKVxuICBsZXQgbm9kZXMgPSByb290LmNoaWxkcmVuXG4gIGlmIChub2Rlcy5sZW5ndGggPT09IDEgJiYgbm9kZXNbMF0udHlwZSA9PT0gJ3BhcmFncmFwaCcpIHtcbiAgICBub2RlcyA9IG5vZGVzWzBdLmNoaWxkcmVuXG4gIH1cbiAgcmV0dXJuIGRlc2VyaWFsaXplQ2hpbGRyZW4obm9kZXMsIG1hcmtkb3duKVxufVxuXG50eXBlIE1ETm9kZSA9IFJldHVyblR5cGU8dHlwZW9mIG1kQVNUVXRpbEZyb21NYXJrZG93bj5bJ2NoaWxkcmVuJ11bbnVtYmVyXVxuXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZUNoaWxkcmVuKG5vZGVzOiBNRE5vZGVbXSwgaW5wdXQ6IHN0cmluZykge1xuICBjb25zdCBvdXRwdXROb2RlczogKElubGluZUZyb21FeHRlcm5hbFBhc3RlIHwgQmxvY2spW10gPSBbXVxuICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIHtcbiAgICBjb25zdCByZXN1bHQgPSBkZXNlcmlhbGl6ZU1hcmtkb3duTm9kZShub2RlLCBpbnB1dClcbiAgICBpZiAocmVzdWx0Lmxlbmd0aCkge1xuICAgICAgb3V0cHV0Tm9kZXMucHVzaCguLi5yZXN1bHQpXG4gICAgfVxuICB9XG4gIGlmICghb3V0cHV0Tm9kZXMubGVuZ3RoKSB7XG4gICAgb3V0cHV0Tm9kZXMucHVzaCh7IHRleHQ6ICcnIH0pXG4gIH1cbiAgcmV0dXJuIG91dHB1dE5vZGVzXG59XG5cbmZ1bmN0aW9uIGRlc2VyaWFsaXplTWFya2Rvd25Ob2RlKG5vZGU6IE1ETm9kZSwgaW5wdXQ6IHN0cmluZyk6IChJbmxpbmVGcm9tRXh0ZXJuYWxQYXN0ZSB8IEJsb2NrKVtdIHtcbiAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICBjYXNlICdibG9ja3F1b3RlJzpcbiAgICAgIHJldHVybiBbeyB0eXBlOiAnYmxvY2txdW90ZScsIGNoaWxkcmVuOiBkZXNlcmlhbGl6ZUNoaWxkcmVuKG5vZGUuY2hpbGRyZW4sIGlucHV0KSB9XVxuICAgIGNhc2UgJ2xpbmsnOiB7XG4gICAgICAvLyBhcmd1YWJseSB0aGlzIGNvdWxkIGp1c3QgcmV0dXJuIGEgbGluayBub2RlIHJhdGhlciB0aGFuIHVzZSBzZXRMaW5rRm9yQ2hpbGRyZW4gc2luY2UgdGhlIGNoaWxkcmVuIF9zaG91bGRfIG9ubHkgYmUgaW5saW5lc1xuICAgICAgLy8gYnV0IHJhdGhlciB0aGFuIHJlbHlpbmcgb24gdGhlIG1hcmtkb3duIHBhcnNlciB3ZSB1c2UgYmVpbmcgY29ycmVjdCBpbiB0aGlzIHdheSBzaW5jZSBpdCBpc24ndCBuaWNlbHkgY29kaWZpZWQgaW4gdHlwZXNcbiAgICAgIC8vIGxldCdzIGJlIHNhZmUgc2luY2Ugd2UgYWxyZWFkeSBoYXZlIHRoZSBjb2RlIHRvIGRvIGl0IHRoZSBzYWZlciB3YXkgYmVjYXVzZSBvZiBodG1sIHBhc3RpbmdcbiAgICAgIHJldHVybiBzZXRMaW5rRm9yQ2hpbGRyZW4obm9kZS51cmwsICgpID0+IGRlc2VyaWFsaXplQ2hpbGRyZW4obm9kZS5jaGlsZHJlbiwgaW5wdXQpKVxuICAgIH1cbiAgICBjYXNlICdjb2RlJzpcbiAgICAgIHJldHVybiBbeyB0eXBlOiAnY29kZScsIGNoaWxkcmVuOiBbeyB0ZXh0OiBub2RlLnZhbHVlIH1dIH1dXG4gICAgY2FzZSAncGFyYWdyYXBoJzpcbiAgICAgIHJldHVybiBbeyB0eXBlOiAncGFyYWdyYXBoJywgY2hpbGRyZW46IGRlc2VyaWFsaXplQ2hpbGRyZW4obm9kZS5jaGlsZHJlbiwgaW5wdXQpIH1dXG4gICAgY2FzZSAnaGVhZGluZyc6IHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnaGVhZGluZycsXG4gICAgICAgICAgbGV2ZWw6IG5vZGUuZGVwdGgsXG4gICAgICAgICAgY2hpbGRyZW46IGRlc2VyaWFsaXplQ2hpbGRyZW4obm9kZS5jaGlsZHJlbiwgaW5wdXQpLFxuICAgICAgICB9LFxuICAgICAgXVxuICAgIH1cbiAgICBjYXNlICdsaXN0Jzoge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IG5vZGUub3JkZXJlZCA/ICdvcmRlcmVkLWxpc3QnIDogJ3Vub3JkZXJlZC1saXN0JyxcbiAgICAgICAgICBjaGlsZHJlbjogZGVzZXJpYWxpemVDaGlsZHJlbihub2RlLmNoaWxkcmVuLCBpbnB1dCksXG4gICAgICAgIH0sXG4gICAgICBdXG4gICAgfVxuICAgIGNhc2UgJ2xpc3RJdGVtJzpcbiAgICAgIHJldHVybiBbeyB0eXBlOiAnbGlzdC1pdGVtJywgY2hpbGRyZW46IGRlc2VyaWFsaXplQ2hpbGRyZW4obm9kZS5jaGlsZHJlbiwgaW5wdXQpIH1dXG4gICAgY2FzZSAndGhlbWF0aWNCcmVhayc6XG4gICAgICByZXR1cm4gW3sgdHlwZTogJ2RpdmlkZXInLCBjaGlsZHJlbjogW3sgdGV4dDogJycgfV0gfV1cbiAgICBjYXNlICdicmVhayc6XG4gICAgICByZXR1cm4gZ2V0SW5saW5lTm9kZXMoJ1xcbicpXG4gICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgIHJldHVybiBhZGRNYXJrVG9DaGlsZHJlbignc3RyaWtldGhyb3VnaCcsICgpID0+IGRlc2VyaWFsaXplQ2hpbGRyZW4obm9kZS5jaGlsZHJlbiwgaW5wdXQpKVxuICAgIGNhc2UgJ3N0cm9uZyc6XG4gICAgICByZXR1cm4gYWRkTWFya1RvQ2hpbGRyZW4oJ2JvbGQnLCAoKSA9PiBkZXNlcmlhbGl6ZUNoaWxkcmVuKG5vZGUuY2hpbGRyZW4sIGlucHV0KSlcbiAgICBjYXNlICdlbXBoYXNpcyc6XG4gICAgICByZXR1cm4gYWRkTWFya1RvQ2hpbGRyZW4oJ2l0YWxpYycsICgpID0+IGRlc2VyaWFsaXplQ2hpbGRyZW4obm9kZS5jaGlsZHJlbiwgaW5wdXQpKVxuICAgIGNhc2UgJ2lubGluZUNvZGUnOlxuICAgICAgcmV0dXJuIGFkZE1hcmtUb0NoaWxkcmVuKCdjb2RlJywgKCkgPT4gZ2V0SW5saW5lTm9kZXMobm9kZS52YWx1ZSkpXG4gICAgY2FzZSAndGV4dCc6XG4gICAgICByZXR1cm4gZ2V0SW5saW5lTm9kZXMobm9kZS52YWx1ZSlcbiAgfVxuICByZXR1cm4gZ2V0SW5saW5lTm9kZXMoaW5wdXQuc2xpY2Uobm9kZS5wb3NpdGlvbiEuc3RhcnQub2Zmc2V0LCBub2RlLnBvc2l0aW9uIS5lbmQub2Zmc2V0KSlcbn1cbiJdLCJuYW1lcyI6WyJtZEFTVFV0aWxGcm9tTWFya2Rvd24iLCJhdXRvTGlua0xpdGVyYWxGcm9tTWFya2Rvd25FeHRlbnNpb24iLCJhdXRvTGlua0xpdGVyYWxNYXJrZG93blN5bnRheCIsImdmbVN0cmlrZXRocm91Z2hGcm9tTWFya2Rvd25FeHRlbnNpb24iLCJnZm1TdHJpa2V0aHJvdWdoTWFya2Rvd25TeW50YXgiLCJhZGRNYXJrVG9DaGlsZHJlbiIsImdldElubGluZU5vZGVzIiwic2V0TGlua0ZvckNoaWxkcmVuIiwibWFya2Rvd25Db25maWciLCJtZGFzdEV4dGVuc2lvbnMiLCJleHRlbnNpb25zIiwiZGVzZXJpYWxpemVNYXJrZG93biIsIm1hcmtkb3duIiwicm9vdCIsIm5vZGVzIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJ0eXBlIiwiZGVzZXJpYWxpemVDaGlsZHJlbiIsImlucHV0Iiwib3V0cHV0Tm9kZXMiLCJub2RlIiwicmVzdWx0IiwiZGVzZXJpYWxpemVNYXJrZG93bk5vZGUiLCJwdXNoIiwidGV4dCIsInVybCIsInZhbHVlIiwibGV2ZWwiLCJkZXB0aCIsIm9yZGVyZWQiLCJzbGljZSIsInBvc2l0aW9uIiwic3RhcnQiLCJvZmZzZXQiLCJlbmQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/pasting/markdown.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/pasting/utils.ts":
/*!********************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/pasting/utils.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addMarkToChildren: () => (/* binding */ addMarkToChildren),\n/* harmony export */   addMarksToChildren: () => (/* binding */ addMarksToChildren),\n/* harmony export */   forceDisableMarkForChildren: () => (/* binding */ forceDisableMarkForChildren),\n/* harmony export */   getInlineNodes: () => (/* binding */ getInlineNodes),\n/* harmony export */   setLinkForChildren: () => (/* binding */ setLinkForChildren)\n/* harmony export */ });\n// a v important note\n// marks in the markdown ast/html are represented quite differently to how they are in slate\n// if you had the markdown **something https://keystonejs.com something**\n// the bold node is the parent of the link node\n// but in slate, marks are only represented on text nodes\nconst currentlyActiveMarks = new Set();\nconst currentlyDisabledMarks = new Set();\nlet currentLink = null;\nfunction addMarkToChildren(mark, cb) {\n    const wasPreviouslyActive = currentlyActiveMarks.has(mark);\n    currentlyActiveMarks.add(mark);\n    try {\n        return cb();\n    } finally{\n        if (!wasPreviouslyActive) {\n            currentlyActiveMarks.delete(mark);\n        }\n    }\n}\nfunction setLinkForChildren(href, cb) {\n    // we'll only use the outer link\n    if (currentLink !== null) {\n        return cb();\n    }\n    currentLink = href;\n    try {\n        return cb();\n    } finally{\n        currentLink = null;\n    }\n}\nfunction addMarksToChildren(marks, cb) {\n    const marksToRemove = new Set();\n    for (const mark of marks){\n        if (!currentlyActiveMarks.has(mark)) {\n            marksToRemove.add(mark);\n        }\n        currentlyActiveMarks.add(mark);\n    }\n    try {\n        return cb();\n    } finally{\n        for (const mark of marksToRemove){\n            currentlyActiveMarks.delete(mark);\n        }\n    }\n}\nfunction forceDisableMarkForChildren(mark, cb) {\n    const wasPreviouslyDisabled = currentlyDisabledMarks.has(mark);\n    currentlyDisabledMarks.add(mark);\n    try {\n        return cb();\n    } finally{\n        if (!wasPreviouslyDisabled) {\n            currentlyDisabledMarks.delete(mark);\n        }\n    }\n}\nfunction getInlineNodes(text) {\n    const node = {\n        text\n    };\n    for (const mark of currentlyActiveMarks){\n        if (!currentlyDisabledMarks.has(mark)) {\n            node[mark] = true;\n        }\n    }\n    if (currentLink !== null) {\n        return [\n            {\n                text: ''\n            },\n            {\n                type: 'link',\n                href: currentLink,\n                children: [\n                    node\n                ]\n            },\n            {\n                text: ''\n            }\n        ];\n    }\n    return [\n        node\n    ];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9wYXN0aW5nL3V0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR0EscUJBQXFCO0FBQ3JCLDRGQUE0RjtBQUM1Rix5RUFBeUU7QUFDekUsK0NBQStDO0FBQy9DLHlEQUF5RDtBQUV6RCxNQUFNQSx1QkFBdUIsSUFBSUM7QUFDakMsTUFBTUMseUJBQXlCLElBQUlEO0FBQ25DLElBQUlFLGNBQTZCO0FBRTFCLFNBQVNDLGtCQUFxQkMsSUFBVSxFQUFFQyxFQUFXO0lBQzFELE1BQU1DLHNCQUFzQlAscUJBQXFCUSxHQUFHLENBQUNIO0lBQ3JETCxxQkFBcUJTLEdBQUcsQ0FBQ0o7SUFDekIsSUFBSTtRQUNGLE9BQU9DO0lBQ1QsU0FBVTtRQUNSLElBQUksQ0FBQ0MscUJBQXFCO1lBQ3hCUCxxQkFBcUJVLE1BQU0sQ0FBQ0w7UUFDOUI7SUFDRjtBQUNGO0FBRU8sU0FBU00sbUJBQXNCQyxJQUFZLEVBQUVOLEVBQVc7SUFDN0QsZ0NBQWdDO0lBQ2hDLElBQUlILGdCQUFnQixNQUFNO1FBQ3hCLE9BQU9HO0lBQ1Q7SUFDQUgsY0FBY1M7SUFDZCxJQUFJO1FBQ0YsT0FBT047SUFDVCxTQUFVO1FBQ1JILGNBQWM7SUFDaEI7QUFDRjtBQUVPLFNBQVNVLG1CQUFzQkMsS0FBZ0IsRUFBRVIsRUFBVztJQUNqRSxNQUFNUyxnQkFBZ0IsSUFBSWQ7SUFDMUIsS0FBSyxNQUFNSSxRQUFRUyxNQUFPO1FBQ3hCLElBQUksQ0FBQ2QscUJBQXFCUSxHQUFHLENBQUNILE9BQU87WUFDbkNVLGNBQWNOLEdBQUcsQ0FBQ0o7UUFDcEI7UUFDQUwscUJBQXFCUyxHQUFHLENBQUNKO0lBQzNCO0lBQ0EsSUFBSTtRQUNGLE9BQU9DO0lBQ1QsU0FBVTtRQUNSLEtBQUssTUFBTUQsUUFBUVUsY0FBZTtZQUNoQ2YscUJBQXFCVSxNQUFNLENBQUNMO1FBQzlCO0lBQ0Y7QUFDRjtBQUVPLFNBQVNXLDRCQUErQlgsSUFBVSxFQUFFQyxFQUFXO0lBQ3BFLE1BQU1XLHdCQUF3QmYsdUJBQXVCTSxHQUFHLENBQUNIO0lBQ3pESCx1QkFBdUJPLEdBQUcsQ0FBQ0o7SUFDM0IsSUFBSTtRQUNGLE9BQU9DO0lBQ1QsU0FBVTtRQUNSLElBQUksQ0FBQ1csdUJBQXVCO1lBQzFCZix1QkFBdUJRLE1BQU0sQ0FBQ0w7UUFDaEM7SUFDRjtBQUNGO0FBZ0JPLFNBQVNhLGVBQ2RDLElBQVk7SUFFWixNQUFNQyxPQUFhO1FBQUVEO0lBQUs7SUFDMUIsS0FBSyxNQUFNZCxRQUFRTCxxQkFBc0I7UUFDdkMsSUFBSSxDQUFDRSx1QkFBdUJNLEdBQUcsQ0FBQ0gsT0FBTztZQUNyQ2UsSUFBSSxDQUFDZixLQUFLLEdBQUc7UUFDZjtJQUNGO0lBQ0EsSUFBSUYsZ0JBQWdCLE1BQU07UUFDeEIsT0FBTztZQUNMO2dCQUFFZ0IsTUFBTTtZQUFHO1lBQ1g7Z0JBQUVFLE1BQU07Z0JBQWlCVCxNQUFNVDtnQkFBYW1CLFVBQVU7b0JBQUNGO2lCQUFLO1lBQUM7WUFDN0Q7Z0JBQUVELE1BQU07WUFBRztTQUNaO0lBQ0g7SUFDQSxPQUFPO1FBQUNDO0tBQUs7QUFDZiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL3Bhc3RpbmcvdXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBUZXh0IH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgeyB0eXBlIE1hcmsgfSBmcm9tICcuLi91dGlscydcblxuLy8gYSB2IGltcG9ydGFudCBub3RlXG4vLyBtYXJrcyBpbiB0aGUgbWFya2Rvd24gYXN0L2h0bWwgYXJlIHJlcHJlc2VudGVkIHF1aXRlIGRpZmZlcmVudGx5IHRvIGhvdyB0aGV5IGFyZSBpbiBzbGF0ZVxuLy8gaWYgeW91IGhhZCB0aGUgbWFya2Rvd24gKipzb21ldGhpbmcgaHR0cHM6Ly9rZXlzdG9uZWpzLmNvbSBzb21ldGhpbmcqKlxuLy8gdGhlIGJvbGQgbm9kZSBpcyB0aGUgcGFyZW50IG9mIHRoZSBsaW5rIG5vZGVcbi8vIGJ1dCBpbiBzbGF0ZSwgbWFya3MgYXJlIG9ubHkgcmVwcmVzZW50ZWQgb24gdGV4dCBub2Rlc1xuXG5jb25zdCBjdXJyZW50bHlBY3RpdmVNYXJrcyA9IG5ldyBTZXQ8TWFyaz4oKVxuY29uc3QgY3VycmVudGx5RGlzYWJsZWRNYXJrcyA9IG5ldyBTZXQ8TWFyaz4oKVxubGV0IGN1cnJlbnRMaW5rOiBzdHJpbmcgfCBudWxsID0gbnVsbFxuXG5leHBvcnQgZnVuY3Rpb24gYWRkTWFya1RvQ2hpbGRyZW48VD4obWFyazogTWFyaywgY2I6ICgpID0+IFQpOiBUIHtcbiAgY29uc3Qgd2FzUHJldmlvdXNseUFjdGl2ZSA9IGN1cnJlbnRseUFjdGl2ZU1hcmtzLmhhcyhtYXJrKVxuICBjdXJyZW50bHlBY3RpdmVNYXJrcy5hZGQobWFyaylcbiAgdHJ5IHtcbiAgICByZXR1cm4gY2IoKVxuICB9IGZpbmFsbHkge1xuICAgIGlmICghd2FzUHJldmlvdXNseUFjdGl2ZSkge1xuICAgICAgY3VycmVudGx5QWN0aXZlTWFya3MuZGVsZXRlKG1hcmspXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRMaW5rRm9yQ2hpbGRyZW48VD4oaHJlZjogc3RyaW5nLCBjYjogKCkgPT4gVCk6IFQge1xuICAvLyB3ZSdsbCBvbmx5IHVzZSB0aGUgb3V0ZXIgbGlua1xuICBpZiAoY3VycmVudExpbmsgIT09IG51bGwpIHtcbiAgICByZXR1cm4gY2IoKVxuICB9XG4gIGN1cnJlbnRMaW5rID0gaHJlZlxuICB0cnkge1xuICAgIHJldHVybiBjYigpXG4gIH0gZmluYWxseSB7XG4gICAgY3VycmVudExpbmsgPSBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE1hcmtzVG9DaGlsZHJlbjxUPihtYXJrczogU2V0PE1hcms+LCBjYjogKCkgPT4gVCk6IFQge1xuICBjb25zdCBtYXJrc1RvUmVtb3ZlID0gbmV3IFNldDxNYXJrPigpXG4gIGZvciAoY29uc3QgbWFyayBvZiBtYXJrcykge1xuICAgIGlmICghY3VycmVudGx5QWN0aXZlTWFya3MuaGFzKG1hcmspKSB7XG4gICAgICBtYXJrc1RvUmVtb3ZlLmFkZChtYXJrKVxuICAgIH1cbiAgICBjdXJyZW50bHlBY3RpdmVNYXJrcy5hZGQobWFyaylcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiBjYigpXG4gIH0gZmluYWxseSB7XG4gICAgZm9yIChjb25zdCBtYXJrIG9mIG1hcmtzVG9SZW1vdmUpIHtcbiAgICAgIGN1cnJlbnRseUFjdGl2ZU1hcmtzLmRlbGV0ZShtYXJrKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9yY2VEaXNhYmxlTWFya0ZvckNoaWxkcmVuPFQ+KG1hcms6IE1hcmssIGNiOiAoKSA9PiBUKTogVCB7XG4gIGNvbnN0IHdhc1ByZXZpb3VzbHlEaXNhYmxlZCA9IGN1cnJlbnRseURpc2FibGVkTWFya3MuaGFzKG1hcmspXG4gIGN1cnJlbnRseURpc2FibGVkTWFya3MuYWRkKG1hcmspXG4gIHRyeSB7XG4gICAgcmV0dXJuIGNiKClcbiAgfSBmaW5hbGx5IHtcbiAgICBpZiAoIXdhc1ByZXZpb3VzbHlEaXNhYmxlZCkge1xuICAgICAgY3VycmVudGx5RGlzYWJsZWRNYXJrcy5kZWxldGUobWFyaylcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIHR5cGUgaXMgbW9yZSBzdHJpY3QgdGhhbiBgRWxlbWVudCAmIHsgdHlwZTogJ2xpbmsnOyB9YCBiZWNhdXNlIGBjaGlsZHJlbmBcbiAqIGlzIGNvbnN0cmFpbmVkIHRvIG9ubHkgY29udGFpbiBUZXh0IG5vZGVzLiBUaGlzIGNhbid0IGJlIGFzc3VtZWQgZ2VuZXJhbGx5IGFyb3VuZCB0aGUgZWRpdG9yXG4gKiAoYmVjYXVzZSBvZiBpbmxpbmUgcmVsYXRpb25zaGlwcyBvciBuZXN0ZWQgbGlua3Mod2hpY2ggYXJlIG5vcm1hbGl6ZWQgYXdheSBidXQgdGhlIGVkaXRvciBuZWVkcyB0byBub3QgYnJlYWsgaWYgaXQgaGFwcGVucykpXG4gKiBidXQgd2hlcmUgdGhpcyB0eXBlIGlzIHVzZWQsIHdlJ3JlIG9ubHkgZ29pbmcgdG8gYWxsb3cgbGlua3MgdG8gY29udGFpbiBUZXh0IGFuZCB0aGF0J3MgaW1wb3J0YW50XG4gKiBzbyB0aGF0IHdlIGtub3cgYSBibG9jayB3aWxsIG5ldmVyIGJlIGluc2lkZSBhbiBpbmxpbmUgYmVjYXVzZSBTbGF0ZSBnZXRzIHVuaGFwcHkgd2hlbiB0aGF0IGhhcHBlbnNcbiAqIChyZWFsbHkgdGhlIGxpbmsgaW5saW5lIHNob3VsZCBwcm9iYWJseSBiZSBhIG1hcmsgcmF0aGVyIHRoYW4gYW4gaW5saW5lLFxuICogbm9uLXZvaWQgaW5saW5lcyBhcmUgcHJvYmFibHkgYWx3YXlzIGJhZCBidXQgdGhhdCB3b3VsZCBpbXBseSBjaGFuZ2luZyB0aGUgZG9jdW1lbnRcbiAqIHN0cnVjdHVyZSB3aGljaCB3b3VsZCBiZSBzdWNoIHVubmVjZXNzYXJ5IGJyZWFrYWdlKVxuICovXG50eXBlIFN0cmljdExpbmsgPSB7IHR5cGU6ICdsaW5rJzsgaHJlZjogc3RyaW5nOyBjaGlsZHJlbjogVGV4dFtdIH1cbi8vIGlubGluZSByZWxhdGlvbnNoaXBzIGFyZSBub3QgaGVyZSBiZWNhdXNlIHdlIG5ldmVyIGNyZWF0ZSB0aGVtIGZyb20gaGFuZGxpbmcgYSBwYXN0ZSBmcm9tIGh0bWwgb3IgbWFya2Rvd25cbmV4cG9ydCB0eXBlIElubGluZUZyb21FeHRlcm5hbFBhc3RlID0gVGV4dCB8IFN0cmljdExpbmtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldElubGluZU5vZGVzKFxuICB0ZXh0OiBzdHJpbmdcbik6IFtJbmxpbmVGcm9tRXh0ZXJuYWxQYXN0ZSwgLi4uSW5saW5lRnJvbUV4dGVybmFsUGFzdGVbXV0ge1xuICBjb25zdCBub2RlOiBUZXh0ID0geyB0ZXh0IH1cbiAgZm9yIChjb25zdCBtYXJrIG9mIGN1cnJlbnRseUFjdGl2ZU1hcmtzKSB7XG4gICAgaWYgKCFjdXJyZW50bHlEaXNhYmxlZE1hcmtzLmhhcyhtYXJrKSkge1xuICAgICAgbm9kZVttYXJrXSA9IHRydWVcbiAgICB9XG4gIH1cbiAgaWYgKGN1cnJlbnRMaW5rICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgdGV4dDogJycgfSxcbiAgICAgIHsgdHlwZTogJ2xpbmsnIGFzIGNvbnN0LCBocmVmOiBjdXJyZW50TGluaywgY2hpbGRyZW46IFtub2RlXSB9LFxuICAgICAgeyB0ZXh0OiAnJyB9LFxuICAgIF1cbiAgfVxuICByZXR1cm4gW25vZGVdXG59XG4iXSwibmFtZXMiOlsiY3VycmVudGx5QWN0aXZlTWFya3MiLCJTZXQiLCJjdXJyZW50bHlEaXNhYmxlZE1hcmtzIiwiY3VycmVudExpbmsiLCJhZGRNYXJrVG9DaGlsZHJlbiIsIm1hcmsiLCJjYiIsIndhc1ByZXZpb3VzbHlBY3RpdmUiLCJoYXMiLCJhZGQiLCJkZWxldGUiLCJzZXRMaW5rRm9yQ2hpbGRyZW4iLCJocmVmIiwiYWRkTWFya3NUb0NoaWxkcmVuIiwibWFya3MiLCJtYXJrc1RvUmVtb3ZlIiwiZm9yY2VEaXNhYmxlTWFya0ZvckNoaWxkcmVuIiwid2FzUHJldmlvdXNseURpc2FibGVkIiwiZ2V0SW5saW5lTm9kZXMiLCJ0ZXh0Iiwibm9kZSIsInR5cGUiLCJjaGlsZHJlbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/pasting/utils.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/primitives/BlockPopover.tsx":
/*!*******************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/primitives/BlockPopover.tsx ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActiveBlockPopoverProvider: () => (/* binding */ ActiveBlockPopoverProvider),\n/* harmony export */   BlockPopover: () => (/* binding */ BlockPopover),\n/* harmony export */   BlockPopoverTrigger: () => (/* binding */ BlockPopoverTrigger),\n/* harmony export */   useActiveBlockPopover: () => (/* binding */ useActiveBlockPopover)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_aria_overlays__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @react-aria/overlays */ \"../../../../node_modules/.pnpm/@react-aria+overlays@3.26.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-aria/overlays/dist/import.mjs\");\n/* harmony import */ var _react_aria_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @react-aria/utils */ \"../../../../node_modules/.pnpm/@react-aria+utils@3.28.1_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/@react-aria/utils/dist/import.mjs\");\n/* harmony import */ var _react_stately_overlays__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @react-stately/overlays */ \"../../../../node_modules/.pnpm/@react-stately+overlays@3.6.14_react@19.0.0/node_modules/@react-stately/overlays/dist/import.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _keystar_ui_overlays__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/overlays */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-overlays.js\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n\n\n\n\n\n\n\n\n\nconst BlockPopoverContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(null);\nfunction useBlockPopoverContext() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(BlockPopoverContext);\n    if (!context) {\n        throw new Error('useBlockPopoverContext must be used within a BlockPopoverTrigger');\n    }\n    return context;\n}\nconst typeMatcher = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.nodeTypeMatcher)('code', 'component-block', 'layout', 'link', 'heading');\nconst ActiveBlockPopoverContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction useActiveBlockPopover() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ActiveBlockPopoverContext);\n}\nfunction ActiveBlockPopoverProvider(props) {\n    const nodeWithPopover = slate__WEBPACK_IMPORTED_MODULE_5__.Editor.above(props.editor, {\n        match: typeMatcher\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ActiveBlockPopoverContext.Provider, {\n        value: nodeWithPopover?.[0],\n        children: props.children\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/primitives/BlockPopover.tsx\",\n        lineNumber: 62,\n        columnNumber: 5\n    }, this);\n}\nconst BlockPopoverTrigger = ({ children, element })=>{\n    const [trigger, popover] = children;\n    const activePopoverElement = useActiveBlockPopover();\n    const triggerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const state = (0,_react_stately_overlays__WEBPACK_IMPORTED_MODULE_6__.useOverlayTriggerState)({\n        isOpen: activePopoverElement === element\n    });\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)({\n        \"BlockPopoverTrigger.useMemo[context]\": ()=>({\n                state,\n                triggerRef\n            })\n    }[\"BlockPopoverTrigger.useMemo[context]\"], [\n        state,\n        triggerRef\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BlockPopoverContext.Provider, {\n        value: context,\n        children: [\n            /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(trigger, {\n                ref: triggerRef\n            }),\n            popover\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/primitives/BlockPopover.tsx\",\n        lineNumber: 80,\n        columnNumber: 5\n    }, undefined);\n};\nfunction BlockPopover(props) {\n    const { state } = useBlockPopoverContext();\n    let wrapperRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_overlays__WEBPACK_IMPORTED_MODULE_2__.Overlay, {\n        isOpen: state.isOpen,\n        nodeRef: wrapperRef,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(BlockPopoverWrapper, {\n            wrapperRef: wrapperRef,\n            ...props\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/primitives/BlockPopover.tsx\",\n            lineNumber: 93,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/primitives/BlockPopover.tsx\",\n        lineNumber: 92,\n        columnNumber: 5\n    }, this);\n}\nconst BlockPopoverWrapper = ({ children, placement: preferredPlacement = 'bottom' })=>{\n    let popoverRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    let { state, triggerRef } = useBlockPopoverContext();\n    let { placement, popoverProps } = useBlockPopover({\n        isNonModal: true,\n        isKeyboardDismissDisabled: false,\n        placement: preferredPlacement,\n        triggerRef,\n        popoverRef\n    }, state);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: popoverRef,\n        ...popoverProps,\n        \"data-open\": state.isOpen,\n        \"data-placement\": placement,\n        contentEditable: false,\n        className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.css)({\n            backgroundColor: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.tokenSchema.color.background.surface,\n            borderRadius: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.tokenSchema.size.radius.medium,\n            border: `${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.tokenSchema.size.border.regular} solid ${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.tokenSchema.color.border.emphasis}`,\n            boxSizing: 'content-box',\n            // boxShadow: `0 0 0 ${tokenSchema.size.border.regular} ${tokenSchema.color.border.emphasis}`,\n            minHeight: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.tokenSchema.size.element.regular,\n            minWidth: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.tokenSchema.size.element.regular,\n            opacity: 0,\n            outline: 0,\n            pointerEvents: 'auto',\n            position: 'absolute',\n            // use filter:drop-shadow instead of box-shadow so the arrow is included\n            filter: `drop-shadow(0 1px 4px ${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.tokenSchema.color.shadow.regular})`,\n            // filter bug in safari: https://stackoverflow.com/questions/56478925/safari-drop-shadow-filter-remains-visible-even-with-hidden-element\n            willChange: 'filter',\n            userSelect: 'none',\n            // placement\n            '&[data-placement=\"top\"]': {\n                marginBottom: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.tokenSchema.size.space.regular,\n                transform: `translateY(${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.tokenSchema.size.space.regular})`\n            },\n            '&[data-placement=\"bottom\"]': {\n                marginTop: _keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.tokenSchema.size.space.regular,\n                transform: `translateY(calc(${_keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.tokenSchema.size.space.regular} * -1))`\n            },\n            '&[data-open=\"true\"]': {\n                opacity: 1,\n                transform: `translateX(0) translateY(0)`,\n                // enter animation\n                transition: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_3__.transition)([\n                    'opacity',\n                    'transform'\n                ], {\n                    easing: 'easeOut'\n                })\n            }\n        }),\n        children: typeof children === 'function' ? children(state.close) : children\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/primitives/BlockPopover.tsx\",\n        lineNumber: 116,\n        columnNumber: 5\n    }, undefined);\n};\n/**\n * Provides the behavior and accessibility implementation for a popover component.\n * A popover is an overlay element positioned relative to a trigger.\n */ function useBlockPopover(props, state) {\n    let { triggerRef, popoverRef, isNonModal, isKeyboardDismissDisabled, ...otherProps } = props;\n    let [isSticky, setSticky] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    let { overlayProps, underlayProps } = (0,_react_aria_overlays__WEBPACK_IMPORTED_MODULE_7__.useOverlay)({\n        isOpen: state.isOpen,\n        onClose: state.close,\n        shouldCloseOnBlur: true,\n        isDismissable: !isNonModal,\n        isKeyboardDismissDisabled: false\n    }, popoverRef);\n    // stick the popover to the bottom of the viewport instead of flipping\n    const containerPadding = 8;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"useBlockPopover.useEffect\": ()=>{\n            if (state.isOpen) {\n                const checkForStickiness = {\n                    \"useBlockPopover.useEffect.checkForStickiness\": ()=>{\n                        const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\n                        let popoverRect = popoverRef.current?.getBoundingClientRect();\n                        let triggerRect = triggerRef.current?.getBoundingClientRect();\n                        if (popoverRect && triggerRect) {\n                            setSticky(triggerRect.bottom + popoverRect.height + containerPadding * 2 > vh && triggerRect.top < vh);\n                        }\n                    }\n                }[\"useBlockPopover.useEffect.checkForStickiness\"];\n                checkForStickiness();\n                window.addEventListener('scroll', checkForStickiness);\n                return ({\n                    \"useBlockPopover.useEffect\": ()=>{\n                        checkForStickiness();\n                        window.removeEventListener('scroll', checkForStickiness);\n                    }\n                })[\"useBlockPopover.useEffect\"];\n            }\n        }\n    }[\"useBlockPopover.useEffect\"], [\n        popoverRef,\n        triggerRef,\n        state.isOpen\n    ]);\n    let { overlayProps: positionProps, arrowProps, placement, updatePosition } = (0,_react_aria_overlays__WEBPACK_IMPORTED_MODULE_7__.useOverlayPosition)({\n        ...otherProps,\n        containerPadding,\n        shouldFlip: false,\n        targetRef: triggerRef,\n        overlayRef: popoverRef,\n        isOpen: state.isOpen,\n        onClose: undefined\n    });\n    // force update position when the trigger changes\n    let previousBoundingRect = usePrevious(triggerRef.current?.getBoundingClientRect());\n    (0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_8__.useLayoutEffect)({\n        \"useBlockPopover.useLayoutEffect\": ()=>{\n            if (previousBoundingRect) {\n                const currentBoundingRect = triggerRef.current?.getBoundingClientRect();\n                if (currentBoundingRect) {\n                    const hasChanged = previousBoundingRect.height !== currentBoundingRect.height || previousBoundingRect.width !== currentBoundingRect.width || previousBoundingRect.x !== currentBoundingRect.x || previousBoundingRect.y !== currentBoundingRect.y;\n                    if (hasChanged) {\n                        updatePosition();\n                    }\n                }\n            }\n        }\n    }[\"useBlockPopover.useLayoutEffect\"], [\n        previousBoundingRect,\n        triggerRef,\n        updatePosition\n    ]);\n    // make sure popovers are below modal dialogs and their blanket\n    if (positionProps.style) {\n        positionProps.style.zIndex = 1;\n    }\n    // switching to position: fixed will undoubtedly bite me later, but this hack works for now\n    if (isSticky) {\n        positionProps.style = {\n            ...positionProps.style,\n            // @ts-expect-error\n            maxHeight: null,\n            position: 'fixed',\n            // @ts-expect-error\n            top: null,\n            bottom: containerPadding\n        };\n    }\n    return {\n        arrowProps,\n        placement,\n        popoverProps: (0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_8__.mergeProps)(overlayProps, positionProps),\n        underlayProps,\n        updatePosition\n    };\n}\nfunction usePrevious(value) {\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(undefined);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"usePrevious.useEffect\": ()=>{\n            ref.current = value;\n        }\n    }[\"usePrevious.useEffect\"]);\n    return ref.current;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9wcmltaXRpdmVzL0Jsb2NrUG9wb3Zlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUs2QjtBQUNrQztBQUMyQjtBQVk1RTtBQUM4QjtBQUVxQjtBQUNEO0FBRXRCO0FBVzFDLE1BQU1rQixvQ0FBc0JaLG9EQUFhQSxDQUcvQjtBQUVWLFNBQVNhO0lBQ1AsTUFBTUMsVUFBVWIsaURBQVVBLENBQUNXO0lBQzNCLElBQUksQ0FBQ0UsU0FBUztRQUNaLE1BQU0sSUFBSUMsTUFBTTtJQUNsQjtJQUNBLE9BQU9EO0FBQ1Q7QUFFQSxNQUFNRSxjQUFjTCx1REFBZUEsQ0FBQyxRQUFRLG1CQUFtQixVQUFVLFFBQVE7QUFFakYsTUFBTU0sMENBQTRCakIsb0RBQWFBLENBQXNCa0I7QUFDOUQsU0FBU0M7SUFDZCxPQUFPbEIsaURBQVVBLENBQUNnQjtBQUNwQjtBQUVPLFNBQVNHLDJCQUEyQkMsS0FBOEM7SUFDdkYsTUFBTUMsa0JBQWtCaEIseUNBQU1BLENBQUNpQixLQUFLLENBQUNGLE1BQU1HLE1BQU0sRUFBRTtRQUNqREMsT0FBT1Q7SUFDVDtJQUNBLHFCQUNFLDhEQUFDQywwQkFBMEJTLFFBQVE7UUFBQ0MsT0FBT0wsaUJBQWlCLENBQUMsRUFBRTtrQkFDNURELE1BQU1PLFFBQVE7Ozs7OztBQUdyQjtBQUVPLE1BQU1DLHNCQUFzQixDQUFDLEVBQUVELFFBQVEsRUFBRUUsT0FBTyxFQUE0QjtJQUNqRixNQUFNLENBQUNDLFNBQVNDLFFBQVEsR0FBR0o7SUFDM0IsTUFBTUssdUJBQXVCZDtJQUM3QixNQUFNZSxhQUFhOUIsNkNBQU1BLENBQUM7SUFFMUIsTUFBTStCLFFBQVFyQywrRUFBc0JBLENBQUM7UUFDbkNzQyxRQUFRSCx5QkFBeUJIO0lBQ25DO0lBRUEsTUFBTWhCLFVBQVVYLDhDQUFPQTtnREFBQyxJQUFPO2dCQUFFZ0M7Z0JBQU9EO1lB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NkRBQVVBLENBQUN5RixjQUFjd0I7UUFDdkN2QjtRQUNBeUI7SUFDRjtBQUNGO0FBRUEsU0FBU0ssWUFBZXpGLEtBQVE7SUFDOUIsTUFBTVUsTUFBTWpDLDZDQUFNQSxDQUFJYztJQUN0QmhCLGdEQUFTQTtpQ0FBQztZQUNSbUMsSUFBSWdFLE9BQU8sR0FBRzFFO1FBQ2hCOztJQUNBLE9BQU9VLElBQUlnRSxPQUFPO0FBQ3BCIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvcHJpbWl0aXZlcy9CbG9ja1BvcG92ZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHR5cGUgQXJpYVBvcG92ZXJQcm9wcyxcbiAgdHlwZSBQb3BvdmVyQXJpYSxcbiAgdXNlT3ZlcmxheSxcbiAgdXNlT3ZlcmxheVBvc2l0aW9uLFxufSBmcm9tICdAcmVhY3QtYXJpYS9vdmVybGF5cydcbmltcG9ydCB7IG1lcmdlUHJvcHMsIHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ0ByZWFjdC1hcmlhL3V0aWxzJ1xuaW1wb3J0IHsgdHlwZSBPdmVybGF5VHJpZ2dlclN0YXRlLCB1c2VPdmVybGF5VHJpZ2dlclN0YXRlIH0gZnJvbSAnQHJlYWN0LXN0YXRlbHkvb3ZlcmxheXMnXG5pbXBvcnQge1xuICBjbG9uZUVsZW1lbnQsXG4gIGNyZWF0ZUNvbnRleHQsXG4gIHR5cGUgUmVhY3RFbGVtZW50LFxuICB0eXBlIFJlYWN0Tm9kZSxcbiAgdHlwZSBSZWYsXG4gIHVzZUNvbnRleHQsXG4gIHVzZUVmZmVjdCxcbiAgdXNlTWVtbyxcbiAgdXNlUmVmLFxuICB1c2VTdGF0ZSxcbn0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB0eXBlIEVsZW1lbnQsIEVkaXRvciB9IGZyb20gJ3NsYXRlJ1xuXG5pbXBvcnQgeyBPdmVybGF5LCB0eXBlIFBvcG92ZXJQcm9wcyB9IGZyb20gJ0BrZXlzdGFyL3VpL292ZXJsYXlzJ1xuaW1wb3J0IHsgY3NzLCB0b2tlblNjaGVtYSwgdHJhbnNpdGlvbiB9IGZyb20gJ0BrZXlzdGFyL3VpL3N0eWxlJ1xuXG5pbXBvcnQgeyBub2RlVHlwZU1hdGNoZXIgfSBmcm9tICcuLi91dGlscydcblxudHlwZSBSZW5kZXJGbiA9IChjbG9zZTogKCkgPT4gdm9pZCkgPT4gUmVhY3RFbGVtZW50XG50eXBlIEJsb2NrUG9wb3ZlclRyaWdnZXJQcm9wcyA9IHtcbiAgZWxlbWVudDogRWxlbWVudFxuICBjaGlsZHJlbjogW1JlYWN0RWxlbWVudCwgUmVhY3RFbGVtZW50PEJsb2NrUG9wb3ZlclByb3BzPl1cbn1cbnR5cGUgQmxvY2tQb3BvdmVyUHJvcHMgPSBQaWNrPFBvcG92ZXJQcm9wcywgJ2hpZGVBcnJvdycgfCAncGxhY2VtZW50Jz4gJiB7XG4gIGNoaWxkcmVuOiBSZWFjdEVsZW1lbnQgfCBSZW5kZXJGblxufVxuXG5jb25zdCBCbG9ja1BvcG92ZXJDb250ZXh0ID0gY3JlYXRlQ29udGV4dDx7XG4gIHN0YXRlOiBPdmVybGF5VHJpZ2dlclN0YXRlXG4gIHRyaWdnZXJSZWY6IFJlYWN0Lk11dGFibGVSZWZPYmplY3Q8SFRNTEVsZW1lbnQgfCBudWxsPlxufSB8IG51bGw+KG51bGwpXG5cbmZ1bmN0aW9uIHVzZUJsb2NrUG9wb3ZlckNvbnRleHQoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEJsb2NrUG9wb3ZlckNvbnRleHQpXG4gIGlmICghY29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlQmxvY2tQb3BvdmVyQ29udGV4dCBtdXN0IGJlIHVzZWQgd2l0aGluIGEgQmxvY2tQb3BvdmVyVHJpZ2dlcicpXG4gIH1cbiAgcmV0dXJuIGNvbnRleHRcbn1cblxuY29uc3QgdHlwZU1hdGNoZXIgPSBub2RlVHlwZU1hdGNoZXIoJ2NvZGUnLCAnY29tcG9uZW50LWJsb2NrJywgJ2xheW91dCcsICdsaW5rJywgJ2hlYWRpbmcnKVxuXG5jb25zdCBBY3RpdmVCbG9ja1BvcG92ZXJDb250ZXh0ID0gY3JlYXRlQ29udGV4dDx1bmRlZmluZWQgfCBFbGVtZW50Pih1bmRlZmluZWQpXG5leHBvcnQgZnVuY3Rpb24gdXNlQWN0aXZlQmxvY2tQb3BvdmVyKCkge1xuICByZXR1cm4gdXNlQ29udGV4dChBY3RpdmVCbG9ja1BvcG92ZXJDb250ZXh0KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gQWN0aXZlQmxvY2tQb3BvdmVyUHJvdmlkZXIocHJvcHM6IHsgY2hpbGRyZW46IFJlYWN0Tm9kZTsgZWRpdG9yOiBFZGl0b3IgfSkge1xuICBjb25zdCBub2RlV2l0aFBvcG92ZXIgPSBFZGl0b3IuYWJvdmUocHJvcHMuZWRpdG9yLCB7XG4gICAgbWF0Y2g6IHR5cGVNYXRjaGVyLFxuICB9KVxuICByZXR1cm4gKFxuICAgIDxBY3RpdmVCbG9ja1BvcG92ZXJDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtub2RlV2l0aFBvcG92ZXI/LlswXX0+XG4gICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgPC9BY3RpdmVCbG9ja1BvcG92ZXJDb250ZXh0LlByb3ZpZGVyPlxuICApXG59XG5cbmV4cG9ydCBjb25zdCBCbG9ja1BvcG92ZXJUcmlnZ2VyID0gKHsgY2hpbGRyZW4sIGVsZW1lbnQgfTogQmxvY2tQb3BvdmVyVHJpZ2dlclByb3BzKSA9PiB7XG4gIGNvbnN0IFt0cmlnZ2VyLCBwb3BvdmVyXSA9IGNoaWxkcmVuXG4gIGNvbnN0IGFjdGl2ZVBvcG92ZXJFbGVtZW50ID0gdXNlQWN0aXZlQmxvY2tQb3BvdmVyKClcbiAgY29uc3QgdHJpZ2dlclJlZiA9IHVzZVJlZihudWxsKVxuXG4gIGNvbnN0IHN0YXRlID0gdXNlT3ZlcmxheVRyaWdnZXJTdGF0ZSh7XG4gICAgaXNPcGVuOiBhY3RpdmVQb3BvdmVyRWxlbWVudCA9PT0gZWxlbWVudCxcbiAgfSlcblxuICBjb25zdCBjb250ZXh0ID0gdXNlTWVtbygoKSA9PiAoeyBzdGF0ZSwgdHJpZ2dlclJlZiB9KSwgW3N0YXRlLCB0cmlnZ2VyUmVmXSlcblxuICByZXR1cm4gKFxuICAgIDxCbG9ja1BvcG92ZXJDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0fT5cbiAgICAgIHtjbG9uZUVsZW1lbnQodHJpZ2dlciBhcyBSZWFjdEVsZW1lbnQ8eyByZWY/OiBSZWY8dW5rbm93bj4gfT4sIHsgcmVmOiB0cmlnZ2VyUmVmIH0pfVxuICAgICAge3BvcG92ZXJ9XG4gICAgPC9CbG9ja1BvcG92ZXJDb250ZXh0LlByb3ZpZGVyPlxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCbG9ja1BvcG92ZXIocHJvcHM6IEJsb2NrUG9wb3ZlclByb3BzKSB7XG4gIGNvbnN0IHsgc3RhdGUgfSA9IHVzZUJsb2NrUG9wb3ZlckNvbnRleHQoKVxuICBsZXQgd3JhcHBlclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcblxuICByZXR1cm4gKFxuICAgIDxPdmVybGF5IGlzT3Blbj17c3RhdGUuaXNPcGVufSBub2RlUmVmPXt3cmFwcGVyUmVmfT5cbiAgICAgIDxCbG9ja1BvcG92ZXJXcmFwcGVyIHdyYXBwZXJSZWY9e3dyYXBwZXJSZWZ9IHsuLi5wcm9wc30gLz5cbiAgICA8L092ZXJsYXk+XG4gIClcbn1cblxuY29uc3QgQmxvY2tQb3BvdmVyV3JhcHBlciA9ICh7XG4gIGNoaWxkcmVuLFxuICBwbGFjZW1lbnQ6IHByZWZlcnJlZFBsYWNlbWVudCA9ICdib3R0b20nLFxufTogQmxvY2tQb3BvdmVyUHJvcHMgJiB7IHdyYXBwZXJSZWY6IFJlZjxIVE1MRGl2RWxlbWVudD4gfSkgPT4ge1xuICBsZXQgcG9wb3ZlclJlZiA9IHVzZVJlZihudWxsKVxuICBsZXQgeyBzdGF0ZSwgdHJpZ2dlclJlZiB9ID0gdXNlQmxvY2tQb3BvdmVyQ29udGV4dCgpXG4gIGxldCB7IHBsYWNlbWVudCwgcG9wb3ZlclByb3BzIH0gPSB1c2VCbG9ja1BvcG92ZXIoXG4gICAge1xuICAgICAgaXNOb25Nb2RhbDogdHJ1ZSxcbiAgICAgIGlzS2V5Ym9hcmREaXNtaXNzRGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgcGxhY2VtZW50OiBwcmVmZXJyZWRQbGFjZW1lbnQsXG4gICAgICB0cmlnZ2VyUmVmLFxuICAgICAgcG9wb3ZlclJlZixcbiAgICB9LFxuICAgIHN0YXRlXG4gIClcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIHJlZj17cG9wb3ZlclJlZn1cbiAgICAgIHsuLi5wb3BvdmVyUHJvcHN9XG4gICAgICBkYXRhLW9wZW49e3N0YXRlLmlzT3Blbn1cbiAgICAgIGRhdGEtcGxhY2VtZW50PXtwbGFjZW1lbnR9XG4gICAgICBjb250ZW50RWRpdGFibGU9e2ZhbHNlfVxuICAgICAgY2xhc3NOYW1lPXtjc3Moe1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRva2VuU2NoZW1hLmNvbG9yLmJhY2tncm91bmQuc3VyZmFjZSwgLy8gVE9ETzogY29tcG9uZW50IHRva2VuP1xuICAgICAgICBib3JkZXJSYWRpdXM6IHRva2VuU2NoZW1hLnNpemUucmFkaXVzLm1lZGl1bSwgLy8gVE9ETzogY29tcG9uZW50IHRva2VuP1xuICAgICAgICBib3JkZXI6IGAke3Rva2VuU2NoZW1hLnNpemUuYm9yZGVyLnJlZ3VsYXJ9IHNvbGlkICR7dG9rZW5TY2hlbWEuY29sb3IuYm9yZGVyLmVtcGhhc2lzfWAsXG4gICAgICAgIGJveFNpemluZzogJ2NvbnRlbnQtYm94JywgLy8gcmVzb2x2ZXMgbWVhc3VyZW1lbnQvc2Nyb2xsIGlzc3VlcyByZWxhdGVkIHRvIGJvcmRlclxuICAgICAgICAvLyBib3hTaGFkb3c6IGAwIDAgMCAke3Rva2VuU2NoZW1hLnNpemUuYm9yZGVyLnJlZ3VsYXJ9ICR7dG9rZW5TY2hlbWEuY29sb3IuYm9yZGVyLmVtcGhhc2lzfWAsXG4gICAgICAgIG1pbkhlaWdodDogdG9rZW5TY2hlbWEuc2l6ZS5lbGVtZW50LnJlZ3VsYXIsXG4gICAgICAgIG1pbldpZHRoOiB0b2tlblNjaGVtYS5zaXplLmVsZW1lbnQucmVndWxhcixcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgb3V0bGluZTogMCxcbiAgICAgICAgcG9pbnRlckV2ZW50czogJ2F1dG8nLFxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgLy8gdXNlIGZpbHRlcjpkcm9wLXNoYWRvdyBpbnN0ZWFkIG9mIGJveC1zaGFkb3cgc28gdGhlIGFycm93IGlzIGluY2x1ZGVkXG4gICAgICAgIGZpbHRlcjogYGRyb3Atc2hhZG93KDAgMXB4IDRweCAke3Rva2VuU2NoZW1hLmNvbG9yLnNoYWRvdy5yZWd1bGFyfSlgLFxuICAgICAgICAvLyBmaWx0ZXIgYnVnIGluIHNhZmFyaTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTY0Nzg5MjUvc2FmYXJpLWRyb3Atc2hhZG93LWZpbHRlci1yZW1haW5zLXZpc2libGUtZXZlbi13aXRoLWhpZGRlbi1lbGVtZW50XG4gICAgICAgIHdpbGxDaGFuZ2U6ICdmaWx0ZXInLFxuICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG5cbiAgICAgICAgLy8gcGxhY2VtZW50XG4gICAgICAgICcmW2RhdGEtcGxhY2VtZW50PVwidG9wXCJdJzoge1xuICAgICAgICAgIG1hcmdpbkJvdHRvbTogdG9rZW5TY2hlbWEuc2l6ZS5zcGFjZS5yZWd1bGFyLFxuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHt0b2tlblNjaGVtYS5zaXplLnNwYWNlLnJlZ3VsYXJ9KWAsXG4gICAgICAgIH0sXG4gICAgICAgICcmW2RhdGEtcGxhY2VtZW50PVwiYm90dG9tXCJdJzoge1xuICAgICAgICAgIG1hcmdpblRvcDogdG9rZW5TY2hlbWEuc2l6ZS5zcGFjZS5yZWd1bGFyLFxuICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoY2FsYygke3Rva2VuU2NoZW1hLnNpemUuc3BhY2UucmVndWxhcn0gKiAtMSkpYCxcbiAgICAgICAgfSxcblxuICAgICAgICAnJltkYXRhLW9wZW49XCJ0cnVlXCJdJzoge1xuICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgwKSB0cmFuc2xhdGVZKDApYCxcblxuICAgICAgICAgIC8vIGVudGVyIGFuaW1hdGlvblxuICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb24oWydvcGFjaXR5JywgJ3RyYW5zZm9ybSddLCB7XG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0JyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSxcbiAgICAgIH0pfVxuICAgID5cbiAgICAgIHt0eXBlb2YgY2hpbGRyZW4gPT09ICdmdW5jdGlvbicgPyBjaGlsZHJlbihzdGF0ZS5jbG9zZSkgOiBjaGlsZHJlbn1cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG4vKipcbiAqIFByb3ZpZGVzIHRoZSBiZWhhdmlvciBhbmQgYWNjZXNzaWJpbGl0eSBpbXBsZW1lbnRhdGlvbiBmb3IgYSBwb3BvdmVyIGNvbXBvbmVudC5cbiAqIEEgcG9wb3ZlciBpcyBhbiBvdmVybGF5IGVsZW1lbnQgcG9zaXRpb25lZCByZWxhdGl2ZSB0byBhIHRyaWdnZXIuXG4gKi9cbmZ1bmN0aW9uIHVzZUJsb2NrUG9wb3ZlcihcbiAgcHJvcHM6IEFyaWFQb3BvdmVyUHJvcHMsXG4gIHN0YXRlOiBPdmVybGF5VHJpZ2dlclN0YXRlXG4pOiBQb3BvdmVyQXJpYSAmIHsgdXBkYXRlUG9zaXRpb246ICgpID0+IHZvaWQgfSB7XG4gIGxldCB7IHRyaWdnZXJSZWYsIHBvcG92ZXJSZWYsIGlzTm9uTW9kYWwsIGlzS2V5Ym9hcmREaXNtaXNzRGlzYWJsZWQsIC4uLm90aGVyUHJvcHMgfSA9IHByb3BzXG5cbiAgbGV0IFtpc1N0aWNreSwgc2V0U3RpY2t5XSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIGxldCB7IG92ZXJsYXlQcm9wcywgdW5kZXJsYXlQcm9wcyB9ID0gdXNlT3ZlcmxheShcbiAgICB7XG4gICAgICBpc09wZW46IHN0YXRlLmlzT3BlbixcbiAgICAgIG9uQ2xvc2U6IHN0YXRlLmNsb3NlLFxuICAgICAgc2hvdWxkQ2xvc2VPbkJsdXI6IHRydWUsXG4gICAgICBpc0Rpc21pc3NhYmxlOiAhaXNOb25Nb2RhbCxcbiAgICAgIGlzS2V5Ym9hcmREaXNtaXNzRGlzYWJsZWQ6IGZhbHNlLFxuICAgIH0sXG4gICAgcG9wb3ZlclJlZlxuICApXG5cbiAgLy8gc3RpY2sgdGhlIHBvcG92ZXIgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdmlld3BvcnQgaW5zdGVhZCBvZiBmbGlwcGluZ1xuICBjb25zdCBjb250YWluZXJQYWRkaW5nID0gOFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzdGF0ZS5pc09wZW4pIHtcbiAgICAgIGNvbnN0IGNoZWNrRm9yU3RpY2tpbmVzcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdmggPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IDAsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKVxuICAgICAgICBsZXQgcG9wb3ZlclJlY3QgPSBwb3BvdmVyUmVmLmN1cnJlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIGxldCB0cmlnZ2VyUmVjdCA9IHRyaWdnZXJSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgaWYgKHBvcG92ZXJSZWN0ICYmIHRyaWdnZXJSZWN0KSB7XG4gICAgICAgICAgc2V0U3RpY2t5KFxuICAgICAgICAgICAgdHJpZ2dlclJlY3QuYm90dG9tICsgcG9wb3ZlclJlY3QuaGVpZ2h0ICsgY29udGFpbmVyUGFkZGluZyAqIDIgPiB2aCAmJlxuICAgICAgICAgICAgICB0cmlnZ2VyUmVjdC50b3AgPCB2aFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2hlY2tGb3JTdGlja2luZXNzKClcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBjaGVja0ZvclN0aWNraW5lc3MpXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjaGVja0ZvclN0aWNraW5lc3MoKVxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgY2hlY2tGb3JTdGlja2luZXNzKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW3BvcG92ZXJSZWYsIHRyaWdnZXJSZWYsIHN0YXRlLmlzT3Blbl0pXG5cbiAgbGV0IHtcbiAgICBvdmVybGF5UHJvcHM6IHBvc2l0aW9uUHJvcHMsXG4gICAgYXJyb3dQcm9wcyxcbiAgICBwbGFjZW1lbnQsXG4gICAgdXBkYXRlUG9zaXRpb24sXG4gIH0gPSB1c2VPdmVybGF5UG9zaXRpb24oe1xuICAgIC4uLm90aGVyUHJvcHMsXG4gICAgY29udGFpbmVyUGFkZGluZyxcbiAgICBzaG91bGRGbGlwOiBmYWxzZSxcbiAgICB0YXJnZXRSZWY6IHRyaWdnZXJSZWYsXG4gICAgb3ZlcmxheVJlZjogcG9wb3ZlclJlZixcbiAgICBpc09wZW46IHN0YXRlLmlzT3BlbixcbiAgICBvbkNsb3NlOiB1bmRlZmluZWQsXG4gIH0pXG5cbiAgLy8gZm9yY2UgdXBkYXRlIHBvc2l0aW9uIHdoZW4gdGhlIHRyaWdnZXIgY2hhbmdlc1xuICBsZXQgcHJldmlvdXNCb3VuZGluZ1JlY3QgPSB1c2VQcmV2aW91cyh0cmlnZ2VyUmVmLmN1cnJlbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKVxuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcmV2aW91c0JvdW5kaW5nUmVjdCkge1xuICAgICAgY29uc3QgY3VycmVudEJvdW5kaW5nUmVjdCA9IHRyaWdnZXJSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIGlmIChjdXJyZW50Qm91bmRpbmdSZWN0KSB7XG4gICAgICAgIGNvbnN0IGhhc0NoYW5nZWQgPVxuICAgICAgICAgIHByZXZpb3VzQm91bmRpbmdSZWN0LmhlaWdodCAhPT0gY3VycmVudEJvdW5kaW5nUmVjdC5oZWlnaHQgfHxcbiAgICAgICAgICBwcmV2aW91c0JvdW5kaW5nUmVjdC53aWR0aCAhPT0gY3VycmVudEJvdW5kaW5nUmVjdC53aWR0aCB8fFxuICAgICAgICAgIHByZXZpb3VzQm91bmRpbmdSZWN0LnggIT09IGN1cnJlbnRCb3VuZGluZ1JlY3QueCB8fFxuICAgICAgICAgIHByZXZpb3VzQm91bmRpbmdSZWN0LnkgIT09IGN1cnJlbnRCb3VuZGluZ1JlY3QueVxuICAgICAgICBpZiAoaGFzQ2hhbmdlZCkge1xuICAgICAgICAgIHVwZGF0ZVBvc2l0aW9uKClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwgW3ByZXZpb3VzQm91bmRpbmdSZWN0LCB0cmlnZ2VyUmVmLCB1cGRhdGVQb3NpdGlvbl0pXG5cbiAgLy8gbWFrZSBzdXJlIHBvcG92ZXJzIGFyZSBiZWxvdyBtb2RhbCBkaWFsb2dzIGFuZCB0aGVpciBibGFua2V0XG4gIGlmIChwb3NpdGlvblByb3BzLnN0eWxlKSB7XG4gICAgcG9zaXRpb25Qcm9wcy5zdHlsZS56SW5kZXggPSAxXG4gIH1cblxuICAvLyBzd2l0Y2hpbmcgdG8gcG9zaXRpb246IGZpeGVkIHdpbGwgdW5kb3VidGVkbHkgYml0ZSBtZSBsYXRlciwgYnV0IHRoaXMgaGFjayB3b3JrcyBmb3Igbm93XG4gIGlmIChpc1N0aWNreSkge1xuICAgIHBvc2l0aW9uUHJvcHMuc3R5bGUgPSB7XG4gICAgICAuLi5wb3NpdGlvblByb3BzLnN0eWxlLFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgbWF4SGVpZ2h0OiBudWxsLFxuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICB0b3A6IG51bGwsXG4gICAgICBib3R0b206IGNvbnRhaW5lclBhZGRpbmcsXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhcnJvd1Byb3BzLFxuICAgIHBsYWNlbWVudCxcbiAgICBwb3BvdmVyUHJvcHM6IG1lcmdlUHJvcHMob3ZlcmxheVByb3BzLCBwb3NpdGlvblByb3BzKSxcbiAgICB1bmRlcmxheVByb3BzLFxuICAgIHVwZGF0ZVBvc2l0aW9uLFxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZVByZXZpb3VzPFQ+KHZhbHVlOiBUKSB7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZjxUPih1bmRlZmluZWQpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVmLmN1cnJlbnQgPSB2YWx1ZVxuICB9KVxuICByZXR1cm4gcmVmLmN1cnJlbnRcbn1cbiJdLCJuYW1lcyI6WyJ1c2VPdmVybGF5IiwidXNlT3ZlcmxheVBvc2l0aW9uIiwibWVyZ2VQcm9wcyIsInVzZUxheW91dEVmZmVjdCIsInVzZU92ZXJsYXlUcmlnZ2VyU3RhdGUiLCJjbG9uZUVsZW1lbnQiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIkVkaXRvciIsIk92ZXJsYXkiLCJjc3MiLCJ0b2tlblNjaGVtYSIsInRyYW5zaXRpb24iLCJub2RlVHlwZU1hdGNoZXIiLCJCbG9ja1BvcG92ZXJDb250ZXh0IiwidXNlQmxvY2tQb3BvdmVyQ29udGV4dCIsImNvbnRleHQiLCJFcnJvciIsInR5cGVNYXRjaGVyIiwiQWN0aXZlQmxvY2tQb3BvdmVyQ29udGV4dCIsInVuZGVmaW5lZCIsInVzZUFjdGl2ZUJsb2NrUG9wb3ZlciIsIkFjdGl2ZUJsb2NrUG9wb3ZlclByb3ZpZGVyIiwicHJvcHMiLCJub2RlV2l0aFBvcG92ZXIiLCJhYm92ZSIsImVkaXRvciIsIm1hdGNoIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsImNoaWxkcmVuIiwiQmxvY2tQb3BvdmVyVHJpZ2dlciIsImVsZW1lbnQiLCJ0cmlnZ2VyIiwicG9wb3ZlciIsImFjdGl2ZVBvcG92ZXJFbGVtZW50IiwidHJpZ2dlclJlZiIsInN0YXRlIiwiaXNPcGVuIiwicmVmIiwiQmxvY2tQb3BvdmVyIiwid3JhcHBlclJlZiIsIm5vZGVSZWYiLCJCbG9ja1BvcG92ZXJXcmFwcGVyIiwicGxhY2VtZW50IiwicHJlZmVycmVkUGxhY2VtZW50IiwicG9wb3ZlclJlZiIsInBvcG92ZXJQcm9wcyIsInVzZUJsb2NrUG9wb3ZlciIsImlzTm9uTW9kYWwiLCJpc0tleWJvYXJkRGlzbWlzc0Rpc2FibGVkIiwiZGl2IiwiZGF0YS1vcGVuIiwiZGF0YS1wbGFjZW1lbnQiLCJjb250ZW50RWRpdGFibGUiLCJjbGFzc05hbWUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsImJhY2tncm91bmQiLCJzdXJmYWNlIiwiYm9yZGVyUmFkaXVzIiwic2l6ZSIsInJhZGl1cyIsIm1lZGl1bSIsImJvcmRlciIsInJlZ3VsYXIiLCJlbXBoYXNpcyIsImJveFNpemluZyIsIm1pbkhlaWdodCIsIm1pbldpZHRoIiwib3BhY2l0eSIsIm91dGxpbmUiLCJwb2ludGVyRXZlbnRzIiwicG9zaXRpb24iLCJmaWx0ZXIiLCJzaGFkb3ciLCJ3aWxsQ2hhbmdlIiwidXNlclNlbGVjdCIsIm1hcmdpbkJvdHRvbSIsInNwYWNlIiwidHJhbnNmb3JtIiwibWFyZ2luVG9wIiwiZWFzaW5nIiwiY2xvc2UiLCJvdGhlclByb3BzIiwiaXNTdGlja3kiLCJzZXRTdGlja3kiLCJvdmVybGF5UHJvcHMiLCJ1bmRlcmxheVByb3BzIiwib25DbG9zZSIsInNob3VsZENsb3NlT25CbHVyIiwiaXNEaXNtaXNzYWJsZSIsImNvbnRhaW5lclBhZGRpbmciLCJjaGVja0ZvclN0aWNraW5lc3MiLCJ2aCIsIk1hdGgiLCJtYXgiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudEhlaWdodCIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwicG9wb3ZlclJlY3QiLCJjdXJyZW50IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidHJpZ2dlclJlY3QiLCJib3R0b20iLCJoZWlnaHQiLCJ0b3AiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBvc2l0aW9uUHJvcHMiLCJhcnJvd1Byb3BzIiwidXBkYXRlUG9zaXRpb24iLCJzaG91bGRGbGlwIiwidGFyZ2V0UmVmIiwib3ZlcmxheVJlZiIsInByZXZpb3VzQm91bmRpbmdSZWN0IiwidXNlUHJldmlvdXMiLCJjdXJyZW50Qm91bmRpbmdSZWN0IiwiaGFzQ2hhbmdlZCIsIndpZHRoIiwieCIsInkiLCJzdHlsZSIsInpJbmRleCIsIm1heEhlaWdodCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/primitives/BlockPopover.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/relationship-shared.ts":
/*!**************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/relationship-shared.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withRelationship: () => (/* binding */ withRelationship)\n/* harmony export */ });\nfunction withRelationship(editor) {\n    const { isVoid, isInline } = editor;\n    editor.isVoid = (element)=>element.type === 'relationship' || isVoid(element);\n    editor.isInline = (element)=>element.type === 'relationship' || isInline(element);\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9yZWxhdGlvbnNoaXAtc2hhcmVkLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFlTyxTQUFTQSxpQkFBaUJDLE1BQWM7SUFDN0MsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRSxHQUFHRjtJQUM3QkEsT0FBT0MsTUFBTSxHQUFHRSxDQUFBQSxVQUFXQSxRQUFRQyxJQUFJLEtBQUssa0JBQWtCSCxPQUFPRTtJQUNyRUgsT0FBT0UsUUFBUSxHQUFHQyxDQUFBQSxVQUFXQSxRQUFRQyxJQUFJLEtBQUssa0JBQWtCRixTQUFTQztJQUN6RSxPQUFPSDtBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvcmVsYXRpb25zaGlwLXNoYXJlZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEVkaXRvciB9IGZyb20gJ3NsYXRlJ1xuXG4vLyBpbmxpbmUgcmVsYXRpb25zaGlwIHR5cGVcbmV4cG9ydCB0eXBlIFJlbGF0aW9uc2hpcHMgPSBSZWNvcmQ8XG4gIHN0cmluZyxcbiAge1xuICAgIGxpc3RLZXk6IHN0cmluZ1xuICAgIGxhYmVsOiBzdHJpbmdcbiAgICAvKiogVGhlIGxhYmVsIGZpZWxkIHRvIHVzZSBmb3IgdGhpcyByZWxhdGlvbnNoaXAgd2hlbiBzaG93aW5nIHRoZSBzZWxlY3QgKi9cbiAgICBsYWJlbEZpZWxkOiBzdHJpbmcgfCBudWxsXG4gICAgLyoqIFRoZSBHcmFwaFFMIHNlbGVjdGlvbiB0byB1c2UgZm9yIHRoaXMgcmVsYXRpb25zaGlwIHdoZW4gaHlkcmF0aW5nIC5kYXRhICovXG4gICAgc2VsZWN0aW9uOiBzdHJpbmcgfCBudWxsXG4gIH1cbj5cblxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhSZWxhdGlvbnNoaXAoZWRpdG9yOiBFZGl0b3IpOiBFZGl0b3Ige1xuICBjb25zdCB7IGlzVm9pZCwgaXNJbmxpbmUgfSA9IGVkaXRvclxuICBlZGl0b3IuaXNWb2lkID0gZWxlbWVudCA9PiBlbGVtZW50LnR5cGUgPT09ICdyZWxhdGlvbnNoaXAnIHx8IGlzVm9pZChlbGVtZW50KVxuICBlZGl0b3IuaXNJbmxpbmUgPSBlbGVtZW50ID0+IGVsZW1lbnQudHlwZSA9PT0gJ3JlbGF0aW9uc2hpcCcgfHwgaXNJbmxpbmUoZWxlbWVudClcbiAgcmV0dXJuIGVkaXRvclxufVxuIl0sIm5hbWVzIjpbIndpdGhSZWxhdGlvbnNoaXAiLCJlZGl0b3IiLCJpc1ZvaWQiLCJpc0lubGluZSIsImVsZW1lbnQiLCJ0eXBlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/relationship-shared.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/relationship.tsx":
/*!********************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/relationship.tsx ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DocumentFieldRelationshipsContext: () => (/* binding */ DocumentFieldRelationshipsContext),\n/* harmony export */   DocumentFieldRelationshipsProvider: () => (/* binding */ DocumentFieldRelationshipsProvider),\n/* harmony export */   RelationshipElement: () => (/* binding */ RelationshipElement),\n/* harmony export */   useDocumentFieldRelationships: () => (/* binding */ useDocumentFieldRelationships)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _keystone_6_core_admin_ui_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystone-6/core/admin-ui/context */ \"../../../../packages/core/src/admin-ui/context.tsx\");\n/* harmony import */ var _keystone_6_core_fields_types_relationship_views__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystone-6/core/fields/types/relationship/views */ \"../../../../packages/core/src/fields/types/relationship/views/index.tsx\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n\n\n\n\n\n\n\n\nconst DocumentFieldRelationshipsContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({});\nfunction useDocumentFieldRelationships() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(DocumentFieldRelationshipsContext);\n}\nconst DocumentFieldRelationshipsProvider = DocumentFieldRelationshipsContext.Provider;\n// this is the inline relationship, see form-from-preview for the component field\nfunction RelationshipElement({ attributes, children, element }) {\n    const editor = (0,slate_react__WEBPACK_IMPORTED_MODULE_5__.useSlateStatic)();\n    const relationships = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(DocumentFieldRelationshipsContext);\n    const relationship = relationships[element.relationship];\n    const list = (0,_keystone_6_core_admin_ui_context__WEBPACK_IMPORTED_MODULE_2__.useList)(relationship.listKey);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        ...attributes,\n        className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_4__.css)({\n            display: 'inline-flex',\n            alignItems: 'center'\n        }),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                contentEditable: false,\n                className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_4__.css)({\n                    userSelect: 'none',\n                    width: 200,\n                    display: 'inline-block',\n                    paddingLeft: 4,\n                    paddingRight: 4,\n                    flex: 1\n                }),\n                children: relationship ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystone_6_core_fields_types_relationship_views__WEBPACK_IMPORTED_MODULE_3__.ComboboxSingle, {\n                    list: list,\n                    labelField: list.labelField,\n                    searchFields: list.initialSearchFields,\n                    filter: list.initialFilter,\n                    sort: list.initialSort,\n                    state: {\n                        kind: 'one',\n                        value: element.data === null ? null : {\n                            id: element.data.id,\n                            label: element.data.label ?? null,\n                            built: undefined\n                        },\n                        onChange (newItem) {\n                            const at = slate_react__WEBPACK_IMPORTED_MODULE_5__.ReactEditor.findPath(editor, element);\n                            if (newItem === null) {\n                                slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.removeNodes(editor, {\n                                    at\n                                });\n                            } else {\n                                slate__WEBPACK_IMPORTED_MODULE_6__.Transforms.setNodes(editor, {\n                                    data: {\n                                        id: newItem.id,\n                                        label: newItem.label,\n                                        data: newItem.data\n                                    }\n                                }, {\n                                    at\n                                });\n                            }\n                        }\n                    }\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/relationship.tsx\",\n                    lineNumber: 53,\n                    columnNumber: 11\n                }, this) : 'Invalid relationship'\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/relationship.tsx\",\n                lineNumber: 41,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_4__.css)({\n                    flex: 0\n                }),\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/relationship.tsx\",\n                lineNumber: 83,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/relationship.tsx\",\n        lineNumber: 34,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9yZWxhdGlvbnNoaXAudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlEO0FBQ2lCO0FBQ2hDO0FBQzZCO0FBRUo7QUFFc0I7QUFHMUM7QUFHaEMsTUFBTVMsa0RBQW9DVCxvREFBYUEsQ0FBZ0IsQ0FBQyxHQUFFO0FBRTFFLFNBQVNVO0lBQ2QsT0FBT1QsaURBQVVBLENBQUNRO0FBQ3BCO0FBRU8sTUFBTUUscUNBQXFDRixrQ0FBa0NHLFFBQVE7QUFFNUYsaUZBQWlGO0FBQzFFLFNBQVNDLG9CQUFvQixFQUNsQ0MsVUFBVSxFQUNWQyxRQUFRLEVBQ1JDLE9BQU8sRUFDb0Q7SUFDM0QsTUFBTUMsU0FBU1osMkRBQWVBO0lBQzlCLE1BQU1hLGdCQUFnQmpCLGlEQUFVQSxDQUFDUTtJQUNqQyxNQUFNVSxlQUFlRCxhQUFhLENBQUNGLFFBQVFHLFlBQVksQ0FBQztJQUN4RCxNQUFNQyxPQUFPZCwwRUFBT0EsQ0FBQ2EsYUFBYUUsT0FBTztJQUV6QyxxQkFDRSw4REFBQ0M7UUFDRSxHQUFHUixVQUFVO1FBQ2RTLFdBQVdmLHNEQUFHQSxDQUFDO1lBQ2JnQixTQUFTO1lBQ1RDLFlBQVk7UUFDZDs7MEJBRUEsOERBQUNIO2dCQUNDSSxpQkFBaUI7Z0JBQ2pCSCxXQUFXZixzREFBR0EsQ0FBQztvQkFDYm1CLFlBQVk7b0JBQ1pDLE9BQU87b0JBQ1BKLFNBQVM7b0JBQ1RLLGFBQWE7b0JBQ2JDLGNBQWM7b0JBQ2RDLE1BQU07Z0JBQ1I7MEJBRUNaLDZCQUNDLDhEQUFDWiw0RkFBY0E7b0JBQ2JhLE1BQU1BO29CQUNOWSxZQUFZWixLQUFLWSxVQUFVO29CQUMzQkMsY0FBY2IsS0FBS2MsbUJBQW1CO29CQUN0Q0MsUUFBUWYsS0FBS2dCLGFBQWE7b0JBQzFCQyxNQUFNakIsS0FBS2tCLFdBQVc7b0JBQ3RCQyxPQUFPO3dCQUNMQyxNQUFNO3dCQUNOQyxPQUNFekIsUUFBUTBCLElBQUksS0FBSyxPQUNiLE9BQ0E7NEJBQUVDLElBQUkzQixRQUFRMEIsSUFBSSxDQUFDQyxFQUFFOzRCQUFFQyxPQUFPNUIsUUFBUTBCLElBQUksQ0FBQ0UsS0FBSyxJQUFJOzRCQUFNQyxPQUFPQzt3QkFBVTt3QkFDakZDLFVBQVNDLE9BQU87NEJBQ2QsTUFBTUMsS0FBSy9DLG9EQUFXQSxDQUFDZ0QsUUFBUSxDQUFDakMsUUFBUUQ7NEJBQ3hDLElBQUlnQyxZQUFZLE1BQU07Z0NBQ3BCN0MsNkNBQVVBLENBQUNnRCxXQUFXLENBQUNsQyxRQUFRO29DQUFFZ0M7Z0NBQUc7NEJBQ3RDLE9BQU87Z0NBQ0w5Qyw2Q0FBVUEsQ0FBQ2lELFFBQVEsQ0FDakJuQyxRQUNBO29DQUFFeUIsTUFBTTt3Q0FBRUMsSUFBSUssUUFBUUwsRUFBRTt3Q0FBRUMsT0FBT0ksUUFBUUosS0FBSzt3Q0FBRUYsTUFBTU0sUUFBUU4sSUFBSTtvQ0FBQztnQ0FBRSxHQUNyRTtvQ0FBRU87Z0NBQUc7NEJBRVQ7d0JBQ0Y7b0JBQ0Y7Ozs7OzJCQUdGOzs7Ozs7MEJBR0osOERBQUMzQjtnQkFBS0MsV0FBV2Ysc0RBQUdBLENBQUM7b0JBQUV1QixNQUFNO2dCQUFFOzBCQUFLaEI7Ozs7Ozs7Ozs7OztBQUcxQyIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL3JlbGF0aW9uc2hpcC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUmVhY3RFZGl0b3IsIHR5cGUgUmVuZGVyRWxlbWVudFByb3BzIH0gZnJvbSAnc2xhdGUtcmVhY3QnXG5pbXBvcnQgeyBUcmFuc2Zvcm1zIH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgeyB1c2VTbGF0ZVN0YXRpYyBhcyB1c2VTdGF0aWNFZGl0b3IgfSBmcm9tICdzbGF0ZS1yZWFjdCdcblxuaW1wb3J0IHsgdXNlTGlzdCB9IGZyb20gJ0BrZXlzdG9uZS02L2NvcmUvYWRtaW4tdWkvY29udGV4dCdcblxuaW1wb3J0IHsgQ29tYm9ib3hTaW5nbGUgfSBmcm9tICdAa2V5c3RvbmUtNi9jb3JlL2ZpZWxkcy90eXBlcy9yZWxhdGlvbnNoaXAvdmlld3MnXG5cbmltcG9ydCB0eXBlIHsgUmVsYXRpb25zaGlwcyB9IGZyb20gJy4vcmVsYXRpb25zaGlwLXNoYXJlZCdcbmltcG9ydCB7IGNzcyB9IGZyb20gJ0BrZXlzdGFyL3VpL3N0eWxlJ1xuZXhwb3J0IHR5cGUgeyBSZWxhdGlvbnNoaXBzIH0gZnJvbSAnLi9yZWxhdGlvbnNoaXAtc2hhcmVkJ1xuXG5leHBvcnQgY29uc3QgRG9jdW1lbnRGaWVsZFJlbGF0aW9uc2hpcHNDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxSZWxhdGlvbnNoaXBzPih7fSlcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZURvY3VtZW50RmllbGRSZWxhdGlvbnNoaXBzKCkge1xuICByZXR1cm4gdXNlQ29udGV4dChEb2N1bWVudEZpZWxkUmVsYXRpb25zaGlwc0NvbnRleHQpXG59XG5cbmV4cG9ydCBjb25zdCBEb2N1bWVudEZpZWxkUmVsYXRpb25zaGlwc1Byb3ZpZGVyID0gRG9jdW1lbnRGaWVsZFJlbGF0aW9uc2hpcHNDb250ZXh0LlByb3ZpZGVyXG5cbi8vIHRoaXMgaXMgdGhlIGlubGluZSByZWxhdGlvbnNoaXAsIHNlZSBmb3JtLWZyb20tcHJldmlldyBmb3IgdGhlIGNvbXBvbmVudCBmaWVsZFxuZXhwb3J0IGZ1bmN0aW9uIFJlbGF0aW9uc2hpcEVsZW1lbnQoe1xuICBhdHRyaWJ1dGVzLFxuICBjaGlsZHJlbixcbiAgZWxlbWVudCxcbn06IFJlbmRlckVsZW1lbnRQcm9wcyAmIHsgZWxlbWVudDogeyB0eXBlOiAncmVsYXRpb25zaGlwJyB9IH0pIHtcbiAgY29uc3QgZWRpdG9yID0gdXNlU3RhdGljRWRpdG9yKClcbiAgY29uc3QgcmVsYXRpb25zaGlwcyA9IHVzZUNvbnRleHQoRG9jdW1lbnRGaWVsZFJlbGF0aW9uc2hpcHNDb250ZXh0KSFcbiAgY29uc3QgcmVsYXRpb25zaGlwID0gcmVsYXRpb25zaGlwc1tlbGVtZW50LnJlbGF0aW9uc2hpcF1cbiAgY29uc3QgbGlzdCA9IHVzZUxpc3QocmVsYXRpb25zaGlwLmxpc3RLZXkpXG5cbiAgcmV0dXJuIChcbiAgICA8c3BhblxuICAgICAgey4uLmF0dHJpYnV0ZXN9XG4gICAgICBjbGFzc05hbWU9e2Nzcyh7XG4gICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtZmxleCcsXG4gICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgfSl9XG4gICAgPlxuICAgICAgPHNwYW5cbiAgICAgICAgY29udGVudEVkaXRhYmxlPXtmYWxzZX1cbiAgICAgICAgY2xhc3NOYW1lPXtjc3Moe1xuICAgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICAgICB3aWR0aDogMjAwLFxuICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgICAgIHBhZGRpbmdMZWZ0OiA0LFxuICAgICAgICAgIHBhZGRpbmdSaWdodDogNCxcbiAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICB9KX1cbiAgICAgID5cbiAgICAgICAge3JlbGF0aW9uc2hpcCA/IChcbiAgICAgICAgICA8Q29tYm9ib3hTaW5nbGVcbiAgICAgICAgICAgIGxpc3Q9e2xpc3R9XG4gICAgICAgICAgICBsYWJlbEZpZWxkPXtsaXN0LmxhYmVsRmllbGR9XG4gICAgICAgICAgICBzZWFyY2hGaWVsZHM9e2xpc3QuaW5pdGlhbFNlYXJjaEZpZWxkc31cbiAgICAgICAgICAgIGZpbHRlcj17bGlzdC5pbml0aWFsRmlsdGVyIGFzIGFueX1cbiAgICAgICAgICAgIHNvcnQ9e2xpc3QuaW5pdGlhbFNvcnR9XG4gICAgICAgICAgICBzdGF0ZT17e1xuICAgICAgICAgICAgICBraW5kOiAnb25lJyxcbiAgICAgICAgICAgICAgdmFsdWU6XG4gICAgICAgICAgICAgICAgZWxlbWVudC5kYXRhID09PSBudWxsXG4gICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgIDogeyBpZDogZWxlbWVudC5kYXRhLmlkLCBsYWJlbDogZWxlbWVudC5kYXRhLmxhYmVsID8/IG51bGwsIGJ1aWx0OiB1bmRlZmluZWQgfSxcbiAgICAgICAgICAgICAgb25DaGFuZ2UobmV3SXRlbSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0ID0gUmVhY3RFZGl0b3IuZmluZFBhdGgoZWRpdG9yLCBlbGVtZW50KVxuICAgICAgICAgICAgICAgIGlmIChuZXdJdGVtID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwgeyBhdCB9KVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBUcmFuc2Zvcm1zLnNldE5vZGVzKFxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgICAgICAgICAgIHsgZGF0YTogeyBpZDogbmV3SXRlbS5pZCwgbGFiZWw6IG5ld0l0ZW0ubGFiZWwsIGRhdGE6IG5ld0l0ZW0uZGF0YSB9IH0sXG4gICAgICAgICAgICAgICAgICAgIHsgYXQgfVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICAnSW52YWxpZCByZWxhdGlvbnNoaXAnXG4gICAgICAgICl9XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9e2Nzcyh7IGZsZXg6IDAgfSl9PntjaGlsZHJlbn08L3NwYW4+XG4gICAgPC9zcGFuPlxuICApXG59XG4iXSwibmFtZXMiOlsiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJSZWFjdEVkaXRvciIsIlRyYW5zZm9ybXMiLCJ1c2VTbGF0ZVN0YXRpYyIsInVzZVN0YXRpY0VkaXRvciIsInVzZUxpc3QiLCJDb21ib2JveFNpbmdsZSIsImNzcyIsIkRvY3VtZW50RmllbGRSZWxhdGlvbnNoaXBzQ29udGV4dCIsInVzZURvY3VtZW50RmllbGRSZWxhdGlvbnNoaXBzIiwiRG9jdW1lbnRGaWVsZFJlbGF0aW9uc2hpcHNQcm92aWRlciIsIlByb3ZpZGVyIiwiUmVsYXRpb25zaGlwRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJjaGlsZHJlbiIsImVsZW1lbnQiLCJlZGl0b3IiLCJyZWxhdGlvbnNoaXBzIiwicmVsYXRpb25zaGlwIiwibGlzdCIsImxpc3RLZXkiLCJzcGFuIiwiY2xhc3NOYW1lIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJjb250ZW50RWRpdGFibGUiLCJ1c2VyU2VsZWN0Iiwid2lkdGgiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsImZsZXgiLCJsYWJlbEZpZWxkIiwic2VhcmNoRmllbGRzIiwiaW5pdGlhbFNlYXJjaEZpZWxkcyIsImZpbHRlciIsImluaXRpYWxGaWx0ZXIiLCJzb3J0IiwiaW5pdGlhbFNvcnQiLCJzdGF0ZSIsImtpbmQiLCJ2YWx1ZSIsImRhdGEiLCJpZCIsImxhYmVsIiwiYnVpbHQiLCJ1bmRlZmluZWQiLCJvbkNoYW5nZSIsIm5ld0l0ZW0iLCJhdCIsImZpbmRQYXRoIiwicmVtb3ZlTm9kZXMiLCJzZXROb2RlcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/relationship.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/render-element.tsx":
/*!**********************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/render-element.tsx ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderElement: () => (/* binding */ renderElement)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var _layouts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./layouts */ \"../../../../packages/fields-document/src/DocumentEditor/layouts.tsx\");\n/* harmony import */ var _component_blocks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component-blocks */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/index.tsx\");\n/* harmony import */ var _link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./link */ \"../../../../packages/fields-document/src/DocumentEditor/link.tsx\");\n/* harmony import */ var _heading__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./heading */ \"../../../../packages/fields-document/src/DocumentEditor/heading.tsx\");\n/* harmony import */ var _blockquote__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./blockquote */ \"../../../../packages/fields-document/src/DocumentEditor/blockquote.tsx\");\n/* harmony import */ var _relationship__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./relationship */ \"../../../../packages/fields-document/src/DocumentEditor/relationship.tsx\");\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n\n\n\n\n\n\n\n\n\n// some of the renderers read properties of the element\n// and TS doesn't understand the type narrowing when doing a spread for some reason\n// so that's why things aren't being spread in some cases\nconst renderElement = (props)=>{\n    switch(props.element.type){\n        case 'layout':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_layouts__WEBPACK_IMPORTED_MODULE_1__.LayoutContainer, {\n                attributes: props.attributes,\n                children: props.children,\n                element: props.element\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 18,\n                columnNumber: 9\n            }, undefined);\n        case 'layout-area':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_layouts__WEBPACK_IMPORTED_MODULE_1__.LayoutArea, {\n                ...props\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 25,\n                columnNumber: 14\n            }, undefined);\n        case 'code':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CodeElement, {\n                ...props\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 27,\n                columnNumber: 14\n            }, undefined);\n        case 'component-block':\n            {\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_component_blocks__WEBPACK_IMPORTED_MODULE_2__.ComponentBlocksElement, {\n                    attributes: props.attributes,\n                    children: props.children,\n                    element: props.element\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                    lineNumber: 30,\n                    columnNumber: 9\n                }, undefined);\n            }\n        case 'component-inline-prop':\n        case 'component-block-prop':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_component_blocks__WEBPACK_IMPORTED_MODULE_2__.ComponentInlineProp, {\n                ...props\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 39,\n                columnNumber: 14\n            }, undefined);\n        case 'heading':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_heading__WEBPACK_IMPORTED_MODULE_4__.HeadingElement, {\n                attributes: props.attributes,\n                children: props.children,\n                element: props.element\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 42,\n                columnNumber: 9\n            }, undefined);\n        case 'link':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_link__WEBPACK_IMPORTED_MODULE_3__.LinkElement, {\n                attributes: props.attributes,\n                children: props.children,\n                element: props.element\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 50,\n                columnNumber: 9\n            }, undefined);\n        case 'ordered-list':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ol\", {\n                ...props.attributes,\n                children: props.children\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 57,\n                columnNumber: 14\n            }, undefined);\n        case 'unordered-list':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                ...props.attributes,\n                children: props.children\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 59,\n                columnNumber: 14\n            }, undefined);\n        case 'list-item':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                ...props.attributes,\n                children: props.children\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 61,\n                columnNumber: 14\n            }, undefined);\n        case 'list-item-content':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                ...props.attributes,\n                children: props.children\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 63,\n                columnNumber: 14\n            }, undefined);\n        case 'blockquote':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_blockquote__WEBPACK_IMPORTED_MODULE_5__.BlockquoteElement, {\n                ...props\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 65,\n                columnNumber: 14\n            }, undefined);\n        case 'relationship':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_relationship__WEBPACK_IMPORTED_MODULE_6__.RelationshipElement, {\n                attributes: props.attributes,\n                children: props.children,\n                element: props.element\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 68,\n                columnNumber: 9\n            }, undefined);\n        case 'divider':\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DividerElement, {\n                ...props\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 75,\n                columnNumber: 14\n            }, undefined);\n        default:\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                style: {\n                    textAlign: props.element.textAlign\n                },\n                ...props.attributes,\n                children: props.children\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 78,\n                columnNumber: 9\n            }, undefined);\n    }\n};\n/* Block Elements */ const CodeElement = ({ attributes, children })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n        spellCheck: \"false\",\n        ...attributes,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n            lineNumber: 90,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n        lineNumber: 89,\n        columnNumber: 5\n    }, undefined);\n};\nfunction DividerElement({ attributes, children }) {\n    const selected = (0,slate_react__WEBPACK_IMPORTED_MODULE_8__.useSelected)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ...attributes,\n        style: {\n            caretColor: 'transparent'\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {\n                style: {\n                    backgroundColor: selected ? _keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.tokenSchema.color.alias.borderSelected : _keystar_ui_style__WEBPACK_IMPORTED_MODULE_7__.tokenSchema.color.alias.borderIdle\n                }\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n                lineNumber: 99,\n                columnNumber: 7\n            }, this),\n            children\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/render-element.tsx\",\n        lineNumber: 98,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9yZW5kZXItZWxlbWVudC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQWtFO0FBRVg7QUFDeUI7QUFDNUM7QUFDTTtBQUNNO0FBQ0k7QUFDTDtBQUUvQyx1REFBdUQ7QUFDdkQsbUZBQW1GO0FBQ25GLHlEQUF5RDtBQUNsRCxNQUFNVSxnQkFBZ0IsQ0FBQ0M7SUFDNUIsT0FBUUEsTUFBTUMsT0FBTyxDQUFDQyxJQUFJO1FBQ3hCLEtBQUs7WUFDSCxxQkFDRSw4REFBQ1gscURBQWVBO2dCQUNkWSxZQUFZSCxNQUFNRyxVQUFVO2dCQUM1QkMsVUFBVUosTUFBTUksUUFBUTtnQkFDeEJILFNBQVNELE1BQU1DLE9BQU87Ozs7OztRQUc1QixLQUFLO1lBQ0gscUJBQU8sOERBQUNYLGdEQUFVQTtnQkFBRSxHQUFHVSxLQUFLOzs7Ozs7UUFDOUIsS0FBSztZQUNILHFCQUFPLDhEQUFDSztnQkFBYSxHQUFHTCxLQUFLOzs7Ozs7UUFDL0IsS0FBSztZQUFtQjtnQkFDdEIscUJBQ0UsOERBQUNSLHFFQUFzQkE7b0JBQ3JCVyxZQUFZSCxNQUFNRyxVQUFVO29CQUM1QkMsVUFBVUosTUFBTUksUUFBUTtvQkFDeEJILFNBQVNELE1BQU1DLE9BQU87Ozs7OztZQUc1QjtRQUNBLEtBQUs7UUFDTCxLQUFLO1lBQ0gscUJBQU8sOERBQUNSLGtFQUFtQkE7Z0JBQUUsR0FBR08sS0FBSzs7Ozs7O1FBQ3ZDLEtBQUs7WUFDSCxxQkFDRSw4REFBQ0wsb0RBQWNBO2dCQUNiUSxZQUFZSCxNQUFNRyxVQUFVO2dCQUM1QkMsVUFBVUosTUFBTUksUUFBUTtnQkFDeEJILFNBQVNELE1BQU1DLE9BQU87Ozs7OztRQUc1QixLQUFLO1lBQ0gscUJBQ0UsOERBQUNQLDhDQUFXQTtnQkFDVlMsWUFBWUgsTUFBTUcsVUFBVTtnQkFDNUJDLFVBQVVKLE1BQU1JLFFBQVE7Z0JBQ3hCSCxTQUFTRCxNQUFNQyxPQUFPOzs7Ozs7UUFHNUIsS0FBSztZQUNILHFCQUFPLDhEQUFDSztnQkFBSSxHQUFHTixNQUFNRyxVQUFVOzBCQUFHSCxNQUFNSSxRQUFROzs7Ozs7UUFDbEQsS0FBSztZQUNILHFCQUFPLDhEQUFDRztnQkFBSSxHQUFHUCxNQUFNRyxVQUFVOzBCQUFHSCxNQUFNSSxRQUFROzs7Ozs7UUFDbEQsS0FBSztZQUNILHFCQUFPLDhEQUFDSTtnQkFBSSxHQUFHUixNQUFNRyxVQUFVOzBCQUFHSCxNQUFNSSxRQUFROzs7Ozs7UUFDbEQsS0FBSztZQUNILHFCQUFPLDhEQUFDSztnQkFBTSxHQUFHVCxNQUFNRyxVQUFVOzBCQUFHSCxNQUFNSSxRQUFROzs7Ozs7UUFDcEQsS0FBSztZQUNILHFCQUFPLDhEQUFDUiwwREFBaUJBO2dCQUFFLEdBQUdJLEtBQUs7Ozs7OztRQUNyQyxLQUFLO1lBQ0gscUJBQ0UsOERBQUNILDhEQUFtQkE7Z0JBQ2xCTSxZQUFZSCxNQUFNRyxVQUFVO2dCQUM1QkMsVUFBVUosTUFBTUksUUFBUTtnQkFDeEJILFNBQVNELE1BQU1DLE9BQU87Ozs7OztRQUc1QixLQUFLO1lBQ0gscUJBQU8sOERBQUNTO2dCQUFnQixHQUFHVixLQUFLOzs7Ozs7UUFDbEM7WUFDRSxxQkFDRSw4REFBQ1c7Z0JBQUVDLE9BQU87b0JBQUVDLFdBQVdiLE1BQU1DLE9BQU8sQ0FBQ1ksU0FBUztnQkFBQztnQkFBSSxHQUFHYixNQUFNRyxVQUFVOzBCQUNuRUgsTUFBTUksUUFBUTs7Ozs7O0lBR3ZCO0FBQ0YsRUFBQztBQUVELGtCQUFrQixHQUVsQixNQUFNQyxjQUFjLENBQUMsRUFBRUYsVUFBVSxFQUFFQyxRQUFRLEVBQXNCO0lBQy9ELHFCQUNFLDhEQUFDVTtRQUFJQyxZQUFXO1FBQVMsR0FBR1osVUFBVTtrQkFDcEMsNEVBQUNhO3NCQUFNWjs7Ozs7Ozs7Ozs7QUFHYjtBQUVBLFNBQVNNLGVBQWUsRUFBRVAsVUFBVSxFQUFFQyxRQUFRLEVBQXNCO0lBQ2xFLE1BQU1hLFdBQVc1Qix3REFBV0E7SUFDNUIscUJBQ0UsOERBQUM2QjtRQUFLLEdBQUdmLFVBQVU7UUFBRVMsT0FBTztZQUFFTyxZQUFZO1FBQWM7OzBCQUN0RCw4REFBQ0M7Z0JBQ0NSLE9BQU87b0JBQ0xTLGlCQUFpQkosV0FDYm5CLDBEQUFXQSxDQUFDd0IsS0FBSyxDQUFDQyxLQUFLLENBQUNDLGNBQWMsR0FDdEMxQiwwREFBV0EsQ0FBQ3dCLEtBQUssQ0FBQ0MsS0FBSyxDQUFDRSxVQUFVO2dCQUN4Qzs7Ozs7O1lBRURyQjs7Ozs7OztBQUdQIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvcmVuZGVyLWVsZW1lbnQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgUmVuZGVyRWxlbWVudFByb3BzLCB1c2VTZWxlY3RlZCB9IGZyb20gJ3NsYXRlLXJlYWN0J1xuXG5pbXBvcnQgeyBMYXlvdXRBcmVhLCBMYXlvdXRDb250YWluZXIgfSBmcm9tICcuL2xheW91dHMnXG5pbXBvcnQgeyBDb21wb25lbnRCbG9ja3NFbGVtZW50LCBDb21wb25lbnRJbmxpbmVQcm9wIH0gZnJvbSAnLi9jb21wb25lbnQtYmxvY2tzJ1xuaW1wb3J0IHsgTGlua0VsZW1lbnQgfSBmcm9tICcuL2xpbmsnXG5pbXBvcnQgeyBIZWFkaW5nRWxlbWVudCB9IGZyb20gJy4vaGVhZGluZydcbmltcG9ydCB7IEJsb2NrcXVvdGVFbGVtZW50IH0gZnJvbSAnLi9ibG9ja3F1b3RlJ1xuaW1wb3J0IHsgUmVsYXRpb25zaGlwRWxlbWVudCB9IGZyb20gJy4vcmVsYXRpb25zaGlwJ1xuaW1wb3J0IHsgdG9rZW5TY2hlbWEgfSBmcm9tICdAa2V5c3Rhci91aS9zdHlsZSdcblxuLy8gc29tZSBvZiB0aGUgcmVuZGVyZXJzIHJlYWQgcHJvcGVydGllcyBvZiB0aGUgZWxlbWVudFxuLy8gYW5kIFRTIGRvZXNuJ3QgdW5kZXJzdGFuZCB0aGUgdHlwZSBuYXJyb3dpbmcgd2hlbiBkb2luZyBhIHNwcmVhZCBmb3Igc29tZSByZWFzb25cbi8vIHNvIHRoYXQncyB3aHkgdGhpbmdzIGFyZW4ndCBiZWluZyBzcHJlYWQgaW4gc29tZSBjYXNlc1xuZXhwb3J0IGNvbnN0IHJlbmRlckVsZW1lbnQgPSAocHJvcHM6IFJlbmRlckVsZW1lbnRQcm9wcykgPT4ge1xuICBzd2l0Y2ggKHByb3BzLmVsZW1lbnQudHlwZSkge1xuICAgIGNhc2UgJ2xheW91dCc6XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TGF5b3V0Q29udGFpbmVyXG4gICAgICAgICAgYXR0cmlidXRlcz17cHJvcHMuYXR0cmlidXRlc31cbiAgICAgICAgICBjaGlsZHJlbj17cHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAgZWxlbWVudD17cHJvcHMuZWxlbWVudH1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICBjYXNlICdsYXlvdXQtYXJlYSc6XG4gICAgICByZXR1cm4gPExheW91dEFyZWEgey4uLnByb3BzfSAvPlxuICAgIGNhc2UgJ2NvZGUnOlxuICAgICAgcmV0dXJuIDxDb2RlRWxlbWVudCB7Li4ucHJvcHN9IC8+XG4gICAgY2FzZSAnY29tcG9uZW50LWJsb2NrJzoge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPENvbXBvbmVudEJsb2Nrc0VsZW1lbnRcbiAgICAgICAgICBhdHRyaWJ1dGVzPXtwcm9wcy5hdHRyaWJ1dGVzfVxuICAgICAgICAgIGNoaWxkcmVuPXtwcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICBlbGVtZW50PXtwcm9wcy5lbGVtZW50fVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIH1cbiAgICBjYXNlICdjb21wb25lbnQtaW5saW5lLXByb3AnOlxuICAgIGNhc2UgJ2NvbXBvbmVudC1ibG9jay1wcm9wJzpcbiAgICAgIHJldHVybiA8Q29tcG9uZW50SW5saW5lUHJvcCB7Li4ucHJvcHN9IC8+XG4gICAgY2FzZSAnaGVhZGluZyc6XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8SGVhZGluZ0VsZW1lbnRcbiAgICAgICAgICBhdHRyaWJ1dGVzPXtwcm9wcy5hdHRyaWJ1dGVzfVxuICAgICAgICAgIGNoaWxkcmVuPXtwcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICBlbGVtZW50PXtwcm9wcy5lbGVtZW50fVxuICAgICAgICAvPlxuICAgICAgKVxuICAgIGNhc2UgJ2xpbmsnOlxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPExpbmtFbGVtZW50XG4gICAgICAgICAgYXR0cmlidXRlcz17cHJvcHMuYXR0cmlidXRlc31cbiAgICAgICAgICBjaGlsZHJlbj17cHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAgZWxlbWVudD17cHJvcHMuZWxlbWVudH1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICBjYXNlICdvcmRlcmVkLWxpc3QnOlxuICAgICAgcmV0dXJuIDxvbCB7Li4ucHJvcHMuYXR0cmlidXRlc30+e3Byb3BzLmNoaWxkcmVufTwvb2w+XG4gICAgY2FzZSAndW5vcmRlcmVkLWxpc3QnOlxuICAgICAgcmV0dXJuIDx1bCB7Li4ucHJvcHMuYXR0cmlidXRlc30+e3Byb3BzLmNoaWxkcmVufTwvdWw+XG4gICAgY2FzZSAnbGlzdC1pdGVtJzpcbiAgICAgIHJldHVybiA8bGkgey4uLnByb3BzLmF0dHJpYnV0ZXN9Pntwcm9wcy5jaGlsZHJlbn08L2xpPlxuICAgIGNhc2UgJ2xpc3QtaXRlbS1jb250ZW50JzpcbiAgICAgIHJldHVybiA8c3BhbiB7Li4ucHJvcHMuYXR0cmlidXRlc30+e3Byb3BzLmNoaWxkcmVufTwvc3Bhbj5cbiAgICBjYXNlICdibG9ja3F1b3RlJzpcbiAgICAgIHJldHVybiA8QmxvY2txdW90ZUVsZW1lbnQgey4uLnByb3BzfSAvPlxuICAgIGNhc2UgJ3JlbGF0aW9uc2hpcCc6XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8UmVsYXRpb25zaGlwRWxlbWVudFxuICAgICAgICAgIGF0dHJpYnV0ZXM9e3Byb3BzLmF0dHJpYnV0ZXN9XG4gICAgICAgICAgY2hpbGRyZW49e3Byb3BzLmNoaWxkcmVufVxuICAgICAgICAgIGVsZW1lbnQ9e3Byb3BzLmVsZW1lbnR9XG4gICAgICAgIC8+XG4gICAgICApXG4gICAgY2FzZSAnZGl2aWRlcic6XG4gICAgICByZXR1cm4gPERpdmlkZXJFbGVtZW50IHsuLi5wcm9wc30gLz5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHAgc3R5bGU9e3sgdGV4dEFsaWduOiBwcm9wcy5lbGVtZW50LnRleHRBbGlnbiB9fSB7Li4ucHJvcHMuYXR0cmlidXRlc30+XG4gICAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgICA8L3A+XG4gICAgICApXG4gIH1cbn1cblxuLyogQmxvY2sgRWxlbWVudHMgKi9cblxuY29uc3QgQ29kZUVsZW1lbnQgPSAoeyBhdHRyaWJ1dGVzLCBjaGlsZHJlbiB9OiBSZW5kZXJFbGVtZW50UHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8cHJlIHNwZWxsQ2hlY2s9XCJmYWxzZVwiIHsuLi5hdHRyaWJ1dGVzfT5cbiAgICAgIDxjb2RlPntjaGlsZHJlbn08L2NvZGU+XG4gICAgPC9wcmU+XG4gIClcbn1cblxuZnVuY3Rpb24gRGl2aWRlckVsZW1lbnQoeyBhdHRyaWJ1dGVzLCBjaGlsZHJlbiB9OiBSZW5kZXJFbGVtZW50UHJvcHMpIHtcbiAgY29uc3Qgc2VsZWN0ZWQgPSB1c2VTZWxlY3RlZCgpXG4gIHJldHVybiAoXG4gICAgPGRpdiB7Li4uYXR0cmlidXRlc30gc3R5bGU9e3sgY2FyZXRDb2xvcjogJ3RyYW5zcGFyZW50JyB9fT5cbiAgICAgIDxoclxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogc2VsZWN0ZWRcbiAgICAgICAgICAgID8gdG9rZW5TY2hlbWEuY29sb3IuYWxpYXMuYm9yZGVyU2VsZWN0ZWRcbiAgICAgICAgICAgIDogdG9rZW5TY2hlbWEuY29sb3IuYWxpYXMuYm9yZGVySWRsZSxcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VTZWxlY3RlZCIsIkxheW91dEFyZWEiLCJMYXlvdXRDb250YWluZXIiLCJDb21wb25lbnRCbG9ja3NFbGVtZW50IiwiQ29tcG9uZW50SW5saW5lUHJvcCIsIkxpbmtFbGVtZW50IiwiSGVhZGluZ0VsZW1lbnQiLCJCbG9ja3F1b3RlRWxlbWVudCIsIlJlbGF0aW9uc2hpcEVsZW1lbnQiLCJ0b2tlblNjaGVtYSIsInJlbmRlckVsZW1lbnQiLCJwcm9wcyIsImVsZW1lbnQiLCJ0eXBlIiwiYXR0cmlidXRlcyIsImNoaWxkcmVuIiwiQ29kZUVsZW1lbnQiLCJvbCIsInVsIiwibGkiLCJzcGFuIiwiRGl2aWRlckVsZW1lbnQiLCJwIiwic3R5bGUiLCJ0ZXh0QWxpZ24iLCJwcmUiLCJzcGVsbENoZWNrIiwiY29kZSIsInNlbGVjdGVkIiwiZGl2IiwiY2FyZXRDb2xvciIsImhyIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJhbGlhcyIsImJvcmRlclNlbGVjdGVkIiwiYm9yZGVySWRsZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/render-element.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/shortcuts.ts":
/*!****************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/shortcuts.ts ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   shortcuts: () => (/* binding */ shortcuts),\n/* harmony export */   withShortcuts: () => (/* binding */ withShortcuts)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n\nconst shortcuts = {\n    '...': '',\n    '-->': '',\n    '->': '',\n    '<-': '',\n    '<--': '',\n    '--': ''\n};\nfunction withShortcuts(editor) {\n    const { insertText } = editor;\n    editor.insertText = (text)=>{\n        insertText(text);\n        if (text === ' ' && editor.selection && slate__WEBPACK_IMPORTED_MODULE_0__.Range.isCollapsed(editor.selection)) {\n            const selectionPoint = editor.selection.anchor;\n            const ancestorBlock = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.above(editor, {\n                match: (node)=>slate__WEBPACK_IMPORTED_MODULE_0__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_0__.Editor.isBlock(editor, node)\n            });\n            if (ancestorBlock) {\n                Object.keys(shortcuts).forEach((shortcut)=>{\n                    const pointBefore = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.before(editor, selectionPoint, {\n                        unit: 'character',\n                        distance: shortcut.length + 1\n                    });\n                    if (pointBefore && slate__WEBPACK_IMPORTED_MODULE_0__.Path.isDescendant(pointBefore.path, ancestorBlock[1])) {\n                        const range = {\n                            anchor: selectionPoint,\n                            focus: pointBefore\n                        };\n                        const str = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.string(editor, range);\n                        if (str.slice(0, shortcut.length) === shortcut) {\n                            editor.writeHistory('undos', {\n                                operations: [],\n                                selectionBefore: null\n                            });\n                            slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.select(editor, range);\n                            editor.insertText(shortcuts[shortcut] + ' ');\n                        }\n                    }\n                });\n            }\n        }\n    };\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9zaG9ydGN1dHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdFO0FBRXpELE1BQU1LLFlBQW9DO0lBQy9DLE9BQU87SUFDUCxPQUFPO0lBQ1AsTUFBTTtJQUNOLE1BQU07SUFDTixPQUFPO0lBQ1AsTUFBTTtBQUNSLEVBQUM7QUFFTSxTQUFTQyxjQUFjQyxNQUFjO0lBQzFDLE1BQU0sRUFBRUMsVUFBVSxFQUFFLEdBQUdEO0lBQ3ZCQSxPQUFPQyxVQUFVLEdBQUdDLENBQUFBO1FBQ2xCRCxXQUFXQztRQUNYLElBQUlBLFNBQVMsT0FBT0YsT0FBT0csU0FBUyxJQUFJVCx3Q0FBS0EsQ0FBQ1UsV0FBVyxDQUFDSixPQUFPRyxTQUFTLEdBQUc7WUFDM0UsTUFBTUUsaUJBQWlCTCxPQUFPRyxTQUFTLENBQUNHLE1BQU07WUFDOUMsTUFBTUMsZ0JBQWdCWix5Q0FBTUEsQ0FBQ2EsS0FBSyxDQUFDUixRQUFRO2dCQUN6Q1MsT0FBT0MsQ0FBQUEsT0FBUWpCLDBDQUFPQSxDQUFDa0IsU0FBUyxDQUFDRCxTQUFTZix5Q0FBTUEsQ0FBQ2lCLE9BQU8sQ0FBQ1osUUFBUVU7WUFDbkU7WUFDQSxJQUFJSCxlQUFlO2dCQUNqQk0sT0FBT0MsSUFBSSxDQUFDaEIsV0FBV2lCLE9BQU8sQ0FBQ0MsQ0FBQUE7b0JBQzdCLE1BQU1DLGNBQWN0Qix5Q0FBTUEsQ0FBQ3VCLE1BQU0sQ0FBQ2xCLFFBQVFLLGdCQUFnQjt3QkFDeERjLE1BQU07d0JBQ05DLFVBQVVKLFNBQVNLLE1BQU0sR0FBRztvQkFDOUI7b0JBQ0EsSUFBSUosZUFBZXBCLHVDQUFJQSxDQUFDeUIsWUFBWSxDQUFDTCxZQUFZTSxJQUFJLEVBQUVoQixhQUFhLENBQUMsRUFBRSxHQUFHO3dCQUN4RSxNQUFNaUIsUUFBUTs0QkFBRWxCLFFBQVFEOzRCQUFnQm9CLE9BQU9SO3dCQUFZO3dCQUMzRCxNQUFNUyxNQUFNL0IseUNBQU1BLENBQUNnQyxNQUFNLENBQUMzQixRQUFRd0I7d0JBQ2xDLElBQUlFLElBQUlFLEtBQUssQ0FBQyxHQUFHWixTQUFTSyxNQUFNLE1BQU1MLFVBQVU7NEJBQzlDaEIsT0FBTzZCLFlBQVksQ0FBQyxTQUFTO2dDQUFFQyxZQUFZLEVBQUU7Z0NBQUVDLGlCQUFpQjs0QkFBSzs0QkFDckVuQyw2Q0FBVUEsQ0FBQ29DLE1BQU0sQ0FBQ2hDLFFBQVF3Qjs0QkFDMUJ4QixPQUFPQyxVQUFVLENBQUNILFNBQVMsQ0FBQ2tCLFNBQVMsR0FBRzt3QkFDMUM7b0JBQ0Y7Z0JBQ0Y7WUFDRjtRQUNGO0lBQ0Y7SUFDQSxPQUFPaEI7QUFDVCIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL3Nob3J0Y3V0cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbGVtZW50LCBSYW5nZSwgRWRpdG9yLCBUcmFuc2Zvcm1zLCBQYXRoIH0gZnJvbSAnc2xhdGUnXG5cbmV4cG9ydCBjb25zdCBzaG9ydGN1dHM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICcuLi4nOiAn4oCmJyxcbiAgJy0tPic6ICfihpInLFxuICAnLT4nOiAn4oaSJyxcbiAgJzwtJzogJ+KGkCcsXG4gICc8LS0nOiAn4oaQJyxcbiAgJy0tJzogJ+KAkycsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3aXRoU2hvcnRjdXRzKGVkaXRvcjogRWRpdG9yKTogRWRpdG9yIHtcbiAgY29uc3QgeyBpbnNlcnRUZXh0IH0gPSBlZGl0b3JcbiAgZWRpdG9yLmluc2VydFRleHQgPSB0ZXh0ID0+IHtcbiAgICBpbnNlcnRUZXh0KHRleHQpXG4gICAgaWYgKHRleHQgPT09ICcgJyAmJiBlZGl0b3Iuc2VsZWN0aW9uICYmIFJhbmdlLmlzQ29sbGFwc2VkKGVkaXRvci5zZWxlY3Rpb24pKSB7XG4gICAgICBjb25zdCBzZWxlY3Rpb25Qb2ludCA9IGVkaXRvci5zZWxlY3Rpb24uYW5jaG9yXG4gICAgICBjb25zdCBhbmNlc3RvckJsb2NrID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgICBtYXRjaDogbm9kZSA9PiBFbGVtZW50LmlzRWxlbWVudChub2RlKSAmJiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG5vZGUpLFxuICAgICAgfSlcbiAgICAgIGlmIChhbmNlc3RvckJsb2NrKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHNob3J0Y3V0cykuZm9yRWFjaChzaG9ydGN1dCA9PiB7XG4gICAgICAgICAgY29uc3QgcG9pbnRCZWZvcmUgPSBFZGl0b3IuYmVmb3JlKGVkaXRvciwgc2VsZWN0aW9uUG9pbnQsIHtcbiAgICAgICAgICAgIHVuaXQ6ICdjaGFyYWN0ZXInLFxuICAgICAgICAgICAgZGlzdGFuY2U6IHNob3J0Y3V0Lmxlbmd0aCArIDEsXG4gICAgICAgICAgfSlcbiAgICAgICAgICBpZiAocG9pbnRCZWZvcmUgJiYgUGF0aC5pc0Rlc2NlbmRhbnQocG9pbnRCZWZvcmUucGF0aCwgYW5jZXN0b3JCbG9ja1sxXSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0geyBhbmNob3I6IHNlbGVjdGlvblBvaW50LCBmb2N1czogcG9pbnRCZWZvcmUgfVxuICAgICAgICAgICAgY29uc3Qgc3RyID0gRWRpdG9yLnN0cmluZyhlZGl0b3IsIHJhbmdlKVxuICAgICAgICAgICAgaWYgKHN0ci5zbGljZSgwLCBzaG9ydGN1dC5sZW5ndGgpID09PSBzaG9ydGN1dCkge1xuICAgICAgICAgICAgICBlZGl0b3Iud3JpdGVIaXN0b3J5KCd1bmRvcycsIHsgb3BlcmF0aW9uczogW10sIHNlbGVjdGlvbkJlZm9yZTogbnVsbCB9KVxuICAgICAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIHJhbmdlKVxuICAgICAgICAgICAgICBlZGl0b3IuaW5zZXJ0VGV4dChzaG9ydGN1dHNbc2hvcnRjdXRdICsgJyAnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVkaXRvclxufVxuIl0sIm5hbWVzIjpbIkVsZW1lbnQiLCJSYW5nZSIsIkVkaXRvciIsIlRyYW5zZm9ybXMiLCJQYXRoIiwic2hvcnRjdXRzIiwid2l0aFNob3J0Y3V0cyIsImVkaXRvciIsImluc2VydFRleHQiLCJ0ZXh0Iiwic2VsZWN0aW9uIiwiaXNDb2xsYXBzZWQiLCJzZWxlY3Rpb25Qb2ludCIsImFuY2hvciIsImFuY2VzdG9yQmxvY2siLCJhYm92ZSIsIm1hdGNoIiwibm9kZSIsImlzRWxlbWVudCIsImlzQmxvY2siLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsInNob3J0Y3V0IiwicG9pbnRCZWZvcmUiLCJiZWZvcmUiLCJ1bml0IiwiZGlzdGFuY2UiLCJsZW5ndGgiLCJpc0Rlc2NlbmRhbnQiLCJwYXRoIiwicmFuZ2UiLCJmb2N1cyIsInN0ciIsInN0cmluZyIsInNsaWNlIiwid3JpdGVIaXN0b3J5Iiwib3BlcmF0aW9ucyIsInNlbGVjdGlvbkJlZm9yZSIsInNlbGVjdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/shortcuts.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/soft-breaks.ts":
/*!******************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/soft-breaks.ts ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withSoftBreaks: () => (/* binding */ withSoftBreaks)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n\nfunction withSoftBreaks(editor) {\n    // TODO: should soft breaks only work in particular places\n    editor.insertSoftBreak = ()=>{\n        slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.insertText(editor, '\\n');\n    };\n    return editor;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci9zb2Z0LWJyZWFrcy50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUErQztBQUV4QyxTQUFTQyxlQUFlQyxNQUFjO0lBQzNDLDBEQUEwRDtJQUMxREEsT0FBT0MsZUFBZSxHQUFHO1FBQ3ZCSCw2Q0FBVUEsQ0FBQ0ksVUFBVSxDQUFDRixRQUFRO0lBQ2hDO0lBQ0EsT0FBT0E7QUFDVCIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL3NvZnQtYnJlYWtzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRyYW5zZm9ybXMsIHR5cGUgRWRpdG9yIH0gZnJvbSAnc2xhdGUnXG5cbmV4cG9ydCBmdW5jdGlvbiB3aXRoU29mdEJyZWFrcyhlZGl0b3I6IEVkaXRvcik6IEVkaXRvciB7XG4gIC8vIFRPRE86IHNob3VsZCBzb2Z0IGJyZWFrcyBvbmx5IHdvcmsgaW4gcGFydGljdWxhciBwbGFjZXNcbiAgZWRpdG9yLmluc2VydFNvZnRCcmVhayA9ICgpID0+IHtcbiAgICBUcmFuc2Zvcm1zLmluc2VydFRleHQoZWRpdG9yLCAnXFxuJylcbiAgfVxuICByZXR1cm4gZWRpdG9yXG59XG4iXSwibmFtZXMiOlsiVHJhbnNmb3JtcyIsIndpdGhTb2Z0QnJlYWtzIiwiZWRpdG9yIiwiaW5zZXJ0U29mdEJyZWFrIiwiaW5zZXJ0VGV4dCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/soft-breaks.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/toolbar-state-shared.ts":
/*!***************************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/toolbar-state-shared.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createToolbarState: () => (/* binding */ createToolbarState),\n/* harmony export */   getAncestorComponentChildFieldDocumentFeatures: () => (/* binding */ getAncestorComponentChildFieldDocumentFeatures),\n/* harmony export */   getListTypeAbove: () => (/* binding */ getListTypeAbove)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _component_blocks_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./component-blocks/utils */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/utils.ts\");\n/* harmony import */ var _lists_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lists-shared */ \"../../../../packages/fields-document/src/DocumentEditor/lists-shared.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"../../../../packages/fields-document/src/DocumentEditor/utils.ts\");\n\n\n\n\nfunction getAncestorComponentChildFieldDocumentFeatures(editor, editorDocumentFeatures, componentBlocks) {\n    const ancestorComponentProp = slate__WEBPACK_IMPORTED_MODULE_3__.Editor.above(editor, {\n        match: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.nodeTypeMatcher)('component-block-prop', 'component-inline-prop')\n    });\n    if (ancestorComponentProp) {\n        const propPath = ancestorComponentProp[0].propPath;\n        const ancestorComponent = slate__WEBPACK_IMPORTED_MODULE_3__.Editor.parent(editor, ancestorComponentProp[1]);\n        if (ancestorComponent[0].type === 'component-block') {\n            const component = ancestorComponent[0].component;\n            const componentBlock = componentBlocks[component];\n            if (componentBlock && propPath) {\n                const childField = (0,_component_blocks_utils__WEBPACK_IMPORTED_MODULE_0__.getSchemaAtPropPath)(propPath, ancestorComponent[0].props, componentBlock.schema);\n                if (childField?.kind === 'child') {\n                    return (0,_component_blocks_utils__WEBPACK_IMPORTED_MODULE_0__.getDocumentFeaturesForChildField)(editorDocumentFeatures, childField.options);\n                }\n            }\n        }\n    }\n}\nconst createToolbarState = (editor, componentBlocks, editorDocumentFeatures)=>{\n    const locationDocumentFeatures = getAncestorComponentChildFieldDocumentFeatures(editor, editorDocumentFeatures, componentBlocks) || {\n        kind: 'block',\n        inlineMarks: 'inherit',\n        documentFeatures: {\n            dividers: true,\n            formatting: {\n                alignment: {\n                    center: true,\n                    end: true\n                },\n                blockTypes: {\n                    blockquote: true,\n                    code: true\n                },\n                headingLevels: [\n                    1,\n                    2,\n                    3,\n                    4,\n                    5,\n                    6\n                ],\n                listTypes: {\n                    ordered: true,\n                    unordered: true\n                }\n            },\n            layouts: editorDocumentFeatures.layouts,\n            links: true,\n            relationships: true\n        },\n        softBreaks: true,\n        componentBlocks: true\n    };\n    const [maybeCodeBlockEntry] = slate__WEBPACK_IMPORTED_MODULE_3__.Editor.nodes(editor, {\n        match: (node)=>node.type !== 'code' && slate__WEBPACK_IMPORTED_MODULE_3__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_3__.Editor.isBlock(editor, node)\n    });\n    const editorMarks = slate__WEBPACK_IMPORTED_MODULE_3__.Editor.marks(editor) || {};\n    const marks = Object.fromEntries(_utils__WEBPACK_IMPORTED_MODULE_2__.allMarks.map((mark)=>[\n            mark,\n            {\n                isDisabled: locationDocumentFeatures.inlineMarks !== 'inherit' && !locationDocumentFeatures.inlineMarks[mark] || !maybeCodeBlockEntry,\n                isSelected: !!editorMarks[mark]\n            }\n        ]));\n    // Editor.marks is \"what are the marks that would be applied if text was inserted now\"\n    // that's not really the UX we want, if we have some a document like this\n    // <paragraph>\n    //   <text>\n    //     <anchor />\n    //     content\n    //   </text>\n    //   <text bold>bold</text>\n    //   <text>\n    //     content\n    //     <focus />\n    //   </text>\n    // </paragraph>\n    // we want bold to be shown as selected even though if you inserted text from that selection, it wouldn't be bold\n    // so we look at all the text nodes in the selection to get their marks\n    // but only if the selection is expanded because if you're in the middle of some text\n    // with your selection collapsed with a mark but you've removed it(i.e. editor.removeMark)\n    // the text nodes you're in will have the mark but the ui should show the mark as not being selected\n    if (editor.selection && slate__WEBPACK_IMPORTED_MODULE_3__.Range.isExpanded(editor.selection)) {\n        for (const node of slate__WEBPACK_IMPORTED_MODULE_3__.Editor.nodes(editor, {\n            match: slate__WEBPACK_IMPORTED_MODULE_3__.Text.isText\n        })){\n            for (const key of Object.keys(node[0])){\n                if (key === 'insertMenu' || key === 'text') {\n                    continue;\n                }\n                if (key in marks) {\n                    marks[key].isSelected = true;\n                }\n            }\n        }\n    }\n    const [headingEntry] = slate__WEBPACK_IMPORTED_MODULE_3__.Editor.nodes(editor, {\n        match: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.nodeTypeMatcher)('heading')\n    });\n    const [listEntry] = slate__WEBPACK_IMPORTED_MODULE_3__.Editor.nodes(editor, {\n        match: _lists_shared__WEBPACK_IMPORTED_MODULE_1__.isListNode\n    });\n    const [alignableEntry] = slate__WEBPACK_IMPORTED_MODULE_3__.Editor.nodes(editor, {\n        match: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.nodeTypeMatcher)('paragraph', 'heading')\n    });\n    // (we're gonna use markdown here because the equivelant slate structure is quite large and doesn't add value here)\n    // let's imagine a document that looks like this:\n    // - thing\n    //   1. something<cursor />\n    // in the toolbar, you don't want to see that both ordered and unordered lists are selected\n    // you want to see only ordered list selected, because\n    // - you want to know what list you're actually in, you don't really care about the outer list\n    // - when you want to change the list to a unordered list, the unordered list button should be inactive to show you can change to it\n    const listTypeAbove = getListTypeAbove(editor);\n    return {\n        marks,\n        textStyles: {\n            selected: headingEntry ? headingEntry[0].level : 'normal',\n            allowedHeadingLevels: locationDocumentFeatures.kind === 'block' && !listEntry ? locationDocumentFeatures.documentFeatures.formatting.headingLevels : []\n        },\n        relationships: {\n            isDisabled: !locationDocumentFeatures.documentFeatures.relationships\n        },\n        code: {\n            isSelected: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.isElementActive)(editor, 'code'),\n            isDisabled: !(locationDocumentFeatures.kind === 'block' && locationDocumentFeatures.documentFeatures.formatting.blockTypes.code)\n        },\n        lists: {\n            ordered: {\n                isSelected: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.isElementActive)(editor, 'ordered-list') && (listTypeAbove === 'none' || listTypeAbove === 'ordered-list'),\n                isDisabled: !(locationDocumentFeatures.kind === 'block' && locationDocumentFeatures.documentFeatures.formatting.listTypes.ordered && !headingEntry)\n            },\n            unordered: {\n                isSelected: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.isElementActive)(editor, 'unordered-list') && (listTypeAbove === 'none' || listTypeAbove === 'unordered-list'),\n                isDisabled: !(locationDocumentFeatures.kind === 'block' && locationDocumentFeatures.documentFeatures.formatting.listTypes.unordered && !headingEntry)\n            }\n        },\n        alignment: {\n            isDisabled: !alignableEntry && !(locationDocumentFeatures.kind === 'block' && locationDocumentFeatures.documentFeatures.formatting.alignment),\n            selected: alignableEntry?.[0].textAlign || 'start'\n        },\n        blockquote: {\n            isDisabled: !(locationDocumentFeatures.kind === 'block' && locationDocumentFeatures.documentFeatures.formatting.blockTypes.blockquote),\n            isSelected: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.isElementActive)(editor, 'blockquote')\n        },\n        layouts: {\n            isSelected: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.isElementActive)(editor, 'layout')\n        },\n        links: {\n            isDisabled: !editor.selection || slate__WEBPACK_IMPORTED_MODULE_3__.Range.isCollapsed(editor.selection) || !locationDocumentFeatures.documentFeatures.links,\n            isSelected: (0,_utils__WEBPACK_IMPORTED_MODULE_2__.isElementActive)(editor, 'link')\n        },\n        editor,\n        dividers: {\n            isDisabled: locationDocumentFeatures.kind === 'inline' || !locationDocumentFeatures.documentFeatures.dividers\n        },\n        clearFormatting: {\n            isDisabled: !(Object.values(marks).some((x)=>x.isSelected) || !!hasBlockThatClearsOnClearFormatting(editor))\n        },\n        editorDocumentFeatures\n    };\n};\nfunction hasBlockThatClearsOnClearFormatting(editor) {\n    const [node] = slate__WEBPACK_IMPORTED_MODULE_3__.Editor.nodes(editor, {\n        match: (node)=>node.type === 'heading' || node.type === 'code' || node.type === 'blockquote'\n    });\n    return !!node;\n}\nfunction getListTypeAbove(editor) {\n    const listAbove = slate__WEBPACK_IMPORTED_MODULE_3__.Editor.above(editor, {\n        match: _lists_shared__WEBPACK_IMPORTED_MODULE_1__.isListNode\n    });\n    if (!listAbove) {\n        return 'none';\n    }\n    return listAbove[0].type;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci90b29sYmFyLXN0YXRlLXNoYXJlZC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQW9EO0FBT25CO0FBQ1U7QUFDb0M7QUFzQ3hFLFNBQVNVLCtDQUNkQyxNQUFjLEVBQ2RDLHNCQUF3QyxFQUN4Q0MsZUFBK0M7SUFFL0MsTUFBTUMsd0JBQXdCYix5Q0FBTUEsQ0FBQ2MsS0FBSyxDQUFDSixRQUFRO1FBQ2pESyxPQUFPUCx1REFBZUEsQ0FBQyx3QkFBd0I7SUFDakQ7SUFFQSxJQUFJSyx1QkFBdUI7UUFDekIsTUFBTUcsV0FBV0gscUJBQXFCLENBQUMsRUFBRSxDQUFDRyxRQUFRO1FBQ2xELE1BQU1DLG9CQUFvQmpCLHlDQUFNQSxDQUFDa0IsTUFBTSxDQUFDUixRQUFRRyxxQkFBcUIsQ0FBQyxFQUFFO1FBQ3hFLElBQUlJLGlCQUFpQixDQUFDLEVBQUUsQ0FBQ0UsSUFBSSxLQUFLLG1CQUFtQjtZQUNuRCxNQUFNQyxZQUFZSCxpQkFBaUIsQ0FBQyxFQUFFLENBQUNHLFNBQVM7WUFDaEQsTUFBTUMsaUJBQWlCVCxlQUFlLENBQUNRLFVBQVU7WUFDakQsSUFBSUMsa0JBQWtCTCxVQUFVO2dCQUM5QixNQUFNTSxhQUFhbkIsNEVBQW1CQSxDQUNwQ2EsVUFDQUMsaUJBQWlCLENBQUMsRUFBRSxDQUFDTSxLQUFLLEVBQzFCRixlQUFlRyxNQUFNO2dCQUV2QixJQUFJRixZQUFZRyxTQUFTLFNBQVM7b0JBQ2hDLE9BQU9yQix5RkFBZ0NBLENBQUNPLHdCQUF3QlcsV0FBV0ksT0FBTztnQkFDcEY7WUFDRjtRQUNGO0lBQ0Y7QUFDRjtBQUVPLE1BQU1DLHFCQUFxQixDQUNoQ2pCLFFBQ0FFLGlCQUNBRDtJQUVBLE1BQU1pQiwyQkFDSm5CLCtDQUNFQyxRQUNBQyx3QkFDQUMsb0JBQ0c7UUFDSGEsTUFBTTtRQUNOSSxhQUFhO1FBQ2JDLGtCQUFrQjtZQUNoQkMsVUFBVTtZ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QUFRO1FBQUVLLE9BQU9WLHFEQUFVQTtJQUFDO0lBQzNELElBQUksQ0FBQzZFLFdBQVc7UUFDZCxPQUFPO0lBQ1Q7SUFDQSxPQUFPQSxTQUFTLENBQUMsRUFBRSxDQUFDL0QsSUFBSTtBQUMxQiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL0RvY3VtZW50RWRpdG9yL3Rvb2xiYXItc3RhdGUtc2hhcmVkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVsZW1lbnQsIEVkaXRvciwgUmFuZ2UsIFRleHQgfSBmcm9tICdzbGF0ZSdcbmltcG9ydCB7IHR5cGUgRG9jdW1lbnRGZWF0dXJlcyB9IGZyb20gJy4uL3ZpZXdzLXNoYXJlZCdcbmltcG9ydCB7IHR5cGUgQ29tcG9uZW50QmxvY2sgfSBmcm9tICcuL2NvbXBvbmVudC1ibG9ja3MvYXBpLXNoYXJlZCdcbmltcG9ydCB7XG4gIHR5cGUgRG9jdW1lbnRGZWF0dXJlc0ZvckNoaWxkRmllbGQsXG4gIGdldFNjaGVtYUF0UHJvcFBhdGgsXG4gIGdldERvY3VtZW50RmVhdHVyZXNGb3JDaGlsZEZpZWxkLFxufSBmcm9tICcuL2NvbXBvbmVudC1ibG9ja3MvdXRpbHMnXG5pbXBvcnQgeyBpc0xpc3ROb2RlIH0gZnJvbSAnLi9saXN0cy1zaGFyZWQnXG5pbXBvcnQgeyBhbGxNYXJrcywgaXNFbGVtZW50QWN0aXZlLCB0eXBlIE1hcmssIG5vZGVUeXBlTWF0Y2hlciB9IGZyb20gJy4vdXRpbHMnXG5cbnR5cGUgQmFzaWNUb29sYmFySXRlbSA9IHsgaXNTZWxlY3RlZDogYm9vbGVhbjsgaXNEaXNhYmxlZDogYm9vbGVhbiB9XG5cbi8vIGNvbXBvbmVudCBibG9ja3MgYXJlIG5vdCBpbiB0aGUgVG9vbGJhclN0YXRlIGJlY2F1c2UgdGhleSdyZSBpbnNlcnRlZCBpbiB0aGUgY2xvc2VzdCBhdmFpbGFibGUgcGxhY2UgYW5kIHRoZSBzZWxlY3RlZCBzdGF0ZSBpcyBub3Qgc2hvd24gaW4gdGhlIHRvb2xiYXJcblxuLy8gbm90ZSB0aGF0IGlzRGlzYWJsZWQgYmVpbmcgZmFsc2UgaGVyZSBkb2VzIG5vdCBtZWFuIHRoZSBhY3Rpb24gc2hvdWxkIGJlIGFsbG93ZWRcbi8vIGl0IG1lYW5zIHRoYXQgdGhlIGFjdGlvbiBzaG91bGQgYmUgYWxsb3dlZCBpZiBpc0Rpc2FibGVkIGlzIGZhbHNlIEFORCB0aGUgcmVsZXZhbnQgZG9jdW1lbnQgZmVhdHVyZSBpcyBlbmFibGVkXG4vLyAoYmVjYXVzZSB0aGluZ3MgYXJlIGhpZGRlbiBpZiB0aGV5J3JlIG5vdCBlbmFibGVkIGluIHRoZSBlZGl0b3IgZG9jdW1lbnQgZmVhdHVyZXMpXG5leHBvcnQgdHlwZSBUb29sYmFyU3RhdGUgPSB7XG4gIHRleHRTdHlsZXM6IHtcbiAgICBzZWxlY3RlZDogJ25vcm1hbCcgfCAxIHwgMiB8IDMgfCA0IHwgNSB8IDZcbiAgICBhbGxvd2VkSGVhZGluZ0xldmVsczogKDEgfCAyIHwgMyB8IDQgfCA1IHwgNilbXVxuICB9XG4gIG1hcmtzOiB7XG4gICAgW2tleSBpbiBNYXJrXTogQmFzaWNUb29sYmFySXRlbVxuICB9XG4gIGNsZWFyRm9ybWF0dGluZzoge1xuICAgIGlzRGlzYWJsZWQ6IGJvb2xlYW5cbiAgfVxuICBhbGlnbm1lbnQ6IHtcbiAgICBzZWxlY3RlZDogJ3N0YXJ0JyB8ICdjZW50ZXInIHwgJ2VuZCdcbiAgICBpc0Rpc2FibGVkOiBib29sZWFuXG4gIH1cbiAgbGlzdHM6IHsgb3JkZXJlZDogQmFzaWNUb29sYmFySXRlbTsgdW5vcmRlcmVkOiBCYXNpY1Rvb2xiYXJJdGVtIH1cbiAgbGlua3M6IEJhc2ljVG9vbGJhckl0ZW1cbiAgYmxvY2txdW90ZTogQmFzaWNUb29sYmFySXRlbVxuICAvLyBub3RlIHRoYXQgbGF5b3V0cyBjYW4ndCBiZSBkaXNhYmxlZCBiZWNhdXNlIHRoZXkgYXJlIGluc2VydGVkXG4gIC8vIHNvIHRoZXkgd2lsbCBiZSBpbnNlcnRlZCB0byB0aGUgY2xvc2VzdCB2YWxpZCBsb2NhdGlvblxuICAvLyB1bmxpa2UgdGhlIG90aGVyIHRoaW5ncyBoZXJlIHdoaWNoIHdyYXAgZWxlbWVudHNcbiAgbGF5b3V0czogeyBpc1NlbGVjdGVkOiBib29sZWFuIH1cbiAgZGl2aWRlcnM6IHsgaXNEaXNhYmxlZDogYm9vbGVhbiB9XG4gIGNvZGU6IEJhc2ljVG9vbGJhckl0ZW1cbiAgcmVsYXRpb25zaGlwczogeyBpc0Rpc2FibGVkOiBib29sZWFuIH1cbiAgZWRpdG9yOiBFZGl0b3JcbiAgZWRpdG9yRG9jdW1lbnRGZWF0dXJlczogRG9jdW1lbnRGZWF0dXJlc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QW5jZXN0b3JDb21wb25lbnRDaGlsZEZpZWxkRG9jdW1lbnRGZWF0dXJlcyhcbiAgZWRpdG9yOiBFZGl0b3IsXG4gIGVkaXRvckRvY3VtZW50RmVhdHVyZXM6IERvY3VtZW50RmVhdHVyZXMsXG4gIGNvbXBvbmVudEJsb2NrczogUmVjb3JkPHN0cmluZywgQ29tcG9uZW50QmxvY2s+XG4pOiBEb2N1bWVudEZlYXR1cmVzRm9yQ2hpbGRGaWVsZCB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IGFuY2VzdG9yQ29tcG9uZW50UHJvcCA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICBtYXRjaDogbm9kZVR5cGVNYXRjaGVyKCdjb21wb25lbnQtYmxvY2stcHJvcCcsICdjb21wb25lbnQtaW5saW5lLXByb3AnKSxcbiAgfSlcblxuICBpZiAoYW5jZXN0b3JDb21wb25lbnRQcm9wKSB7XG4gICAgY29uc3QgcHJvcFBhdGggPSBhbmNlc3RvckNvbXBvbmVudFByb3BbMF0ucHJvcFBhdGhcbiAgICBjb25zdCBhbmNlc3RvckNvbXBvbmVudCA9IEVkaXRvci5wYXJlbnQoZWRpdG9yLCBhbmNlc3RvckNvbXBvbmVudFByb3BbMV0pXG4gICAgaWYgKGFuY2VzdG9yQ29tcG9uZW50WzBdLnR5cGUgPT09ICdjb21wb25lbnQtYmxvY2snKSB7XG4gICAgICBjb25zdCBjb21wb25lbnQgPSBhbmNlc3RvckNvbXBvbmVudFswXS5jb21wb25lbnRcbiAgICAgIGNvbnN0IGNvbXBvbmVudEJsb2NrID0gY29tcG9uZW50QmxvY2tzW2NvbXBvbmVudF1cbiAgICAgIGlmIChjb21wb25lbnRCbG9jayAmJiBwcm9wUGF0aCkge1xuICAgICAgICBjb25zdCBjaGlsZEZpZWxkID0gZ2V0U2NoZW1hQXRQcm9wUGF0aChcbiAgICAgICAgICBwcm9wUGF0aCxcbiAgICAgICAgICBhbmNlc3RvckNvbXBvbmVudFswXS5wcm9wcyxcbiAgICAgICAgICBjb21wb25lbnRCbG9jay5zY2hlbWFcbiAgICAgICAgKVxuICAgICAgICBpZiAoY2hpbGRGaWVsZD8ua2luZCA9PT0gJ2NoaWxkJykge1xuICAgICAgICAgIHJldHVybiBnZXREb2N1bWVudEZlYXR1cmVzRm9yQ2hpbGRGaWVsZChlZGl0b3JEb2N1bWVudEZlYXR1cmVzLCBjaGlsZEZpZWxkLm9wdGlvbnMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRvb2xiYXJTdGF0ZSA9IChcbiAgZWRpdG9yOiBFZGl0b3IsXG4gIGNvbXBvbmVudEJsb2NrczogUmVjb3JkPHN0cmluZywgQ29tcG9uZW50QmxvY2s+LFxuICBlZGl0b3JEb2N1bWVudEZlYXR1cmVzOiBEb2N1bWVudEZlYXR1cmVzXG4pOiBUb29sYmFyU3RhdGUgPT4ge1xuICBjb25zdCBsb2NhdGlvbkRvY3VtZW50RmVhdHVyZXM6IERvY3VtZW50RmVhdHVyZXNGb3JDaGlsZEZpZWxkID1cbiAgICBnZXRBbmNlc3RvckNvbXBvbmVudENoaWxkRmllbGREb2N1bWVudEZlYXR1cmVzKFxuICAgICAgZWRpdG9yLFxuICAgICAgZWRpdG9yRG9jdW1lbnRGZWF0dXJlcyxcbiAgICAgIGNvbXBvbmVudEJsb2Nrc1xuICAgICkgfHwge1xuICAgICAga2luZDogJ2Jsb2NrJyxcbiAgICAgIGlubGluZU1hcmtzOiAnaW5oZXJpdCcsXG4gICAgICBkb2N1bWVudEZlYXR1cmVzOiB7XG4gICAgICAgIGRpdmlkZXJzOiB0cnVlLFxuICAgICAgICBmb3JtYXR0aW5nOiB7XG4gICAgICAgICAgYWxpZ25tZW50OiB7IGNlbnRlcjogdHJ1ZSwgZW5kOiB0cnVlIH0sXG4gICAgICAgICAgYmxvY2tUeXBlczogeyBibG9ja3F1b3RlOiB0cnVlLCBjb2RlOiB0cnVlIH0sXG4gICAgICAgICAgaGVhZGluZ0xldmVsczogWzEsIDIsIDMsIDQsIDUsIDZdLFxuICAgICAgICAgIGxpc3RUeXBlczogeyBvcmRlcmVkOiB0cnVlLCB1bm9yZGVyZWQ6IHRydWUgfSxcbiAgICAgICAgfSxcbiAgICAgICAgbGF5b3V0czogZWRpdG9yRG9jdW1lbnRGZWF0dXJlcy5sYXlvdXRzLFxuICAgICAgICBsaW5rczogdHJ1ZSxcbiAgICAgICAgcmVsYXRpb25zaGlwczogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBzb2Z0QnJlYWtzOiB0cnVlLFxuICAgICAgY29tcG9uZW50QmxvY2tzOiB0cnVlLFxuICAgIH1cblxuICBjb25zdCBbbWF5YmVDb2RlQmxvY2tFbnRyeV0gPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgbWF0Y2g6IG5vZGUgPT4gbm9kZS50eXBlICE9PSAnY29kZScgJiYgRWxlbWVudC5pc0VsZW1lbnQobm9kZSkgJiYgRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBub2RlKSxcbiAgfSlcbiAgY29uc3QgZWRpdG9yTWFya3MgPSBFZGl0b3IubWFya3MoZWRpdG9yKSB8fCB7fVxuICBjb25zdCBtYXJrcyA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBhbGxNYXJrcy5tYXAobWFyayA9PiBbXG4gICAgICBtYXJrLFxuICAgICAge1xuICAgICAgICBpc0Rpc2FibGVkOlxuICAgICAgICAgIChsb2NhdGlvbkRvY3VtZW50RmVhdHVyZXMuaW5saW5lTWFya3MgIT09ICdpbmhlcml0JyAmJlxuICAgICAgICAgICAgIWxvY2F0aW9uRG9jdW1lbnRGZWF0dXJlcy5pbmxpbmVNYXJrc1ttYXJrXSkgfHxcbiAgICAgICAgICAhbWF5YmVDb2RlQmxvY2tFbnRyeSxcbiAgICAgICAgaXNTZWxlY3RlZDogISFlZGl0b3JNYXJrc1ttYXJrXSxcbiAgICAgIH0sXG4gICAgXSlcbiAgKSBhcyBUb29sYmFyU3RhdGVbJ21hcmtzJ11cblxuICAvLyBFZGl0b3IubWFya3MgaXMgXCJ3aGF0IGFyZSB0aGUgbWFya3MgdGhhdCB3b3VsZCBiZSBhcHBsaWVkIGlmIHRleHQgd2FzIGluc2VydGVkIG5vd1wiXG4gIC8vIHRoYXQncyBub3QgcmVhbGx5IHRoZSBVWCB3ZSB3YW50LCBpZiB3ZSBoYXZlIHNvbWUgYSBkb2N1bWVudCBsaWtlIHRoaXNcbiAgLy8gPHBhcmFncmFwaD5cbiAgLy8gICA8dGV4dD5cbiAgLy8gICAgIDxhbmNob3IgLz5cbiAgLy8gICAgIGNvbnRlbnRcbiAgLy8gICA8L3RleHQ+XG4gIC8vICAgPHRleHQgYm9sZD5ib2xkPC90ZXh0PlxuICAvLyAgIDx0ZXh0PlxuICAvLyAgICAgY29udGVudFxuICAvLyAgICAgPGZvY3VzIC8+XG4gIC8vICAgPC90ZXh0PlxuICAvLyA8L3BhcmFncmFwaD5cblxuICAvLyB3ZSB3YW50IGJvbGQgdG8gYmUgc2hvd24gYXMgc2VsZWN0ZWQgZXZlbiB0aG91Z2ggaWYgeW91IGluc2VydGVkIHRleHQgZnJvbSB0aGF0IHNlbGVjdGlvbiwgaXQgd291bGRuJ3QgYmUgYm9sZFxuICAvLyBzbyB3ZSBsb29rIGF0IGFsbCB0aGUgdGV4dCBub2RlcyBpbiB0aGUgc2VsZWN0aW9uIHRvIGdldCB0aGVpciBtYXJrc1xuICAvLyBidXQgb25seSBpZiB0aGUgc2VsZWN0aW9uIGlzIGV4cGFuZGVkIGJlY2F1c2UgaWYgeW91J3JlIGluIHRoZSBtaWRkbGUgb2Ygc29tZSB0ZXh0XG4gIC8vIHdpdGggeW91ciBzZWxlY3Rpb24gY29sbGFwc2VkIHdpdGggYSBtYXJrIGJ1dCB5b3UndmUgcmVtb3ZlZCBpdChpLmUuIGVkaXRvci5yZW1vdmVNYXJrKVxuICAvLyB0aGUgdGV4dCBub2RlcyB5b3UncmUgaW4gd2lsbCBoYXZlIHRoZSBtYXJrIGJ1dCB0aGUgdWkgc2hvdWxkIHNob3cgdGhlIG1hcmsgYXMgbm90IGJlaW5nIHNlbGVjdGVkXG4gIGlmIChlZGl0b3Iuc2VsZWN0aW9uICYmIFJhbmdlLmlzRXhwYW5kZWQoZWRpdG9yLnNlbGVjdGlvbikpIHtcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgRWRpdG9yLm5vZGVzKGVkaXRvciwgeyBtYXRjaDogVGV4dC5pc1RleHQgfSkpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG5vZGVbMF0pKSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdpbnNlcnRNZW51JyB8fCBrZXkgPT09ICd0ZXh0Jykge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleSBpbiBtYXJrcykge1xuICAgICAgICAgIG1hcmtzW2tleSBhcyBNYXJrXS5pc1NlbGVjdGVkID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgW2hlYWRpbmdFbnRyeV0gPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgbWF0Y2g6IG5vZGVUeXBlTWF0Y2hlcignaGVhZGluZycpLFxuICB9KVxuXG4gIGNvbnN0IFtsaXN0RW50cnldID0gRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgIG1hdGNoOiBpc0xpc3ROb2RlLFxuICB9KVxuXG4gIGNvbnN0IFthbGlnbmFibGVFbnRyeV0gPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgbWF0Y2g6IG5vZGVUeXBlTWF0Y2hlcigncGFyYWdyYXBoJywgJ2hlYWRpbmcnKSxcbiAgfSlcblxuICAvLyAod2UncmUgZ29ubmEgdXNlIG1hcmtkb3duIGhlcmUgYmVjYXVzZSB0aGUgZXF1aXZlbGFudCBzbGF0ZSBzdHJ1Y3R1cmUgaXMgcXVpdGUgbGFyZ2UgYW5kIGRvZXNuJ3QgYWRkIHZhbHVlIGhlcmUpXG4gIC8vIGxldCdzIGltYWdpbmUgYSBkb2N1bWVudCB0aGF0IGxvb2tzIGxpa2UgdGhpczpcbiAgLy8gLSB0aGluZ1xuICAvLyAgIDEuIHNvbWV0aGluZzxjdXJzb3IgLz5cbiAgLy8gaW4gdGhlIHRvb2xiYXIsIHlvdSBkb24ndCB3YW50IHRvIHNlZSB0aGF0IGJvdGggb3JkZXJlZCBhbmQgdW5vcmRlcmVkIGxpc3RzIGFyZSBzZWxlY3RlZFxuICAvLyB5b3Ugd2FudCB0byBzZWUgb25seSBvcmRlcmVkIGxpc3Qgc2VsZWN0ZWQsIGJlY2F1c2VcbiAgLy8gLSB5b3Ugd2FudCB0byBrbm93IHdoYXQgbGlzdCB5b3UncmUgYWN0dWFsbHkgaW4sIHlvdSBkb24ndCByZWFsbHkgY2FyZSBhYm91dCB0aGUgb3V0ZXIgbGlzdFxuICAvLyAtIHdoZW4geW91IHdhbnQgdG8gY2hhbmdlIHRoZSBsaXN0IHRvIGEgdW5vcmRlcmVkIGxpc3QsIHRoZSB1bm9yZGVyZWQgbGlzdCBidXR0b24gc2hvdWxkIGJlIGluYWN0aXZlIHRvIHNob3cgeW91IGNhbiBjaGFuZ2UgdG8gaXRcbiAgY29uc3QgbGlzdFR5cGVBYm92ZSA9IGdldExpc3RUeXBlQWJvdmUoZWRpdG9yKVxuXG4gIHJldHVybiB7XG4gICAgbWFya3MsXG4gICAgdGV4dFN0eWxlczoge1xuICAgICAgc2VsZWN0ZWQ6IGhlYWRpbmdFbnRyeSA/IGhlYWRpbmdFbnRyeVswXS5sZXZlbCA6ICdub3JtYWwnLFxuICAgICAgYWxsb3dlZEhlYWRpbmdMZXZlbHM6XG4gICAgICAgIGxvY2F0aW9uRG9jdW1lbnRGZWF0dXJlcy5raW5kID09PSAnYmxvY2snICYmICFsaXN0RW50cnlcbiAgICAgICAgICA/IGxvY2F0aW9uRG9jdW1lbnRGZWF0dXJlcy5kb2N1bWVudEZlYXR1cmVzLmZvcm1hdHRpbmcuaGVhZGluZ0xldmVsc1xuICAgICAgICAgIDogW10sXG4gICAgfSxcbiAgICByZWxhdGlvbnNoaXBzOiB7IGlzRGlzYWJsZWQ6ICFsb2NhdGlvbkRvY3VtZW50RmVhdHVyZXMuZG9jdW1lbnRGZWF0dXJlcy5yZWxhdGlvbnNoaXBzIH0sXG4gICAgY29kZToge1xuICAgICAgaXNTZWxlY3RlZDogaXNFbGVtZW50QWN0aXZlKGVkaXRvciwgJ2NvZGUnKSxcbiAgICAgIGlzRGlzYWJsZWQ6ICEoXG4gICAgICAgIGxvY2F0aW9uRG9jdW1lbnRGZWF0dXJlcy5raW5kID09PSAnYmxvY2snICYmXG4gICAgICAgIGxvY2F0aW9uRG9jdW1lbnRGZWF0dXJlcy5kb2N1bWVudEZlYXR1cmVzLmZvcm1hdHRpbmcuYmxvY2tUeXBlcy5jb2RlXG4gICAgICApLFxuICAgIH0sXG4gICAgbGlzdHM6IHtcbiAgICAgIG9yZGVyZWQ6IHtcbiAgICAgICAgaXNTZWxlY3RlZDpcbiAgICAgICAgICBpc0VsZW1lbnRBY3RpdmUoZWRpdG9yLCAnb3JkZXJlZC1saXN0JykgJiZcbiAgICAgICAgICAobGlzdFR5cGVBYm92ZSA9PT0gJ25vbmUnIHx8IGxpc3RUeXBlQWJvdmUgPT09ICdvcmRlcmVkLWxpc3QnKSxcbiAgICAgICAgaXNEaXNhYmxlZDogIShcbiAgICAgICAgICBsb2NhdGlvbkRvY3VtZW50RmVhdHVyZXMua2luZCA9PT0gJ2Jsb2NrJyAmJlxuICAgICAgICAgIGxvY2F0aW9uRG9jdW1lbnRGZWF0dXJlcy5kb2N1bWVudEZlYXR1cmVzLmZvcm1hdHRpbmcubGlzdFR5cGVzLm9yZGVyZWQgJiZcbiAgICAgICAgICAhaGVhZGluZ0VudHJ5XG4gICAgICAgICksXG4gICAgICB9LFxuICAgICAgdW5vcmRlcmVkOiB7XG4gICAgICAgIGlzU2VsZWN0ZWQ6XG4gICAgICAgICAgaXNFbGVtZW50QWN0aXZlKGVkaXRvciwgJ3Vub3JkZXJlZC1saXN0JykgJiZcbiAgICAgICAgICAobGlzdFR5cGVBYm92ZSA9PT0gJ25vbmUnIHx8IGxpc3RUeXBlQWJvdmUgPT09ICd1bm9yZGVyZWQtbGlzdCcpLFxuICAgICAgICBpc0Rpc2FibGVkOiAhKFxuICAgICAgICAgIGxvY2F0aW9uRG9jdW1lbnRGZWF0dXJlcy5raW5kID09PSAnYmxvY2snICYmXG4gICAgICAgICAgbG9jYXRpb25Eb2N1bWVudEZlYXR1cmVzLmRvY3VtZW50RmVhdHVyZXMuZm9ybWF0dGluZy5saXN0VHlwZXMudW5vcmRlcmVkICYmXG4gICAgICAgICAgIWhlYWRpbmdFbnRyeVxuICAgICAgICApLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGFsaWdubWVudDoge1xuICAgICAgaXNEaXNhYmxlZDpcbiAgICAgICAgIWFsaWduYWJsZUVudHJ5ICYmXG4gICAgICAgICEoXG4gICAgICAgICAgbG9jYXRpb25Eb2N1bWVudEZlYXR1cmVzLmtpbmQgPT09ICdibG9jaycgJiZcbiAgICAgICAgICBsb2NhdGlvbkRvY3VtZW50RmVhdHVyZXMuZG9jdW1lbnRGZWF0dXJlcy5mb3JtYXR0aW5nLmFsaWdubWVudFxuICAgICAgICApLFxuICAgICAgc2VsZWN0ZWQ6IGFsaWduYWJsZUVudHJ5Py5bMF0udGV4dEFsaWduIHx8ICdzdGFydCcsXG4gICAgfSxcbiAgICBibG9ja3F1b3RlOiB7XG4gICAgICBpc0Rpc2FibGVkOiAhKFxuICAgICAgICBsb2NhdGlvbkRvY3VtZW50RmVhdHVyZXMua2luZCA9PT0gJ2Jsb2NrJyAmJlxuICAgICAgICBsb2NhdGlvbkRvY3VtZW50RmVhdHVyZXMuZG9jdW1lbnRGZWF0dXJlcy5mb3JtYXR0aW5nLmJsb2NrVHlwZXMuYmxvY2txdW90ZVxuICAgICAgKSxcbiAgICAgIGlzU2VsZWN0ZWQ6IGlzRWxlbWVudEFjdGl2ZShlZGl0b3IsICdibG9ja3F1b3RlJyksXG4gICAgfSxcbiAgICBsYXlvdXRzOiB7IGlzU2VsZWN0ZWQ6IGlzRWxlbWVudEFjdGl2ZShlZGl0b3IsICdsYXlvdXQnKSB9LFxuICAgIGxpbmtzOiB7XG4gICAgICBpc0Rpc2FibGVkOlxuICAgICAgICAhZWRpdG9yLnNlbGVjdGlvbiB8fFxuICAgICAgICBSYW5nZS5pc0NvbGxhcHNlZChlZGl0b3Iuc2VsZWN0aW9uKSB8fFxuICAgICAgICAhbG9jYXRpb25Eb2N1bWVudEZlYXR1cmVzLmRvY3VtZW50RmVhdHVyZXMubGlua3MsXG4gICAgICBpc1NlbGVjdGVkOiBpc0VsZW1lbnRBY3RpdmUoZWRpdG9yLCAnbGluaycpLFxuICAgIH0sXG4gICAgZWRpdG9yLFxuICAgIGRpdmlkZXJzOiB7XG4gICAgICBpc0Rpc2FibGVkOlxuICAgICAgICBsb2NhdGlvbkRvY3VtZW50RmVhdHVyZXMua2luZCA9PT0gJ2lubGluZScgfHxcbiAgICAgICAgIWxvY2F0aW9uRG9jdW1lbnRGZWF0dXJlcy5kb2N1bWVudEZlYXR1cmVzLmRpdmlkZXJzLFxuICAgIH0sXG4gICAgY2xlYXJGb3JtYXR0aW5nOiB7XG4gICAgICBpc0Rpc2FibGVkOiAhKFxuICAgICAgICBPYmplY3QudmFsdWVzKG1hcmtzKS5zb21lKHggPT4geC5pc1NlbGVjdGVkKSB8fFxuICAgICAgICAhIWhhc0Jsb2NrVGhhdENsZWFyc09uQ2xlYXJGb3JtYXR0aW5nKGVkaXRvcilcbiAgICAgICksXG4gICAgfSxcbiAgICBlZGl0b3JEb2N1bWVudEZlYXR1cmVzLFxuICB9XG59XG5cbmZ1bmN0aW9uIGhhc0Jsb2NrVGhhdENsZWFyc09uQ2xlYXJGb3JtYXR0aW5nKGVkaXRvcjogRWRpdG9yKSB7XG4gIGNvbnN0IFtub2RlXSA9IEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICBtYXRjaDogbm9kZSA9PiBub2RlLnR5cGUgPT09ICdoZWFkaW5nJyB8fCBub2RlLnR5cGUgPT09ICdjb2RlJyB8fCBub2RlLnR5cGUgPT09ICdibG9ja3F1b3RlJyxcbiAgfSlcbiAgcmV0dXJuICEhbm9kZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGlzdFR5cGVBYm92ZShlZGl0b3I6IEVkaXRvcik6ICdub25lJyB8ICdvcmRlcmVkLWxpc3QnIHwgJ3Vub3JkZXJlZC1saXN0JyB7XG4gIGNvbnN0IGxpc3RBYm92ZSA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHsgbWF0Y2g6IGlzTGlzdE5vZGUgfSlcbiAgaWYgKCFsaXN0QWJvdmUpIHtcbiAgICByZXR1cm4gJ25vbmUnXG4gIH1cbiAgcmV0dXJuIGxpc3RBYm92ZVswXS50eXBlXG59XG4iXSwibmFtZXMiOlsiRWxlbWVudCIsIkVkaXRvciIsIlJhbmdlIiwiVGV4dCIsImdldFNjaGVtYUF0UHJvcFBhdGgiLCJnZXREb2N1bWVudEZlYXR1cmVzRm9yQ2hpbGRGaWVsZCIsImlzTGlzdE5vZGUiLCJhbGxNYXJrcyIsImlzRWxlbWVudEFjdGl2ZSIsIm5vZGVUeXBlTWF0Y2hlciIsImdldEFuY2VzdG9yQ29tcG9uZW50Q2hpbGRGaWVsZERvY3VtZW50RmVhdHVyZXMiLCJlZGl0b3IiLCJlZGl0b3JEb2N1bWVudEZlYXR1cmVzIiwiY29tcG9uZW50QmxvY2tzIiwiYW5jZXN0b3JDb21wb25lbnRQcm9wIiwiYWJvdmUiLCJtYXRjaCIsInByb3BQYXRoIiwiYW5jZXN0b3JDb21wb25lbnQiLCJwYXJlbnQiLCJ0eXBlIiwiY29tcG9uZW50IiwiY29tcG9uZW50QmxvY2siLCJjaGlsZEZpZWxkIiwicHJvcHMiLCJzY2hlbWEiLCJraW5kIiwib3B0aW9ucyIsImNyZWF0ZVRvb2xiYXJTdGF0ZSIsImxvY2F0aW9uRG9jdW1lbnRGZWF0dXJlcyIsImlubGluZU1hcmtzIiwiZG9jdW1lbnRGZWF0dXJlcyIsImRpdmlkZXJzIiwiZm9ybWF0dGluZyIsImFsaWdubWVudCIsImNlbnRlciIsImVuZCIsImJsb2NrVHlwZXMiLCJibG9ja3F1b3RlIiwiY29kZSIsImhlYWRpbmdMZXZlbHMiLCJsaXN0VHlwZXMiLCJvcmRlcmVkIiwidW5vcmRlcmVkIiwibGF5b3V0cyIsImxpbmtzIiwicmVsYXRpb25zaGlwcyIsInNvZnRCcmVha3MiLCJtYXliZUNvZGVCbG9ja0VudHJ5Iiwibm9kZXMiLCJub2RlIiwiaXNFbGVtZW50IiwiaXNCbG9jayIsImVkaXRvck1hcmtzIiwibWFya3MiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsIm1hcCIsIm1hcmsiLCJpc0Rpc2FibGVkIiwiaXNTZWxlY3RlZCIsInNlbGVjdGlvbiIsImlzRXhwYW5kZWQiLCJpc1RleHQiLCJrZXkiLCJrZXlzIiwiaGVhZGluZ0VudHJ5IiwibGlzdEVudHJ5IiwiYWxpZ25hYmxlRW50cnkiLCJsaXN0VHlwZUFib3ZlIiwiZ2V0TGlzdFR5cGVBYm92ZSIsInRleHRTdHlsZXMiLCJzZWxlY3RlZCIsImxldmVsIiwiYWxsb3dlZEhlYWRpbmdMZXZlbHMiLCJsaXN0cyIsInRleHRBbGlnbiIsImlzQ29sbGFwc2VkIiwiY2xlYXJGb3JtYXR0aW5nIiwidmFsdWVzIiwic29tZSIsIngiLCJoYXNCbG9ja1RoYXRDbGVhcnNPbkNsZWFyRm9ybWF0dGluZyIsImxpc3RBYm92ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/toolbar-state-shared.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/toolbar-state.tsx":
/*!*********************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/toolbar-state.tsx ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ToolbarStateProvider: () => (/* binding */ ToolbarStateProvider),\n/* harmony export */   useToolbarState: () => (/* binding */ useToolbarState)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var _component_blocks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component-blocks */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/index.tsx\");\n/* harmony import */ var _layouts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./layouts */ \"../../../../packages/fields-document/src/DocumentEditor/layouts.tsx\");\n/* harmony import */ var _relationship__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./relationship */ \"../../../../packages/fields-document/src/DocumentEditor/relationship.tsx\");\n/* harmony import */ var _toolbar_state_shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./toolbar-state-shared */ \"../../../../packages/fields-document/src/DocumentEditor/toolbar-state-shared.ts\");\n\n\n\n\n\n\n\nconst ToolbarStateContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1___default().createContext(null);\nfunction useToolbarState() {\n    const toolbarState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ToolbarStateContext);\n    if (!toolbarState) {\n        throw new Error('ToolbarStateProvider must be used to use useToolbarState');\n    }\n    return toolbarState;\n}\nconst ToolbarStateProvider = ({ children, componentBlocks, editorDocumentFeatures, relationships })=>{\n    const editor = (0,slate_react__WEBPACK_IMPORTED_MODULE_6__.useSlate)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_relationship__WEBPACK_IMPORTED_MODULE_4__.DocumentFieldRelationshipsProvider, {\n        value: relationships,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_layouts__WEBPACK_IMPORTED_MODULE_3__.LayoutOptionsProvider, {\n            value: editorDocumentFeatures.layouts,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_component_blocks__WEBPACK_IMPORTED_MODULE_2__.ComponentBlockContext.Provider, {\n                value: componentBlocks,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ToolbarStateContext.Provider, {\n                    value: (0,_toolbar_state_shared__WEBPACK_IMPORTED_MODULE_5__.createToolbarState)(editor, componentBlocks, editorDocumentFeatures),\n                    children: children\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/toolbar-state.tsx\",\n                    lineNumber: 38,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/toolbar-state.tsx\",\n                lineNumber: 37,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/toolbar-state.tsx\",\n            lineNumber: 36,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/DocumentEditor/toolbar-state.tsx\",\n        lineNumber: 35,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci90b29sYmFyLXN0YXRlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDbkI7QUFFb0I7QUFFVDtBQUNzQztBQUVUO0FBRTlFLE1BQU1PLG9DQUFzQlAsMERBQW1CLENBQXNCO0FBRTlELFNBQVNTO0lBQ2QsTUFBTUMsZUFBZVQsaURBQVVBLENBQUNNO0lBQ2hDLElBQUksQ0FBQ0csY0FBYztRQUNqQixNQUFNLElBQUlDLE1BQU07SUFDbEI7SUFDQSxPQUFPRDtBQUNUO0FBRU8sTUFBTUUsdUJBQXVCLENBQUMsRUFDbkNDLFFBQVEsRUFDUkMsZUFBZSxFQUNmQyxzQkFBc0IsRUFDdEJDLGFBQWEsRUFNZDtJQUNDLE1BQU1DLFNBQVNmLHFEQUFRQTtJQUV2QixxQkFDRSw4REFBQ0csNkVBQWtDQTtRQUFDYSxPQUFPRjtrQkFDekMsNEVBQUNaLDJEQUFxQkE7WUFBQ2MsT0FBT0gsdUJBQXVCSSxPQUFPO3NCQUMxRCw0RUFBQ2hCLG9FQUFxQkEsQ0FBQ2lCLFFBQVE7Z0JBQUNGLE9BQU9KOzBCQUNyQyw0RUFBQ1Asb0JBQW9CYSxRQUFRO29CQUMzQkYsT0FBT1oseUVBQWtCQSxDQUFDVyxRQUFRSCxpQkFBaUJDOzhCQUVsREY7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1iLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci90b29sYmFyLXN0YXRlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdHlwZSBSZWFjdE5vZGUsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVNsYXRlIH0gZnJvbSAnc2xhdGUtcmVhY3QnXG5pbXBvcnQgeyB0eXBlIERvY3VtZW50RmVhdHVyZXMgfSBmcm9tICcuLi92aWV3cydcbmltcG9ydCB7IENvbXBvbmVudEJsb2NrQ29udGV4dCB9IGZyb20gJy4vY29tcG9uZW50LWJsb2NrcydcbmltcG9ydCB7IHR5cGUgQ29tcG9uZW50QmxvY2sgfSBmcm9tICcuL2NvbXBvbmVudC1ibG9ja3MvYXBpJ1xuaW1wb3J0IHsgTGF5b3V0T3B0aW9uc1Byb3ZpZGVyIH0gZnJvbSAnLi9sYXlvdXRzJ1xuaW1wb3J0IHsgRG9jdW1lbnRGaWVsZFJlbGF0aW9uc2hpcHNQcm92aWRlciwgdHlwZSBSZWxhdGlvbnNoaXBzIH0gZnJvbSAnLi9yZWxhdGlvbnNoaXAnXG5cbmltcG9ydCB7IHR5cGUgVG9vbGJhclN0YXRlLCBjcmVhdGVUb29sYmFyU3RhdGUgfSBmcm9tICcuL3Rvb2xiYXItc3RhdGUtc2hhcmVkJ1xuXG5jb25zdCBUb29sYmFyU3RhdGVDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxudWxsIHwgVG9vbGJhclN0YXRlPihudWxsKVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlVG9vbGJhclN0YXRlKCkge1xuICBjb25zdCB0b29sYmFyU3RhdGUgPSB1c2VDb250ZXh0KFRvb2xiYXJTdGF0ZUNvbnRleHQpXG4gIGlmICghdG9vbGJhclN0YXRlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUb29sYmFyU3RhdGVQcm92aWRlciBtdXN0IGJlIHVzZWQgdG8gdXNlIHVzZVRvb2xiYXJTdGF0ZScpXG4gIH1cbiAgcmV0dXJuIHRvb2xiYXJTdGF0ZVxufVxuXG5leHBvcnQgY29uc3QgVG9vbGJhclN0YXRlUHJvdmlkZXIgPSAoe1xuICBjaGlsZHJlbixcbiAgY29tcG9uZW50QmxvY2tzLFxuICBlZGl0b3JEb2N1bWVudEZlYXR1cmVzLFxuICByZWxhdGlvbnNoaXBzLFxufToge1xuICBjaGlsZHJlbjogUmVhY3ROb2RlXG4gIGNvbXBvbmVudEJsb2NrczogUmVjb3JkPHN0cmluZywgQ29tcG9uZW50QmxvY2s+XG4gIGVkaXRvckRvY3VtZW50RmVhdHVyZXM6IERvY3VtZW50RmVhdHVyZXNcbiAgcmVsYXRpb25zaGlwczogUmVsYXRpb25zaGlwc1xufSkgPT4ge1xuICBjb25zdCBlZGl0b3IgPSB1c2VTbGF0ZSgpXG5cbiAgcmV0dXJuIChcbiAgICA8RG9jdW1lbnRGaWVsZFJlbGF0aW9uc2hpcHNQcm92aWRlciB2YWx1ZT17cmVsYXRpb25zaGlwc30+XG4gICAgICA8TGF5b3V0T3B0aW9uc1Byb3ZpZGVyIHZhbHVlPXtlZGl0b3JEb2N1bWVudEZlYXR1cmVzLmxheW91dHN9PlxuICAgICAgICA8Q29tcG9uZW50QmxvY2tDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb21wb25lbnRCbG9ja3N9PlxuICAgICAgICAgIDxUb29sYmFyU3RhdGVDb250ZXh0LlByb3ZpZGVyXG4gICAgICAgICAgICB2YWx1ZT17Y3JlYXRlVG9vbGJhclN0YXRlKGVkaXRvciwgY29tcG9uZW50QmxvY2tzLCBlZGl0b3JEb2N1bWVudEZlYXR1cmVzKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgPC9Ub29sYmFyU3RhdGVDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICA8L0NvbXBvbmVudEJsb2NrQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgIDwvTGF5b3V0T3B0aW9uc1Byb3ZpZGVyPlxuICAgIDwvRG9jdW1lbnRGaWVsZFJlbGF0aW9uc2hpcHNQcm92aWRlcj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlQ29udGV4dCIsInVzZVNsYXRlIiwiQ29tcG9uZW50QmxvY2tDb250ZXh0IiwiTGF5b3V0T3B0aW9uc1Byb3ZpZGVyIiwiRG9jdW1lbnRGaWVsZFJlbGF0aW9uc2hpcHNQcm92aWRlciIsImNyZWF0ZVRvb2xiYXJTdGF0ZSIsIlRvb2xiYXJTdGF0ZUNvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwidXNlVG9vbGJhclN0YXRlIiwidG9vbGJhclN0YXRlIiwiRXJyb3IiLCJUb29sYmFyU3RhdGVQcm92aWRlciIsImNoaWxkcmVuIiwiY29tcG9uZW50QmxvY2tzIiwiZWRpdG9yRG9jdW1lbnRGZWF0dXJlcyIsInJlbGF0aW9uc2hpcHMiLCJlZGl0b3IiLCJ2YWx1ZSIsImxheW91dHMiLCJQcm92aWRlciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/toolbar-state.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/utils-hooks.tsx":
/*!*******************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/utils-hooks.tsx ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ForceValidationProvider: () => (/* binding */ ForceValidationProvider),\n/* harmony export */   blockElementSpacing: () => (/* binding */ blockElementSpacing),\n/* harmony export */   focusWithPreviousSelection: () => (/* binding */ focusWithPreviousSelection),\n/* harmony export */   useElementWithSetNodes: () => (/* binding */ useElementWithSetNodes),\n/* harmony export */   useEventCallback: () => (/* binding */ useEventCallback),\n/* harmony export */   useForceValidation: () => (/* binding */ useForceValidation)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! slate-react */ \"../../../../node_modules/.pnpm/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0/node_modules/slate-react/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/style */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-style.js\");\n\n\n\n\n// this ensures that when changes happen, they are immediately shown\n// this stops the problem of a cursor resetting to the end when a change is made\n// because the changes are applied asynchronously\nfunction useElementWithSetNodes(editor, element) {\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        element,\n        elementWithChanges: element\n    });\n    if (state.element !== element) {\n        setState({\n            element,\n            elementWithChanges: element\n        });\n    }\n    const elementRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(element);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useElementWithSetNodes.useEffect\": ()=>{\n            elementRef.current = element;\n        }\n    }[\"useElementWithSetNodes.useEffect\"]);\n    const setNodes = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useElementWithSetNodes.useCallback[setNodes]\": (changesOrCallback)=>{\n            const currentElement = elementRef.current;\n            const changes = typeof changesOrCallback === 'function' ? changesOrCallback(currentElement) : changesOrCallback;\n            slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.setNodes(editor, changes, {\n                at: slate_react__WEBPACK_IMPORTED_MODULE_3__.ReactEditor.findPath(editor, currentElement)\n            });\n            setState({\n                element: currentElement,\n                elementWithChanges: {\n                    ...currentElement,\n                    ...changes\n                }\n            });\n        }\n    }[\"useElementWithSetNodes.useCallback[setNodes]\"], [\n        editor\n    ]);\n    return [\n        state.elementWithChanges,\n        setNodes\n    ];\n}\nfunction useEventCallback(callback) {\n    const callbackRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(callback);\n    const cb = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useEventCallback.useCallback[cb]\": (...args)=>{\n            return callbackRef.current(...args);\n        }\n    }[\"useEventCallback.useCallback[cb]\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useEventCallback.useEffect\": ()=>{\n            callbackRef.current = callback;\n        }\n    }[\"useEventCallback.useEffect\"]);\n    return cb;\n}\nconst ForceValidationContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0___default().createContext(false);\nconst ForceValidationProvider = ForceValidationContext.Provider;\nfunction useForceValidation() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ForceValidationContext);\n}\nfunction focusWithPreviousSelection(editor) {\n    const selection = window.getSelection();\n    if (selection) {\n        selection.removeAllRanges();\n        selection.addRange(slate_react__WEBPACK_IMPORTED_MODULE_3__.ReactEditor.toDOMRange(editor, editor.selection));\n    }\n    slate_react__WEBPACK_IMPORTED_MODULE_3__.ReactEditor.focus(editor);\n}\nconst blockElementSpacing = (0,_keystar_ui_style__WEBPACK_IMPORTED_MODULE_1__.css)({\n    marginBlock: '0.75em',\n    '&:first-child': {\n        marginBlockStart: 0\n    },\n    '&:last-child': {\n        marginBlockEnd: 0\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci91dGlscy1ob29rcy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBNkQ7QUFDcEI7QUFDMEM7QUFDNUM7QUFFdkMsb0VBQW9FO0FBQ3BFLGdGQUFnRjtBQUNoRixpREFBaUQ7QUFDMUMsU0FBU1MsdUJBQ2RDLE1BQWMsRUFDZEMsT0FBaUI7SUFFakIsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdQLCtDQUFRQSxDQUFDO1FBQUVLO1FBQVNHLG9CQUFvQkg7SUFBUTtJQUMxRSxJQUFJQyxNQUFNRCxPQUFPLEtBQUtBLFNBQVM7UUFDN0JFLFNBQVM7WUFBRUY7WUFBU0csb0JBQW9CSDtRQUFRO0lBQ2xEO0lBRUEsTUFBTUksYUFBYVYsNkNBQU1BLENBQUNNO0lBRTFCUCxnREFBU0E7NENBQUM7WUFDUlcsV0FBV0MsT0FBTyxHQUFHTDtRQUN2Qjs7SUFFQSxNQUFNTSxXQUFXZCxrREFBV0E7d0RBQzFCLENBQUNlO1lBQ0MsTUFBTUMsaUJBQWlCSixXQUFXQyxPQUFPO1lBQ3pDLE1BQU1JLFVBQ0osT0FBT0Ysc0JBQXNCLGFBQ3pCQSxrQkFBa0JDLGtCQUNsQkQ7WUFDTmxCLDZDQUFVQSxDQUFDaUIsUUFBUSxDQUFDUCxRQUFRVSxTQUFTO2dCQUFFQyxJQUFJcEIsb0RBQVdBLENBQUNxQixRQUFRLENBQUNaLFFBQVFTO1lBQWdCO1lBQ3hGTixTQUFTO2dCQUNQRixTQUFTUTtnQkFDVEwsb0JBQW9CO29CQUFFLEdBQUdLLGNBQWM7b0JBQUUsR0FBR0MsT0FBTztnQkFBQztZQUN0RDtRQUNGO3VEQUNBO1FBQUNWO0tBQU87SUFFVixPQUFPO1FBQUNFLE1BQU1FLGtCQUFrQjtRQUFFRztLQUFTO0FBQzdDO0FBRU8sU0FBU00saUJBQXFEQyxRQUFjO0lBQ2pGLE1BQU1DLGNBQWNwQiw2Q0FBTUEsQ0FBQ21CO0lBQzNCLE1BQU1FLEtBQUt2QixrREFBV0E7NENBQUMsQ0FBQyxHQUFHd0I7WUFDekIsT0FBT0YsWUFBWVQsT0FBTyxJQUFJVztRQUNoQzsyQ0FBRyxFQUFFO0lBQ0x2QixnREFBU0E7c0NBQUM7WUFDUnFCLFlBQVlULE9BQU8sR0FBR1E7UUFDeEI7O0lBQ0EsT0FBT0U7QUFDVDtBQUVBLE1BQU1FLHVDQUF5QjFCLDBEQUFtQixDQUFDO0FBRTVDLE1BQU00QiwwQkFBMEJGLHVCQUF1QkcsUUFBUTtBQUUvRCxTQUFTQztJQUNkLE9BQU96QixpREFBVUEsQ0FBQ3FCO0FBQ3BCO0FBRU8sU0FBU0ssMkJBQTJCdkIsTUFBYztJQUN2RCxNQUFNd0IsWUFBWUMsT0FBT0MsWUFBWTtJQUNyQyxJQUFJRixXQUFXO1FBQ2JBLFVBQVVHLGVBQWU7UUFDekJILFVBQVVJLFFBQVEsQ0FBQ3JDLG9EQUFXQSxDQUFDc0MsVUFBVSxDQUFDN0IsUUFBUUEsT0FBT3dCLFNBQVM7SUFDcEU7SUFDQWpDLG9EQUFXQSxDQUFDdUMsS0FBSyxDQUFDOUI7QUFDcEI7QUFFTyxNQUFNK0Isc0JBQXNCakMsc0RBQUdBLENBQUM7SUFDckNrQyxhQUFhO0lBQ2IsaUJBQWlCO1FBQ2ZDLGtCQUFrQjtJQUNwQjtJQUNBLGdCQUFnQjtRQUNkQyxnQkFBZ0I7SUFDbEI7QUFDRixHQUFFIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvRG9jdW1lbnRFZGl0b3IvdXRpbHMtaG9va3MudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHR5cGUgRWRpdG9yLCB0eXBlIEVsZW1lbnQsIFRyYW5zZm9ybXMgfSBmcm9tICdzbGF0ZSdcbmltcG9ydCB7IFJlYWN0RWRpdG9yIH0gZnJvbSAnc2xhdGUtcmVhY3QnXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGtleXN0YXIvdWkvc3R5bGUnXG5cbi8vIHRoaXMgZW5zdXJlcyB0aGF0IHdoZW4gY2hhbmdlcyBoYXBwZW4sIHRoZXkgYXJlIGltbWVkaWF0ZWx5IHNob3duXG4vLyB0aGlzIHN0b3BzIHRoZSBwcm9ibGVtIG9mIGEgY3Vyc29yIHJlc2V0dGluZyB0byB0aGUgZW5kIHdoZW4gYSBjaGFuZ2UgaXMgbWFkZVxuLy8gYmVjYXVzZSB0aGUgY2hhbmdlcyBhcmUgYXBwbGllZCBhc3luY2hyb25vdXNseVxuZXhwb3J0IGZ1bmN0aW9uIHVzZUVsZW1lbnRXaXRoU2V0Tm9kZXM8VEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PihcbiAgZWRpdG9yOiBFZGl0b3IsXG4gIGVsZW1lbnQ6IFRFbGVtZW50XG4pIHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSh7IGVsZW1lbnQsIGVsZW1lbnRXaXRoQ2hhbmdlczogZWxlbWVudCB9KVxuICBpZiAoc3RhdGUuZWxlbWVudCAhPT0gZWxlbWVudCkge1xuICAgIHNldFN0YXRlKHsgZWxlbWVudCwgZWxlbWVudFdpdGhDaGFuZ2VzOiBlbGVtZW50IH0pXG4gIH1cblxuICBjb25zdCBlbGVtZW50UmVmID0gdXNlUmVmKGVsZW1lbnQpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBlbGVtZW50UmVmLmN1cnJlbnQgPSBlbGVtZW50XG4gIH0pXG5cbiAgY29uc3Qgc2V0Tm9kZXMgPSB1c2VDYWxsYmFjayhcbiAgICAoY2hhbmdlc09yQ2FsbGJhY2s6IFBhcnRpYWw8VEVsZW1lbnQ+IHwgKChjdXJyZW50OiBURWxlbWVudCkgPT4gUGFydGlhbDxURWxlbWVudD4pKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50RWxlbWVudCA9IGVsZW1lbnRSZWYuY3VycmVudFxuICAgICAgY29uc3QgY2hhbmdlcyA9XG4gICAgICAgIHR5cGVvZiBjaGFuZ2VzT3JDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgID8gY2hhbmdlc09yQ2FsbGJhY2soY3VycmVudEVsZW1lbnQpXG4gICAgICAgICAgOiBjaGFuZ2VzT3JDYWxsYmFja1xuICAgICAgVHJhbnNmb3Jtcy5zZXROb2RlcyhlZGl0b3IsIGNoYW5nZXMsIHsgYXQ6IFJlYWN0RWRpdG9yLmZpbmRQYXRoKGVkaXRvciwgY3VycmVudEVsZW1lbnQpIH0pXG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIGVsZW1lbnQ6IGN1cnJlbnRFbGVtZW50LFxuICAgICAgICBlbGVtZW50V2l0aENoYW5nZXM6IHsgLi4uY3VycmVudEVsZW1lbnQsIC4uLmNoYW5nZXMgfSxcbiAgICAgIH0pXG4gICAgfSxcbiAgICBbZWRpdG9yXVxuICApXG4gIHJldHVybiBbc3RhdGUuZWxlbWVudFdpdGhDaGFuZ2VzLCBzZXROb2Rlc10gYXMgY29uc3Rcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUV2ZW50Q2FsbGJhY2s8RnVuYyBleHRlbmRzICguLi5hcmdzOiBhbnkpID0+IGFueT4oY2FsbGJhY2s6IEZ1bmMpOiBGdW5jIHtcbiAgY29uc3QgY2FsbGJhY2tSZWYgPSB1c2VSZWYoY2FsbGJhY2spXG4gIGNvbnN0IGNiID0gdXNlQ2FsbGJhY2soKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgcmV0dXJuIGNhbGxiYWNrUmVmLmN1cnJlbnQoLi4uYXJncylcbiAgfSwgW10pXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY2FsbGJhY2tSZWYuY3VycmVudCA9IGNhbGxiYWNrXG4gIH0pXG4gIHJldHVybiBjYiBhcyBhbnlcbn1cblxuY29uc3QgRm9yY2VWYWxpZGF0aW9uQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoZmFsc2UpXG5cbmV4cG9ydCBjb25zdCBGb3JjZVZhbGlkYXRpb25Qcm92aWRlciA9IEZvcmNlVmFsaWRhdGlvbkNvbnRleHQuUHJvdmlkZXJcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUZvcmNlVmFsaWRhdGlvbigpIHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoRm9yY2VWYWxpZGF0aW9uQ29udGV4dClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvY3VzV2l0aFByZXZpb3VzU2VsZWN0aW9uKGVkaXRvcjogRWRpdG9yKSB7XG4gIGNvbnN0IHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKVxuICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgc2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpXG4gICAgc2VsZWN0aW9uLmFkZFJhbmdlKFJlYWN0RWRpdG9yLnRvRE9NUmFuZ2UoZWRpdG9yLCBlZGl0b3Iuc2VsZWN0aW9uISkpXG4gIH1cbiAgUmVhY3RFZGl0b3IuZm9jdXMoZWRpdG9yKVxufVxuXG5leHBvcnQgY29uc3QgYmxvY2tFbGVtZW50U3BhY2luZyA9IGNzcyh7XG4gIG1hcmdpbkJsb2NrOiAnMC43NWVtJyxcbiAgJyY6Zmlyc3QtY2hpbGQnOiB7XG4gICAgbWFyZ2luQmxvY2tTdGFydDogMCxcbiAgfSxcbiAgJyY6bGFzdC1jaGlsZCc6IHtcbiAgICBtYXJnaW5CbG9ja0VuZDogMCxcbiAgfSxcbn0pXG4iXSwibmFtZXMiOlsiVHJhbnNmb3JtcyIsIlJlYWN0RWRpdG9yIiwiUmVhY3QiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlQ29udGV4dCIsImNzcyIsInVzZUVsZW1lbnRXaXRoU2V0Tm9kZXMiLCJlZGl0b3IiLCJlbGVtZW50Iiwic3RhdGUiLCJzZXRTdGF0ZSIsImVsZW1lbnRXaXRoQ2hhbmdlcyIsImVsZW1lbnRSZWYiLCJjdXJyZW50Iiwic2V0Tm9kZXMiLCJjaGFuZ2VzT3JDYWxsYmFjayIsImN1cnJlbnRFbGVtZW50IiwiY2hhbmdlcyIsImF0IiwiZmluZFBhdGgiLCJ1c2VFdmVudENhbGxiYWNrIiwiY2FsbGJhY2siLCJjYWxsYmFja1JlZiIsImNiIiwiYXJncyIsIkZvcmNlVmFsaWRhdGlvbkNvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwiRm9yY2VWYWxpZGF0aW9uUHJvdmlkZXIiLCJQcm92aWRlciIsInVzZUZvcmNlVmFsaWRhdGlvbiIsImZvY3VzV2l0aFByZXZpb3VzU2VsZWN0aW9uIiwic2VsZWN0aW9uIiwid2luZG93IiwiZ2V0U2VsZWN0aW9uIiwicmVtb3ZlQWxsUmFuZ2VzIiwiYWRkUmFuZ2UiLCJ0b0RPTVJhbmdlIiwiZm9jdXMiLCJibG9ja0VsZW1lbnRTcGFjaW5nIiwibWFyZ2luQmxvY2siLCJtYXJnaW5CbG9ja1N0YXJ0IiwibWFyZ2luQmxvY2tFbmQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/utils-hooks.tsx\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/DocumentEditor/utils.ts":
/*!************************************************************************!*\
  !*** ../../../../packages/fields-document/src/DocumentEditor/utils.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditorAfterButIgnoringingPointsWithNoContent: () => (/* binding */ EditorAfterButIgnoringingPointsWithNoContent),\n/* harmony export */   allMarks: () => (/* binding */ allMarks),\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   clearFormatting: () => (/* binding */ clearFormatting),\n/* harmony export */   insertNodesButReplaceIfSelectionIsAtEmptyParagraphOrHeading: () => (/* binding */ insertNodesButReplaceIfSelectionIsAtEmptyParagraphOrHeading),\n/* harmony export */   isElementActive: () => (/* binding */ isElementActive),\n/* harmony export */   modifierKeyText: () => (/* binding */ modifierKeyText),\n/* harmony export */   moveChildren: () => (/* binding */ moveChildren),\n/* harmony export */   nodeTypeMatcher: () => (/* binding */ nodeTypeMatcher)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n\nconst allMarks = [\n    'bold',\n    'italic',\n    'underline',\n    'strikethrough',\n    'code',\n    'superscript',\n    'subscript',\n    'keyboard'\n];\nconst IS_MAC =  false && 0;\nconst modifierKeyText = IS_MAC ? '' : 'Ctrl';\nfunction isElementActive(editor, format) {\n    const [match] = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.nodes(editor, {\n        match: (n)=>n.type === format\n    });\n    return !!match;\n}\nfunction clearFormatting(editor) {\n    slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unwrapNodes(editor, {\n        match: (node)=>node.type === 'heading' || node.type === 'blockquote' || node.type === 'code'\n    });\n    slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unsetNodes(editor, allMarks, {\n        match: slate__WEBPACK_IMPORTED_MODULE_0__.Text.isText\n    });\n}\nfunction moveChildren(editor, parent, to, shouldMoveNode = ()=>true) {\n    const parentPath = slate__WEBPACK_IMPORTED_MODULE_0__.Path.isPath(parent) ? parent : parent[1];\n    const parentNode = slate__WEBPACK_IMPORTED_MODULE_0__.Path.isPath(parent) ? slate__WEBPACK_IMPORTED_MODULE_0__.Node.get(editor, parentPath) : parent[0];\n    if (!(slate__WEBPACK_IMPORTED_MODULE_0__.Element.isElement(parentNode) && slate__WEBPACK_IMPORTED_MODULE_0__.Editor.isBlock(editor, parentNode))) return;\n    for(let i = parentNode.children.length - 1; i >= 0; i--){\n        if (shouldMoveNode(parentNode.children[i])) {\n            const childPath = [\n                ...parentPath,\n                i\n            ];\n            slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.moveNodes(editor, {\n                at: childPath,\n                to\n            });\n        }\n    }\n}\nfunction insertNodesButReplaceIfSelectionIsAtEmptyParagraphOrHeading(editor, nodes, slate) {\n    let pathRefForEmptyNodeAtCursor;\n    const entry = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.above(editor, {\n        match: (node)=>node.type === 'heading' || node.type === 'paragraph'\n    });\n    if (entry && slate__WEBPACK_IMPORTED_MODULE_0__.Node.string(entry[0]) === '') {\n        pathRefForEmptyNodeAtCursor = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.pathRef(editor, entry[1]);\n    }\n    slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.insertNodes(editor, nodes);\n    const path = pathRefForEmptyNodeAtCursor?.unref();\n    if (path) {\n        slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.removeNodes(editor, {\n            at: path\n        });\n        // even though the selection is in the right place after the removeNodes\n        // for some reason the editor blurs so we need to focus it again\n        slate?.ReactEditor.focus(editor);\n    }\n}\n/**\n * This is equivalent to Editor.after except that it ignores points that have no content\n * like the point in a void text node, an empty text node and the last point in a text node\n */ // TODO: this would probably break if you were trying to get the last point in the editor?\nfunction EditorAfterButIgnoringingPointsWithNoContent(editor, at, { distance = 1 } = {}) {\n    const anchor = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.point(editor, at, {\n        edge: 'end'\n    });\n    const focus = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.end(editor, []);\n    const range = {\n        anchor,\n        focus\n    };\n    let d = 0;\n    let target;\n    for (const p of slate__WEBPACK_IMPORTED_MODULE_0__.Editor.positions(editor, {\n        at: range\n    })){\n        if (d > distance) break;\n        // this is the important change\n        const node = slate__WEBPACK_IMPORTED_MODULE_0__.Node.get(editor, p.path);\n        if (node.text.length === p.offset) continue;\n        if (d !== 0) {\n            target = p;\n        }\n        d++;\n    }\n    return target;\n}\nfunction nodeTypeMatcher(...args) {\n    if (args.length === 1) {\n        const type = args[0];\n        return (node)=>node.type === type;\n    }\n    const set = new Set(args);\n    return (node)=>typeof node.type === 'string' && set.has(node.type);\n}\nfunction assert(condition) {\n    if (!condition) throw new Error('failed assert');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci91dGlscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBV2M7QUFhUCxNQUFNTSxXQUFtQjtJQUM5QjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFRCxNQUFNQyxTQUNKLE1BQTRCLElBQUksQ0FBc0Q7QUFFakYsTUFBTUssa0JBQWtCTCxTQUFTLE1BQU0sT0FBTTtBQUU3QyxTQUFTTSxnQkFDZEMsTUFBYyxFQUNkQyxNQUF3RDtJQUV4RCxNQUFNLENBQUNDLE1BQU0sR0FBR2hCLHlDQUFNQSxDQUFDaUIsS0FBSyxDQUFDSCxRQUFRO1FBQ25DRSxPQUFPRSxDQUFBQSxJQUFLQSxFQUFFQyxJQUFJLEtBQUtKO0lBQ3pCO0lBRUEsT0FBTyxDQUFDLENBQUNDO0FBQ1g7QUFFTyxTQUFTSSxnQkFBZ0JOLE1BQWM7SUFDNUNULDZDQUFVQSxDQUFDZ0IsV0FBVyxDQUFDUCxRQUFRO1FBQzdCRSxPQUFPTSxDQUFBQSxPQUFRQSxLQUFLSCxJQUFJLEtBQUssYUFBYUcsS0FBS0gsSUFBSSxLQUFLLGdCQUFnQkcsS0FBS0gsSUFBSSxLQUFLO0lBQ3hGO0lBQ0FkLDZDQUFVQSxDQUFDa0IsVUFBVSxDQUFDVCxRQUFRUixVQUFVO1FBQUVVLE9BQU9aLHVDQUFJQSxDQUFDb0IsTUFBTTtJQUFDO0FBQy9EO0FBRU8sU0FBU0MsYUFDZFgsTUFBYyxFQUNkWSxNQUF3QixFQUN4QkMsRUFBUSxFQUNSQyxpQkFBMEMsSUFBTSxJQUFJO0lBRXBELE1BQU1DLGFBQWExQix1Q0FBSUEsQ0FBQzJCLE1BQU0sQ0FBQ0osVUFBVUEsU0FBU0EsTUFBTSxDQUFDLEVBQUU7SUFDM0QsTUFBTUssYUFBYTVCLHVDQUFJQSxDQUFDMkIsTUFBTSxDQUFDSixVQUFVeEIsdUNBQUlBLENBQUM4QixHQUFHLENBQUNsQixRQUFRZSxjQUFjSCxNQUFNLENBQUMsRUFBRTtJQUNqRixJQUFJLENBQUV6QixDQUFBQSwwQ0FBT0EsQ0FBQ2dDLFNBQVMsQ0FBQ0YsZUFBZS9CLHlDQUFNQSxDQUFDa0MsT0FBTyxDQUFDcEIsUUFBUWlCLFdBQVUsR0FBSTtJQUU1RSxJQUFLLElBQUlJLElBQUlKLFdBQVdLLFFBQVEsQ0FBQ0MsTUFBTSxHQUFHLEdBQUdGLEtBQUssR0FBR0EsSUFBSztRQUN4RCxJQUFJUCxlQUFlRyxXQUFXSyxRQUFRLENBQUNELEVBQUUsR0FBRztZQUMxQyxNQUFNRyxZQUFZO21CQUFJVDtnQkFBWU07YUFBRTtZQUNwQzlCLDZDQUFVQSxDQUFDa0MsU0FBUyxDQUFDekIsUUFBUTtnQkFBRTBCLElBQUlGO2dCQUFXWDtZQUFHO1FBQ25EO0lBQ0Y7QUFDRjtBQUVPLFNBQVNjLDREQUNkM0IsTUFBYyxFQUNkRyxLQUFvQixFQUNwQnlCLEtBSUM7SUFFRCxJQUFJQztJQUNKLE1BQU1DLFFBQVE1Qyx5Q0FBTUEsQ0FBQzZDLEtBQUssQ0FBQy9CLFFBQVE7UUFDakNFLE9BQU9NLENBQUFBLE9BQVFBLEtBQUtILElBQUksS0FBSyxhQUFhRyxLQUFLSCxJQUFJLEtBQUs7SUFDMUQ7SUFDQSxJQUFJeUIsU0FBUzFDLHVDQUFJQSxDQUFDNEMsTUFBTSxDQUFDRixLQUFLLENBQUMsRUFBRSxNQUFNLElBQUk7UUFDekNELDhCQUE4QjNDLHlDQUFNQSxDQUFDK0MsT0FBTyxDQUFDakMsUUFBUThCLEtBQUssQ0FBQyxFQUFFO0lBQy9EO0lBQ0F2Qyw2Q0FBVUEsQ0FBQzJDLFdBQVcsQ0FBQ2xDLFFBQVFHO0lBQy9CLE1BQU1nQyxPQUFPTiw2QkFBNkJPO0lBQzFDLElBQUlELE1BQU07UUFDUjVDLDZDQUFVQSxDQUFDOEMsV0FBVyxDQUFDckMsUUFBUTtZQUFFMEIsSUFBSVM7UUFBSztRQUMxQyx3RUFBd0U7UUFDeEUsZ0VBQWdFO1FBQ2hFUCxPQUFPVSxZQUFZQyxNQUFNdkM7SUFDM0I7QUFDRjtBQUVBOzs7Q0FHQyxHQUNELDBGQUEwRjtBQUNuRixTQUFTd0MsNkNBQ2R4QyxNQUFjLEVBQ2QwQixFQUFZLEVBQ1osRUFDRWUsV0FBVyxDQUFDLEVBR2IsR0FBRyxDQUFDLENBQUM7SUFFTixNQUFNQyxTQUFTeEQseUNBQU1BLENBQUN5RCxLQUFLLENBQUMzQyxRQUFRMEIsSUFBSTtRQUFFa0IsTUFBTTtJQUFNO0lBQ3RELE1BQU1MLFFBQVFyRCx5Q0FBTUEsQ0FBQzJELEdBQUcsQ0FBQzdDLFFBQVEsRUFBRTtJQUNuQyxNQUFNOEMsUUFBUTtRQUFFSjtRQUFRSDtJQUFNO0lBQzlCLElBQUlRLElBQUk7SUFDUixJQUFJQztJQUVKLEtBQUssTUFBTUMsS0FBSy9ELHlDQUFNQSxDQUFDZ0UsU0FBUyxDQUFDbEQsUUFBUTtRQUN2QzBCLElBQUlvQjtJQUNOLEdBQUk7UUFDRixJQUFJQyxJQUFJTixVQUFVO1FBRWxCLCtCQUErQjtRQUMvQixNQUFNakMsT0FBT3BCLHVDQUFJQSxDQUFDOEIsR0FBRyxDQUFDbEIsUUFBUWlELEVBQUVkLElBQUk7UUFDcEMsSUFBSTNCLEtBQUsyQyxJQUFJLENBQUM1QixNQUFNLEtBQUswQixFQUFFRyxNQUFNLEVBQUU7UUFFbkMsSUFBSUwsTUFBTSxHQUFHO1lBQ1hDLFNBQVNDO1FBQ1g7UUFFQUY7SUFDRjtJQUVBLE9BQU9DO0FBQ1Q7QUFFTyxTQUFTSyxnQkFDZCxHQUFHQyxJQUFVO0lBRWIsSUFBSUEsS0FBSy9CLE1BQU0sS0FBSyxHQUFHO1FBQ3JCLE1BQU1sQixPQUFPaUQsSUFBSSxDQUFDLEVBQUU7UUFDcEIsT0FBUSxDQUFDOUMsT0FBZUEsS0FBS0gsSUFBSSxLQUFLQTtJQUN4QztJQUNBLE1BQU1rRCxNQUFNLElBQUlDLElBQUlGO0lBQ3BCLE9BQVEsQ0FBQzlDLE9BQWUsT0FBT0EsS0FBS0gsSUFBSSxLQUFLLFlBQVlrRCxJQUFJRSxHQUFHLENBQUNqRCxLQUFLSCxJQUFJO0FBQzVFO0FBRU8sU0FBU3FELE9BQU9DLFNBQWtCO0lBQ3ZDLElBQUksQ0FBQ0EsV0FBVyxNQUFNLElBQUlDLE1BQU07QUFDbEMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy9Eb2N1bWVudEVkaXRvci91dGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB0eXBlIExvY2F0aW9uLFxuICB0eXBlIE5vZGVFbnRyeSxcbiAgdHlwZSBQYXRoUmVmLFxuICB0eXBlIFBvaW50LFxuICBFZGl0b3IsXG4gIEVsZW1lbnQsXG4gIE5vZGUsXG4gIFBhdGgsXG4gIFRleHQsXG4gIFRyYW5zZm9ybXMsXG59IGZyb20gJ3NsYXRlJ1xuaW1wb3J0IHR5cGUgeyBOb2RlIGFzIFN0cnVjdHVyZU5vZGUgfSBmcm9tICcuLi9zdHJ1Y3R1cmUtdmFsaWRhdGlvbidcblxuZXhwb3J0IHR5cGUgTWFyayA9XG4gIHwgJ2JvbGQnXG4gIHwgJ2l0YWxpYydcbiAgfCAndW5kZXJsaW5lJ1xuICB8ICdzdHJpa2V0aHJvdWdoJ1xuICB8ICdjb2RlJ1xuICB8ICdzdXBlcnNjcmlwdCdcbiAgfCAnc3Vic2NyaXB0J1xuICB8ICdrZXlib2FyZCdcblxuZXhwb3J0IGNvbnN0IGFsbE1hcmtzOiBNYXJrW10gPSBbXG4gICdib2xkJyxcbiAgJ2l0YWxpYycsXG4gICd1bmRlcmxpbmUnLFxuICAnc3RyaWtldGhyb3VnaCcsXG4gICdjb2RlJyxcbiAgJ3N1cGVyc2NyaXB0JyxcbiAgJ3N1YnNjcmlwdCcsXG4gICdrZXlib2FyZCcsXG5dXG5cbmNvbnN0IElTX01BQyA9XG4gIHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgL01hY3xpUG9kfGlQaG9uZXxpUGFkLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0pXG5cbmV4cG9ydCBjb25zdCBtb2RpZmllcktleVRleHQgPSBJU19NQUMgPyAn4oyYJyA6ICdDdHJsJ1xuXG5leHBvcnQgZnVuY3Rpb24gaXNFbGVtZW50QWN0aXZlKFxuICBlZGl0b3I6IEVkaXRvcixcbiAgZm9ybWF0OiBFeGNsdWRlPFN0cnVjdHVyZU5vZGUsIHsgdGV4dDogc3RyaW5nIH0+Wyd0eXBlJ11cbikge1xuICBjb25zdCBbbWF0Y2hdID0gRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgIG1hdGNoOiBuID0+IG4udHlwZSA9PT0gZm9ybWF0LFxuICB9KVxuXG4gIHJldHVybiAhIW1hdGNoXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckZvcm1hdHRpbmcoZWRpdG9yOiBFZGl0b3IpIHtcbiAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHtcbiAgICBtYXRjaDogbm9kZSA9PiBub2RlLnR5cGUgPT09ICdoZWFkaW5nJyB8fCBub2RlLnR5cGUgPT09ICdibG9ja3F1b3RlJyB8fCBub2RlLnR5cGUgPT09ICdjb2RlJyxcbiAgfSlcbiAgVHJhbnNmb3Jtcy51bnNldE5vZGVzKGVkaXRvciwgYWxsTWFya3MsIHsgbWF0Y2g6IFRleHQuaXNUZXh0IH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlQ2hpbGRyZW4oXG4gIGVkaXRvcjogRWRpdG9yLFxuICBwYXJlbnQ6IE5vZGVFbnRyeSB8IFBhdGgsXG4gIHRvOiBQYXRoLFxuICBzaG91bGRNb3ZlTm9kZTogKG5vZGU6IE5vZGUpID0+IGJvb2xlYW4gPSAoKSA9PiB0cnVlXG4pIHtcbiAgY29uc3QgcGFyZW50UGF0aCA9IFBhdGguaXNQYXRoKHBhcmVudCkgPyBwYXJlbnQgOiBwYXJlbnRbMV1cbiAgY29uc3QgcGFyZW50Tm9kZSA9IFBhdGguaXNQYXRoKHBhcmVudCkgPyBOb2RlLmdldChlZGl0b3IsIHBhcmVudFBhdGgpIDogcGFyZW50WzBdXG4gIGlmICghKEVsZW1lbnQuaXNFbGVtZW50KHBhcmVudE5vZGUpICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgcGFyZW50Tm9kZSkpKSByZXR1cm5cblxuICBmb3IgKGxldCBpID0gcGFyZW50Tm9kZS5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChzaG91bGRNb3ZlTm9kZShwYXJlbnROb2RlLmNoaWxkcmVuW2ldKSkge1xuICAgICAgY29uc3QgY2hpbGRQYXRoID0gWy4uLnBhcmVudFBhdGgsIGldXG4gICAgICBUcmFuc2Zvcm1zLm1vdmVOb2RlcyhlZGl0b3IsIHsgYXQ6IGNoaWxkUGF0aCwgdG8gfSlcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydE5vZGVzQnV0UmVwbGFjZUlmU2VsZWN0aW9uSXNBdEVtcHR5UGFyYWdyYXBoT3JIZWFkaW5nKFxuICBlZGl0b3I6IEVkaXRvcixcbiAgbm9kZXM6IE5vZGUgfCBOb2RlW10sXG4gIHNsYXRlPzoge1xuICAgIFJlYWN0RWRpdG9yOiB7XG4gICAgICBmb2N1czogKGVkaXRvcjogRWRpdG9yKSA9PiB2b2lkXG4gICAgfVxuICB9XG4pIHtcbiAgbGV0IHBhdGhSZWZGb3JFbXB0eU5vZGVBdEN1cnNvcjogUGF0aFJlZiB8IHVuZGVmaW5lZFxuICBjb25zdCBlbnRyeSA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICBtYXRjaDogbm9kZSA9PiBub2RlLnR5cGUgPT09ICdoZWFkaW5nJyB8fCBub2RlLnR5cGUgPT09ICdwYXJhZ3JhcGgnLFxuICB9KVxuICBpZiAoZW50cnkgJiYgTm9kZS5zdHJpbmcoZW50cnlbMF0pID09PSAnJykge1xuICAgIHBhdGhSZWZGb3JFbXB0eU5vZGVBdEN1cnNvciA9IEVkaXRvci5wYXRoUmVmKGVkaXRvciwgZW50cnlbMV0pXG4gIH1cbiAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIG5vZGVzKVxuICBjb25zdCBwYXRoID0gcGF0aFJlZkZvckVtcHR5Tm9kZUF0Q3Vyc29yPy51bnJlZigpXG4gIGlmIChwYXRoKSB7XG4gICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHsgYXQ6IHBhdGggfSlcbiAgICAvLyBldmVuIHRob3VnaCB0aGUgc2VsZWN0aW9uIGlzIGluIHRoZSByaWdodCBwbGFjZSBhZnRlciB0aGUgcmVtb3ZlTm9kZXNcbiAgICAvLyBmb3Igc29tZSByZWFzb24gdGhlIGVkaXRvciBibHVycyBzbyB3ZSBuZWVkIHRvIGZvY3VzIGl0IGFnYWluXG4gICAgc2xhdGU/LlJlYWN0RWRpdG9yLmZvY3VzKGVkaXRvcilcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byBFZGl0b3IuYWZ0ZXIgZXhjZXB0IHRoYXQgaXQgaWdub3JlcyBwb2ludHMgdGhhdCBoYXZlIG5vIGNvbnRlbnRcbiAqIGxpa2UgdGhlIHBvaW50IGluIGEgdm9pZCB0ZXh0IG5vZGUsIGFuIGVtcHR5IHRleHQgbm9kZSBhbmQgdGhlIGxhc3QgcG9pbnQgaW4gYSB0ZXh0IG5vZGVcbiAqL1xuLy8gVE9ETzogdGhpcyB3b3VsZCBwcm9iYWJseSBicmVhayBpZiB5b3Ugd2VyZSB0cnlpbmcgdG8gZ2V0IHRoZSBsYXN0IHBvaW50IGluIHRoZSBlZGl0b3I/XG5leHBvcnQgZnVuY3Rpb24gRWRpdG9yQWZ0ZXJCdXRJZ25vcmluZ2luZ1BvaW50c1dpdGhOb0NvbnRlbnQoXG4gIGVkaXRvcjogRWRpdG9yLFxuICBhdDogTG9jYXRpb24sXG4gIHtcbiAgICBkaXN0YW5jZSA9IDEsXG4gIH06IHtcbiAgICBkaXN0YW5jZT86IG51bWJlclxuICB9ID0ge31cbik6IFBvaW50IHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgYW5jaG9yID0gRWRpdG9yLnBvaW50KGVkaXRvciwgYXQsIHsgZWRnZTogJ2VuZCcgfSlcbiAgY29uc3QgZm9jdXMgPSBFZGl0b3IuZW5kKGVkaXRvciwgW10pXG4gIGNvbnN0IHJhbmdlID0geyBhbmNob3IsIGZvY3VzIH1cbiAgbGV0IGQgPSAwXG4gIGxldCB0YXJnZXRcblxuICBmb3IgKGNvbnN0IHAgb2YgRWRpdG9yLnBvc2l0aW9ucyhlZGl0b3IsIHtcbiAgICBhdDogcmFuZ2UsXG4gIH0pKSB7XG4gICAgaWYgKGQgPiBkaXN0YW5jZSkgYnJlYWtcblxuICAgIC8vIHRoaXMgaXMgdGhlIGltcG9ydGFudCBjaGFuZ2VcbiAgICBjb25zdCBub2RlID0gTm9kZS5nZXQoZWRpdG9yLCBwLnBhdGgpIGFzIFRleHRcbiAgICBpZiAobm9kZS50ZXh0Lmxlbmd0aCA9PT0gcC5vZmZzZXQpIGNvbnRpbnVlXG5cbiAgICBpZiAoZCAhPT0gMCkge1xuICAgICAgdGFyZ2V0ID0gcFxuICAgIH1cblxuICAgIGQrK1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9kZVR5cGVNYXRjaGVyPFR5cGUgZXh0ZW5kcyBFbGVtZW50Wyd0eXBlJ11bXT4oXG4gIC4uLmFyZ3M6IFR5cGVcbik6IChub2RlOiBOb2RlKSA9PiBub2RlIGlzIEVsZW1lbnQgJiB7IHR5cGU6IFR5cGVbbnVtYmVyXSB9IHtcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgY29uc3QgdHlwZSA9IGFyZ3NbMF1cbiAgICByZXR1cm4gKChub2RlOiBOb2RlKSA9PiBub2RlLnR5cGUgPT09IHR5cGUpIGFzIGFueVxuICB9XG4gIGNvbnN0IHNldCA9IG5ldyBTZXQoYXJncylcbiAgcmV0dXJuICgobm9kZTogTm9kZSkgPT4gdHlwZW9mIG5vZGUudHlwZSA9PT0gJ3N0cmluZycgJiYgc2V0Lmhhcyhub2RlLnR5cGUpKSBhcyBhbnlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChjb25kaXRpb246IGJvb2xlYW4pOiBhc3NlcnRzIGNvbmRpdGlvbiB7XG4gIGlmICghY29uZGl0aW9uKSB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCBhc3NlcnQnKVxufVxuIl0sIm5hbWVzIjpbIkVkaXRvciIsIkVsZW1lbnQiLCJOb2RlIiwiUGF0aCIsIlRleHQiLCJUcmFuc2Zvcm1zIiwiYWxsTWFya3MiLCJJU19NQUMiLCJ0ZXN0Iiwid2luZG93IiwibmF2aWdhdG9yIiwicGxhdGZvcm0iLCJtb2RpZmllcktleVRleHQiLCJpc0VsZW1lbnRBY3RpdmUiLCJlZGl0b3IiLCJmb3JtYXQiLCJtYXRjaCIsIm5vZGVzIiwibiIsInR5cGUiLCJjbGVhckZvcm1hdHRpbmciLCJ1bndyYXBOb2RlcyIsIm5vZGUiLCJ1bnNldE5vZGVzIiwiaXNUZXh0IiwibW92ZUNoaWxkcmVuIiwicGFyZW50IiwidG8iLCJzaG91bGRNb3ZlTm9kZSIsInBhcmVudFBhdGgiLCJpc1BhdGgiLCJwYXJlbnROb2RlIiwiZ2V0IiwiaXNFbGVtZW50IiwiaXNCbG9jayIsImkiLCJjaGlsZHJlbiIsImxlbmd0aCIsImNoaWxkUGF0aCIsIm1vdmVOb2RlcyIsImF0IiwiaW5zZXJ0Tm9kZXNCdXRSZXBsYWNlSWZTZWxlY3Rpb25Jc0F0RW1wdHlQYXJhZ3JhcGhPckhlYWRpbmciLCJzbGF0ZSIsInBhdGhSZWZGb3JFbXB0eU5vZGVBdEN1cnNvciIsImVudHJ5IiwiYWJvdmUiLCJzdHJpbmciLCJwYXRoUmVmIiwiaW5zZXJ0Tm9kZXMiLCJwYXRoIiwidW5yZWYiLCJyZW1vdmVOb2RlcyIsIlJlYWN0RWRpdG9yIiwiZm9jdXMiLCJFZGl0b3JBZnRlckJ1dElnbm9yaW5naW5nUG9pbnRzV2l0aE5vQ29udGVudCIsImRpc3RhbmNlIiwiYW5jaG9yIiwicG9pbnQiLCJlZGdlIiwiZW5kIiwicmFuZ2UiLCJkIiwidGFyZ2V0IiwicCIsInBvc2l0aW9ucyIsInRleHQiLCJvZmZzZXQiLCJub2RlVHlwZU1hdGNoZXIiLCJhcmdzIiwic2V0IiwiU2V0IiwiaGFzIiwiYXNzZXJ0IiwiY29uZGl0aW9uIiwiRXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/DocumentEditor/utils.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/views-shared.ts":
/*!****************************************************************!*\
  !*** ../../../../packages/fields-document/src/views-shared.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   controller: () => (/* binding */ controller)\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _emotion_weak_memoize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/weak-memoize */ \"../../../../node_modules/.pnpm/@emotion+weak-memoize@0.4.0/node_modules/@emotion/weak-memoize/dist/emotion-weak-memoize.esm.js\");\n/* harmony import */ var _DocumentEditor_editor_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DocumentEditor/editor-shared */ \"../../../../packages/fields-document/src/DocumentEditor/editor-shared.ts\");\n/* harmony import */ var _DocumentEditor_component_blocks_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DocumentEditor/component-blocks/utils */ \"../../../../packages/fields-document/src/DocumentEditor/component-blocks/utils.ts\");\n/* harmony import */ var _DocumentEditor_isValidURL__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DocumentEditor/isValidURL */ \"../../../../packages/fields-document/src/DocumentEditor/isValidURL.ts\");\n\n\n\n\n\nfunction controller(config) {\n    const memoizedIsComponentBlockValid = (0,_emotion_weak_memoize__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((componentBlock)=>(0,_emotion_weak_memoize__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((props)=>(0,_DocumentEditor_component_blocks_utils__WEBPACK_IMPORTED_MODULE_2__.clientSideValidateProp)({\n                kind: 'object',\n                fields: componentBlock.schema\n            }, props)));\n    const componentBlocks = config.customViews.componentBlocks || {};\n    const serverSideComponentBlocksSet = new Set(config.fieldMeta.componentBlocksPassedOnServer);\n    const componentBlocksOnlyBeingPassedOnTheClient = Object.keys(componentBlocks).filter((x)=>!serverSideComponentBlocksSet.has(x));\n    if (componentBlocksOnlyBeingPassedOnTheClient.length) {\n        throw new Error(`(${config.listKey}:${config.fieldKey}) The following component blocks are being passed in the custom view but not in the server-side field config: ${JSON.stringify(componentBlocksOnlyBeingPassedOnTheClient)}`);\n    }\n    const clientSideComponentBlocksSet = new Set(Object.keys(componentBlocks));\n    const componentBlocksOnlyBeingPassedOnTheServer = config.fieldMeta.componentBlocksPassedOnServer.filter((x)=>!clientSideComponentBlocksSet.has(x));\n    if (componentBlocksOnlyBeingPassedOnTheServer.length) {\n        throw new Error(`(${config.listKey}:${config.fieldKey}) The following component blocks are being passed in the server-side field config but not in the custom view: ${JSON.stringify(componentBlocksOnlyBeingPassedOnTheServer)}`);\n    }\n    const validateNode = (0,_emotion_weak_memoize__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((node)=>{\n        if (slate__WEBPACK_IMPORTED_MODULE_4__.Text.isText(node)) {\n            return true;\n        }\n        if (node.type === 'component-block') {\n            const componentBlock = componentBlocks[node.component];\n            if (componentBlock) {\n                if (!memoizedIsComponentBlockValid(componentBlock)(node.props)) {\n                    return false;\n                }\n            }\n        }\n        if (node.type === 'link' && (typeof node.href !== 'string' || !(0,_DocumentEditor_isValidURL__WEBPACK_IMPORTED_MODULE_3__.isValidURL)(node.href))) {\n            return false;\n        }\n        return node.children.every((node)=>validateNode(node));\n    });\n    return {\n        fieldKey: config.fieldKey,\n        label: config.label,\n        description: config.description,\n        componentBlocks: config.customViews.componentBlocks || {},\n        documentFeatures: config.fieldMeta.documentFeatures,\n        relationships: config.fieldMeta.relationships,\n        defaultValue: [\n            {\n                type: 'paragraph',\n                children: [\n                    {\n                        text: ''\n                    }\n                ]\n            }\n        ],\n        deserialize: (data)=>{\n            const documentFromServer = data[config.fieldKey]?.document;\n            if (!documentFromServer) {\n                return [\n                    {\n                        type: 'paragraph',\n                        children: [\n                            {\n                                text: ''\n                            }\n                        ]\n                    }\n                ];\n            }\n            // make a temporary editor to normalize the document\n            const editor = (0,_DocumentEditor_editor_shared__WEBPACK_IMPORTED_MODULE_1__.createDocumentEditor)(config.fieldMeta.documentFeatures, componentBlocks, config.fieldMeta.relationships);\n            editor.children = documentFromServer;\n            slate__WEBPACK_IMPORTED_MODULE_4__.Editor.normalize(editor, {\n                force: true\n            });\n            return editor.children;\n        },\n        serialize: (value)=>({\n                [config.fieldKey]: value\n            }),\n        validate (value) {\n            return value.every((node)=>validateNode(node));\n        },\n        graphqlSelection: `${config.fieldKey} {document(hydrateRelationships: true)}`\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy92aWV3cy1zaGFyZWQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ2dFO0FBRWpCO0FBQ3NCO0FBR1c7QUFDeEI7QUFrQ2pELFNBQVNNLFdBQ2RDLE1BSUU7SUFNRixNQUFNQyxnQ0FBZ0NOLGlFQUFXQSxDQUFDLENBQUNPLGlCQUNqRFAsaUVBQVdBLENBQUMsQ0FBQ1EsUUFDWE4sOEZBQXNCQSxDQUFDO2dCQUFFTyxNQUFNO2dCQUFVQyxRQUFRSCxlQUFlSSxNQUFNO1lBQUMsR0FBR0g7SUFHOUUsTUFBTUksa0JBQWtEUCxPQUFPUSxXQUFXLENBQUNELGVBQWUsSUFBSSxDQUFDO0lBQy9GLE1BQU1FLCtCQUErQixJQUFJQyxJQUFJVixPQUFPVyxTQUFTLENBQUNDLDZCQUE2QjtJQUMzRixNQUFNQyw0Q0FBNENDLE9BQU9DLElBQUksQ0FBQ1IsaUJBQWlCUyxNQUFNLENBQ25GQyxDQUFBQSxJQUFLLENBQUNSLDZCQUE2QlMsR0FBRyxDQUFDRDtJQUV6QyxJQUFJSiwwQ0FBMENNLE1BQU0sRUFBRTtRQUNwRCxNQUFNLElBQUlDLE1BQ1IsQ0FBQyxDQUFDLEVBQUVwQixPQUFPcUIsT0FBTyxDQUFDLENBQUMsRUFDbEJyQixPQUFPc0IsUUFBUSxDQUNoQiw4R0FBOEcsRUFBRUMsS0FBS0MsU0FBUyxDQUM3SFgsNENBQ0M7SUFFUDtJQUNBLE1BQU1ZLCtCQUErQixJQUFJZixJQUFJSSxPQUFPQyxJQUFJLENBQUNSO0lBQ3pELE1BQU1tQiw0Q0FDSjFCLE9BQU9XLFNBQVMsQ0FBQ0MsNkJBQTZCLENBQUNJLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBSyxDQUFDUSw2QkFBNkJQLEdBQUcsQ0FBQ0Q7SUFDL0YsSUFBSVMsMENBQTBDUCxNQUFNLEVBQUU7UUFDcEQsTUFBTSxJQUFJQyxNQUNSLENBQUMsQ0FBQyxFQUFFcEIsT0FBT3FCLE9BQU8sQ0FBQyxDQUFDLEVBQ2xCckIsT0FBT3NCLFFBQVEsQ0FDaEIsOEdBQThHLEVBQUVDLEtBQUtDLFNBQVMsQ0FDN0hFLDRDQUNDO0lBRVA7SUFDQSxNQUFNQyxlQUFlaEMsaUVBQVdBLENBQUMsQ0FBQ2lDO1FBQ2hDLElBQUlsQyx1Q0FBSUEsQ0FBQ21DLE1BQU0sQ0FBQ0QsT0FBTztZQUNyQixPQUFPO1FBQ1Q7UUFDQSxJQUFJQSxLQUFLRSxJQUFJLEtBQUssbUJBQW1CO1lBQ25DLE1BQU01QixpQkFBaUJLLGVBQWUsQ0FBQ3FCLEtBQUtHLFNBQVMsQ0FBVztZQUNoRSxJQUFJN0IsZ0JBQWdCO2dCQUNsQixJQUFJLENBQUNELDhCQUE4QkMsZ0JBQWdCMEIsS0FBS3pCLEtBQUssR0FBRztvQkFDOUQsT0FBTztnQkFDVDtZQUNGO1FBQ0Y7UUFDQSxJQUFJeUIsS0FBS0UsSUFBSSxLQUFLLFVBQVcsUUFBT0YsS0FBS0ksSUFBSSxLQUFLLFlBQVksQ0FBQ2xDLHNFQUFVQSxDQUFDOEIsS0FBS0ksSUFBSSxJQUFJO1lBQ3JGLE9BQU87UUFDVDtRQUNBLE9BQU9KLEtBQUtLLFFBQVEsQ0FBQ0MsS0FBSyxDQUFDTixDQUFBQSxPQUFRRCxhQUFhQztJQUNsRDtJQUNBLE9BQU87UUFDTE4sVUFBVXRCLE9BQU9zQixRQUFRO1FBQ3pCYSxPQUFPbkMsT0FBT21DLEtBQUs7UUFDbkJDLGFBQWFwQyxPQUFPb0MsV0FBVztRQUUvQjdCLGlCQUFpQlAsT0FBT1EsV0FBVyxDQUFDRCxlQUFlLElBQUksQ0FBQztRQUN4RDhCLGtCQUFrQnJDLE9BQU9XLFNBQVMsQ0FBQzBCLGdCQUFnQjtRQUNuREMsZUFBZXRDLE9BQU9XLFNBQVMsQ0FBQzJCLGFBQWE7UUFDN0NDLGNBQWM7WUFBQztnQkFBRVQsTUFBTTtnQkFBYUcsVUFBVTtvQkFBQzt3QkFBRU8sTUFBTTtvQkFBRztpQkFBRTtZQUFDO1NBQUU7UUFDL0RDLGFBQWFDLENBQUFBO1lBQ1gsTUFBTUMscUJBQXFCRCxJQUFJLENBQUMxQyxPQUFPc0IsUUFBUSxDQUFDLEVBQUVzQjtZQUNsRCxJQUFJLENBQUNELG9CQUFvQjtnQkFDdkIsT0FBTztvQkFBQzt3QkFBRWIsTUFBTTt3QkFBYUcsVUFBVTs0QkFBQztnQ0FBRU8sTUFBTTs0QkFBRzt5QkFBRTtvQkFBQztpQkFBRTtZQUMxRDtZQUNBLG9EQUFvRDtZQUNwRCxNQUFNSyxTQUFTakQsbUZBQW9CQSxDQUNqQ0ksT0FBT1csU0FBUyxDQUFDMEIsZ0JBQWdCLEVBQ2pDOUIsaUJBQ0FQLE9BQU9XLFNBQVMsQ0FBQzJCLGFBQWE7WUFFaENPLE9BQU9aLFFBQVEsR0FBR1U7WUFDbEJsRCx5Q0FBTUEsQ0FBQ3FELFNBQVMsQ0FBQ0QsUUFBUTtnQkFBRUUsT0FBTztZQUFLO1lBQ3ZDLE9BQU9GLE9BQU9aLFFBQVE7UUFDeEI7UUFDQWUsV0FBV0MsQ0FBQUEsUUFBVTtnQkFDbkIsQ0FBQ2pELE9BQU9zQixRQUFRLENBQUMsRUFBRTJCO1lBQ3JCO1FBQ0FDLFVBQVNELEtBQUs7WUFDWixPQUFPQSxNQUFNZixLQUFLLENBQUNOLENBQUFBLE9BQVFELGFBQWFDO1FBQzFDO1FBQ0F1QixrQkFBa0IsR0FBR25ELE9BQU9zQixRQUFRLENBQUMsdUNBQXVDLENBQUM7SUFDL0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2phaW1laXNyYWVsY2FtcGVhcy9rZXlzdG9uZS9wYWNrYWdlcy9maWVsZHMtZG9jdW1lbnQvc3JjL3ZpZXdzLXNoYXJlZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEZpZWxkQ29udHJvbGxlciwgRmllbGRDb250cm9sbGVyQ29uZmlnIH0gZnJvbSAnQGtleXN0b25lLTYvY29yZS90eXBlcydcbmltcG9ydCB7IHR5cGUgRGVzY2VuZGFudCwgdHlwZSBOb2RlLCBFZGl0b3IsIFRleHQgfSBmcm9tICdzbGF0ZSdcblxuaW1wb3J0IHdlYWtNZW1vaXplIGZyb20gJ0BlbW90aW9uL3dlYWstbWVtb2l6ZSdcbmltcG9ydCB7IGNyZWF0ZURvY3VtZW50RWRpdG9yIH0gZnJvbSAnLi9Eb2N1bWVudEVkaXRvci9lZGl0b3Itc2hhcmVkJ1xuaW1wb3J0IHR5cGUgeyBDb21wb25lbnRCbG9jayB9IGZyb20gJy4vRG9jdW1lbnRFZGl0b3IvY29tcG9uZW50LWJsb2Nrcy9hcGktc2hhcmVkJ1xuaW1wb3J0IHR5cGUgeyBSZWxhdGlvbnNoaXBzIH0gZnJvbSAnLi9Eb2N1bWVudEVkaXRvci9yZWxhdGlvbnNoaXAtc2hhcmVkJ1xuaW1wb3J0IHsgY2xpZW50U2lkZVZhbGlkYXRlUHJvcCB9IGZyb20gJy4vRG9jdW1lbnRFZGl0b3IvY29tcG9uZW50LWJsb2Nrcy91dGlscydcbmltcG9ydCB7IGlzVmFsaWRVUkwgfSBmcm9tICcuL0RvY3VtZW50RWRpdG9yL2lzVmFsaWRVUkwnXG5cbmV4cG9ydCB0eXBlIERvY3VtZW50RmVhdHVyZXMgPSB7XG4gIGZvcm1hdHRpbmc6IHtcbiAgICBpbmxpbmVNYXJrczoge1xuICAgICAgYm9sZDogYm9vbGVhblxuICAgICAgaXRhbGljOiBib29sZWFuXG4gICAgICB1bmRlcmxpbmU6IGJvb2xlYW5cbiAgICAgIHN0cmlrZXRocm91Z2g6IGJvb2xlYW5cbiAgICAgIGNvZGU6IGJvb2xlYW5cbiAgICAgIHN1cGVyc2NyaXB0OiBib29sZWFuXG4gICAgICBzdWJzY3JpcHQ6IGJvb2xlYW5cbiAgICAgIGtleWJvYXJkOiBib29sZWFuXG4gICAgfVxuICAgIGxpc3RUeXBlczoge1xuICAgICAgb3JkZXJlZDogYm9vbGVhblxuICAgICAgdW5vcmRlcmVkOiBib29sZWFuXG4gICAgfVxuICAgIGFsaWdubWVudDoge1xuICAgICAgY2VudGVyOiBib29sZWFuXG4gICAgICBlbmQ6IGJvb2xlYW5cbiAgICB9XG4gICAgaGVhZGluZ0xldmVsczogKDEgfCAyIHwgMyB8IDQgfCA1IHwgNilbXVxuICAgIGJsb2NrVHlwZXM6IHtcbiAgICAgIGJsb2NrcXVvdGU6IGJvb2xlYW5cbiAgICAgIGNvZGU6IGJvb2xlYW5cbiAgICB9XG4gICAgc29mdEJyZWFrczogYm9vbGVhblxuICB9XG4gIGxpbmtzOiBib29sZWFuXG4gIGRpdmlkZXJzOiBib29sZWFuXG4gIGxheW91dHM6IFtudW1iZXIsIC4uLm51bWJlcltdXVtdXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250cm9sbGVyKFxuICBjb25maWc6IEZpZWxkQ29udHJvbGxlckNvbmZpZzx7XG4gICAgcmVsYXRpb25zaGlwczogUmVsYXRpb25zaGlwc1xuICAgIGRvY3VtZW50RmVhdHVyZXM6IERvY3VtZW50RmVhdHVyZXNcbiAgICBjb21wb25lbnRCbG9ja3NQYXNzZWRPblNlcnZlcjogc3RyaW5nW11cbiAgfT5cbik6IEZpZWxkQ29udHJvbGxlcjxEZXNjZW5kYW50W10+ICYge1xuICBjb21wb25lbnRCbG9ja3M6IFJlY29yZDxzdHJpbmcsIENvbXBvbmVudEJsb2NrPlxuICByZWxhdGlvbnNoaXBzOiBSZWxhdGlvbnNoaXBzXG4gIGRvY3VtZW50RmVhdHVyZXM6IERvY3VtZW50RmVhdHVyZXNcbn0ge1xuICBjb25zdCBtZW1vaXplZElzQ29tcG9uZW50QmxvY2tWYWxpZCA9IHdlYWtNZW1vaXplKChjb21wb25lbnRCbG9jazogQ29tcG9uZW50QmxvY2spID0+XG4gICAgd2Vha01lbW9pemUoKHByb3BzOiBhbnkpID0+XG4gICAgICBjbGllbnRTaWRlVmFsaWRhdGVQcm9wKHsga2luZDogJ29iamVjdCcsIGZpZWxkczogY29tcG9uZW50QmxvY2suc2NoZW1hIH0sIHByb3BzKVxuICAgIClcbiAgKVxuICBjb25zdCBjb21wb25lbnRCbG9ja3M6IFJlY29yZDxzdHJpbmcsIENvbXBvbmVudEJsb2NrPiA9IGNvbmZpZy5jdXN0b21WaWV3cy5jb21wb25lbnRCbG9ja3MgfHwge31cbiAgY29uc3Qgc2VydmVyU2lkZUNvbXBvbmVudEJsb2Nrc1NldCA9IG5ldyBTZXQoY29uZmlnLmZpZWxkTWV0YS5jb21wb25lbnRCbG9ja3NQYXNzZWRPblNlcnZlcilcbiAgY29uc3QgY29tcG9uZW50QmxvY2tzT25seUJlaW5nUGFzc2VkT25UaGVDbGllbnQgPSBPYmplY3Qua2V5cyhjb21wb25lbnRCbG9ja3MpLmZpbHRlcihcbiAgICB4ID0+ICFzZXJ2ZXJTaWRlQ29tcG9uZW50QmxvY2tzU2V0Lmhhcyh4KVxuICApXG4gIGlmIChjb21wb25lbnRCbG9ja3NPbmx5QmVpbmdQYXNzZWRPblRoZUNsaWVudC5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgKCR7Y29uZmlnLmxpc3RLZXl9OiR7XG4gICAgICAgIGNvbmZpZy5maWVsZEtleVxuICAgICAgfSkgVGhlIGZvbGxvd2luZyBjb21wb25lbnQgYmxvY2tzIGFyZSBiZWluZyBwYXNzZWQgaW4gdGhlIGN1c3RvbSB2aWV3IGJ1dCBub3QgaW4gdGhlIHNlcnZlci1zaWRlIGZpZWxkIGNvbmZpZzogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgY29tcG9uZW50QmxvY2tzT25seUJlaW5nUGFzc2VkT25UaGVDbGllbnRcbiAgICAgICl9YFxuICAgIClcbiAgfVxuICBjb25zdCBjbGllbnRTaWRlQ29tcG9uZW50QmxvY2tzU2V0ID0gbmV3IFNldChPYmplY3Qua2V5cyhjb21wb25lbnRCbG9ja3MpKVxuICBjb25zdCBjb21wb25lbnRCbG9ja3NPbmx5QmVpbmdQYXNzZWRPblRoZVNlcnZlciA9XG4gICAgY29uZmlnLmZpZWxkTWV0YS5jb21wb25lbnRCbG9ja3NQYXNzZWRPblNlcnZlci5maWx0ZXIoeCA9PiAhY2xpZW50U2lkZUNvbXBvbmVudEJsb2Nrc1NldC5oYXMoeCkpXG4gIGlmIChjb21wb25lbnRCbG9ja3NPbmx5QmVpbmdQYXNzZWRPblRoZVNlcnZlci5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgKCR7Y29uZmlnLmxpc3RLZXl9OiR7XG4gICAgICAgIGNvbmZpZy5maWVsZEtleVxuICAgICAgfSkgVGhlIGZvbGxvd2luZyBjb21wb25lbnQgYmxvY2tzIGFyZSBiZWluZyBwYXNzZWQgaW4gdGhlIHNlcnZlci1zaWRlIGZpZWxkIGNvbmZpZyBidXQgbm90IGluIHRoZSBjdXN0b20gdmlldzogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgY29tcG9uZW50QmxvY2tzT25seUJlaW5nUGFzc2VkT25UaGVTZXJ2ZXJcbiAgICAgICl9YFxuICAgIClcbiAgfVxuICBjb25zdCB2YWxpZGF0ZU5vZGUgPSB3ZWFrTWVtb2l6ZSgobm9kZTogTm9kZSk6IGJvb2xlYW4gPT4ge1xuICAgIGlmIChUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgaWYgKG5vZGUudHlwZSA9PT0gJ2NvbXBvbmVudC1ibG9jaycpIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudEJsb2NrID0gY29tcG9uZW50QmxvY2tzW25vZGUuY29tcG9uZW50IGFzIHN0cmluZ11cbiAgICAgIGlmIChjb21wb25lbnRCbG9jaykge1xuICAgICAgICBpZiAoIW1lbW9pemVkSXNDb21wb25lbnRCbG9ja1ZhbGlkKGNvbXBvbmVudEJsb2NrKShub2RlLnByb3BzKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlLnR5cGUgPT09ICdsaW5rJyAmJiAodHlwZW9mIG5vZGUuaHJlZiAhPT0gJ3N0cmluZycgfHwgIWlzVmFsaWRVUkwobm9kZS5ocmVmKSkpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gbm9kZS5jaGlsZHJlbi5ldmVyeShub2RlID0+IHZhbGlkYXRlTm9kZShub2RlKSlcbiAgfSlcbiAgcmV0dXJuIHtcbiAgICBmaWVsZEtleTogY29uZmlnLmZpZWxkS2V5LFxuICAgIGxhYmVsOiBjb25maWcubGFiZWwsXG4gICAgZGVzY3JpcHRpb246IGNvbmZpZy5kZXNjcmlwdGlvbixcblxuICAgIGNvbXBvbmVudEJsb2NrczogY29uZmlnLmN1c3RvbVZpZXdzLmNvbXBvbmVudEJsb2NrcyB8fCB7fSxcbiAgICBkb2N1bWVudEZlYXR1cmVzOiBjb25maWcuZmllbGRNZXRhLmRvY3VtZW50RmVhdHVyZXMsXG4gICAgcmVsYXRpb25zaGlwczogY29uZmlnLmZpZWxkTWV0YS5yZWxhdGlvbnNoaXBzLFxuICAgIGRlZmF1bHRWYWx1ZTogW3sgdHlwZTogJ3BhcmFncmFwaCcsIGNoaWxkcmVuOiBbeyB0ZXh0OiAnJyB9XSB9XSxcbiAgICBkZXNlcmlhbGl6ZTogZGF0YSA9PiB7XG4gICAgICBjb25zdCBkb2N1bWVudEZyb21TZXJ2ZXIgPSBkYXRhW2NvbmZpZy5maWVsZEtleV0/LmRvY3VtZW50XG4gICAgICBpZiAoIWRvY3VtZW50RnJvbVNlcnZlcikge1xuICAgICAgICByZXR1cm4gW3sgdHlwZTogJ3BhcmFncmFwaCcsIGNoaWxkcmVuOiBbeyB0ZXh0OiAnJyB9XSB9XVxuICAgICAgfVxuICAgICAgLy8gbWFrZSBhIHRlbXBvcmFyeSBlZGl0b3IgdG8gbm9ybWFsaXplIHRoZSBkb2N1bWVudFxuICAgICAgY29uc3QgZWRpdG9yID0gY3JlYXRlRG9jdW1lbnRFZGl0b3IoXG4gICAgICAgIGNvbmZpZy5maWVsZE1ldGEuZG9jdW1lbnRGZWF0dXJlcyxcbiAgICAgICAgY29tcG9uZW50QmxvY2tzLFxuICAgICAgICBjb25maWcuZmllbGRNZXRhLnJlbGF0aW9uc2hpcHNcbiAgICAgIClcbiAgICAgIGVkaXRvci5jaGlsZHJlbiA9IGRvY3VtZW50RnJvbVNlcnZlclxuICAgICAgRWRpdG9yLm5vcm1hbGl6ZShlZGl0b3IsIHsgZm9yY2U6IHRydWUgfSlcbiAgICAgIHJldHVybiBlZGl0b3IuY2hpbGRyZW5cbiAgICB9LFxuICAgIHNlcmlhbGl6ZTogdmFsdWUgPT4gKHtcbiAgICAgIFtjb25maWcuZmllbGRLZXldOiB2YWx1ZSxcbiAgICB9KSxcbiAgICB2YWxpZGF0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlLmV2ZXJ5KG5vZGUgPT4gdmFsaWRhdGVOb2RlKG5vZGUpKVxuICAgIH0sXG4gICAgZ3JhcGhxbFNlbGVjdGlvbjogYCR7Y29uZmlnLmZpZWxkS2V5fSB7ZG9jdW1lbnQoaHlkcmF0ZVJlbGF0aW9uc2hpcHM6IHRydWUpfWAsXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJFZGl0b3IiLCJUZXh0Iiwid2Vha01lbW9pemUiLCJjcmVhdGVEb2N1bWVudEVkaXRvciIsImNsaWVudFNpZGVWYWxpZGF0ZVByb3AiLCJpc1ZhbGlkVVJMIiwiY29udHJvbGxlciIsImNvbmZpZyIsIm1lbW9pemVkSXNDb21wb25lbnRCbG9ja1ZhbGlkIiwiY29tcG9uZW50QmxvY2siLCJwcm9wcyIsImtpbmQiLCJmaWVsZHMiLCJzY2hlbWEiLCJjb21wb25lbnRCbG9ja3MiLCJjdXN0b21WaWV3cyIsInNlcnZlclNpZGVDb21wb25lbnRCbG9ja3NTZXQiLCJTZXQiLCJmaWVsZE1ldGEiLCJjb21wb25lbnRCbG9ja3NQYXNzZWRPblNlcnZlciIsImNvbXBvbmVudEJsb2Nrc09ubHlCZWluZ1Bhc3NlZE9uVGhlQ2xpZW50IiwiT2JqZWN0Iiwia2V5cyIsImZpbHRlciIsIngiLCJoYXMiLCJsZW5ndGgiLCJFcnJvciIsImxpc3RLZXkiLCJmaWVsZEtleSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjbGllbnRTaWRlQ29tcG9uZW50QmxvY2tzU2V0IiwiY29tcG9uZW50QmxvY2tzT25seUJlaW5nUGFzc2VkT25UaGVTZXJ2ZXIiLCJ2YWxpZGF0ZU5vZGUiLCJub2RlIiwiaXNUZXh0IiwidHlwZSIsImNvbXBvbmVudCIsImhyZWYiLCJjaGlsZHJlbiIsImV2ZXJ5IiwibGFiZWwiLCJkZXNjcmlwdGlvbiIsImRvY3VtZW50RmVhdHVyZXMiLCJyZWxhdGlvbnNoaXBzIiwiZGVmYXVsdFZhbHVlIiwidGV4dCIsImRlc2VyaWFsaXplIiwiZGF0YSIsImRvY3VtZW50RnJvbVNlcnZlciIsImRvY3VtZW50IiwiZWRpdG9yIiwibm9ybWFsaXplIiwiZm9yY2UiLCJzZXJpYWxpemUiLCJ2YWx1ZSIsInZhbGlkYXRlIiwiZ3JhcGhxbFNlbGVjdGlvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/views-shared.ts\n");

/***/ }),

/***/ "../../../../packages/fields-document/src/views.tsx":
/*!**********************************************************!*\
  !*** ../../../../packages/fields-document/src/views.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cell: () => (/* binding */ Cell),\n/* harmony export */   Field: () => (/* binding */ Field),\n/* harmony export */   allowedExportsOnCustomViews: () => (/* binding */ allowedExportsOnCustomViews),\n/* harmony export */   controller: () => (/* reexport safe */ _views_shared__WEBPACK_IMPORTED_MODULE_5__.controller)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _keystar_ui_field__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystar/ui/field */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-field.js\");\n/* harmony import */ var _keystar_ui_typography__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystar/ui/typography */ \"../../../../node_modules/.pnpm/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim/node_modules/@keystar/ui/dist/keystar-ui-typography.js\");\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! slate */ \"../../../../node_modules/.pnpm/slate@0.112.0/node_modules/slate/dist/index.js\");\n/* harmony import */ var _DocumentEditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DocumentEditor */ \"../../../../packages/fields-document/src/DocumentEditor/index.tsx\");\n/* harmony import */ var _DocumentEditor_utils_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DocumentEditor/utils-hooks */ \"../../../../packages/fields-document/src/DocumentEditor/utils-hooks.tsx\");\n/* harmony import */ var _views_shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./views-shared */ \"../../../../packages/fields-document/src/views-shared.ts\");\n/* __next_internal_client_entry_do_not_use__ controller,Field,Cell,allowedExportsOnCustomViews auto */ \n\n\n\n\n\n\nfunction Field(props) {\n    const { autoFocus, field, forceValidation, onChange, value } = props;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_field__WEBPACK_IMPORTED_MODULE_1__.Field, {\n        label: field.label,\n        description: field.description,\n        children: (inputProps)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_DocumentEditor_utils_hooks__WEBPACK_IMPORTED_MODULE_4__.ForceValidationProvider, {\n                value: !!forceValidation,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_DocumentEditor__WEBPACK_IMPORTED_MODULE_3__.DocumentEditor, {\n                    ...inputProps,\n                    autoFocus: autoFocus,\n                    componentBlocks: field.componentBlocks,\n                    documentFeatures: field.documentFeatures,\n                    onChange: onChange,\n                    relationships: field.relationships,\n                    value: value\n                }, void 0, false, {\n                    fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/views.tsx\",\n                    lineNumber: 22,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/views.tsx\",\n                lineNumber: 21,\n                columnNumber: 9\n            }, this)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/views.tsx\",\n        lineNumber: 19,\n        columnNumber: 5\n    }, this);\n}\nfunction serialize(nodes) {\n    return nodes.map((n)=>slate__WEBPACK_IMPORTED_MODULE_6__.Node.string(n)).join('\\n');\n}\nconst Cell = ({ value })=>{\n    if (!value) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_keystar_ui_typography__WEBPACK_IMPORTED_MODULE_2__.Text, {\n        children: serialize(value.document).slice(0, 60)\n    }, void 0, false, {\n        fileName: \"/Users/jaimeisraelcampeas/keystone/packages/fields-document/src/views.tsx\",\n        lineNumber: 43,\n        columnNumber: 10\n    }, undefined);\n};\nconst allowedExportsOnCustomViews = [\n    'componentBlocks'\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vLi4vcGFja2FnZXMvZmllbGRzLWRvY3VtZW50L3NyYy92aWV3cy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUV5RDtBQUNaO0FBRWpCO0FBRXFCO0FBQ3FCO0FBRzNCO0FBR3BDLFNBQVNBLE1BQU1PLEtBQW9DO0lBQ3hELE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxLQUFLLEVBQUVDLGVBQWUsRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQUUsR0FBR0w7SUFFL0QscUJBQ0UsOERBQUNOLG9EQUFZQTtRQUFDWSxPQUFPSixNQUFNSSxLQUFLO1FBQUVDLGFBQWFMLE1BQU1LLFdBQVc7a0JBQzdEQyxDQUFBQSwyQkFDQyw4REFBQ1YsZ0ZBQXVCQTtnQkFBQ08sT0FBTyxDQUFDLENBQUNGOzBCQUNoQyw0RUFBQ04sMkRBQWNBO29CQUNaLEdBQUdXLFVBQVU7b0JBQ2RQLFdBQVdBO29CQUNYUSxpQkFBaUJQLE1BQU1PLGVBQWU7b0JBQ3RDQyxrQkFBa0JSLE1BQU1RLGdCQUFnQjtvQkFDeENOLFVBQVVBO29CQUNWTyxlQUFlVCxNQUFNUyxhQUFhO29CQUNsQ04sT0FBT0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNbkI7QUFFQSxTQUFTTyxVQUFVQyxLQUFhO0lBQzlCLE9BQU9BLE1BQU1DLEdBQUcsQ0FBQyxDQUFDQyxJQUFZbkIsdUNBQUlBLENBQUNvQixNQUFNLENBQUNELElBQUlFLElBQUksQ0FBQztBQUNyRDtBQUVPLE1BQU1DLE9BQXlDLENBQUMsRUFBRWIsS0FBSyxFQUFFO0lBQzlELElBQUksQ0FBQ0EsT0FBTyxPQUFPO0lBQ25CLHFCQUFPLDhEQUFDVix3REFBSUE7a0JBQUVpQixVQUFVUCxNQUFNYyxRQUFRLEVBQUVDLEtBQUssQ0FBQyxHQUFHOzs7Ozs7QUFDbkQsRUFBQztBQUVNLE1BQU1DLDhCQUE4QjtJQUFDO0NBQWtCIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL3BhY2thZ2VzL2ZpZWxkcy1kb2N1bWVudC9zcmMvdmlld3MudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyBGaWVsZCBhcyBLZXlzdGFyRmllbGQgfSBmcm9tICdAa2V5c3Rhci91aS9maWVsZCdcbmltcG9ydCB7IFRleHQgfSBmcm9tICdAa2V5c3Rhci91aS90eXBvZ3JhcGh5J1xuaW1wb3J0IHR5cGUgeyBDZWxsQ29tcG9uZW50LCBGaWVsZFByb3BzIH0gZnJvbSAnQGtleXN0b25lLTYvY29yZS90eXBlcydcbmltcG9ydCB7IE5vZGUgfSBmcm9tICdzbGF0ZSdcblxuaW1wb3J0IHsgRG9jdW1lbnRFZGl0b3IgfSBmcm9tICcuL0RvY3VtZW50RWRpdG9yJ1xuaW1wb3J0IHsgRm9yY2VWYWxpZGF0aW9uUHJvdmlkZXIgfSBmcm9tICcuL0RvY3VtZW50RWRpdG9yL3V0aWxzLWhvb2tzJ1xuaW1wb3J0IHsgdHlwZSBjb250cm9sbGVyLCB0eXBlIERvY3VtZW50RmVhdHVyZXMgfSBmcm9tICcuL3ZpZXdzLXNoYXJlZCdcblxuZXhwb3J0IHsgY29udHJvbGxlciB9IGZyb20gJy4vdmlld3Mtc2hhcmVkJ1xuZXhwb3J0IHsgdHlwZSBEb2N1bWVudEZlYXR1cmVzIH1cblxuZXhwb3J0IGZ1bmN0aW9uIEZpZWxkKHByb3BzOiBGaWVsZFByb3BzPHR5cGVvZiBjb250cm9sbGVyPikge1xuICBjb25zdCB7IGF1dG9Gb2N1cywgZmllbGQsIGZvcmNlVmFsaWRhdGlvbiwgb25DaGFuZ2UsIHZhbHVlIH0gPSBwcm9wc1xuXG4gIHJldHVybiAoXG4gICAgPEtleXN0YXJGaWVsZCBsYWJlbD17ZmllbGQubGFiZWx9IGRlc2NyaXB0aW9uPXtmaWVsZC5kZXNjcmlwdGlvbn0+XG4gICAgICB7aW5wdXRQcm9wcyA9PiAoXG4gICAgICAgIDxGb3JjZVZhbGlkYXRpb25Qcm92aWRlciB2YWx1ZT17ISFmb3JjZVZhbGlkYXRpb259PlxuICAgICAgICAgIDxEb2N1bWVudEVkaXRvclxuICAgICAgICAgICAgey4uLmlucHV0UHJvcHN9XG4gICAgICAgICAgICBhdXRvRm9jdXM9e2F1dG9Gb2N1c31cbiAgICAgICAgICAgIGNvbXBvbmVudEJsb2Nrcz17ZmllbGQuY29tcG9uZW50QmxvY2tzfVxuICAgICAgICAgICAgZG9jdW1lbnRGZWF0dXJlcz17ZmllbGQuZG9jdW1lbnRGZWF0dXJlc31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICAgIHJlbGF0aW9uc2hpcHM9e2ZpZWxkLnJlbGF0aW9uc2hpcHN9XG4gICAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Gb3JjZVZhbGlkYXRpb25Qcm92aWRlcj5cbiAgICAgICl9XG4gICAgPC9LZXlzdGFyRmllbGQ+XG4gIClcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplKG5vZGVzOiBOb2RlW10pIHtcbiAgcmV0dXJuIG5vZGVzLm1hcCgobjogTm9kZSkgPT4gTm9kZS5zdHJpbmcobikpLmpvaW4oJ1xcbicpXG59XG5cbmV4cG9ydCBjb25zdCBDZWxsOiBDZWxsQ29tcG9uZW50PHR5cGVvZiBjb250cm9sbGVyPiA9ICh7IHZhbHVlIH0pID0+IHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIG51bGxcbiAgcmV0dXJuIDxUZXh0PntzZXJpYWxpemUodmFsdWUuZG9jdW1lbnQpLnNsaWNlKDAsIDYwKX08L1RleHQ+XG59XG5cbmV4cG9ydCBjb25zdCBhbGxvd2VkRXhwb3J0c09uQ3VzdG9tVmlld3MgPSBbJ2NvbXBvbmVudEJsb2NrcyddXG4iXSwibmFtZXMiOlsiRmllbGQiLCJLZXlzdGFyRmllbGQiLCJUZXh0IiwiTm9kZSIsIkRvY3VtZW50RWRpdG9yIiwiRm9yY2VWYWxpZGF0aW9uUHJvdmlkZXIiLCJjb250cm9sbGVyIiwicHJvcHMiLCJhdXRvRm9jdXMiLCJmaWVsZCIsImZvcmNlVmFsaWRhdGlvbiIsIm9uQ2hhbmdlIiwidmFsdWUiLCJsYWJlbCIsImRlc2NyaXB0aW9uIiwiaW5wdXRQcm9wcyIsImNvbXBvbmVudEJsb2NrcyIsImRvY3VtZW50RmVhdHVyZXMiLCJyZWxhdGlvbnNoaXBzIiwic2VyaWFsaXplIiwibm9kZXMiLCJtYXAiLCJuIiwic3RyaW5nIiwiam9pbiIsIkNlbGwiLCJkb2N1bWVudCIsInNsaWNlIiwiYWxsb3dlZEV4cG9ydHNPbkN1c3RvbVZpZXdzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../../packages/fields-document/src/views.tsx\n");

/***/ }),

/***/ "./config.ts":
/*!*******************!*\
  !*** ./config.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   components: () => (/* binding */ components)\n/* harmony export */ });\n/* harmony import */ var _keystone_6_auth_components_Navigation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @keystone-6/auth/components/Navigation */ \"../../../../packages/auth/src/components/Navigation.tsx\");\n\nconst components = {\n    Navigation: (0,_keystone_6_auth_components_Navigation__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        labelField: 'name'\n    })\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDbUU7QUFFNUQsTUFBTUMsYUFBd0M7SUFDbkRDLFlBQVlGLGtGQUFjQSxDQUFDO1FBQUVHLFlBQVk7SUFBTztBQUNsRCxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvamFpbWVpc3JhZWxjYW1wZWFzL2tleXN0b25lL2V4YW1wbGVzL2Fkb2JlLWVudGVycHJpc2UtY21zLy5rZXlzdG9uZS9hZG1pbi9jb25maWcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBBZG1pbkNvbmZpZyB9IGZyb20gJ0BrZXlzdG9uZS02L2NvcmUvdHlwZXMnXG5pbXBvcnQgbWFrZU5hdmlnYXRpb24gZnJvbSAnQGtleXN0b25lLTYvYXV0aC9jb21wb25lbnRzL05hdmlnYXRpb24nXG5cbmV4cG9ydCBjb25zdCBjb21wb25lbnRzOiBBZG1pbkNvbmZpZ1snY29tcG9uZW50cyddID0ge1xuICBOYXZpZ2F0aW9uOiBtYWtlTmF2aWdhdGlvbih7IGxhYmVsRmllbGQ6ICduYW1lJyB9KSxcbn1cbiJdLCJuYW1lcyI6WyJtYWtlTmF2aWdhdGlvbiIsImNvbXBvbmVudHMiLCJOYXZpZ2F0aW9uIiwibGFiZWxGaWVsZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./config.ts\n");

/***/ }),

/***/ "./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _keystone_6_core_internal_do_not_use_will_break_in_patch_admin_ui_pages_App__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @keystone-6/core/___internal-do-not-use-will-break-in-patch/admin-ui/pages/App */ \"../../../../packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/pages/App/index.tsx\");\n/* harmony import */ var _keystone_6_core_internal_do_not_use_will_break_in_patch_admin_ui_id_field_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @keystone-6/core/___internal-do-not-use-will-break-in-patch/admin-ui/id-field-view */ \"../../../../packages/core/src/___internal-do-not-use-will-break-in-patch/admin-ui/id-field-view.tsx\");\n/* harmony import */ var _keystone_6_core_fields_types_text_views__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @keystone-6/core/fields/types/text/views */ \"../../../../packages/core/src/fields/types/text/views/index.tsx\");\n/* harmony import */ var _keystone_6_core_fields_types_checkbox_views__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @keystone-6/core/fields/types/checkbox/views */ \"../../../../packages/core/src/fields/types/checkbox/views/index.tsx\");\n/* harmony import */ var _keystone_6_core_fields_types_relationship_views__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @keystone-6/core/fields/types/relationship/views */ \"../../../../packages/core/src/fields/types/relationship/views/index.tsx\");\n/* harmony import */ var _keystone_6_core_fields_types_select_views__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @keystone-6/core/fields/types/select/views */ \"../../../../packages/core/src/fields/types/select/views/index.tsx\");\n/* harmony import */ var _keystone_6_fields_document_views__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @keystone-6/fields-document/views */ \"../../../../packages/fields-document/src/views.tsx\");\n/* harmony import */ var _keystone_6_core_fields_types_password_views__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @keystone-6/core/fields/types/password/views */ \"../../../../packages/core/src/fields/types/password/views/index.tsx\");\n/* harmony import */ var _keystone_6_core_fields_types_image_views__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @keystone-6/core/fields/types/image/views */ \"../../../../packages/core/src/fields/types/image/views/index.tsx\");\n/* harmony import */ var _keystone_6_core_fields_types_file_views__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @keystone-6/core/fields/types/file/views */ \"../../../../packages/core/src/fields/types/file/views/index.tsx\");\n/* harmony import */ var _keystone_6_core_fields_types_timestamp_views__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @keystone-6/core/fields/types/timestamp/views */ \"../../../../packages/core/src/fields/types/timestamp/views/index.tsx\");\n/* harmony import */ var _keystone_6_core_fields_types_json_views__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @keystone-6/core/fields/types/json/views */ \"../../../../packages/core/src/fields/types/json/views/index.tsx\");\n/* harmony import */ var _keystone_admin_config__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../.keystone/admin/config */ \"./config.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet userAdminConfig = {};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_keystone_6_core_internal_do_not_use_will_break_in_patch_admin_ui_pages_App__WEBPACK_IMPORTED_MODULE_0__.getApp)({\n    adminConfig: {\n        ..._keystone_admin_config__WEBPACK_IMPORTED_MODULE_12__,\n        ...userAdminConfig\n    },\n    apiPath: \"/api/graphql\",\n    fieldViews: [\n        _keystone_6_core_internal_do_not_use_will_break_in_patch_admin_ui_id_field_view__WEBPACK_IMPORTED_MODULE_1__,\n        _keystone_6_core_fields_types_text_views__WEBPACK_IMPORTED_MODULE_2__,\n        _keystone_6_core_fields_types_checkbox_views__WEBPACK_IMPORTED_MODULE_3__,\n        _keystone_6_core_fields_types_relationship_views__WEBPACK_IMPORTED_MODULE_4__,\n        _keystone_6_core_fields_types_select_views__WEBPACK_IMPORTED_MODULE_5__,\n        _keystone_6_fields_document_views__WEBPACK_IMPORTED_MODULE_6__,\n        _keystone_6_core_fields_types_password_views__WEBPACK_IMPORTED_MODULE_7__,\n        _keystone_6_core_fields_types_image_views__WEBPACK_IMPORTED_MODULE_8__,\n        _keystone_6_core_fields_types_file_views__WEBPACK_IMPORTED_MODULE_9__,\n        _keystone_6_core_fields_types_timestamp_views__WEBPACK_IMPORTED_MODULE_10__,\n        _keystone_6_core_fields_types_json_views__WEBPACK_IMPORTED_MODULE_11__\n    ]\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVHO0FBRUk7QUFDMUM7QUFDSTtBQUNJO0FBQ047QUFDVDtBQUNXO0FBQ0g7QUFDRDtBQUNLO0FBQ0o7QUFFRztBQUVyRSxJQUFJYSxrQkFBa0IsQ0FBQztBQUV2QixpRUFBZWIsbUhBQU1BLENBQUM7SUFDcEJjLGFBQWE7UUFDWCxHQUFHRixvREFBa0I7UUFDckIsR0FBR0MsZUFBZTtJQUNwQjtJQUNBRSxTQUFTO0lBQ1RDLFlBQVk7UUFBQ2YsNEdBQUtBO1FBQUNDLHFFQUFLQTtRQUFDQyx5RUFBS0E7UUFBQ0MsNkVBQUtBO1FBQUNDLHVFQUFLQTtRQUFDQyw4REFBS0E7UUFBQ0MseUVBQUtBO1FBQUNDLHNFQUFLQTtRQUFDQyxxRUFBS0E7UUFBQ0MsMkVBQUtBO1FBQUNDLHNFQUFNQTtLQUFDO0FBQ2xGLEVBQUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWltZWlzcmFlbGNhbXBlYXMva2V5c3RvbmUvZXhhbXBsZXMvYWRvYmUtZW50ZXJwcmlzZS1jbXMvLmtleXN0b25lL2FkbWluL3BhZ2VzL19hcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0QXBwIH0gZnJvbSAnQGtleXN0b25lLTYvY29yZS9fX19pbnRlcm5hbC1kby1ub3QtdXNlLXdpbGwtYnJlYWstaW4tcGF0Y2gvYWRtaW4tdWkvcGFnZXMvQXBwJ1xuXG5pbXBvcnQgKiBhcyB2aWV3MCBmcm9tIFwiQGtleXN0b25lLTYvY29yZS9fX19pbnRlcm5hbC1kby1ub3QtdXNlLXdpbGwtYnJlYWstaW4tcGF0Y2gvYWRtaW4tdWkvaWQtZmllbGQtdmlld1wiXG5pbXBvcnQgKiBhcyB2aWV3MSBmcm9tIFwiQGtleXN0b25lLTYvY29yZS9maWVsZHMvdHlwZXMvdGV4dC92aWV3c1wiXG5pbXBvcnQgKiBhcyB2aWV3MiBmcm9tIFwiQGtleXN0b25lLTYvY29yZS9maWVsZHMvdHlwZXMvY2hlY2tib3gvdmlld3NcIlxuaW1wb3J0ICogYXMgdmlldzMgZnJvbSBcIkBrZXlzdG9uZS02L2NvcmUvZmllbGRzL3R5cGVzL3JlbGF0aW9uc2hpcC92aWV3c1wiXG5pbXBvcnQgKiBhcyB2aWV3NCBmcm9tIFwiQGtleXN0b25lLTYvY29yZS9maWVsZHMvdHlwZXMvc2VsZWN0L3ZpZXdzXCJcbmltcG9ydCAqIGFzIHZpZXc1IGZyb20gXCJAa2V5c3RvbmUtNi9maWVsZHMtZG9jdW1lbnQvdmlld3NcIlxuaW1wb3J0ICogYXMgdmlldzYgZnJvbSBcIkBrZXlzdG9uZS02L2NvcmUvZmllbGRzL3R5cGVzL3Bhc3N3b3JkL3ZpZXdzXCJcbmltcG9ydCAqIGFzIHZpZXc3IGZyb20gXCJAa2V5c3RvbmUtNi9jb3JlL2ZpZWxkcy90eXBlcy9pbWFnZS92aWV3c1wiXG5pbXBvcnQgKiBhcyB2aWV3OCBmcm9tIFwiQGtleXN0b25lLTYvY29yZS9maWVsZHMvdHlwZXMvZmlsZS92aWV3c1wiXG5pbXBvcnQgKiBhcyB2aWV3OSBmcm9tIFwiQGtleXN0b25lLTYvY29yZS9maWVsZHMvdHlwZXMvdGltZXN0YW1wL3ZpZXdzXCJcbmltcG9ydCAqIGFzIHZpZXcxMCBmcm9tIFwiQGtleXN0b25lLTYvY29yZS9maWVsZHMvdHlwZXMvanNvbi92aWV3c1wiXG5cbmltcG9ydCAqIGFzIHBhY2thZ2VBZG1pbkNvbmZpZyBmcm9tIFwiLi4vLi4vLi4vLmtleXN0b25lL2FkbWluL2NvbmZpZ1wiXG5cbmxldCB1c2VyQWRtaW5Db25maWcgPSB7fVxuXG5leHBvcnQgZGVmYXVsdCBnZXRBcHAoe1xuICBhZG1pbkNvbmZpZzoge1xuICAgIC4uLnBhY2thZ2VBZG1pbkNvbmZpZyxcbiAgICAuLi51c2VyQWRtaW5Db25maWdcbiAgfSxcbiAgYXBpUGF0aDogXCIvYXBpL2dyYXBocWxcIixcbiAgZmllbGRWaWV3czogW3ZpZXcwLHZpZXcxLHZpZXcyLHZpZXczLHZpZXc0LHZpZXc1LHZpZXc2LHZpZXc3LHZpZXc4LHZpZXc5LHZpZXcxMF0sXG59KVxuIl0sIm5hbWVzIjpbImdldEFwcCIsInZpZXcwIiwidmlldzEiLCJ2aWV3MiIsInZpZXczIiwidmlldzQiLCJ2aWV3NSIsInZpZXc2IiwidmlldzciLCJ2aWV3OCIsInZpZXc5IiwidmlldzEwIiwicGFja2FnZUFkbWluQ29uZmlnIiwidXNlckFkbWluQ29uZmlnIiwiYWRtaW5Db25maWciLCJhcGlQYXRoIiwiZmllbGRWaWV3cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/_app.js\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("./webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@swc+helpers@0.5.15","vendor-chunks/@keystar+ui@0.7.18_next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_vje254pfjjkwgcwi2dm2phdtim","vendor-chunks/graphql@16.10.0","vendor-chunks/dumb-passwords@0.2.1","vendor-chunks/@apollo+client@3.13.5_@types+react@19.0.12_graphql-ws@6.0.4_graphql@16.10.0_ws@8.18.1__graphq_a5nrwwybcfcdgosvwz34lgqrpq","vendor-chunks/@react-aria+dnd@3.9.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/slate@0.112.0","vendor-chunks/slate-react@0.112.1_react-dom@19.0.0_react@19.0.0__react@19.0.0_slate-dom@0.112.2_slate@0.112.0__slate@0.112.0","vendor-chunks/@internationalized+date@3.7.0","vendor-chunks/@floating-ui+react@0.24.8_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/decimal.js@10.5.0","vendor-chunks/micromark@2.11.4","vendor-chunks/@react-aria+interactions@3.24.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-aria+utils@3.28.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-aria+overlays@3.26.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-stately+datepicker@3.13.0_react@19.0.0","vendor-chunks/slate-dom@0.112.2_slate@0.112.0","vendor-chunks/@react-aria+datepicker@3.14.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-aria+grid@3.12.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@formatjs+icu-messageformat-parser@2.11.2","vendor-chunks/@react-aria+calendar@3.7.2_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-stately+layout@4.2.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-aria+table@3.17.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-aria+combobox@3.12.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-aria+selection@3.23.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-stately+table@3.14.0_react@19.0.0","vendor-chunks/@react-aria+focus@3.20.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-aria+menu@3.18.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/immer@10.1.1","vendor-chunks/@floating-ui+core@1.6.9","vendor-chunks/@react-stately+virtualizer@4.3.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/character-entities@1.2.4","vendor-chunks/@react-stately+calendar@3.7.1_react@19.0.0","vendor-chunks/@react-aria+toast@3.0.0-beta.19_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/tabbable@6.2.0","vendor-chunks/@floating-ui+dom@1.6.13","vendor-chunks/@react-aria+virtualizer@4.1.3_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@internationalized+number@3.6.0","vendor-chunks/stylis@4.2.0","vendor-chunks/@react-stately+collections@3.12.2_react@19.0.0","vendor-chunks/@react-aria+tag@3.5.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-aria+gridlist@3.11.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-stately+selection@3.20.0_react@19.0.0","vendor-chunks/@react-aria+i18n@3.12.7_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@juggle+resize-observer@3.4.0","vendor-chunks/mdast-util-from-markdown@0.8.5","vendor-chunks/@emotion+cache@11.14.0","vendor-chunks/intl-messageformat@10.7.16","vendor-chunks/@react-aria+landmark@3.0.0-beta.18_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/optimism@0.18.1","vendor-chunks/@react-stately+combobox@3.10.3_react@19.0.0","vendor-chunks/@formatjs+icu-skeleton-parser@1.8.14","vendor-chunks/tslib@2.8.1","vendor-chunks/@react-aria+spinbutton@3.6.13_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/lodash@4.17.21","vendor-chunks/zen-observable@0.8.15","vendor-chunks/@react-aria+textfield@3.17.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-aria+listbox@3.14.2_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-aria+select@3.15.3_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-stately+list@3.12.0_react@19.0.0","vendor-chunks/apollo-upload-client@17.0.0_@apollo+client@3.13.5_@types+react@19.0.12_graphql-ws@6.0.4_graph_ug2df7dfqzxexdl3xkdwgkyejm","vendor-chunks/pluralize@8.0.0","vendor-chunks/@react-aria+checkbox@3.15.3_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/match-sorter@8.0.0","vendor-chunks/@react-stately+grid@3.11.0_react@19.0.0","vendor-chunks/micromark-extension-gfm-autolink-literal@0.5.7","vendor-chunks/@react-stately+form@3.1.2_react@19.0.0","vendor-chunks/@react-aria+radio@3.11.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@graphql-ts+extend@2.0.0_@graphql-ts+schema@1.0.2_graphql@16.10.0__graphql@16.10.0","vendor-chunks/@react-aria+ssr@3.9.7_react@19.0.0","vendor-chunks/@floating-ui+react-dom@2.1.2_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-stately+dnd@3.5.2_react@19.0.0","vendor-chunks/@emotion+serialize@1.3.3","vendor-chunks/@floating-ui+utils@0.2.9","vendor-chunks/@wry+context@0.7.4","vendor-chunks/slate-history@0.113.1_slate@0.112.0","vendor-chunks/emery@1.4.3","vendor-chunks/@react-aria+button@3.12.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@wry+equality@0.5.7","vendor-chunks/@react-stately+toast@3.0.0-beta.7_react@19.0.0","vendor-chunks/@react-stately+utils@3.10.5_react@19.0.0","vendor-chunks/@internationalized+string@3.2.5","vendor-chunks/@wry+caches@1.0.1","vendor-chunks/@react-aria+live-announcer@3.4.1","vendor-chunks/aria-hidden@1.2.4","vendor-chunks/@react-stately+tree@3.8.8_react@19.0.0","vendor-chunks/extract-files@11.0.0","vendor-chunks/@react-aria+tooltip@3.8.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-aria+actiongroup@3.7.14_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-stately+menu@3.9.2_react@19.0.0","vendor-chunks/remove-accents@0.5.0","vendor-chunks/@react-aria+form@3.0.14_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@graphql-ts+schema@1.0.2_graphql@16.10.0","vendor-chunks/compute-scroll-into-view@3.1.1","vendor-chunks/@react-stately+tooltip@3.5.2_react@19.0.0","vendor-chunks/graphql-tag@2.12.6_graphql@16.10.0","vendor-chunks/@react-aria+toolbar@3.0.0-beta.14_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@internationalized+message@3.1.6","vendor-chunks/@react-aria+label@3.7.16_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@emotion+sheet@1.4.0","vendor-chunks/@react-stately+toggle@3.8.2_react@19.0.0","vendor-chunks/is-hotkey@0.2.0","vendor-chunks/@react-aria+toggle@3.11.1_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/micromark-extension-gfm-strikethrough@0.6.5","vendor-chunks/@emotion+css@11.13.5","vendor-chunks/@react-aria+dialog@3.5.23_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/graphql-upload@15.0.2_@types+express@4.17.21_graphql@16.10.0","vendor-chunks/@react-aria+link@3.7.10_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-stately+checkbox@3.6.12_react@19.0.0","vendor-chunks/mdast-util-gfm-autolink-literal@0.1.3","vendor-chunks/use-sync-external-store@1.4.0_react@19.0.0","vendor-chunks/mdast-util-find-and-replace@1.1.1","vendor-chunks/@react-aria+visually-hidden@3.8.21_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/bytes@3.1.2","vendor-chunks/@react-stately+radio@3.10.11_react@19.0.0","vendor-chunks/@react-stately+select@3.6.11_react@19.0.0","vendor-chunks/@react-aria+progress@3.4.21_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@wry+trie@0.5.0","vendor-chunks/@braintree+sanitize-url@7.0.4","vendor-chunks/@formatjs+fast-memoize@2.2.7","vendor-chunks/@react-stately+overlays@3.6.14_react@19.0.0","vendor-chunks/@react-aria+separator@3.4.7_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/@react-aria+meter@3.4.21_react-dom@19.0.0_react@19.0.0__react@19.0.0","vendor-chunks/facepaint@1.2.1","vendor-chunks/ts-invariant@0.10.3","vendor-chunks/unist-util-visit-parents@3.1.1","vendor-chunks/@emotion+utils@1.4.2","vendor-chunks/symbol-observable@4.0.0","vendor-chunks/scroll-into-view-if-needed@3.1.0","vendor-chunks/@emotion+hash@0.9.2","vendor-chunks/clipboard-copy@4.0.1","vendor-chunks/@react-stately+flags@3.1.0","vendor-chunks/rehackt@0.1.0_@types+react@19.0.12_react@19.0.0","vendor-chunks/unist-util-is@4.1.0","vendor-chunks/fast-deep-equal@3.1.3","vendor-chunks/@emotion+unitless@0.10.0","vendor-chunks/unist-util-stringify-position@2.0.3","vendor-chunks/is-plain-object@5.0.0","vendor-chunks/mdast-util-to-string@2.0.0","vendor-chunks/direction@1.0.4","vendor-chunks/escape-string-regexp@4.0.0","vendor-chunks/@emotion+weak-memoize@0.4.0","vendor-chunks/clsx@2.1.1","vendor-chunks/ccount@1.1.0","vendor-chunks/mdast-util-gfm-strikethrough@0.2.3","vendor-chunks/parse-entities@2.0.0","vendor-chunks/@emotion+memoize@0.9.0","vendor-chunks/zen-observable-ts@1.2.5"], () => (__webpack_exec__("../../../../node_modules/.pnpm/next@15.2.4_@babel+core@7.26.10_babel-plugin-macros@3.1.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=..%2F..%2F..%2F..%2Fnode_modules%2F.pnpm%2Fnext%4015.2.4_%40babel%2Bcore%407.26.10_babel-plugin-macros%403.1.0_react-dom%4019.0.0_react%4019.0.0__react%4019.0.0%2Fnode_modules%2Fnext%2Fdist%2Fpages%2F_error.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();